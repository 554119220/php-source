<?php
 goto aFrJh; KJnQ1: include IA_ROOT . "\57\x61\144\x64\x6f\156\163\x2f" . $_W["\x63\165\162\162\145\x6e\164\x5f\x6d\x6f\144\x75\154\x65"]["\x6e\141\155\145"] . "\x2f\146\165\156\x63\57\x66\x75\x6e\143\x2e\160\x68\x70"; goto V2N0q; aFrJh: defined("\x49\116\137\111\x41") or exit("\x41\x63\x63\145\x73\x73\40\104\x65\156\x69\x65\144"); goto sEW_b; sEW_b: global $_W; goto KJnQ1; V2N0q: class mzhk_sun_plugin_eatvisitModuleWxapp extends WeModuleWxapp { public function doPageGetGoods() { goto Bj1M5; QvjFU: $where .= "\x20\x61\x6e\144\x20\x67\x2e\141\x6e\164\151\155\145\x3e\x3d\x27" . $new . "\x27\40\x61\156\x64\40\147\x2e\141\x73\164\151\155\145\74\x3d\x27" . $new . "\47\40\x61\x6e\x64\40\147\x2e\x69\163\x73\150\145\154\146\x3d\x31\x20\141\x6e\144\40\147\x2e\163\x74\141\x74\x75\x73\x3d\62\40\141\156\144\x20\142\x2e\163\x74\x61\164\x75\163\75\x32\x20\x61\x6e\x64\40\50\147\56\x66\151\x72\x73\x74\156\165\155\40\x2b\x20\x67\x2e\163\x65\x63\157\156\x64\x6e\x75\155\40\x2b\40\147\x2e\x74\x68\151\162\144\156\x75\155\40\53\x20\147\56\146\157\x75\162\164\x68\156\x75\x6d\x20\x2b\x20\x67\x2e\x67\162\x61\x6e\144\156\165\155\x29\x3e\60\x20"; goto kVco8; LrYDb: $goodstype = intval($_GPC["\x67\157\157\144\x73\164\x79\x70\x65"]); goto jTS4u; kVco8: $status = 1; goto RmOP2; Bj1M5: global $_W, $_GPC; goto RGFit; A1Apo: x6LvG: goto UDuKj; q8RkS: $newdata["\147\157\x6f\144\163\154\151\x73\x74"] = $data; goto FrQpr; RGFit: $uniacid = $_W["\x75\156\x69\x61\143\x69\x64"]; goto LrYDb; g6VcW: $newdata["\165\x72\154"] = $_W["\141\x74\164\141\x63\x68\165\162\x6c"]; goto q8RkS; aQLk4: if ($goodstype == 1) { goto mHq_V; } goto QvjFU; Yj4gG: FmB8M: goto oQ4xT; oQ4xT: $newdata = []; goto HcVBr; dhYzX: $pageindex = intval($_GPC["\160\141\x67\145"]) * $pagesize; goto oxO24; fb4TP: $pagesize = 10; goto dhYzX; ihkaO: echo 2; goto lFvwp; RmOP2: goto iy3hZ; goto g7s0g; oxO24: $where = "\40\167\150\145\162\x65\40\147\x2e\x75\x6e\x69\x61\143\x69\x64\x3d" . $uniacid . "\x20"; goto aQLk4; SYUdq: if ($data) { goto FmB8M; } goto ihkaO; JIu1J: $data = pdo_fetchall($sql); goto SYUdq; Fyfr5: $status = 0; goto iKPxV; FrQpr: echo json_encode($newdata); goto A1Apo; lFvwp: goto x6LvG; goto Yj4gG; oqUpG: $where .= "\x20\x61\x6e\144\40\147\56\141\x6e\164\151\155\x65\74\x3d\47" . $new . "\x27\x20\x6f\162\40\50\147\56\146\151\x72\x73\x74\x6e\x75\x6d\x20\53\x20\147\56\x73\x65\143\157\156\x64\156\165\x6d\x20\53\40\x67\x2e\164\150\151\162\x64\156\x75\155\40\x2b\x20\147\56\146\157\165\x72\x74\150\156\x75\x6d\x20\x2b\x20\x67\x2e\147\162\x61\x6e\x64\156\165\x6d\51\x3d\x30\x20"; goto Fyfr5; jTS4u: $new = time(); goto fb4TP; iKPxV: iy3hZ: goto QAEvP; HcVBr: $newdata["\163\x74\141\x74\165\x73"] = $status; goto g6VcW; g7s0g: mHq_V: goto oqUpG; QAEvP: $sql = "\163\145\154\x65\143\164\40\x67\56\x67\156\x61\155\145\54\147\56\163\x68\x6f\x70\x70\162\151\x63\145\x2c\x67\x2e\164\150\165\x6d\x62\156\141\151\154\x2c\x67\x2e\151\x64\x2c\x67\x2e\163\x74\x6f\x72\x65\156\x61\155\145\54\147\56\x63\x75\x72\x72\x65\156\x74\x70\162\151\143\x65\x20\x66\x72\x6f\x6d\40" . tablename("\x6d\x7a\150\153\137\x73\165\156\137\x65\141\164\x76\151\x73\151\x74\x5f\x67\157\157\144\163") . "\40\x61\163\x20\147\x20\114\x45\x46\124\40\x4a\x4f\x49\116\40" . tablename("\155\x7a\150\x6b\x5f\163\165\156\x5f\x62\162\x61\156\144") . "\x20\x61\163\x20\x62\x20\157\156\40\x62\56\142\x69\x64\x20\x3d\40\x67\56\x62\x69\x64\x20" . $where . "\40\x20\157\x72\144\x65\x72\x20\x62\171\40\x67\x2e\163\x6f\x72\164\40\141\x73\x63\x2c\x67\56\x69\144\x20\x64\x65\163\143\x20\x6c\151\x6d\x69\164\40" . $pageindex . "\x2c" . $pagesize; goto JIu1J; UDuKj: } public function doPageGetGoodsInfo() { goto RoGLr; r34Kn: $data["\x75\x72\x6c"] = $_W["\141\x74\x74\141\143\150\165\162\154"]; goto aUwBJ; RoGLr: global $_W, $_GPC; goto Od_Wc; adO1W: $id = intval($_GPC["\151\x64"]); goto n47VN; aUwBJ: echo json_encode($data); goto p7PGl; i94kh: echo 2; goto W35Sd; Od_Wc: $uniacid = $_W["\x75\156\x69\141\x63\x69\x64"]; goto adO1W; GQuz6: if ($data) { goto sKGKD; } goto i94kh; W35Sd: goto W5_eJ; goto iDnLt; n47VN: $sql = "\163\x65\x6c\x65\x63\x74\x20\147\x2e\52\x2c\x62\x2e\160\150\x6f\x6e\x65\x2c\x62\x2e\154\x6f\156\147\x69\x74\165\x64\145\x2c\x62\56\154\141\164\151\x74\165\x64\145\x2c\142\x2e\141\144\144\162\x65\163\163\40\146\162\157\155\40" . tablename("\x6d\x7a\150\x6b\137\x73\165\x6e\x5f\x65\x61\164\x76\151\163\151\164\x5f\x67\x6f\x6f\x64\163") . "\40\141\163\40\x67\40\114\x45\x46\x54\x20\112\117\111\x4e\x20" . tablename("\155\172\150\x6b\x5f\163\165\x6e\137\x62\162\141\x6e\144") . "\x20\x61\163\x20\x62\x20\157\156\x20\x62\x2e\142\x69\x64\40\75\x20\147\x2e\x62\151\144\x20\x77\150\145\162\145\x20\x67\x2e\151\x64\75" . $id . "\x20\141\x6e\144\40\x67\56\165\156\x69\141\x63\151\x64\x3d" . $uniacid . "\40\x20"; goto z1YyP; z1YyP: $data = pdo_fetch($sql); goto GQuz6; iDnLt: sKGKD: goto r34Kn; p7PGl: W5_eJ: goto U80Yp; U80Yp: } public function doPageGetLotteryreData() { goto w2wl2; vvgz5: $output["\x6a\157\x69\156\156\165\155"] = intval($joinnum + $goods["\166\x69\162\164\x75\141\154\156\x75\x6d"]); goto Jquz6; gfpvE: oZeun: goto Wrpf7; FReHI: $orderdata = pdo_fetchall($sql); goto urm6c; cjWrg: KnfeI: goto SW2SB; fSHx7: $output["\x61\x77\x61\162\144\x6e\165\155"] = array($goods["\147\x72\x61\x6e\x64\156\165\155"], $goods["\x66\x69\162\x73\x74\156\165\155"], $goods["\163\x65\143\157\x6e\144\x6e\165\x6d"], $goods["\x74\x68\x69\162\x64\x6e\165\155"], $goods["\146\x6f\x75\x72\x74\x68\x6e\165\x6d"], 0); goto D0eId; xX8Vy: $lotteryrenum = $goods["\x69\x6e\151\x74\151\141\x6c\x64\x72\141\167\163"]; goto bUAbs; yG562: goto hV3YN; goto gfpvE; U2O_H: Jiafc: goto TD2xA; iUH3w: $output = array(); goto m1owZ; w2wl2: global $_W, $_GPC; goto N58Si; bHRcj: $gid = intval($_GPC["\147\x69\144"]); goto ISLzW; ISLzW: $openid = $_GPC["\157\x70\145\156\x69\x64"]; goto oAu84; dgmw0: echo json_encode($output); goto IkNkv; oAu84: $uid = intval($_GPC["\x75\151\144"]); goto XXZQj; IyI1o: $output["\x6f\x72\x64\x65\162\144\141\x74\141"] = $orderdata; goto LWdWb; Ju727: $lotteryrenum = $lotteryrecord["\141\x6c\154\x6e\x75\155"] > $lotteryrecord["\165\163\x65\156\165\x6d"] ? intval($lotteryrecord["\141\x6c\x6c\156\165\155"] - $lotteryrecord["\x75\x73\145\x6e\x75\155"]) : 0; goto hALOo; LWdWb: $output["\x6a\x6f\x69\156\x6e\165\155"] = intval($joinnum + $goods["\x76\151\x72\164\x75\x61\x6c\156\x75\x6d"]); goto UvFv_; Wrpf7: $awardarr = array("\347\211\271\xe7\255\211\xe5\245\226", "\344\xb8\x80\347\255\211\xe5\245\226", "\344\xba\214\xe7\xad\211\xe5\245\x96", "\xe4\270\211\xe7\255\211\xe5\xa5\226", "\xe5\233\233\347\255\x89\xe5\245\226", "\xe6\234\252\344\xb8\255\345\245\x96"); goto Sqots; j6Q3x: echo json_encode($output); goto qknvW; jVkqi: $orderdata = array(); goto yG562; urm6c: if ($orderdata) { goto oZeun; } goto jVkqi; sOZVg: $sql = "\x73\x65\154\145\x63\164\x20\x75\56\156\x61\x6d\x65\x2c\157\x2e\141\x77\141\x72\144\40\146\x72\x6f\x6d\40" . tablename("\x6d\x7a\x68\x6b\137\163\165\156\x5f\145\x61\164\x76\x69\163\151\164\137\157\x72\x64\145\x72") . "\x20\x61\x73\x20\x6f\x20\x6c\x65\146\x74\x20\x6a\x6f\x69\156\x20" . tablename("\155\x7a\x68\x6b\x5f\x73\x75\156\x5f\x75\x73\x65\x72") . "\x20\141\163\x20\x75\40\x6f\156\40\x75\56\x69\x64\75\157\56\x75\x69\x64\40\167\150\145\162\145\40\157\x2e\x67\151\x64\75" . $gid . "\x20\x61\156\144\x20\x6f\x2e\165\156\151\x61\x63\151\x64\75" . $uniacid . "\40\157\162\144\145\x72\40\142\x79\x20\x6f\x2e\151\144\x20\144\x65\x73\x63\40\154\x69\155\x69\164\40\x31\60\40"; goto FReHI; MIg2P: $joinnum = pdo_fetchcolumn("\163\145\154\x65\143\x74\x20\143\x6f\165\156\x74\x28\x69\144\51\x20\141\x73\40\167\x6e\x61\155\145\40\146\x72\157\x6d\40" . tablename("\155\172\x68\153\137\163\165\x6e\x5f\x65\x61\164\166\x69\x73\x69\164\137\x6c\x6f\x74\164\145\162\171\x72\x65\x63\x6f\x72\x64") . "\40\167\x68\145\162\x65\40\x75\x6e\x69\x61\x63\x69\144\75" . $uniacid . "\40\x61\x6e\144\x20\x67\151\144\75" . $gid . "\40"); goto hlSuH; qknvW: exit; goto WEJz3; WEJz3: WRzCv: goto sOZVg; m1owZ: $lotteryrecord = pdo_get("\x6d\172\x68\x6b\x5f\x73\165\x6e\x5f\x65\x61\164\x76\x69\x73\x69\x74\137\154\157\x74\x74\145\x72\171\162\145\x63\157\x72\x64", array("\x67\151\144" => $gid, "\x6f\x70\145\156\151\x64" => $openid, "\x75\x6e\151\141\x63\x69\x64" => $uniacid)); goto xX8Vy; TD2xA: dodEl: goto dgmw0; Arb6q: if (!($goods["\154\x69\x6d\151\x74\156\165\x6d"] <= $lotterynum)) { goto Jiafc; } goto TtdEw; TtdEw: $output["\x61\167\x61\162\144\x6e\165\x6d"] = array(0, 0, 0, 0, 0, 0); goto U2O_H; Sqots: foreach ($orderdata as $key => $value) { goto YnqnO; YnqnO: $orderdata[$key]["\x6e\x61\x6d\x65"] = substr_text($value["\156\x61\x6d\145"], 0, 1, "\x75\164\146\x2d\x38", "\52\52\52"); goto ZtnHB; ZtnHB: $orderdata[$key]["\141\167\x61\162\x64"] = $awardarr[$value["\141\x77\141\x72\144"]]; goto c1tsK; c1tsK: kz3_Z: goto TwbKa; TwbKa: } goto cjWrg; icyKA: $output["\x6f\x72\144\145\162\x64\141\x74\x61"] = array(); goto vvgz5; N58Si: $uniacid = $_W["\x75\156\151\141\x63\x69\144"]; goto bHRcj; nvhe0: $lotterynum = pdo_fetchcolumn("\163\145\154\x65\143\x74\40\x63\x6f\165\x6e\164\50\151\x64\x29\40\x61\x73\40\167\156\141\x6d\x65\40\146\162\157\x6d\40" . tablename("\x6d\172\x68\x6b\x5f\x73\x75\156\137\145\x61\164\166\151\x73\151\x74\137\x6f\162\144\x65\x72") . "\40\x77\150\x65\162\145\x20\165\156\x69\x61\143\x69\x64\x3d" . $uniacid . "\x20\x61\156\144\x20\x67\151\144\75" . $gid . "\40\x61\156\x64\40\x6f\160\x65\156\151\x64\x3d\47" . $openid . "\x27\x20"); goto Arb6q; hlSuH: if (!(!$openid || $uid == 0)) { goto WRzCv; } goto icyKA; SW2SB: hV3YN: goto IyI1o; D0eId: if (!($goods["\x6c\x69\155\151\164\156\x75\155"] > 0)) { goto dodEl; } goto nvhe0; bUAbs: if (!$lotteryrecord) { goto n68B0; } goto Ju727; hLBwB: $output["\x61\167\141\x72\x64\x6e\165\155"] = array(0, 0, 0, 0, 0, 0); goto j6Q3x; XXZQj: $goods = pdo_get("\155\x7a\150\153\137\163\x75\156\x5f\145\141\164\x76\151\163\x69\x74\137\x67\x6f\x6f\x64\x73", array("\x69\x64" => $gid, "\x75\x6e\151\141\x63\151\144" => $uniacid)); goto iUH3w; UvFv_: $output["\x6c\157\x74\x74\145\162\x79\162\145\x6e\165\155"] = $lotteryrenum; goto fSHx7; Jquz6: $output["\154\157\164\x74\145\x72\171\x72\x65\156\x75\x6d"] = 0; goto hLBwB; hALOo: n68B0: goto MIg2P; IkNkv: } public function doPageSaveEatShare() { goto NIQs3; rO3gq: R5K7Q: goto xuDHc; WODBG: exit; goto iWRG5; osjBF: $uniacid = $_W["\165\156\x69\141\143\151\144"]; goto gcoVn; n370l: if (!$click_user) { goto R5K7Q; } goto HNKeR; I3_v9: $data["\x75\151\x64"] = $share_uid; goto uv3h3; jscL4: echo 2; goto a09EO; iWRG5: DzXDJ: goto vp01q; omwK3: $data["\143\x6c\151\x63\x6b\137\165\x73\x65\x72"] = $clickopenid; goto QljnJ; Js0So: echo 2; goto WODBG; zZTgM: j653e: goto rO3gq; a09EO: exit; goto zZTgM; q7YFo: $user_share = pdo_get("\155\172\150\x6b\x5f\x73\165\156\137\x75\x73\x65\162", array("\x69\144" => $share_uid, "\165\156\x69\141\x63\x69\x64" => $uniacid), array("\157\x70\x65\x6e\x69\x64")); goto I3_v9; O40cs: $res = pdo_update("\x6d\172\x68\153\137\x73\165\x6e\x5f\x65\141\x74\x76\x69\x73\x69\164\137\154\x6f\164\164\x65\x72\x79\162\x65\x63\157\x72\144", $data, array("\147\151\x64" => $gid, "\165\151\x64" => $share_uid, "\x75\156\151\141\x63\151\144" => $uniacid)); goto ODE_G; H_6bp: goto A5gnp; goto TE7CS; BVgof: $user = pdo_get("\155\x7a\150\x6b\137\x73\165\156\x5f\x75\163\145\162", array("\x6f\x70\145\156\x69\x64" => $clickopenid, "\165\156\x69\141\143\x69\144" => $uniacid), array("\151\x64")); goto D8A45; gcoVn: $clickopenid = $_GPC["\x63\x6c\151\x63\153\x6f\160\x65\x6e\151\x64"]; goto Cyu31; wAw52: $data["\x67\151\144"] = $gid; goto PasMp; eKtfj: $data = array(); goto UvlKR; ODE_G: A5gnp: goto fvyb0; PasMp: $data["\141\154\154\156\165\155"] = $goods["\x69\x6e\151\x74\151\141\154\x64\162\141\167\x73"] + $goods["\163\x68\x61\162\145\x61\144\144\x6e\165\x6d"]; goto Tvk1T; uv3h3: $data["\x6f\x70\x65\156\151\x64"] = $user_share["\x6f\x70\145\x6e\151\x64"]; goto wAw52; Cyu31: $share_uid = intval($_GPC["\x73\x68\x61\162\x65\137\x75\x69\144"]); goto yCcGT; NIQs3: global $_W, $_GPC; goto osjBF; UvlKR: if ($lotteryrecord) { goto s9xZG; } goto q7YFo; vp01q: $goods = pdo_get("\155\x7a\150\x6b\137\163\x75\x6e\137\145\141\164\x76\x69\x73\151\x74\x5f\x67\157\157\144\163", array("\151\144" => $gid, "\165\x6e\x69\141\143\151\x64" => $uniacid)); goto D5pqy; xuDHc: $data["\141\x6c\x6c\x6e\165\155"] = $lotteryrecord["\141\x6c\x6c\x6e\165\155"] + $goods["\x73\x68\x61\x72\x65\x61\144\144\x6e\165\155"]; goto dPNim; rNJaS: $click_user = !empty($lotteryrecord["\x63\x6c\151\x63\153\137\x75\163\145\x72"]) ? explode("\x2c", $lotteryrecord["\143\154\151\143\x6b\137\165\163\145\x72"]) : false; goto n370l; yCcGT: $gid = intval($_GPC["\x67\x69\x64"]); goto BVgof; D5pqy: $lotteryrecord = pdo_get("\155\x7a\150\153\x5f\x73\165\156\x5f\145\141\164\x76\x69\x73\151\164\137\x6c\157\x74\164\x65\162\x79\x72\x65\143\x6f\162\x64", array("\147\x69\144" => $gid, "\165\151\144" => $share_uid, "\165\x6e\151\x61\143\x69\144" => $uniacid)); goto eKtfj; BxOUt: if (!$isin) { goto j653e; } goto jscL4; Tvk1T: $data["\x75\156\x69\141\143\151\144"] = $uniacid; goto omwK3; D8A45: if (!($user["\x69\144"] == $share_uid)) { goto DzXDJ; } goto Js0So; fvyb0: echo 2; goto XrmLj; QljnJ: $res = pdo_insert("\155\x7a\x68\153\x5f\x73\x75\156\137\x65\x61\164\x76\x69\x73\151\164\137\154\157\164\164\145\x72\x79\162\145\143\x6f\162\x64", $data); goto H_6bp; TE7CS: s9xZG: goto rNJaS; HNKeR: $isin = in_array($clickopenid, $click_user); goto BxOUt; XrmLj: exit; goto HiMY2; dPNim: $data["\143\x6c\x69\x63\x6b\137\165\x73\145\162"] = $lotteryrecord["\143\x6c\x69\x63\153\x5f\165\x73\x65\x72"] ? $lotteryrecord["\143\154\x69\x63\153\x5f\165\x73\x65\162"] . "\54" . $clickopenid : $clickopenid; goto O40cs; HiMY2: } public function doPageCheckLottery() { goto aZ3Be; ptkLl: KpkMu: goto jhdxu; j_YbW: oxpqd: goto IeaOu; a5x63: return $this->result(1, "\xe5\267\262\xe7\xbb\x8f\xe6\262\241\xe6\234\x89\346\x8a\275\345\245\226\xe6\xac\241\xe6\x95\260\344\272\x86\xef\xbc\x81", array()); goto SyH0X; gv6pQ: return $this->result(1, "\xe5\267\262\xe7\xbb\x8f\xe6\262\241\xe6\234\211\xe6\x8a\xbd\xe5\245\x96\xe6\254\241\346\x95\xb0\344\272\206\357\274\201", array()); goto qz7Un; IeaOu: if (!($lotteryrecord["\165\x73\x65\156\x75\x6d"] >= $lotteryrecord["\x61\x6c\154\156\x75\155"])) { goto RKp2a; } goto gv6pQ; qz7Un: RKp2a: goto ptkLl; c2H88: $uid = intval($_GPC["\165\151\x64"]); goto ZUSR8; aZ3Be: global $_W, $_GPC; goto zL08c; VfsdV: $goods = pdo_get("\155\x7a\150\153\x5f\x73\x75\156\137\x65\141\164\166\x69\163\x69\x74\x5f\x67\x6f\x6f\144\x73", array("\x69\144" => $gid, "\165\156\151\x61\x63\x69\x64" => $uniacid)); goto tV59L; QOx0a: if ($lotteryrecord) { goto oxpqd; } goto G7IFq; zL08c: $uniacid = $_W["\x75\x6e\x69\141\x63\151\x64"]; goto Cf2LI; SyH0X: B9UMV: goto xMteC; ZUSR8: $gid = intval($_GPC["\x67\x69\x64"]); goto VfsdV; tV59L: $lotteryrecord = pdo_get("\x6d\172\x68\x6b\137\x73\x75\x6e\x5f\x65\141\x74\x76\151\x73\151\x74\x5f\154\157\x74\164\x65\162\171\162\145\143\157\x72\144", array("\147\151\144" => $gid, "\165\151\144" => $uid, "\x75\x6e\151\x61\143\151\144" => $uniacid)); goto QOx0a; Cf2LI: $openid = $_GPC["\157\160\145\156\151\144"]; goto c2H88; xMteC: goto KpkMu; goto j_YbW; G7IFq: if (!($goods["\x69\156\x69\x74\151\x61\x6c\x64\162\141\x77\163"] <= 0)) { goto B9UMV; } goto a5x63; jhdxu: } public function doPageSaveAward() { goto bniup; sm4oF: echo 2; goto ySGEt; QLiPL: $gid = intval($_GPC["\x67\x69\x64"]); goto eg1bj; rLCGj: $uid = intval($_GPC["\165\x69\144"]); goto QLiPL; pjcYb: CkbWX: goto dJZ9y; C4ErL: $data["\x75\x73\145\x6e\165\x6d"] = 1; goto kePTD; CXCEu: $orderdata["\x73\164\x61\164\165\x73"] = 1; goto woEOB; RAPWi: $award_field = $award_field_arr[$awardIndex]; goto n1Ycg; MImkb: $orderdata["\x67\x69\x64"] = $gid; goto dnB7l; u3rpb: $data["\147\x69\144"] = $gid; goto X3aTN; l79sI: $orderdata = array(); goto MImkb; cAqoH: $data = array(); goto Ij9C0; ovi6o: if (!($goods["\151\156\x69\164\x69\141\154\x64\x72\141\167\x73"] <= 0)) { goto VrqpH; } goto cqxe9; Z8bYA: YshHT: goto OU5SB; yhaSJ: if (!($lotteryrecord["\165\x73\x65\156\x75\155"] >= $lotteryrecord["\x61\x6c\x6c\x6e\x75\x6d"])) { goto mCCQ5; } goto bet3a; eg1bj: $awardIndex = $_GPC["\x61\x77\x61\x72\x64\111\156\x64\145\170"]; goto j29go; SdohJ: fkw7_: goto yhaSJ; n1Ycg: $gdata[$award_field] = intval($goods[$award_field]) > 0 ? $goods[$award_field] - 1 : 0; goto SAz3q; IWFr0: $data["\x70\x72\151\x7a\x65"] = $award_arr[$awardIndex]; goto VommP; cqxe9: return $this->result(1, "\345\xb7\262\347\273\217\346\xb2\241\346\234\211\346\x8a\275\xe5\xa5\226\346\xac\241\346\225\260\xe4\272\206\xef\xbc\x81", array()); goto Leq2Y; Ksiur: $goods = pdo_get("\155\172\x68\153\x5f\x73\165\156\x5f\x65\x61\164\x76\151\163\x69\164\137\147\x6f\x6f\144\x73", array("\x69\x64" => $gid, "\165\x6e\x69\x61\143\151\144" => $uniacid)); goto ErJoj; DS5kI: $orderdata["\x70\x72\151\172\x65"] = $award_arr[$awardIndex]; goto L9W9E; OU5SB: lQayg: goto BwCvr; aJ37J: $res = pdo_update("\x6d\172\150\x6b\137\163\x75\156\x5f\x65\141\164\x76\151\163\x69\164\137\154\157\x74\x74\x65\x72\x79\x72\145\x63\157\162\x64", $data, array("\x67\x69\x64" => $gid, "\165\x69\x64" => $uid, "\165\156\151\x61\143\151\x64" => $uniacid)); goto pjcYb; WPWaF: $award_field_arr = array("\147\162\x61\x6e\x64\156\x75\155", "\146\151\162\163\164\x6e\165\155", "\163\145\143\157\156\144\x6e\x75\155", "\164\x68\151\162\144\x6e\165\155", "\x66\157\x75\162\164\x68\156\x75\x6d"); goto RAPWi; xJwgD: goto CkbWX; goto SdohJ; DFMBg: $openid = $_GPC["\157\x70\145\156\151\144"]; goto rLCGj; j29go: $awardIndex = $awardIndex >= 0 && $awardIndex <= 5 ? $awardIndex : 5; goto Ksiur; cWpe7: $orderdata["\x75\x6e\151\141\143\151\x64"] = $uniacid; goto CXCEu; Leq2Y: VrqpH: goto YviCq; L9W9E: $orderdata["\x6f\x72\144\x65\162\156\x75\155"] = time() . mt_rand(10000, 99999); goto cWpe7; BwCvr: ZQPJA: goto sm4oF; rgtMw: $data["\x70\x72\151\172\x65"] = $lotteryrecord["\x70\x72\151\172\145"] ? $lotteryrecord["\x70\162\151\172\145"] . "\x2c" . $award_arr[$awardIndex] : $award_arr[$awardIndex]; goto aJ37J; EewHh: $uniacid = $_W["\x75\x6e\x69\x61\143\x69\x64"]; goto DFMBg; X3aTN: $data["\141\154\x6c\156\x75\x6d"] = $goods["\x69\156\x69\164\151\141\154\x64\162\141\x77\x73"]; goto C4ErL; VommP: $res = pdo_insert("\x6d\172\x68\153\137\163\x75\x6e\137\145\141\x74\x76\x69\163\x69\x74\x5f\x6c\x6f\164\164\x65\x72\x79\x72\x65\x63\157\x72\x64", $data); goto xJwgD; dJZ9y: if (!($awardIndex < 5)) { goto ZQPJA; } goto L0H2i; kbcY1: $orderdata["\x61\x64\144\x74\151\155\145"] = time(); goto Jn6al; S6zKs: $orderdata["\x67\156\141\x6d\x65"] = $goods["\x67\x6e\x61\x6d\145"]; goto Y_q8Y; bet3a: return $this->result(1, "\xe5\xb7\262\xe7\273\217\346\xb2\241\346\x9c\x89\346\x8a\xbd\xe5\xa5\x96\346\xac\241\346\x95\260\xe4\272\x86\xef\xbc\201", array()); goto vAtA_; dnB7l: $orderdata["\x73\164\157\x72\x65\151\144"] = $goods["\142\151\144"]; goto dIaQO; eKBL6: $orderdata["\x61\167\141\x72\144"] = $awardIndex; goto DS5kI; ErJoj: $award_arr = array($goods["\147\x72\x61\156\144\x70\162\151\172\x65"], $goods["\146\x69\x72\163\164\x70\x72\x69\172\145"], $goods["\163\145\x63\157\x6e\x64\160\162\151\x7a\x65"], $goods["\x74\150\151\162\144\160\x72\x69\x7a\x65"], $goods["\146\x6f\x75\x72\x74\x68\x70\162\x69\172\145"], "\346\x9c\252\344\xb8\255\345\245\226"); goto wHNNJ; SAz3q: $res = pdo_update("\155\x7a\150\x6b\137\163\x75\x6e\x5f\145\141\x74\166\151\x73\x69\164\137\x67\157\x6f\144\163", $gdata, array("\x69\144" => $gid, "\x75\156\151\141\x63\x69\x64" => $uniacid)); goto Z8bYA; qgnJp: $data["\157\x70\x65\x6e\151\x64"] = $openid; goto u3rpb; woEOB: $orderdata["\165\151\x64"] = $uid; goto ID50g; Ij9C0: if ($lotteryrecord) { goto fkw7_; } goto ovi6o; Jn6al: $res = pdo_insert("\155\x7a\150\153\x5f\x73\x75\156\137\145\x61\x74\x76\x69\163\151\x74\137\x6f\x72\144\x65\162", $orderdata); goto d6Yxm; YviCq: $data["\x75\151\x64"] = $uid; goto qgnJp; BuAKZ: $data["\141\167\141\x72\x64\x69\144"] = $lotteryrecord["\x61\x77\141\162\144\151\x64"] ? $lotteryrecord["\x61\x77\x61\x72\x64\x69\x64"] . "\x2c" . $awardIndex : $awardIndex; goto rgtMw; kePTD: $data["\x75\x6e\151\x61\x63\151\x64"] = $uniacid; goto O7nkc; O7nkc: $data["\141\x77\141\x72\144\x69\144"] = $awardIndex; goto IWFr0; Y_q8Y: $orderdata["\x67\151\155\x61\147\145\163"] = $goods["\x74\x68\x75\x6d\142\x6e\141\x69\154"]; goto eKBL6; d6Yxm: if (!$res) { goto YshHT; } goto WPWaF; vAtA_: mCCQ5: goto ZnWrn; L0H2i: if (!$res) { goto lQayg; } goto l79sI; wHNNJ: $lotteryrecord = pdo_get("\x6d\172\x68\153\x5f\163\x75\156\x5f\145\141\164\166\x69\163\151\x74\x5f\154\157\164\164\x65\x72\x79\162\x65\143\x6f\162\x64", array("\147\151\144" => $gid, "\165\x69\x64" => $uid, "\165\156\151\x61\x63\x69\144" => $uniacid)); goto cAqoH; bniup: global $_W, $_GPC; goto EewHh; ZnWrn: $data["\x75\x73\x65\x6e\x75\155"] = $lotteryrecord["\x75\x73\x65\156\x75\x6d"] + 1; goto BuAKZ; dIaQO: $orderdata["\x73\x74\x6f\x72\145\156\x61\155\x65"] = $goods["\163\x74\x6f\162\x65\156\x61\155\x65"]; goto S6zKs; ID50g: $orderdata["\157\x70\145\x6e\151\144"] = $openid; goto kbcY1; ySGEt: } public function doPageGetOrder() { goto jZJIZ; PW6qb: mHe_q: goto I_V6H; HT5Tn: if ($data) { goto ouOg7; } goto r2c9Y; syzvm: if ($status == 2) { goto OyGOv; } goto RWsdJ; xQ7Qx: OyGOv: goto Fqpsz; HW59y: $where .= "\x20\141\x6e\144\x20\157\56\x73\x74\x61\164\x75\x73\40\x3d\40\61\x20\x61\x6e\x64\40\147\56\x65\x78\160\151\162\x61\164\x69\x6f\156\164\151\x6d\145\x20\76\x3d\40" . $new . "\40"; goto XnVA7; Fqpsz: $where .= "\40\x61\x6e\x64\x20\x67\x2e\145\170\x70\151\162\141\164\151\x6f\156\x74\151\155\145\40\x3c\40" . $new . "\40"; goto PW6qb; jZJIZ: global $_W, $_GPC; goto ZCypl; k0uZn: $new = time(); goto gJZF2; Yuwo3: $newdata["\x75\162\x6c"] = $_W["\141\164\x74\141\x63\150\165\x72\x6c"]; goto SJZxI; RWsdJ: goto mHe_q; goto eZwx5; gJZF2: $pagesize = 10; goto qZBri; RtaHp: $data = pdo_fetchall($sql); goto HT5Tn; eZwx5: XtMv5: goto HW59y; b0i3c: echo json_encode($newdata); goto LoOVb; GN8kD: $status = intval($_GPC["\x73\x74\141\164\x75\163"]); goto k0uZn; I_V6H: $sql = "\x73\x65\x6c\x65\143\164\40\157\56\x2a\x2c\147\x2e\x61\163\164\151\x6d\x65\x2c\147\56\x61\x6e\x74\151\x6d\145\x2c\147\56\145\x78\x70\151\162\141\164\x69\157\x6e\164\151\155\x65\54\147\x2e\164\150\165\x6d\x62\x6e\141\151\154\x20\146\162\157\155\40" . tablename("\155\x7a\150\x6b\x5f\163\x75\156\x5f\x65\141\x74\166\151\163\151\x74\137\157\162\x64\x65\x72") . "\40\x61\x73\40\x6f\x20\154\145\x66\x74\40\x6a\157\151\x6e\x20" . tablename("\x6d\172\150\x6b\x5f\163\x75\156\x5f\x65\141\164\166\x69\x73\151\x74\137\147\157\x6f\x64\163") . "\40\x61\163\40\x67\x20\157\156\x20\x67\56\151\x64\x3d\x6f\x2e\x67\151\x64\40" . $where . "\x20\40\157\x72\x64\x65\162\40\x62\x79\x20\x6f\x2e\x69\x64\x20\144\145\163\x63\x20\x6c\x69\x6d\x69\x74\40" . $pageindex . "\54" . $pagesize; goto RtaHp; ZCypl: $uniacid = $_W["\x75\156\151\x61\143\151\144"]; goto RZxGi; nyqEW: $newdata = []; goto Yuwo3; vxfJA: if ($status == 1) { goto nUpWE; } goto syzvm; a58aI: ouOg7: goto nyqEW; LoOVb: SInbg: goto K0s25; RZxGi: $uid = intval($_GPC["\165\151\144"]); goto J8GBc; orkTM: if ($status == 0) { goto XtMv5; } goto vxfJA; J8GBc: $openid = $_GPC["\x6f\160\x65\x6e\x69\144"]; goto GN8kD; iNgDJ: nUpWE: goto HaYDv; NySP0: $where = "\40\167\x68\145\162\x65\x20\x6f\x2e\x75\156\151\x61\143\x69\144\x3d" . $uniacid . "\x20\x61\x6e\x64\x20\157\x2e\165\151\x64\40\x3d\40" . $uid . "\40"; goto orkTM; r2c9Y: echo 2; goto FSnqx; SJZxI: $newdata["\x6f\162\144\x65\x72\x6c\151\x73\x74"] = $data; goto b0i3c; XnVA7: goto mHe_q; goto iNgDJ; HaYDv: $where .= "\40\x61\x6e\144\x20\157\56\x73\x74\141\164\x75\x73\x20\x3d\40\x32\40\x61\x6e\x64\40\147\56\x65\x78\x70\x69\162\x61\x74\151\x6f\x6e\164\151\155\x65\40\x3e\x3d\x20" . $new . "\x20"; goto mb4WJ; FSnqx: goto SInbg; goto a58aI; qZBri: $pageindex = intval($_GPC["\160\x61\x67\145"]) * $pagesize; goto NySP0; mb4WJ: goto mHe_q; goto xQ7Qx; K0s25: } public function doPageGetOrderInfo() { goto BgtFw; OpGXh: echo json_encode($data); goto eRdPf; qnrfd: ow6AS: goto OpGXh; ARuqt: $uniacid = $_W["\165\156\151\141\143\x69\144"]; goto lAcZA; A73aT: goto rX2pz; goto qnrfd; nXZFR: $data = pdo_fetch($sql); goto LUEZ0; eRdPf: rX2pz: goto u70rk; LUEZ0: if ($data) { goto ow6AS; } goto qDTqL; BgtFw: global $_W, $_GPC; goto ARuqt; lAcZA: $id = intval($_GPC["\151\144"]); goto wuGOC; qDTqL: echo 2; goto A73aT; wuGOC: $sql = "\163\145\154\x65\143\164\40\x6f\56\x2a\x2c\142\56\x70\x68\x6f\156\x65\x2c\x62\x2e\141\144\144\x72\145\x73\x73\54\x62\x2e\x6c\157\x6e\147\151\164\x75\x64\145\x2c\142\56\x6c\141\x74\151\x74\x75\x64\x65\40\x66\x72\x6f\x6d\40" . tablename("\155\x7a\x68\153\137\x73\x75\156\x5f\145\141\x74\166\151\x73\151\164\x5f\157\162\x64\145\162") . "\x20\141\163\40\157\x20\154\x65\146\x74\x20\x6a\157\151\156\x20" . tablename("\x6d\x7a\150\153\137\x73\x75\156\x5f\x62\162\x61\156\144") . "\40\141\163\x20\142\40\157\156\x20\x6f\56\x73\164\157\x72\145\151\x64\x3d\142\56\142\x69\x64\x20\167\150\145\x72\145\x20\x6f\56\151\144\75" . $id . "\40"; goto nXZFR; u70rk: } public function doPageGetwxCode() { goto x3cIY; blIPo: $width = $_GPC["\x77\151\x64\x74\150"] ? $_GPC["\x77\151\x64\164\x68"] : 430; goto K6701; a5afe: wX4Eg: goto bNzBQ; ba2Pb: $data["\x73\x63\145\156\145"] = $scene; goto Q1ALe; GqS2R: file_put_contents("\56\56\57\141\164\x74\141\143\150\155\145\156\164\x2f" . $imgname, $return); goto azUXb; mX57X: $json_data = json_encode($data); goto nJXHa; K6701: $auto_color = $_GPC["\x61\x75\164\157\x5f\143\x6f\x6c\x6f\x72"] ? $_GPC["\x61\165\x74\x6f\137\x63\x6f\154\x6f\162"] : false; goto zd4Hp; zd4Hp: $line_color = $_GPC["\154\151\156\x65\x5f\143\157\154\157\x72"] ? $_GPC["\x6c\x69\x6e\x65\x5f\x63\157\154\x6f\x72"] : array("\162" => 0, "\147" => 0, "\x62" => 0); goto LcTeQ; Okag8: $page = $_GPC["\x70\141\x67\x65"]; goto blIPo; VAOsf: $access_token = $this->getaccess_token(); goto RcQSw; bh4Ho: $uniacid = $_W["\x75\x6e\x69\x61\x63\x69\144"]; goto hYyOI; azUXb: $datas["\x77\x78\x63\x6f\144\145\137\160\x69\143"] = $imgname; goto Dl2AM; kiUQx: return $this->result(1, "\xe5\234\xba\xe6\x99\257\345\200\xbc\xe4\270\x8d\345\220\x88\346\xb3\225", array()); goto wgpaN; Q1ALe: $data["\x70\141\x67\145"] = $page; goto CB74M; x3cIY: global $_W, $_GPC; goto VAOsf; RcQSw: $scene = $_GPC["\163\143\x65\156\x65"]; goto I2yhQ; rHHP1: $data["\x6c\x69\x6e\145\x5f\143\157\x6c\x6f\x72"] = $line_color; goto O3e4t; nJXHa: $return = $this->request_post($url, $json_data); goto QK_Nu; RIE_W: $datas["\160\157\163\x74\145\x72\164\x6f\x70\x74\x69\x74\154\145"] = $d_set["\160\157\x73\164\145\162\164\157\x70\x74\151\x74\x6c\145"]; goto a5afe; XZQ72: $datas["\142\x6c\x6f\x67\x6f"] = !empty($d_set["\160\x6f\x73\x74\x65\x72\164\x6f\160\x70\x69\143"]) ? $_W["\x61\x74\164\x61\x63\150\165\162\x6c"] . $d_set["\160\x6f\163\x74\x65\x72\164\x6f\160\160\151\x63"] : $_W["\163\x69\164\145\x72\157\x6f\x74"] . "\x2f\x61\144\x64\157\x6e\163\57\x6d\x7a\150\x6b\137\x73\165\156\x5f\x70\154\165\x67\151\156\137\144\151\x73\164\162\151\x62\165\x74\151\x6f\156\57\x69\x6d\141\147\x65\x73\57\x73\150\141\162\145\x69\x6d\147\x2e\x70\156\147"; goto RIE_W; Dl2AM: echo json_encode($datas); goto G8eD2; V7n5p: if (!$d_set) { goto wX4Eg; } goto XZQ72; LcTeQ: $is_hyaline = $_GPC["\x69\163\137\150\x79\141\154\151\156\x65"] ? $_GPC["\151\163\137\150\x79\x61\154\x69\x6e\145"] : true; goto WjFuC; hYyOI: if (!($uid > 0)) { goto nbB1U; } goto iIm_N; ExHKf: $data["\x61\x75\x74\157\x5f\143\157\x6c\x6f\x72"] = $auto_color; goto rHHP1; CB74M: $data["\167\151\x64\x74\150"] = $width; goto ExHKf; QK_Nu: $imgname = time() . rand(10000, 99999) . "\56\x6a\160\147"; goto GqS2R; O3e4t: $data["\x69\163\x5f\150\x79\x61\154\x69\156\145"] = $is_hyaline; goto mX57X; iIm_N: $d_set = pdo_get("\x6d\172\x68\x6b\x5f\x73\165\156\x5f\x64\x69\x73\164\162\151\142\165\x74\151\x6f\x6e\x5f\x73\145\164", array("\x75\156\x69\x61\x63\151\x64" => $uniacid), array("\160\x6f\x73\164\145\162\164\x6f\160\160\151\143", "\x70\157\x73\x74\145\162\164\x6f\x70\164\x69\x74\x6c\145")); goto V7n5p; qv73I: $data = array(); goto ba2Pb; bNzBQ: nbB1U: goto Go39R; I2yhQ: if (preg_match("\57\x5b\x30\x2d\x39\141\55\x7a\x41\55\x5a\x5c\x21\134\x23\x5c\x24\x5c\x26\47\x5c\50\134\51\134\x2a\134\x2b\134\x2c\x5c\57\134\72\134\x3b\134\75\134\x3f\x5c\100\x5c\55\134\x2e\x5c\x5f\134\x7e\x5d\173\61\54\x33\62\175\x2f", $scene)) { goto IDgZ5; } goto kiUQx; wgpaN: IDgZ5: goto Okag8; Go39R: $url = "\x68\x74\164\x70\163\x3a\57\x2f\x61\160\x69\56\167\145\x69\170\151\156\56\x71\161\56\143\x6f\155\x2f\167\x78\x61\57\x67\145\164\x77\x78\141\x63\157\x64\145\165\156\x6c\x69\x6d\x69\164\x3f\141\x63\x63\145\x73\163\x5f\164\157\153\145\156\75" . $access_token; goto qv73I; WjFuC: $uid = intval($_GPC["\165\151\144"]); goto bh4Ho; G8eD2: } public function getaccess_token() { goto RJNTT; RJNTT: global $_W, $_GPC; goto vsCy0; vpSjF: $data = curl_exec($ch); goto r6Ko_; QZFxX: $appid = $res["\x61\160\160\x69\144"]; goto QUnnq; SdlNa: return $data["\141\x63\x63\x65\x73\x73\137\x74\157\x6b\145\x6e"]; goto kXd5W; JhArn: $url = "\x68\x74\x74\160\x73\72\x2f\x2f\141\x70\x69\56\167\x65\x69\170\x69\156\x2e\161\161\x2e\143\x6f\x6d\x2f\143\147\151\x2d\142\x69\156\57\x74\157\x6b\x65\x6e\x3f\x67\x72\141\x6e\164\x5f\x74\171\160\x65\75\143\154\x69\x65\x6e\164\x5f\x63\162\145\x64\x65\x6e\164\151\x61\154\46\141\x70\x70\151\144\x3d" . $appid . "\46\x73\145\x63\162\145\x74\x3d" . $secret . ''; goto l66GG; BVYsY: curl_setopt($ch, CURLOPT_URL, $url); goto Z55E8; r6Ko_: curl_close($ch); goto qy9oP; EcOdL: curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 0); goto vpSjF; QUnnq: $secret = $res["\141\160\x70\163\145\x63\x72\145\164"]; goto JhArn; Z55E8: curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); goto EcOdL; l66GG: $ch = curl_init(); goto BVYsY; vsCy0: $res = pdo_get("\155\172\x68\x6b\137\x73\x75\156\x5f\163\171\163\164\x65\x6d", array("\x75\x6e\151\x61\x63\x69\x64" => $_W["\x75\156\151\x61\x63\151\x64"])); goto QZFxX; qy9oP: $data = json_decode($data, true); goto SdlNa; kXd5W: } public function request_post($url, $data) { goto QE12R; Xtd8o: $error = curl_errno($ch); goto xrygU; uo8E6: if ($error) { goto IV_Ya; } goto KPmIc; uDHOG: curl_setopt($ch, CURLOPT_URL, $url); goto C5_vw; xrygU: curl_close($ch); goto uo8E6; QE12R: $ch = curl_init(); goto uDHOG; JivaI: return false; goto NlHG8; gn8r6: $tmpInfo = curl_exec($ch); goto Xtd8o; C5_vw: curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); goto E63Iz; bzmYU: IV_Ya: goto JivaI; swje9: goto wg7bS; goto bzmYU; E63Iz: curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 0); goto B0o0L; cyOt6: curl_setopt($ch, CURLOPT_POSTFIELDS, $data); goto gn8r6; B0o0L: curl_setopt($ch, CURLOPT_POST, 1); goto cyOt6; NlHG8: wg7bS: goto JaOyo; KPmIc: return $tmpInfo; goto swje9; JaOyo: } public function doPageDelwxCode() { goto Fhoez; wZLD3: f3Lc6: goto etDYB; etDYB: echo $info; goto XWwE1; Fhoez: global $_W, $_GPC; goto S2yDd; qHS6i: $filename = "\x2e\56\x2f\x61\x74\x74\x61\x63\x68\155\145\x6e\x74\57" . $imgurl; goto H8PQe; OxxKN: TjTrO: goto NU3tb; H8PQe: if (file_exists($filename)) { goto TjTrO; } goto nPPHI; S2yDd: $imgurl = $_GPC["\151\x6d\x67\165\162\x6c"]; goto qHS6i; nPPHI: $info = "\346\xb2\241\xe6\211\276\xe5\210\260\72" . $filename; goto k2zxY; k2zxY: goto f3Lc6; goto OxxKN; zqi3o: unlink($filename); goto wZLD3; NU3tb: $info = "\345\x88\xa0\xe9\231\xa4\xe6\x88\x90\345\x8a\237"; goto zqi3o; XWwE1: } }