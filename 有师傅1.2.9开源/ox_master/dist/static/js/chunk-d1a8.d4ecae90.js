(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-d1a8"],{"3b3o":function(e,t,r){"use strict";r.r(t);var i=r("Is5O"),a={components:{ImageUpload:r("BO9Z").a},data:function(){return{loading:!1,limit:1,ruleForm:{img:"",sort:"",show_num:""},fileList2:[],options:[{value:"0",label:"一级分类"},{value:"1",label:"二级分类"}],value:"",parentList:[],isshow:!1,activeIndex:"2",activeIndex2:"2"}},methods:{submitForm:function(){var e=this;this.loading=!0,Object(i.e)(this.ruleForm).then(function(t){e.loading=!1,e.$message({message:"创建成功",type:"success"}),e.$router.push({path:"/service/index"})})},test:function(e){var t=this;this.parentList=[],this.isshow=!1,e>0&&(this.isshow=!0,Object(i.c)({class:e}).then(function(e){t.parentList=e.data.data}))}}},s=r("KHd+"),n=Object(s.a)(a,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"musen-container "},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm chart-wrapper",attrs:{model:e.ruleForm,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"分类名称",prop:"name"}},[r("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"服务封面",prop:"desc"}},[r("ImageUpload",{attrs:{img:e.ruleForm.img},on:{"update:img":function(t){e.$set(e.ruleForm,"img",t)}}})],1),e._v(" "),r("el-form-item",{attrs:{label:"排序",prop:"name"}},[r("el-input",{attrs:{placeholder:"0～999"},model:{value:e.ruleForm.sort,callback:function(t){e.$set(e.ruleForm,"sort",t)},expression:"ruleForm.sort"}}),e._v(" "),r("template",{slot:"default"},[r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("数值越大，排序越靠前")])])],2),e._v(" "),r("el-form-item",{attrs:{label:"显示数量",prop:"show_num"}},[r("el-input",{model:{value:e.ruleForm.show_num,callback:function(t){e.$set(e.ruleForm,"show_num",t)},expression:"ruleForm.show_num"}}),e._v(" "),r("template",{slot:"default"},[r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("首页显示二级分类的数量")])])],2),e._v(" "),r("el-form-item",[r("el-button",{staticStyle:{"margin-bottom":"20px"},attrs:{loading:e.loading,type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("立即创建")]),e._v(" "),r("el-button",{on:{click:function(t){e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},[],!1,null,null,null);n.options.__file="add.vue";t.default=n.exports},BO9Z:function(e,t,r){"use strict";var i={name:"ImageUpload",props:{limit:{type:Number,default:1},tip:{type:String,default:"只能上传jpg/png文件，且不超过500kb"},filelist:{type:Array,default:function(){return[]}}},data:function(){return{tempUrl:"",img:""}},computed:{imageUrl:function(){return this.value}},methods:{handleSucc:function(e){"SUCCESS"===e.state?(this.img=e.filename,this.$emit("update:img",e.filename),this.$emit("update:url",e.url),this.$message({message:"上传成功",type:"success"})):this.$message.error("上传失败")}}},a=r("KHd+"),s=Object(a.a)(i,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-upload",{staticClass:"upload-demo",attrs:{"on-success":e.handleSucc,"file-list":e.filelist,limit:e.limit,name:"file",action:"/web/index.php?c=utility&a=file&do=upload&upload_type=image&global=&dest_dir=&uniacid=-1&quality=0&group_id=-1","list-type":"picture"}},[r("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),e._v(" "),r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(e._s(e.tip))])],1)},[],!1,null,null,null);s.options.__file="image.vue";t.a=s.exports},Is5O:function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"b",function(){return s}),r.d(t,"e",function(){return n}),r.d(t,"f",function(){return o}),r.d(t,"g",function(){return l}),r.d(t,"h",function(){return u}),r.d(t,"c",function(){return m}),r.d(t,"d",function(){return p});var i=r("t3Un");function a(e){return Object(i.a)({url:"/web/index.php?c=site&a=entry&m=ox_master&do=web&r=service.type",method:"get",params:e})}function s(e){return Object(i.a)({url:"/web/index.php?c=site&a=entry&m=ox_master&do=web&r=service.typef",method:"get",params:e})}function n(e){return Object(i.a)({url:"/web/index.php?c=site&a=entry&m=ox_master&do=web&r=service.type_add",method:"post",params:e})}function o(e){return Object(i.a)({url:"/web/index.php?c=site&a=entry&m=ox_master&do=web&r=service.type_del",method:"post",params:e})}function l(e){return Object(i.a)({url:"/web/index.php?c=site&a=entry&m=ox_master&do=web&r=service.type_delall",method:"post",params:e})}function u(e){return Object(i.a)({url:"/web/index.php?c=site&a=entry&m=ox_master&do=web&r=service.type_edit",method:"post",params:e})}function m(e){return Object(i.a)({url:"/web/index.php?c=site&a=entry&m=ox_master&do=web&r=service.getNextClassList",method:"post",params:e})}function p(e){return Object(i.a)({url:"/web/index.php?c=site&a=entry&m=ox_master&do=web&r=service.getTopClass",method:"post",params:e})}}}]);