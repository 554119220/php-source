<?php
 goto son7E; son7E: if (defined("\x49\116\x5f\111\101")) { goto YkjXx; } goto c_0li; c_0li: exit("\101\x63\x63\x65\x73\x73\40\104\145\x6e\151\x65\144"); goto x0_5x; x0_5x: YkjXx: goto pOTlO; pOTlO: class Silence_Attachment { public function __construct() { global $_W; } public function doMobileMedia($media) { goto oT759; fpef6: Gjm3N: goto BaqH_; Xxerl: Wav9Z: goto s2mlP; oT759: global $_W; goto e07CM; putc7: $mediatypes = array("\x69\155\x61\147\x65", "\166\x6f\151\x63\x65", "\164\x68\165\x6d\142"); goto PgLjt; DIuoq: goto rrd02; goto v4gpC; n3ppS: i8Q90: goto u7lfF; eXMRn: F15aG: goto GCPrt; V3Cbd: if ($remote["\x74\x79\160\x65"] == "\x31") { goto RNROM; } goto birkA; eIbg9: if (!empty($response["\150\145\x61\144\145\x72\x73"]["\x43\x6f\156\x74\145\156\164\55\144\x69\x73\x70\x6f\163\151\164\x69\157\156"]) && strexists($response["\x68\x65\141\144\x65\162\163"]["\x43\157\x6e\x74\145\x6e\164\55\x64\x69\163\x70\157\163\x69\x74\151\157\x6e"], $media["\155\x65\144\151\x61\x5f\x69\144"])) { goto i8Q90; } goto aawEH; VNR5M: $url = $remote["\x61\154\151\x6f\x73\163"]["\x75\162\154"]; goto DIuoq; IzsdH: $filename = str_replace(array("\x61\x74\164\141\143\150\155\145\x6e\x74\x3b\40\146\151\x6c\145\156\141\155\x65\x3d", "\x22", "\40"), '', $response["\150\145\141\x64\145\162\x73"]["\103\157\156\x74\x65\x6e\x74\55\x64\x69\x73\x70\157\163\x69\164\x69\x6f\x6e"]); goto G_o2H; PchAq: $modulelist = uni_modules(false); goto iW0mN; lH3XL: if (!is_error($access_token)) { goto Gjm3N; } goto Pif12; ctWoV: y0ZoY: goto hxOqb; qIuYr: $unisetting = uni_setting_load(); goto Z3ecd; v5KJF: return error(-1, "\345\276\256\344\277\241\344\xb8\213\xe8\275\275\345\252\222\344\275\223\xe8\xb5\204\xe6\xba\x90\345\x8f\202\xe6\225\260\xe9\224\x99\xe8\257\257"); goto s5soe; iW0mN: $remote = $modulelist["\163\x69\154\145\x6e\143\x65\137\166\x6f\x74\x65"]["\143\157\156\x66\151\147"]["\162\145\x6d\x6f\x74\145"]; goto Uv2np; s5soe: oKe9Z: goto lH3XL; QQVHx: if ($remote["\x74\171\x70\x65"] == "\x33") { goto qYJ0L; } goto k5bxE; W1joD: goto rrd02; goto jULz1; VS6Qr: if (!empty($unisetting["\157\141\x75\x74\150"]["\x61\x63\x63\x6f\x75\156\x74"]) && $_W["\141\x63\143\x6f\165\156\164"]["\x6c\x65\x76\x65\x6c"] < 3) { goto ZDDRi; } goto xeu4a; cZAcu: return error($response["\145\162\162\143\157\x64\x65"], $response["\x65\162\162\155\x73\x67"]); goto wAGto; birkA: if ($remote["\x74\x79\x70\145"] == "\62") { goto H9lpM; } goto QQVHx; qTdCz: $account_api = WeAccount::create($jsauth_acid); goto U5fXw; Xq0z8: rrd02: goto hIbRq; aawEH: $response = json_decode($response["\x63\157\156\164\x65\156\x74"], true); goto cZAcu; Ld7lW: goto F15aG; goto XzB6I; xeu4a: $jsauth_acid = $unisetting["\165\156\x69\x61\143\x69\144"]; goto HS47c; HS47c: goto kqNDX; goto xxkNk; v4gpC: qYJ0L: goto F6HRf; owKkY: file_image_thumb(ATTACHMENT_ROOT . $filename, ATTACHMENT_ROOT . $filename, $media["\x77\x69\144\164\150"]); goto PchAq; W3M0Q: $jsauth_acid = $unisetting["\157\x61\x75\164\150"]["\x61\143\143\157\165\156\164"]; goto Qnjwb; e07CM: $media["\167\x69\144\164\150"] = !empty($media["\x77\x69\x64\164\x68"]) ? $media["\167\x69\144\164\150"] : 800; goto qIuYr; hIbRq: $filename = $url . "\57" . $filename; goto Ld7lW; GCPrt: return $filename; goto Xxerl; k5bxE: if ($remote["\x74\171\x70\x65"] == "\64") { goto y0ZoY; } goto Ayd9z; F6HRf: $url = $remote["\x71\x69\156\151\x75"]["\165\162\x6c"]; goto FZhlq; Uv2np: if (empty($remote["\164\171\x70\x65"])) { goto x_X5F; } goto LMopL; BaqH_: $sendapi = "\x68\164\164\x70\72\x2f\57\x66\151\154\x65\56\141\x70\151\56\x77\145\151\170\x69\156\56\x71\x71\x2e\143\x6f\x6d\x2f\x63\x67\x69\x2d\142\151\x6e\x2f\155\x65\144\151\141\57\x67\x65\164\x3f\x61\143\x63\145\x73\163\137\164\x6f\x6b\145\156\75{$access_token}\46\155\145\x64\x69\x61\137\x69\144\75{$media["\x6d\145\x64\x69\x61\x5f\151\144"]}"; goto KUuEY; wAGto: goto Wav9Z; goto n3ppS; a6CzT: $jsauth_acid = $unisetting["\152\163\141\165\164\x68\x5f\141\143\151\x64"]; goto JT7v2; FZhlq: goto rrd02; goto ctWoV; At3JU: RNROM: goto SKUVn; jULz1: H9lpM: goto VNR5M; XzB6I: x_X5F: goto v8kGW; G_o2H: $filename = "\x69\155\141\147\145\x73\x2f" . $_W["\x75\156\x69\141\143\151\144"] . "\57\x73\x69\154\145\156\x63\x65\x5f\x76\x6f\164\x65\x2f" . date("\131\57\155\x2f") . $filename; goto meDvW; xxkNk: ZDDRi: goto W3M0Q; LMopL: self::file_voteremote_upload($filename, $remote); goto V3Cbd; hxOqb: $url = $remote["\x63\x6f\163"]["\x75\x72\154"]; goto Xq0z8; cQhIC: V6Yy_: goto qTdCz; KUuEY: $response = ihttp_get($sendapi); goto eIbg9; meDvW: load()->func("\146\151\x6c\145"); goto oIHyC; PgLjt: if (!(empty($media) || empty($media["\155\x65\x64\x69\x61\137\151\144"]) || !empty($media["\x74\x79\160\x65"]) && !in_array($media["\x74\x79\160\145"], $mediatypes))) { goto oKe9Z; } goto v5KJF; v8kGW: file_remote_upload($filename); goto eXMRn; Z3ecd: load()->model("\163\x65\164\x74\151\x6e\x67"); goto a6CzT; U5fXw: $access_token = $account_api->getAccessToken(); goto putc7; oIHyC: file_write($filename, $response["\143\x6f\x6e\164\x65\x6e\164"]); goto owKkY; SKUVn: $url = $remote["\x66\x74\x70"]["\165\162\x6c"]; goto W1joD; Qnjwb: kqNDX: goto cQhIC; JT7v2: if (!empty($jsauth_acid)) { goto V6Yy_; } goto VS6Qr; u7lfF: global $_W; goto IzsdH; Pif12: return $token; goto fpef6; Ayd9z: goto rrd02; goto At3JU; s2mlP: } public function doMobileAudio($media) { goto caS73; t9noU: jg2Z0: goto VGcch; uixXT: if ($remote["\164\171\160\145"] == "\63") { goto A4wZ1; } goto zpw4Z; zpw4Z: if ($remote["\x74\171\x70\145"] == "\x34") { goto zRHJt; } goto HPUqa; VGcch: $filename = $url . "\57" . $filename; goto avDGL; avDGL: goto QBoFx; goto mKuDB; gECQj: if (!empty($response["\x68\x65\x61\144\x65\162\163"]["\x43\x6f\156\x74\x65\x6e\x74\55\x64\x69\163\160\x6f\x73\x69\164\151\157\x6e"]) && strexists($response["\150\x65\141\144\x65\x72\x73"]["\103\x6f\156\164\x65\x6e\164\x2d\x64\151\x73\x70\x6f\163\151\164\x69\x6f\x6e"], $media["\x6d\x65\144\x69\141\x5f\x69\x64"])) { goto hrQQI; } goto J1U_g; CyKmp: if ($remote["\164\x79\160\145"] == "\61") { goto BEpz3; } goto sNtHV; sNtHV: if ($remote["\164\x79\160\x65"] == "\62") { goto QfV2K; } goto uixXT; PE5OM: zRHJt: goto PNxki; OV1y9: goto ka1w4; goto bLKBI; kbrBF: file_remote_upload($filename); goto QjaoL; U91wZ: $remote = $modulelist["\163\151\x6c\145\x6e\143\x65\x5f\166\x6f\x74\145"]["\x63\157\156\x66\151\147"]["\162\x65\155\x6f\x74\x65"]; goto rzksL; hkOnA: return $filename; goto xHaej; pYrUu: $url = $remote["\x61\154\151\157\x73\x73"]["\165\x72\154"]; goto BgoEm; mKuDB: P7xAf: goto kbrBF; UorrY: $sendapi = "\150\164\164\x70\x3a\57\x2f\x66\151\x6c\x65\x2e\x61\160\x69\56\167\145\x69\x78\151\156\56\161\161\x2e\143\157\x6d\x2f\143\x67\151\x2d\142\x69\x6e\57\155\x65\144\151\141\57\x67\145\164\77\141\x63\143\x65\x73\x73\x5f\x74\x6f\x6b\x65\156\75{$access_token}\46\x6d\145\x64\x69\141\137\151\144\75{$media["\x6d\145\144\151\x61\137\x69\144"]}"; goto NboxN; HPUqa: goto GLIk5; goto oDFbT; s6jgd: return error(-1, "\xe5\xbe\xae\xe4\277\xa1\344\xb8\x8b\xe8\275\xbd\345\xaa\222\344\275\x93\350\xb5\x84\346\272\x90\345\x8f\x82\xe6\225\260\351\x94\231\350\257\xaf"); goto kc_7r; oDFbT: BEpz3: goto nX9SR; MDItI: $unisetting = uni_setting_load(); goto Xs3rw; eS0fB: $mediatypes = array("\151\x6d\141\x67\x65", "\166\157\x69\x63\x65", "\164\x68\165\155\x62"); goto IxyjB; pqy3S: goto GLIk5; goto s3qXf; cWdIT: lH3qm: goto zY8Cb; s6AFV: gvYje: goto Mdc1J; BgoEm: goto GLIk5; goto VsQrr; nX9SR: $url = $remote["\x66\164\160"]["\165\x72\x6c"]; goto pqy3S; xCL7B: $filenamearr = explode("\x2e", $filename); goto h3vxI; J1U_g: $response = json_decode($response["\143\x6f\x6e\164\145\156\164"], true); goto JuaYp; Cu18Y: goto GLIk5; goto PE5OM; rzksL: if (empty($remote["\164\x79\160\145"])) { goto P7xAf; } goto FR0Pp; FR0Pp: self::file_voteremote_upload($filename, $remote, "\141\x75\144\151\x6f"); goto CyKmp; PfLig: $jsauth_acid = $unisetting["\x75\x6e\151\x61\143\151\x64"]; goto YB2xT; bokO9: $access_token = $account_api->getAccessToken(); goto eS0fB; CZ2MB: $jsauth_acid = $unisetting["\x6a\x73\x61\x75\x74\x68\137\x61\x63\x69\x64"]; goto nqceA; A6tsG: if (!empty($unisetting["\157\x61\x75\164\x68"]["\141\143\x63\157\x75\156\x74"]) && $_W["\x61\x63\143\x6f\165\x6e\164"]["\x6c\x65\166\145\154"] < 3) { goto lH3qm; } goto PfLig; LqnA7: file_write($filename, $response["\x63\157\156\x74\145\156\164"]); goto ovfqC; caS73: global $_W; goto MDItI; kc_7r: KfOhM: goto zLJuh; YB2xT: goto tH2fN; goto cWdIT; xHaej: ka1w4: goto i6MwD; nBwSY: load()->func("\x66\151\154\x65"); goto LqnA7; i7xPk: $filename = str_replace(array("\141\x74\164\x61\x63\x68\x6d\x65\x6e\164\x3b\x20\x66\151\x6c\145\x6e\x61\155\145\x3d", "\x22", "\x20"), '', $response["\150\x65\x61\x64\x65\x72\x73"]["\x43\157\156\164\x65\156\x74\x2d\144\x69\x73\x70\157\x73\151\x74\151\x6f\156"]); goto qHRbb; s3qXf: QfV2K: goto pYrUu; zY8Cb: $jsauth_acid = $unisetting["\157\x61\x75\x74\x68"]["\141\143\x63\157\165\156\164"]; goto eqQAZ; EJvd6: $url = $remote["\161\151\x6e\x69\165"]["\x75\x72\154"]; goto Cu18Y; T4Pxx: if (!($remote["\x74\171\160\x65"] == "\63")) { goto jg2Z0; } goto xCL7B; eqQAZ: tH2fN: goto s6AFV; u1tGy: hWLrs: goto UorrY; PNxki: $url = $remote["\143\157\163"]["\165\162\x6c"]; goto GVxSo; JuaYp: return error($response["\x65\162\x72\x63\x6f\144\145"], $response["\x65\162\162\155\x73\147"]); goto OV1y9; iIw1r: return $token; goto u1tGy; nqceA: if (!empty($jsauth_acid)) { goto gvYje; } goto A6tsG; NboxN: $response = ihttp_get($sendapi); goto gECQj; Xs3rw: load()->model("\x73\x65\164\164\x69\156\147"); goto CZ2MB; bLKBI: hrQQI: goto GmMTY; zLJuh: if (!is_error($access_token)) { goto hWLrs; } goto iIw1r; Mdc1J: $account_api = WeAccount::create($jsauth_acid); goto bokO9; QjaoL: QBoFx: goto hkOnA; IxyjB: if (!(empty($media) || empty($media["\155\x65\x64\x69\141\137\151\x64"]) || !empty($media["\x74\171\x70\x65"]) && !in_array($media["\x74\x79\160\x65"], $mediatypes))) { goto KfOhM; } goto s6jgd; GmMTY: global $_W; goto i7xPk; ovfqC: $modulelist = uni_modules(false); goto U91wZ; VsQrr: A4wZ1: goto EJvd6; h3vxI: $filename = $filenamearr[0] . "\x2e\x6d\160\x33"; goto t9noU; GVxSo: GLIk5: goto T4Pxx; qHRbb: $filename = "\141\x75\144\x69\x6f\57" . $_W["\x75\x6e\x69\x61\143\x69\x64"] . "\57\163\x69\154\x65\x6e\x63\x65\137\x76\157\x74\145\57" . date("\x59\x2f\x6d\x2f") . $filename; goto nBwSY; i6MwD: } function file_voteremote_upload($filename, $remote, $media_type = '', $auto_delete_local = true) { goto s9AoP; Vo2GP: kClMY: goto xXIxn; aI40m: $auth = new Qiniu\Auth($remote["\x71\151\156\151\x75"]["\x61\143\x63\145\163\x73\x6b\x65\171"], $remote["\x71\x69\156\x69\x75"]["\x73\145\143\162\145\164\x6b\145\171"]); goto DZDy8; XrszS: $putpolicy = Qiniu\base64_urlSafeEncode($remote["\x71\x69\x6e\x69\x75"]["\x62\165\143\153\x65\164"] . "\x3a" . $lcwfile); goto pVMl5; ctTMo: $uploadtoken = $auth->uploadToken($remote["\161\x69\156\x69\x75"]["\142\165\143\153\x65\164"], $filename, 3600, $putpolicy); goto EMusU; CCPxc: KYd_k: goto XvyGY; zf1BX: if (!empty($remote["\x74\171\160\145"])) { goto R4gPz; } goto Z8Wz6; BzYUb: $fops = "\141\166\164\x68\165\x6d\142\57\155\160\64\x2f\x73\57\x36\x34\60\x78\63\66\x30\57\166\142\57\61\x2e\64\x6d\x2f\167\155\x49\x6d\141\147\x65\x2f" . $wmImg . "\57\x47\x72\x61\x76\x69\x74\171\x2f\123\x6f\165\164\x68\x45\x61\163\164\x7c\x73\x61\166\145\141\163\x2f" . $putpolicy; goto MvT3t; Zffn8: if (!($uploadRet["\x63\157\x64\145"] != 0)) { goto mwax5; } goto amFcZ; amFcZ: switch ($uploadRet["\143\157\x64\x65"]) { case -62: $message = "\xe8\xbe\x93\345\205\245\xe7\232\x84\x61\x70\x70\151\144\346\x9c\x89\xe8\257\xaf"; goto PLHqY; case -79: $message = "\xe8\276\223\xe5\205\245\347\x9a\x84\123\x65\143\162\145\164\111\104\346\234\x89\350\257\xaf"; goto PLHqY; case -97: $message = "\350\xbe\223\345\205\xa5\347\x9a\204\x53\x65\143\162\145\164\x4b\105\131\346\234\x89\xe8\xaf\xaf"; goto PLHqY; case -166: $message = "\350\xbe\223\xe5\x85\xa5\xe7\x9a\204\x62\x75\143\153\145\164\346\x9c\211\350\xaf\xaf"; goto PLHqY; } goto jfGXl; AOxNV: NI3kk: goto I90S7; pVhDd: if (!$auto_delete_local) { goto azsOg; } goto fnkd9; yiSFJ: qcloudcos\Cosapi::setRegion($remote["\143\x6f\163"]["\x6c\157\143\x61\x6c"]); goto QPYcN; Z8Wz6: return false; goto Drd1s; UKyjh: PQ07a: goto pVhDd; PaMRv: if (!$auto_delete_local) { goto UOzRv; } goto pt6H2; v_xU4: list($ret, $err) = $uploadmgr->putFile($uploadtoken, $lcwfile, ATTACHMENT_ROOT . "\x2f" . $filename); goto UKyjh; EPpNv: goto TQTNz; goto TrEcz; peLrv: goto KQUF0; goto QWS1T; MvT3t: $fops = "\x61\x76\x74\x68\x75\155\142\57\155\x70\64\x2f\x73\57\66\x34\60\x78\x33\66\x30\57\166\142\57\x31\56\64\155\174\x73\141\x76\x65\x61\163\57" . $putpolicy; goto ag3Iv; Zw2Z0: xGNsF: goto DIfO0; yMA_Y: if ($remote["\164\x79\x70\x65"] == "\63") { goto NI3kk; } goto sPYbx; QP45a: goto TQTNz; goto AOxNV; bKFNo: $policy = array("\x70\145\162\x73\151\163\164\x65\x6e\164\117\x70\x73" => $fops, "\160\x65\162\163\x69\x73\164\145\x6e\164\120\x69\160\x65\154\151\x6e\x65" => $remote["\x71\x69\156\151\x75"]["\161\156\137\161\x75\x65\x75\145\x6e\x61\155\145"]); goto taorJ; clXwt: $wmImg = Qiniu\base64_urlSafeEncode("\x68\x74\164\160\x73\72\x2f\57\167\x77\167\56\161\x69\156\151\165\x2e\x63\x6f\155\x2f\141\163\x73\145\x74\163\x2f\x6c\x6f\147\x6f\x2d\x77\x68\x69\x74\145\55\x31\70\x64\x61\x35\146\x63\x62\x30\62\146\x34\141\141\70\67\x64\141\x63\142\146\64\64\x35\x31\141\x37\63\65\66\x62\66\x31\67\71\142\x61\x65\x62\143\71\x36\x61\145\67\x37\143\x66\x32\x34\146\x36\60\x37\x63\x39\70\x64\61\62\144\x31\60\x30\x2e\160\x6e\147"); goto BzYUb; pVMl5: $fops = "\141\166\x74\x68\x75\x6d\x62\x2f\155\x70\63\x2f\x61\142\57\x31\x39\x32\x6b\174\163\x61\x76\x65\x61\x73\57" . $putpolicy; goto bKFNo; dmbZJ: Lwx0n: goto QP45a; XG3A7: $lcwfilearr = explode("\x2e", $filename); goto nUO2j; ZhK7Z: $endpoint = "\150\x74\x74\160\x3a\x2f\57" . $buckets[$remote["\141\x6c\x69\157\x73\x73"]["\142\x75\x63\x6b\145\x74"]]["\154\157\143\141\x74\x69\x6f\x6e"] . "\x2e\x61\154\x69\x79\165\156\143\163\x2e\143\x6f\x6d"; goto c6M_6; QWS1T: ZEIzL: goto AN0F0; hGYqo: $auth = new Qiniu\Auth($remote["\x71\x69\x6e\151\x75"]["\x61\x63\143\145\163\x73\153\x65\171"], $remote["\161\151\156\x69\165"]["\163\x65\x63\162\145\164\x6b\145\x79"]); goto q1sa6; g4RuQ: return error(1, "\350\xbf\x9c\xe7\xa8\x8b\xe9\231\204\344\273\xb6\xe4\270\212\344\274\240\345\xa4\261\350\264\xa5\xef\274\214\xe8\xaf\267\xe6\xa3\x80\xe6\237\xa5\xe9\x85\x8d\xe7\275\xae\345\xb9\266\351\x87\215\346\226\260\xe4\xb8\212\344\274\xa0"); goto AeWo2; DnLYV: UyO9R: goto oOzju; N43zg: file_delete($filename); goto dmbZJ; UkkUV: PLHqY: goto vZUsV; s9AoP: global $_W; goto zf1BX; WjZWJ: if ($media_type == "\x61\165\x64\x69\157") { goto F0BBC; } goto m5t5y; EBDd3: aCvA8: goto phK3W; m5t5y: require_once "\56\56\x2f\x61\144\144\x6f\x6e\163\x2f\163\151\154\x65\x6e\x63\x65\x5f\x76\157\164\145\x2f\x6c\151\142\57\121\x69\156\151\x75\x2f\141\x75\164\157\154\157\x61\144\x2e\x70\x68\x70"; goto aI40m; VsHbN: $uploadtoken = $auth->uploadToken($remote["\x71\x69\156\x69\x75"]["\142\165\x63\153\x65\x74"], $filename, 3600, $policy); goto PvJCe; h6XEx: return true; goto saBK2; fnkd9: file_delete($filename); goto onEyd; UUQh7: if (true === $ftp->connect()) { goto dXlGQ; } goto KW0Na; CkeYx: KQUF0: goto Zffn8; DDUSn: UOzRv: goto jC0ol; nUO2j: $lcwfile = $lcwfilearr[0] . "\56\x6d\160\63"; goto XrszS; kpyPq: TKpBy: goto ZGmM_; XvyGY: KnPhH: goto pP3KM; q1sa6: $uploadmgr = new Qiniu\Storage\UploadManager(); goto TZ00M; YgBt6: iTWDu: goto VsG2N; AeWo2: goto KYd_k; goto Zw2Z0; jfGXl: CAXCH: goto UkkUV; RbJhu: require IA_ROOT . "\57\x66\162\x61\155\x65\x77\157\x72\x6b\x2f\x6c\151\142\162\x61\x72\171\x2f\x63\157\163\x2f\151\156\x63\154\x75\x64\145\x2e\x70\x68\160"; goto g84Gk; XVA2G: mwax5: goto VMXAB; ptywO: list($ret, $err) = $uploadmgr->putFile($uploadtoken, $filename, ATTACHMENT_ROOT . "\57" . $filename); goto sVlfF; X1jG6: goto KnPhH; goto GeUox; Iu5vH: goto TQTNz; goto YgBt6; wk1Px: if ($remote["\164\x79\x70\x65"] == "\62") { goto TKpBy; } goto yMA_Y; PvJCe: goto kClMY; goto icllQ; DZDy8: $uploadmgr = new Qiniu\Storage\UploadManager(); goto Vp_q7; Drd1s: R4gPz: goto QHJ6w; I90S7: if ($media_type == "\x76\x69\x64\145\x6f") { goto UyO9R; } goto WjZWJ; saBK2: goto NDcvm; goto kHho5; UhGrH: if (!$auto_delete_local) { goto Lwx0n; } goto N43zg; sPYbx: if ($remote["\x74\171\160\145"] == "\x34") { goto kfP1i; } goto Iu5vH; VsG2N: require_once IA_ROOT . "\57\146\x72\x61\155\145\x77\157\162\x6b\57\154\151\142\x72\x61\162\x79\x2f\146\164\160\x2f\146\164\160\x2e\160\150\x70"; goto kk0Uh; xXIxn: if ($media_type == "\x61\165\x64\151\157") { goto aeBMP; } goto ptywO; TeQcv: $buckets = attachment_alioss_buctkets($remote["\141\x6c\x69\157\163\x73"]["\x6b\145\171"], $remote["\141\154\151\x6f\163\x73"]["\x73\x65\x63\x72\x65\x74"]); goto ZhK7Z; dY0kb: $response = $ftp->upload(ATTACHMENT_ROOT . "\x2f" . $filename, $filename); goto PaMRv; TrEcz: kfP1i: goto ERqq0; zhN2_: require_once "\56\x2e\57\x61\x64\144\157\x6e\x73\x2f\x73\x69\154\145\156\x63\145\x5f\x76\157\164\x65\57\x6c\151\x62\x2f\121\x69\x6e\151\165\x2f\x61\x75\x74\x6f\x6c\157\x61\x64\x2e\160\150\160"; goto wgMH7; an_oR: return error(1, "\xe8\277\234\xe7\250\x8b\xe9\x99\x84\344\273\266\xe4\xb8\x8a\xe4\xbc\xa0\xe5\244\xb1\350\xb4\245\357\274\x8c\350\xaf\267\346\xa3\x80\xe6\x9f\xa5\xe9\x85\215\347\275\256\345\xb9\xb6\351\207\x8d\xe6\x96\260\344\xb8\x8a\344\274\240"); goto kb_hX; VMXAB: if (!$auto_delete_local) { goto aCvA8; } goto RuyMQ; kHho5: r_shC: goto an_oR; pt6H2: file_delete($filename); goto DDUSn; ag3Iv: $policy = array("\x70\145\162\x73\151\163\164\x65\x6e\164\117\160\163" => $fops, "\160\x65\162\163\151\163\x74\145\x6e\x74\120\151\x70\x65\x6c\151\x6e\x65" => $remote["\x71\x69\156\151\x75"]["\161\156\137\161\x75\145\165\145\x6e\141\155\x65"]); goto VsHbN; wgMH7: $auth = new Qiniu\Auth($remote["\161\x69\156\x69\165"]["\141\143\143\145\163\163\x6b\145\x79"], $remote["\x71\151\156\x69\x75"]["\163\145\143\162\145\x74\153\x65\x79"]); goto Dknrb; Vp_q7: $putpolicy = Qiniu\base64_urlSafeEncode(json_encode(array("\163\x63\157\160\x65" => $remote["\x71\151\x6e\x69\x75"]["\x62\x75\143\153\x65\x74"] . "\x3a" . $filename))); goto ctTMo; Bq_av: $ftp = new Ftp($ftp_config); goto UUQh7; AN0F0: require IA_ROOT . "\57\146\162\x61\x6d\x65\x77\157\162\153\x2f\x6c\x69\x62\x72\141\x72\x79\57\143\x6f\x73\x76\x34\x2e\x32\x2f\x69\x6e\x63\154\x75\x64\x65\56\160\150\x70"; goto yiSFJ; QHJ6w: if ($remote["\x74\x79\x70\x65"] == "\x31") { goto iTWDu; } goto wk1Px; vZUsV: return error(-1, $message); goto XVA2G; onEyd: azsOg: goto br873; br873: if ($err !== null) { goto r_shC; } goto h6XEx; jC0ol: if (!empty($response)) { goto xGNsF; } goto g4RuQ; phK3W: TQTNz: goto OmOfb; EMusU: goto kClMY; goto DnLYV; Dknrb: $uploadmgr = new Qiniu\Storage\UploadManager(); goto XG3A7; RuyMQ: file_delete($filename); goto EBDd3; kk0Uh: $ftp_config = array("\150\157\x73\164\156\x61\x6d\x65" => $remote["\x66\164\160"]["\150\157\163\164"], "\x75\x73\145\x72\x6e\x61\x6d\145" => $remote["\146\x74\x70"]["\165\163\x65\162\x6e\x61\155\x65"], "\160\x61\163\163\167\x6f\162\x64" => $remote["\x66\164\x70"]["\x70\x61\163\x73\167\157\x72\144"], "\160\x6f\x72\x74" => $remote["\x66\164\160"]["\160\x6f\x72\x74"], "\x73\x73\x6c" => $remote["\x66\164\x70"]["\x73\163\154"], "\x70\141\x73\x73\x69\x76\145" => $remote["\x66\x74\160"]["\160\141\x73\166"], "\164\151\155\145\157\x75\x74" => $remote["\146\164\160"]["\164\x69\155\145\x6f\x75\x74"], "\x72\157\157\x74\144\151\x72" => $remote["\146\x74\160"]["\x64\151\x72"]); goto Bq_av; KW0Na: return error(1, "\350\xbf\234\347\250\213\351\231\x84\344\273\xb6\344\270\212\344\274\xa0\345\244\xb1\350\xb4\xa5\357\xbc\x8c\350\xaf\267\xe6\243\200\xe6\x9f\245\xe9\x85\215\347\275\256\345\xb9\266\xe9\207\215\346\x96\xb0\344\xb8\212\xe4\274\240"); goto X1jG6; GeUox: dXlGQ: goto dY0kb; oOU4X: aeBMP: goto v_xU4; c6M_6: try { $ossClient = new \OSS\OssClient($remote["\x61\x6c\x69\x6f\163\x73"]["\x6b\145\171"], $remote["\x61\154\x69\x6f\x73\x73"]["\x73\145\x63\162\145\x74"], $endpoint); $ossClient->uploadFile($remote["\x61\x6c\151\157\x73\163"]["\142\165\x63\153\145\x74"], $filename, ATTACHMENT_ROOT . $filename); } catch (\OSS\Core\OssException $e) { return error(1, $e->getMessage()); } goto UhGrH; ZGmM_: load()->model("\x61\164\164\141\x63\150\155\x65\x6e\164"); goto TeQcv; DIfO0: return true; goto CCPxc; QPYcN: $uploadRet = qcloudcos\Cosapi::upload($remote["\143\157\x73"]["\142\x75\143\153\x65\164"], ATTACHMENT_ROOT . $filename, "\57" . $filename, '', 3 * 1024 * 1024, 0); goto CkeYx; g84Gk: $uploadRet = \Qcloud_cos\Cosapi::upload($remote["\x63\x6f\x73"]["\142\165\x63\x6b\x65\x74"], ATTACHMENT_ROOT . $filename, "\x2f" . $filename, '', 3 * 1024 * 1024, 0); goto peLrv; TZ00M: $putpolicy = Qiniu\base64_urlSafeEncode($remote["\161\x69\x6e\x69\x75"]["\142\x75\x63\153\145\164"] . "\x3a" . $filename); goto clXwt; sVlfF: goto PQ07a; goto oOU4X; icllQ: F0BBC: goto zhN2_; ERqq0: if (!empty($remote["\143\157\x73"]["\154\x6f\143\x61\x6c"])) { goto ZEIzL; } goto RbJhu; pP3KM: goto TQTNz; goto kpyPq; oOzju: require_once "\56\56\x2f\141\144\x64\157\x6e\x73\x2f\x73\151\x6c\145\x6e\x63\x65\x5f\166\x6f\x74\145\57\154\x69\x62\x2f\121\151\156\x69\165\x2f\x61\165\x74\157\x6c\x6f\141\144\x2e\160\150\160"; goto hGYqo; kb_hX: NDcvm: goto EPpNv; taorJ: $uploadtoken = $auth->uploadToken($remote["\161\151\x6e\151\x75"]["\x62\x75\143\153\145\164"], null, 3600, $policy); goto Vo2GP; OmOfb: } }