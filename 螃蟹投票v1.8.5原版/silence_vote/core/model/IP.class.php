<?php
 class IP { private static $ip = NULL; private static $fp = NULL; private static $offset = NULL; private static $index = NULL; private static $cached = array(); public static function find($ip) { goto BD2d1; Wq5bA: $start = unpack("\126\x6c\x65\x6e", self::$index[$tmp_offset] . self::$index[$tmp_offset + 1] . self::$index[$tmp_offset + 2] . self::$index[$tmp_offset + 3]); goto aEv1U; FVvsw: self::init(); goto ND6pn; cPBda: A0vYi: goto MuDmj; B87ge: return "\x4e\57\101"; goto O6IC3; deQUZ: if (!(self::$fp === NULL)) { goto N4nLY; } goto FVvsw; ZuIfd: if (!($ipdot[0] < 0 || $ipdot[0] > 255 || count($ipdot) !== 4)) { goto GozRI; } goto B87ge; b5SAS: fseek(self::$fp, self::$offset["\154\145\156"] + $index_offset["\154\x65\x6e"] - 1024); goto xFsvQ; uZ3kB: qiQXN: goto deQUZ; MuDmj: o21BA: goto mlhUu; N8H6i: return "\116\57\101"; goto P3Emj; Tez4E: if (!(isset(self::$cached[$nip]) === TRUE)) { goto qiQXN; } goto aW2gV; C7cWc: return "\x4e\57\101"; goto a9vPV; BD2d1: if (!(empty($ip) === TRUE)) { goto wm4cO; } goto C7cWc; UETEH: euIn6: goto gvnGO; PXkJy: $nip2 = pack("\116", ip2long($nip)); goto Cd35p; aW2gV: return self::$cached[$nip]; goto uZ3kB; zndv6: ArZVY: goto cBMw1; mlhUu: $start += 8; goto M9l52; rG2AC: goto ArZVY; goto cPBda; xFsvQ: self::$cached[$nip] = explode("\11", fread(self::$fp, $index_length["\x6c\145\x6e"])); goto rfkiu; P3Emj: bBmeO: goto b5SAS; rfkiu: return self::$cached[$nip]; goto jFhkq; ICQIB: $index_offset = unpack("\x56\154\x65\156", self::$index[$start + 4] . self::$index[$start + 5] . self::$index[$start + 6] . "\0"); goto YaBRW; Rg8qa: $max_comp_len = self::$offset["\x6c\145\x6e"] - 1024 - 4; goto jSFUh; Cd35p: $tmp_offset = (int) $ipdot[0] * 4; goto Wq5bA; cBMw1: if (!($index_offset === NULL)) { goto bBmeO; } goto N8H6i; jSFUh: $start = $start["\154\x65\x6e"] * 8 + 1024; goto UETEH; YaBRW: $index_length = unpack("\103\154\145\x6e", self::$index[$start + 7]); goto rG2AC; aElFg: $ipdot = explode("\56", $nip); goto ZuIfd; O6IC3: GozRI: goto Tez4E; a9vPV: wm4cO: goto ar65T; gvnGO: if (!($start < $max_comp_len)) { goto ArZVY; } goto HrdZu; M9l52: goto euIn6; goto zndv6; ar65T: $nip = gethostbyname($ip); goto aElFg; aEv1U: $index_offset = $index_length = NULL; goto Rg8qa; ND6pn: N4nLY: goto PXkJy; HrdZu: if (!(self::$index[$start] . self::$index[$start + 1] . self::$index[$start + 2] . self::$index[$start + 3] >= $nip2)) { goto A0vYi; } goto ICQIB; jFhkq: } private static function init() { goto wAfSK; d1R6I: self::$fp = fopen(MODULE_ROOT . "\x2f\154\151\142\x2f\x69\x70\x64\x61\164\141\57\x31\67\155\157\x6e\x69\160\x64\x62\56\x64\141\164\x31", "\162\x62"); goto qQ7AP; gGnvM: self::$index = fread(self::$fp, self::$offset["\154\x65\156"] - 4); goto KxQ60; K4bf0: self::$ip = new self(); goto d1R6I; wAfSK: if (!(self::$fp === NULL)) { goto c2fUp; } goto K4bf0; KxQ60: c2fUp: goto iwlcU; qQ7AP: if (!(self::$fp === FALSE)) { goto DaJ2b; } goto EE3LP; nHe9J: self::$offset = unpack("\116\154\145\156", fread(self::$fp, 4)); goto Cgz3W; EE3LP: DaJ2b: goto nHe9J; Cgz3W: if (!(self::$offset["\154\145\x6e"] < 4)) { goto vAX8X; } goto i2Df8; i2Df8: vAX8X: goto gGnvM; iwlcU: } public function __destruct() { goto Sgdj2; mpkQh: TrUiN: goto ETwK6; Sgdj2: if (!(self::$fp !== NULL)) { goto TrUiN; } goto th8pr; th8pr: fclose(self::$fp); goto mpkQh; ETwK6: } }