<?php
 class IP { private static $ip = NULL; private static $fp = NULL; private static $offset = NULL; private static $index = NULL; private static $cached = array(); public static function find($ip) { goto U6_8E; wsgyK: tbZgr: goto nJolg; UQyM_: $max_comp_len = self::$offset["\154\145\156"] - 1024 - 4; goto OVzN4; pATf7: $nip2 = pack("\116", ip2long($nip)); goto yb25Y; MUlg3: return "\116\57\101"; goto wsgyK; kknFT: if (!(self::$index[$start] . self::$index[$start + 1] . self::$index[$start + 2] . self::$index[$start + 3] >= $nip2)) { goto w__79; } goto iwmp_; wExey: goto JnMx2; goto OXHYu; nVq6l: $index_offset = $index_length = NULL; goto UQyM_; Wa3Ay: if (!($index_offset === NULL)) { goto BTcNG; } goto YTleR; U6_8E: if (!(empty($ip) === TRUE)) { goto ISZ5G; } goto coF3L; OK4JU: if (!($ipdot[0] < 0 || $ipdot[0] > 255 || count($ipdot) !== 4)) { goto tbZgr; } goto MUlg3; iwmp_: $index_offset = unpack("\x56\x6c\x65\x6e", self::$index[$start + 4] . self::$index[$start + 5] . self::$index[$start + 6] . "\x0"); goto hHLUv; Juh3r: $ipdot = explode("\x2e", $nip); goto OK4JU; MC7Fh: $start = @unpack("\x56\154\145\x6e", self::$index[$tmp_offset] . self::$index[$tmp_offset + 1] . self::$index[$tmp_offset + 2] . self::$index[$tmp_offset + 3]); goto nVq6l; cFOz4: tM7vH: goto tlIV0; yb25Y: $tmp_offset = (int) $ipdot[0] * 4; goto MC7Fh; tlIV0: if (!($start < $max_comp_len)) { goto JnMx2; } goto kknFT; QEkC4: goto tM7vH; goto JdCQy; l9sK4: return self::$cached[$nip]; goto Byt4d; yG0u4: return self::$cached[$nip]; goto de3Np; i3aIw: ISZ5G: goto GfLmM; zhCb8: BTcNG: goto gSSkM; coF3L: return "\x4e\x2f\101"; goto i3aIw; OVzN4: $start = $start["\154\x65\x6e"] * 8 + 1024; goto cFOz4; hHLUv: $index_length = unpack("\103\154\x65\x6e", self::$index[$start + 7]); goto wExey; zFWnd: feSZm: goto qJIMo; JdCQy: JnMx2: goto Wa3Ay; nJolg: if (!(isset(self::$cached[$nip]) === TRUE)) { goto OLmNZ; } goto l9sK4; rYm_F: iQuCK: goto pATf7; CrYYW: self::$cached[$nip] = explode("\x9", fread(self::$fp, $index_length["\154\145\x6e"])); goto yG0u4; gSSkM: fseek(self::$fp, self::$offset["\x6c\x65\x6e"] + $index_offset["\x6c\145\x6e"] - 1024); goto CrYYW; Byt4d: OLmNZ: goto ZFY1X; OXHYu: w__79: goto zFWnd; GfLmM: $nip = gethostbyname($ip); goto Juh3r; qJIMo: $start += 8; goto QEkC4; YTleR: return "\116\x2f\101"; goto zhCb8; ZFY1X: if (!(self::$fp === NULL)) { goto iQuCK; } goto goO0B; goO0B: self::init(); goto rYm_F; de3Np: } private static function init() { goto k9jxg; LZJJ1: x4fQ1: goto zS3Mt; EUoxl: ugNZr: goto bwdqz; k9jxg: if (!(self::$fp === NULL)) { goto ugNZr; } goto TmQmS; zS3Mt: self::$index = fread(self::$fp, self::$offset["\154\x65\x6e"] - 4); goto kX1OI; c6ksr: self::$offset = unpack("\x4e\154\145\x6e", fread(self::$fp, 4)); goto zU45X; TmQmS: self::$ip = new self(); goto dCwjP; hsYPW: self::$fp = fopen(MODULE_ROOT . "\x2f\154\151\142\x2f\151\160\144\x61\x74\141\x2f\61\67\155\x6f\x6e\151\x70\x64\142\x2e\144\x61\x74", "\162\x62"); goto VNpNG; dCwjP: if (!file_exists(MODULE_ROOT . "\57\x6c\151\x62\57\x69\x70\144\x61\x74\x61\x2f\x31\67\155\x6f\156\151\x70\144\x62\x2e\144\x61\164")) { goto osv_n; } goto hsYPW; kX1OI: osv_n: goto EUoxl; VNpNG: if (!(self::$fp === FALSE)) { goto b2Ycx; } goto BWkds; BWkds: b2Ycx: goto c6ksr; zU45X: if (!(self::$offset["\x6c\145\x6e"] < 4)) { goto x4fQ1; } goto LZJJ1; bwdqz: } public function __destruct() { goto AtZWg; tlePh: fclose(self::$fp); goto JWelk; JWelk: hQw9y: goto K2aqD; AtZWg: if (!(self::$fp !== NULL)) { goto hQw9y; } goto tlePh; K2aqD: } }