<?php
 namespace Qiniu; use Qiniu\Config; if (defined("\121\111\x4e\x49\x55\137\x46\x55\x4e\103\124\x49\117\116\x53\137\x56\105\x52\x53\x49\117\x4e")) { goto TyH0q; } define("\121\111\116\x49\x55\x5f\106\x55\x4e\x43\x54\111\x4f\116\123\137\x56\x45\x52\123\x49\117\116", Config::SDK_VER); function crc32_file($file) { goto rBelI; wSRD8: return sprintf("\45\165", $array[1]); goto sWxns; rBelI: $hash = hash_file("\x63\x72\143\63\62\142", $file); goto j0NYk; j0NYk: $array = unpack("\x4e", pack("\110\x2a", $hash)); goto wSRD8; sWxns: } function crc32_data($data) { goto ZKB7G; oxF71: return sprintf("\x25\165", $array[1]); goto diZDJ; ZKB7G: $hash = hash("\143\x72\x63\x33\62\x62", $data); goto uKTvw; uKTvw: $array = unpack("\x4e", pack("\110\52", $hash)); goto oxF71; diZDJ: } function base64_urlSafeEncode($data) { goto I9Agk; I9Agk: $find = array("\53", "\57"); goto Iv5yU; Iv5yU: $replace = array("\55", "\x5f"); goto lOWT6; lOWT6: return str_replace($find, $replace, base64_encode($data)); goto slXoj; slXoj: } function base64_urlSafeDecode($str) { goto hKRCb; X7Wae: return base64_decode(str_replace($find, $replace, $str)); goto KGBgP; l5WMi: $replace = array("\x2b", "\x2f"); goto X7Wae; hKRCb: $find = array("\55", "\x5f"); goto l5WMi; KGBgP: } function json_decode($json, $assoc = false, $depth = 512) { goto exJ13; zHGnd: return null; goto wJ74s; Btuq2: return $data; goto uBUX5; aLKwm: WdH5B: goto Btuq2; cJNT0: $last = json_last_error(); goto RZgBz; wJ74s: um5yq: goto YF09y; YF09y: $data = \json_decode($json, $assoc, $depth); goto yWNmV; RZgBz: throw new \InvalidArgumentException("\125\156\141\x62\x6c\145\40\x74\157\40\160\x61\162\163\x65\x20\x4a\x53\117\116\40\144\x61\x74\141\x3a\40" . (isset($jsonErrors[$last]) ? $jsonErrors[$last] : "\x55\x6e\153\156\157\x77\x6e\x20\145\x72\162\x6f\162")); goto aLKwm; exJ13: static $jsonErrors = array(JSON_ERROR_DEPTH => "\112\x53\117\116\x5f\105\122\122\117\x52\137\104\105\120\124\x48\x20\x2d\x20\x4d\x61\170\151\x6d\x75\155\x20\x73\x74\x61\143\x6b\40\144\145\160\x74\x68\40\x65\x78\143\x65\x65\144\x65\144", JSON_ERROR_STATE_MISMATCH => "\112\123\117\116\x5f\x45\122\x52\x4f\x52\x5f\123\124\x41\x54\x45\x5f\115\x49\x53\x4d\101\x54\x43\110\40\55\40\x55\156\x64\x65\162\x66\x6c\157\x77\40\x6f\162\x20\164\150\x65\x20\155\x6f\x64\145\163\40\x6d\151\x73\x6d\141\x74\143\150", JSON_ERROR_CTRL_CHAR => "\112\x53\117\116\137\x45\122\x52\117\122\x5f\x43\x54\x52\x4c\x5f\103\110\x41\x52\x20\x2d\x20\x55\x6e\145\x78\160\145\143\164\x65\144\40\x63\157\156\x74\162\157\x6c\x20\143\x68\141\x72\x61\143\x74\145\162\40\146\x6f\x75\156\144", JSON_ERROR_SYNTAX => "\112\x53\x4f\x4e\137\x45\122\122\117\x52\137\x53\x59\x4e\124\x41\x58\x20\x2d\40\123\171\156\x74\x61\170\40\x65\162\x72\157\162\x2c\x20\x6d\x61\x6c\146\x6f\162\155\x65\144\x20\x4a\123\117\x4e", JSON_ERROR_UTF8 => "\x4a\123\117\x4e\137\105\122\122\117\x52\x5f\125\124\106\70\x20\x2d\x20\115\141\154\x66\x6f\x72\155\145\144\x20\x55\124\x46\x2d\x38\x20\143\x68\x61\x72\x61\143\164\145\162\x73\54\x20\160\157\x73\163\151\142\x6c\x79\x20\x69\156\x63\x6f\x72\x72\x65\x63\x74\154\171\40\x65\156\143\157\x64\145\144"); goto MYH3V; MYH3V: if (!empty($json)) { goto um5yq; } goto zHGnd; yWNmV: if (!(JSON_ERROR_NONE !== json_last_error())) { goto WdH5B; } goto cJNT0; uBUX5: } function entry($bucket, $key) { goto NrJNm; aFFGU: n83vC: goto RC4lH; uCB8C: if (empty($key)) { goto n83vC; } goto oW0uL; NrJNm: $en = $bucket; goto uCB8C; oW0uL: $en = $bucket . "\72" . $key; goto aFFGU; RC4lH: return base64_urlSafeEncode($en); goto RdbmF; RdbmF: } function setWithoutEmpty(&$array, $key, $value) { goto AbOsG; AbOsG: if (empty($value)) { goto LgF93; } goto hrMnB; tUG5N: return $array; goto gMft_; tBIZq: LgF93: goto tUG5N; hrMnB: $array[$key] = $value; goto tBIZq; gMft_: } function thumbnail($url, $mode, $width, $height, $format = null, $quality = null, $interlace = null, $ignoreError = 1) { goto gVx4I; DXeJR: return call_user_func_array(array($imageUrlBuilder, "\x74\150\x75\x6d\142\156\141\151\154"), func_get_args()); goto ukOb3; uKeT3: if (!is_null($imageUrlBuilder)) { goto wTfNj; } goto wOj1n; wOj1n: $imageUrlBuilder = new \Qiniu\Processing\ImageUrlBuilder(); goto xXfcn; xXfcn: wTfNj: goto DXeJR; gVx4I: static $imageUrlBuilder = null; goto uKeT3; ukOb3: } function waterImg($url, $image, $dissolve = 100, $gravity = "\123\157\165\164\x68\x45\x61\163\164", $dx = null, $dy = null, $watermarkScale = null) { goto xKaDu; xKaDu: static $imageUrlBuilder = null; goto uFL2y; VMLcn: $imageUrlBuilder = new \Qiniu\Processing\ImageUrlBuilder(); goto BriLq; BriLq: GDb2G: goto fqP2u; fqP2u: return call_user_func_array(array($imageUrlBuilder, "\x77\141\x74\x65\162\x49\x6d\147"), func_get_args()); goto Fj4zU; uFL2y: if (!is_null($imageUrlBuilder)) { goto GDb2G; } goto VMLcn; Fj4zU: } function waterText($url, $text, $font = "\xe9\xbb\x91\344\275\x93", $fontSize = 0, $fontColor = null, $dissolve = 100, $gravity = "\x53\x6f\165\x74\x68\x45\141\163\164", $dx = null, $dy = null) { goto fhQTh; e0pk0: $imageUrlBuilder = new \Qiniu\Processing\ImageUrlBuilder(); goto eRos_; UoMho: return call_user_func_array(array($imageUrlBuilder, "\167\x61\x74\145\162\x54\x65\170\x74"), func_get_args()); goto JmxJW; R0Dji: if (!is_null($imageUrlBuilder)) { goto ZVdD3; } goto e0pk0; eRos_: ZVdD3: goto UoMho; fhQTh: static $imageUrlBuilder = null; goto R0Dji; JmxJW: } function explodeUpToken($upToken) { goto kRmeu; kRmeu: $items = explode("\x3a", $upToken); goto HuFdx; OmCuW: $accessKey = $items[0]; goto lT_Cq; Tslww: $scope = $putPolicy->scope; goto h5YY7; h5YY7: $scopeItems = explode("\x3a", $scope); goto Q13Mr; kdH7e: return array(null, null, "\151\156\x76\x61\154\151\x64\40\x75\160\164\157\x6b\x65\156"); goto v7DzD; lT_Cq: $putPolicy = json_decode(base64_decode($items[2])); goto Tslww; v7DzD: DhI0S: goto OmCuW; HuFdx: if (!(count($items) != 3)) { goto DhI0S; } goto kdH7e; Q13Mr: $bucket = $scopeItems[0]; goto qGyiv; qGyiv: return array($accessKey, $bucket, null); goto bbJ4J; bbJ4J: } TyH0q: