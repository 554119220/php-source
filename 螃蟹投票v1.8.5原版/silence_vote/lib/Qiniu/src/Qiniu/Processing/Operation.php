<?php
 namespace Qiniu\Processing; use Qiniu\Http\Client; use Qiniu\Http\Error; final class Operation { private $auth; private $token_expire; private $domain; public function __construct($domain, $auth = null, $token_expire = 3600) { goto tUicc; tUicc: $this->auth = $auth; goto J6FS8; J6FS8: $this->domain = $domain; goto VDbrN; VDbrN: $this->token_expire = $token_expire; goto CiOsB; CiOsB: } public function execute($key, $fops) { goto E0hZK; kj5PS: $resp = Client::get($url); goto rWoMs; E_Q9t: aTUm9: goto yvquB; rWoMs: if ($resp->ok()) { goto anjEd; } goto AHZSc; DlJ38: anjEd: goto gq2lH; AHZSc: return array(null, new Error($url, $resp)); goto DlJ38; yvquB: return array($resp->body, null); goto yCIQ7; gq2lH: if (!($resp->json() !== null)) { goto aTUm9; } goto fEJRG; fEJRG: return array($resp->json(), null); goto E_Q9t; E0hZK: $url = $this->buildUrl($key, $fops); goto kj5PS; yCIQ7: } public function buildUrl($key, $fops, $protocol = "\150\x74\x74\160") { goto RiCnq; G5hg7: return $url; goto oTriK; D0P5f: $url = $protocol . "\72\57\57{$this->domain}\57{$key}\77{$fops}"; goto e_guo; cQM7e: $url = $this->auth->privateDownloadUrl($url, $this->token_expire); goto P9XW1; YTqI8: DaLGJ: goto D0P5f; ui3rt: $fops = implode("\174", $fops); goto YTqI8; e_guo: if (!($this->auth !== null)) { goto Syz6I; } goto cQM7e; RiCnq: if (!is_array($fops)) { goto DaLGJ; } goto ui3rt; P9XW1: Syz6I: goto G5hg7; oTriK: } }