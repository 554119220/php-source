<?php
 goto eFg5Q; eFg5Q: defined("\111\116\137\x49\101") or exit("\101\x63\143\145\163\163\x20\104\145\x6e\151\145\x64"); goto htBwN; zj2yB: require SILENCE_MODEL_FUNC . "\x2f\146\x75\x6e\143\164\151\157\156\x2e\x70\x68\160"; goto fyc0g; htBwN: require IA_ROOT . "\57\141\144\144\157\x6e\x73\x2f\163\x69\154\145\156\x63\145\x5f\166\x6f\x74\145\x2f\144\145\146\151\156\x65\163\x2e\160\x68\160"; goto zj2yB; fyc0g: class silence_voteModuleProcessor extends WeModuleProcessor { public $tablevoteuser = "\x73\151\x6c\145\156\x63\145\x5f\x76\x6f\x74\145\137\x76\157\x74\145\x75\163\145\x72"; public function respond() { goto P00yz; FRwXw: $openid = $message["\146\x72\x6f\155"]; goto W75sk; m0mDg: if (!($row["\163\x74\x61\x72\x74\164\151\x6d\x65"] > time())) { goto gVoKx; } goto nvdfD; QW5LZ: $userinfo["\x6f\141\165\164\x68\137\x6f\160\x65\x6e\151\x64"] = $fans["\157\160\145\x6e\x69\144"]; goto jOsJt; OR8og: if (!($voteid != 0)) { goto LTKod; } goto mQF96; mcdHR: return $this->respText("\xe6\264\273\345\x8a\xa8\xe6\x9a\202\345\201\234\357\xbc\x8c\350\xaf\267\xe7\250\x8d\345\x90\216\x2e\x2e\x2e"); goto BS5CJ; BS5CJ: N1hLk: goto m0mDg; W7I9E: $userinfo["\x61\x76\x61\164\x61\162"] = $fans["\x74\x61\x67"]["\141\x76\x61\x74\141\x72"]; goto QW5LZ; bhAzU: $row = pdo_fetch($sql, array("\x3a\162\x69\144" => $rid)); goto YXvZU; B4sIy: $userinfo["\146\157\154\154\x6f\x77"] = $fans["\146\157\154\154\157\167"]; goto HQvdN; fBqd5: $userinfo = array(); goto BNKrW; mQF96: load()->model("\x6d\x63"); goto bkBxU; ZByBS: $sql = "\123\105\x4c\105\x43\124\40\164\151\x74\x6c\x65\54\144\x65\163\143\162\x69\160\164\x69\157\156\x2c\164\x68\x75\155\142\54\163\x74\x61\164\165\x73\x2c\x73\164\x61\162\x74\164\151\155\145\x20\x46\x52\117\115\40" . tablename("\x73\x69\x6c\x65\x6e\143\145\x5f\x76\x6f\164\145\137\x72\145\x70\154\171") . "\x20\x57\x48\105\122\x45\40\140\x72\x69\144\x60\x3d\x3a\162\151\x64\40\114\x49\115\x49\x54\40\61"; goto bhAzU; bkBxU: $fans = mc_fansinfo($openid); goto HUI90; BNKrW: $userinfo["\x6e\x69\143\153\156\141\155\145"] = $fans["\164\141\x67"]["\x6e\x69\x63\x6b\x6e\x61\155\145"]; goto me5cN; HUI90: $voteuser = pdo_fetch("\x53\105\x4c\x45\x43\124\40\x69\144\x2c\156\157\151\x64\40\106\122\117\x4d\40" . tablename($this->tablevoteuser) . "\40\127\x48\x45\x52\105\40\156\157\x69\x64\40\75\x20\x3a\x6e\x6f\151\144\x20\x41\x4e\104\x20\162\151\x64\x20\75\40\x3a\162\x69\x64\40\x20", array("\x3a\156\157\x69\144" => $voteid, "\x3a\x72\x69\x64" => $rid)); goto PNMF0; PNMF0: if (!empty($voteuser)) { goto r9jkr; } goto UTXfT; nvdfD: return $this->respText("\xe6\264\273\345\212\250\346\x9c\252\xe5\274\200\345\xa7\213\xef\xbc\x8c\xe8\257\xb7\xe7\255\x89\xe5\276\x85\x2e\x2e\56"); goto YeGpp; YeGpp: gVoKx: goto TNyLe; Li6Wa: return $this->respText($votere["\x6d\x73\147"]); goto SPSw3; HQvdN: $votere = m("\166\x6f\x74\145")->setvote($userinfo, $rid, $voteuser["\151\144"], 0, 0, 1); goto Li6Wa; YXvZU: if (!($row == false)) { goto o9qzt; } goto omn09; MQPau: if (!($row["\151\163\x73\150\x6f\x77"] == 1)) { goto N1hLk; } goto mcdHR; SPSw3: LTKod: goto ZByBS; TNyLe: return $this->respNews(array("\124\x69\164\154\x65" => $row["\x74\151\164\154\x65"], "\x44\x65\x73\143\x72\x69\x70\x74\x69\157\156" => $row["\x64\x65\x73\143\162\x69\160\164\151\x6f\156"], "\x50\151\143\125\x72\154" => toimage($row["\x74\x68\165\155\142"]), "\125\x72\x6c" => $this->createMobileUrl("\x69\156\x64\x65\x78", array("\162\x69\x64" => $rid)))); goto ednFE; UTXfT: r9jkr: goto fBqd5; jq6Zq: o9qzt: goto MQPau; vtFIf: $message = $this->message; goto FRwXw; jOsJt: $userinfo["\165\156\x69\157\x6e\151\x64"] = $fans["\165\156\x69\157\156\x69\x64"]; goto B4sIy; omn09: return $this->respText("\xe6\xb4\xbb\345\212\250\xe5\267\262\xe5\x8f\x96\xe6\266\210\x2e\56\x2e"); goto jq6Zq; me5cN: $userinfo["\x6f\x70\145\156\x69\144"] = $fans["\x6f\x70\145\156\151\144"]; goto W7I9E; p6DqO: $voteid = $this->number($message["\x63\157\x6e\x74\x65\x6e\164"]); goto OR8og; W75sk: $rid = $this->rule; goto p6DqO; P00yz: global $_W, $_GPC; goto vtFIf; ednFE: } public function number($str) { return preg_replace("\57\x5c\x44\x2f\163", '', $str); } }