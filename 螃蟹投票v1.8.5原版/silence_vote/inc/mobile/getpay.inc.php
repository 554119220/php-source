<?php
 goto fakZc; nq9VX: if ($reply["\x76\x6f\x74\x65\163\164\141\x72\164\164\151\x6d\145"] > time()) { goto VxDZS; } goto J_4Bv; uO3rU: $oauth_openid = $userinfo["\x6f\x61\165\164\150\x5f\x6f\x70\145\156\x69\x64"]; goto E10LH; jRX8r: pdo_insert("\143\157\x72\x65\x5f\160\x61\x79\154\x6f\x67", $paylog); goto T8jrd; hITVL: $paylog = pdo_get("\x63\x6f\x72\145\x5f\x70\141\x79\x6c\157\147", array("\165\x6e\151\x61\x63\x69\x64" => $_W["\165\x6e\x69\x61\143\x69\x64"], "\155\157\144\165\154\x65" => $getparams["\155\x6f\x64\x75\154\145"], "\164\151\144" => $getparams["\164\151\144"])); goto YROOj; b_qJq: $count = intval($_GPC["\x63\x6f\x75\x6e\x74"]); goto AsSG3; YCB_O: $gift = $giftdata[$_GPC["\147\x69\146\x74\151\x64"]]; goto OSbcR; hBzIi: iajax(1, "\xe8\xbf\231\xe4\xb8\xaa\xe8\256\xa2\xe5\x8d\x95\xe5\xb7\262\xe7\xbb\x8f\xe6\x94\xaf\344\xbb\x98\346\210\220\xe5\212\x9f\x2c\x20\xe4\270\215\351\234\200\xe8\xa6\201\351\207\x8d\345\244\x8d\xe6\x94\xaf\344\xbb\x98\x2e", ''); goto kuSDi; pgkNW: $getparams = array("\x6d\145\164\150\157\x64" => "\x77\x65\x63\150\x61\164", "\164\x69\144" => $tid, "\x74\x69\164\x6c\x65" => "\346\x94\257\344\273\230" . $params["\146\x65\145"] . "\345\x85\203", "\x66\x65\145" => $params["\x66\x65\145"], "\155\157\144\x75\x6c\145" => "\163\151\x6c\x65\156\143\145\137\166\157\x74\145"); goto XqCmw; rMhde: load()->model("\160\x61\171\155\145\156\164"); goto N0NaQ; HViDx: S3wba: goto H9trR; EK9ml: NCeRG: goto DUjzw; ofLwC: exit(json_encode(array("\x73\164\x61\x74\165\163" => "\x30", "\x6d\163\147" => "\346\264\xbb\345\212\250\350\277\230\346\x9c\252\xe5\274\200\345\247\x8b\357\274\214\xe6\xb2\241\346\234\x89\xe8\xbe\xbe\345\x88\xb0\346\x9c\200\345\xb0\217\345\x8f\202\350\xb5\x9b\344\xba\272\xe6\x95\260\357\274\x81"))); goto sEnl3; WaKfg: vote_message("\347\xb3\273\xe7\273\x9f\346\217\220\xe7\244\272", "\346\x97\xa0\xe6\263\225\xe8\216\267\xe5\x8f\x96\117\120\116\105\111\104\357\274\214\350\257\xb7\xe6\x9f\245\xe7\234\213\xe6\230\xaf\345\220\xa6\xe5\200\237\xe6\x9d\x83\346\x88\226\xe9\x85\215\xe7\275\256\xe5\xa5\xbd\345\205\xac\xe4\xbc\x97\345\217\267\357\274\x81\x28\x30\x31\x30\x31\x29", referer()); goto L5md4; m5pqb: $paylog = array("\165\x6e\x69\x61\143\x69\144" => $_W["\165\x6e\x69\141\x63\x69\144"], "\141\143\x69\144" => $_W["\x61\143\151\144"], "\x6f\x70\145\156\151\144" => $_W["\x6d\145\155\x62\145\162"]["\x75\151\x64"], "\155\x6f\x64\x75\154\x65" => $getparams["\155\x6f\x64\165\154\x65"], "\x74\x69\x64" => $getparams["\x74\151\x64"], "\x75\x6e\x69\x6f\156\x74\x69\x64" => $uniontid, "\146\145\x65" => $getparams["\146\145\x65"], "\143\x61\x72\144\x5f\x66\x65\145" => $getparams["\x66\145\145"], "\x73\x74\x61\164\165\x73" => "\x30", "\x69\163\137\165\163\x65\143\x61\162\144" => "\60"); goto jRX8r; Rlt0e: goto iagLN; goto ZU7Lg; R5Rp6: Gddbz: goto XdQag; Rt4Of: if (!($reply["\x69\163\x63\x68\x65\x63\x6b\x65\x64"] == 1)) { goto wrkY6; } goto gaqcC; L5md4: hdd8x: goto CJFzy; RIaG_: $wechat_payment = $setting["\x70\x61\171\x6d\x65\156\164"]["\x77\145\143\x68\x61\x74"]; goto nRaRH; vxz_H: if (!($reply["\x6d\151\156\156\x75\x6d\160\145\x6f\160\154\x65"] > $jointotal)) { goto EVaJz; } goto ofLwC; RRhRr: $paylog["\164\151\164\x6c\145"] = $getparams["\164\x69\164\154\145"]; goto rMhde; A12xT: pdo_update("\x63\157\x72\x65\137\160\x61\171\154\157\147", array("\165\x6e\x69\x6f\156\x74\151\144" => $uniontid), array("\160\154\151\x64" => $paylog["\x70\154\x69\x64"])); goto u_ioT; YROOj: if (!empty($paylog)) { goto TzWbJ; } goto m5pqb; AML4H: if (!(!empty($paylog) && $paylog["\163\x74\x61\x74\x75\x73"] != "\x30")) { goto Pmlsz; } goto hBzIi; mIvwY: $condition = ''; goto Rt4Of; juW7G: jw0_Z: goto R_hAs; DbmbU: iagLN: goto sQc8m; H9trR: exit(json_encode(array("\163\x74\x61\x74\165\163" => "\x30", "\155\x73\147" => "\xe6\x9c\200\345\xa4\232\350\xbf\230\xe8\x83\275\351\x80\x81" . $diamondsy . "\xe5\205\203\347\244\xbc\xe7\x89\xa9\357\274\214\xe4\277\xae\xe6\224\xb9\345\x90\x8e\xe5\x86\215\xe9\200\201\357\274\x81\x3a\55\104"))); goto qDb3O; vTccI: $setting = uni_setting($_W["\x75\x6e\151\x61\x63\151\x64"], array("\x70\x61\x79\x6d\x65\x6e\164")); goto RIaG_; Puuvs: if (!empty($reply["\x73\x74\x61\164\165\x73"])) { goto mgZ57; } goto xM_P6; E10LH: if (!empty($oauth_openid)) { goto hdd8x; } goto WaKfg; d_eQl: $rid = intval($_GPC["\162\151\144"]); goto LewEH; S235S: if (empty($reply["\x6d\151\x6e\x6e\165\x6d\160\x65\x6f\x70\x6c\x65"])) { goto saJiR; } goto mIvwY; jmRBG: $moduleid = empty($moduleid) ? "\x30\x30\x30\60\x30\60" : sprintf("\45\x30\x36\144", $moduleid); goto kXAT0; Cx6uR: goto Gddbz; goto cnvF1; YpEB0: if (!pdo_insert($this->tablegift, $giftdata)) { goto I7BfM; } goto pgkNW; T6znb: if (!($gift["\x67\151\x66\164\160\162\151\x63\x65"] * $count > $diamondsy && !empty($reply["\x65\166\x65\x72\171\157\156\x65\144\151\x61\x6d\157\156\144"]))) { goto naOMS; } goto Ms1fI; GATE3: if (intval($wechat_payment["\x73\167\x69\x74\143\150"]) == 2 || intval($wechat_payment["\x73\167\x69\x74\143\x68"]) == 3) { goto NCeRG; } goto AnVIC; OdzsH: $giftdata = array("\162\151\x64" => $rid, "\164\x69\144" => $id, "\165\156\151\141\x63\151\144" => $_W["\165\156\151\141\143\x69\144"], "\157\141\165\164\150\137\157\x70\x65\x6e\151\144" => $userinfo["\157\x61\165\x74\150\137\157\160\x65\x6e\x69\x64"], "\x6f\160\x65\156\151\x64" => $userinfo["\157\x70\145\x6e\151\x64"], "\141\x76\141\x74\x61\x72" => $userinfo["\141\166\141\x74\x61\162"], "\156\x69\x63\x6b\156\141\x6d\x65" => $userinfo["\156\151\x63\153\x6e\x61\x6d\x65"], "\165\163\x65\x72\x5f\x69\x70" => $_W["\x63\x6c\151\145\156\x74\151\160"], "\x67\151\146\x74\x69\143\157\156" => $gift["\147\151\146\164\151\143\157\156"], "\x67\x69\x66\164\143\x6f\165\x6e\164" => $count, "\147\151\x66\x74\x74\x69\x74\154\145" => $gift["\147\x69\x66\164\x74\151\x74\x6c\x65"], "\147\151\x66\164\166\x6f\x74\145" => $gift["\x67\x69\146\x74\166\x6f\164\145"] * $count, "\146\145\145" => $params["\x66\145\x65"], "\160\x74\151\x64" => $tid, "\x69\x73\160\x61\171" => 0, "\x73\x74\141\x74\x75\163" => 0, "\143\162\x65\x61\164\x65\164\151\x6d\145" => time()); goto YpEB0; ZgLrr: mgZ57: goto nq9VX; V1Znb: $wechat_payment["\157\160\145\156\151\x64"] = $wechat["\x6f\x70\145\x6e\151\144"]; goto GATE3; NdoGZ: saJiR: goto YCB_O; x6lKo: $_W["\157\x70\145\x6e\x69\144"] = $paylog["\x6f\x70\x65\x6e\x69\x64"]; goto vTccI; QlJrd: $voteuser = pdo_fetch("\123\105\114\x45\103\124\40\x2a\40\106\122\x4f\115\x20" . tablename($this->tablevoteuser) . "\x20\x57\x48\105\122\105\40\162\151\x64\x20\75\40\x3a\162\x69\144\x20\101\116\x44\x20\40\151\144\40\75\40\72\151\x64\x20", array("\x3a\162\151\144" => $rid, "\x3a\x69\144" => $id)); goto kNXyD; Dju4j: A2PWH: goto Puuvs; v30Xh: exit(json_encode(array("\163\x74\141\x74\165\x73" => "\x30", "\x6d\163\147" => "\350\257\245\347\x94\250\346\210\267\xe6\212\x95\xe7\245\250\350\xa2\253\351\224\201\345\256\x9a\54\346\x81\xa2\xe5\244\215\346\227\266\351\227\xb4\357\274\232\x3c\142\162\x3e" . date("\x59\55\155\55\144\40\110\72\151\x3a\x73", $voteuser["\154\157\x63\x6b\x74\x69\x6d\x65"])))); goto dLnzh; kXAT0: $uniontid = date("\131\x6d\144\110\x69\x73") . $moduleid . random(8, 1); goto hITVL; J_4Bv: if ($reply["\166\157\x74\145\145\156\144\x74\151\155\145"] < time()) { goto dFQlO; } goto Rlt0e; NkpO9: qieLX: goto neO_V; hCeqW: exit(json_encode(array("\163\164\x61\164\165\163" => "\60", "\155\163\x67" => "\xe6\262\241\346\x9c\211\350\xaf\245\347\xbc\226\345\x8f\267\347\x94\xa8\346\x88\xb7\357\xbc\214\350\257\267\346\243\200\346\237\245\xe5\x90\x8e\xe5\206\x8d\350\276\223\345\205\xa5\357\274\x81"))); goto NkpO9; AsSG3: $count = empty($count) ? 1 : $count; goto iRlbY; G4WWE: exit(json_encode(array("\163\164\x61\x74\x75\163" => "\60", "\x6d\x73\x67" => "\346\x9c\200\345\244\232\350\203\xbd\xe9\200\x81" . $reply["\x65\166\145\x72\171\x6f\156\x65\x64\151\141\x6d\157\x6e\144"] . "\xe5\205\x83\xe7\244\xbc\347\x89\xa9\xef\xbc\214\xe7\273\231\xe5\x85\xb6\344\273\226\344\272\xba\xe7\x82\xb9\xe6\234\xba\344\274\232\xe5\220\247\357\274\x81\72\x2d\104"))); goto higAi; oFaoB: $tid = date("\131\155\x64\110\x69") . random(12, 1); goto nE6fI; xM_P6: vote_message("\347\xb3\273\347\xbb\x9f\346\217\220\xe7\244\272", "\xe6\264\273\345\x8a\250\345\267\262\347\xbb\x8f\xe7\246\201\347\x94\xa8", referer()); goto ZgLrr; ZTwEI: TGbPK: goto qNVaa; SxvM2: $_W["\165\156\x69\141\143\x69\144"] = $paylog["\165\x6e\151\141\143\151\x64"]; goto x6lKo; R_hAs: if (!empty($voteuser)) { goto qieLX; } goto hCeqW; lh6Km: $reply = @array_merge($reply, unserialize($reply["\143\x6f\x6e\x66\x69\x67"])); goto BwsQm; thclu: global $_W, $_GPC; goto NBV9V; HOLbT: exit(json_encode(array("\x73\164\141\164\x75\x73" => "\60", "\x6d\163\147" => "\xe9\200\x89\xe6\x89\x8b\344\xbf\241\xe6\201\xaf\350\xbf\x98\345\x9c\250\345\256\xa1\xe6\xa0\270\xe4\xb8\xad"))); goto juW7G; u_ioT: W2Rno: goto RRhRr; dRO5g: vote_message("\347\xb3\273\xe7\273\237\xe6\x8f\220\xe7\244\xba", "\346\x9c\xaa\345\xbc\x80\xe5\247\x8b\xe6\212\x95\347\xa5\xa8", referer()); goto a7KwF; iTPMz: if (!($reply["\163\x74\141\162\164\x74\x69\x6d\145"] > time())) { goto ow_85; } goto tBGnp; BwsQm: unset($reply["\x63\x6f\156\146\x69\147"]); goto ZolJA; cnvF1: OsGHn: goto ivS4U; ZU7Lg: VxDZS: goto dRO5g; AnVIC: unset($wechat_payment["\163\165\142\137\155\x63\150\137\x69\x64"]); goto zeKUZ; b86v9: $ty = $_GPC["\164\171"]; goto b_qJq; ivS4U: message(error(1, $wechat_payment_params), '', "\141\152\141\170", false); goto R5Rp6; qDb3O: zz5kk: goto Q1QlW; zeKUZ: $wechat_payment_params = wechat_build($params_b, $wechat_payment); goto BjumT; iRlbY: $userinfo = $this->oauthuser; goto uO3rU; UuAQe: wrkY6: goto vjhhk; neO_V: if (!($voteuser["\154\x6f\143\153\x74\x69\155\145"] > time())) { goto gaj4_; } goto v30Xh; DJyqm: if (!(!empty($paylog) && empty($paylog["\x75\156\x69\x6f\156\164\x69\x64"]))) { goto W2Rno; } goto A12xT; nE6fI: $params = array("\164\151\x64" => $tid, "\x6f\162\144\x65\x72\x73\x6e" => $tid, "\x74\151\164\x6c\x65" => "\346\212\x95\347\245\xa8\351\x80\x81\347\244\xbc\344\273\x98\xe6\xac\xbe", "\146\145\x65" => sprintf("\45\x2e\x32\x66", $gift["\x67\151\x66\164\x70\x72\x69\x63\x65"] * $count), "\x75\163\145\x72" => $_W["\155\145\x6d\142\145\162"]["\x75\x69\144"], "\155\x6f\144\165\154\145" => $this->module["\156\x61\x6d\145"]); goto OdzsH; oKXAE: vote_message("\347\263\273\347\xbb\237\346\x8f\x90\347\xa4\272", "\xe5\x8f\x82\xe6\x95\xb0\xe9\224\x99\xe8\xaf\xaf", referer()); goto I3c4l; ZolJA: if (!empty($reply)) { goto e3RbQ; } goto oKXAE; vjhhk: $jointotal = pdo_fetchcolumn("\x53\x45\114\105\103\x54\40\x43\x4f\x55\116\x54\x28\151\x64\x29\40\106\122\117\x4d\40" . tablename($this->tablevoteuser) . "\40\x57\x48\x45\122\105\x20\x20\40\x72\x69\x64\40\x3d\40\x3a\162\x69\x64\40\40" . $condition, array("\x3a\x72\151\144" => $rid)); goto vxz_H; I3c4l: e3RbQ: goto iTPMz; gaqcC: $condition .= "\40\x41\116\x44\x20\163\x74\141\x74\x75\163\75\61\40"; goto UuAQe; NBV9V: is_weixin(); goto d_eQl; NIk9C: $params_b = array("\x74\x69\144" => $paylog["\164\151\x64"], "\x66\x65\145" => $paylog["\x63\x61\162\x64\137\x66\145\145"], "\x75\x73\145\x72" => $paylog["\x6f\160\x65\156\x69\x64"], "\x74\151\164\x6c\145" => urldecode($paylog["\x74\x69\164\154\x65"]), "\165\156\x69\x6f\x6e\164\x69\x64" => $paylog["\165\156\x69\x6f\x6e\164\151\x64"]); goto V1Znb; a7KwF: goto iagLN; goto xsRYh; lVdHv: TzWbJ: goto AML4H; T8jrd: $paylog["\x70\x6c\151\x64"] = pdo_insertid(); goto lVdHv; N0NaQ: pdo_update("\143\157\162\x65\x5f\160\141\x79\x6c\157\x67", array("\x6f\x70\x65\156\x69\x64" => $_W["\157\160\x65\x6e\x69\144"], "\164\x61\147" => iserializer(array("\x61\x63\x69\x64" => $_W["\141\x63\x69\x64"], "\165\x69\x64" => $_W["\155\x65\x6d\x62\x65\162"]["\165\x69\144"]))), array("\160\x6c\x69\x64" => $paylog["\160\x6c\151\x64"])); goto SxvM2; kNXyD: if (!empty($voteuser["\x73\x74\141\164\165\x73"])) { goto jw0_Z; } goto HOLbT; WbnrF: message(error(0, $wechat_payment_params), '', "\x61\152\141\170", false); goto Cx6uR; kuSDi: Pmlsz: goto DJyqm; wiFHR: $wechat_payment["\x61\160\x70\x69\x64"] = $account["\153\x65\171"]; goto cLe7T; qNVaa: if (is_error($wechat_payment_params)) { goto OsGHn; } goto WbnrF; CJFzy: $reply = pdo_fetch("\x53\x45\x4c\x45\103\x54\40\162\x69\144\54\x74\x69\164\x6c\x65\x2c\x73\150\x61\162\x65\x74\151\164\x6c\x65\x2c\x73\x68\141\x72\x65\151\155\147\x2c\x73\150\x61\162\x65\144\145\x73\143\54\143\x6f\x6e\146\x69\147\x2c\x67\151\x66\x74\x64\x61\164\x61\54\x65\156\144\164\x69\x6d\x65\x2c\x61\160\x73\164\x61\x72\x74\164\x69\155\145\54\141\160\x65\156\144\x74\151\155\145\54\166\x6f\x74\145\163\x74\141\x72\x74\164\x69\x6d\x65\x2c\166\157\164\145\145\x6e\x64\164\151\x6d\145\x2c\x73\164\141\164\x75\x73\40\x20\x46\x52\x4f\115\40" . tablename($this->tablereply) . "\x20\127\x48\105\x52\105\x20\162\151\x64\40\x3d\x20\72\x72\151\144\x20", array("\72\162\x69\144" => $rid)); goto lh6Km; DUjzw: $wechat_payment_params = wechat_proxy_build($params_b, $wechat_payment); goto ZTwEI; Q1QlW: naOMS: goto oFaoB; Ms1fI: if ($diamondsy > 0) { goto S3wba; } goto G4WWE; dLnzh: gaj4_: goto S235S; sQc8m: $giftdata = @unserialize($reply["\x67\x69\146\164\144\x61\164\141"]); goto QlJrd; Ni_rf: if (!($reply["\x65\156\x64\164\x69\155\x65"] < time())) { goto A2PWH; } goto NHdbx; BRTiw: vote_message("\347\263\xbb\347\xbb\237\346\217\220\xe7\xa4\xba", "\345\xb7\xb2\347\273\223\xe6\235\237\xe6\x8a\x95\347\xa5\250", referer()); goto DbmbU; higAi: goto zz5kk; goto HViDx; sEnl3: EVaJz: goto NdoGZ; BjumT: goto TGbPK; goto EK9ml; XqCmw: $moduleid = pdo_getcolumn("\x6d\x6f\x64\165\154\x65\x73", array("\x6e\141\155\145" => $getparams["\155\157\x64\x75\x6c\x65"]), "\x6d\x69\144"); goto jmRBG; cLe7T: $wechat_payment["\x73\x65\143\162\x65\164"] = $account["\163\145\143\x72\x65\164"]; goto NIk9C; NHdbx: vote_message("\xe7\xb3\273\xe7\273\x9f\346\217\220\347\244\272", "\xe6\264\273\xe5\212\250\345\xb7\xb2\347\xbb\x8f\347\xbb\223\xe6\235\x9f", referer()); goto Dju4j; xJWtw: ow_85: goto Ni_rf; OSbcR: $diamondsy = $reply["\x65\x76\x65\x72\171\157\156\145\x64\x69\141\155\x6f\156\144"] - $voteuser["\147\x69\x66\164\143\157\x75\156\164"]; goto T6znb; nRaRH: $account = pdo_get("\141\143\143\157\x75\x6e\164\137\x77\145\143\150\x61\164\163", array("\x61\x63\x69\x64" => $wechat_payment["\x61\x63\x63\157\165\156\x74"]), array("\x6b\145\171", "\163\x65\143\162\145\164")); goto wiFHR; tBGnp: vote_message("\xe7\xb3\xbb\347\xbb\237\346\217\x90\347\xa4\xba", "\xe6\264\273\345\212\250\xe8\xbf\x98\346\xb2\xa1\346\234\x89\xe5\274\200\345\xa7\213", referer()); goto xJWtw; LewEH: $id = intval($_GPC["\x69\144"]); goto b86v9; xsRYh: dFQlO: goto BRTiw; fakZc: define("\x49\116\137\x4d\x4f\102\x49\114\105", true); goto thclu; XdQag: I7BfM: