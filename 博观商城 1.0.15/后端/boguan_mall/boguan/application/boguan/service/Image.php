<?php
 namespace app\boguan\service; use think\Exception; class Image { public static function resizeImage($imageUrl) { goto jJAUJ; mJrKQ: rTV12: goto KzmcR; cUXUu: return false; goto glTD1; KzmcR: $imgName = $path . md5(uniqid()) . "\x2e\152\160\147"; goto QO1Ux; tLwhZ: $file = str_replace(MODEL_PATH, '', $file); goto I7_5Y; glTD1: MQFJl: goto AXfDi; BsVhg: mkdir(ROOT_PATH . $path, 0777, true); goto mJrKQ; HZQTj: $path = "\160\x75\142\x6c\x69\143" . DS . "\142\x6f\x67\165\x61\x6e" . DS . "\165\x70\154\157\x61\x64\x73" . DS . "\x69\x6d\x61\147\145" . DS . "\x73\164\157\162\x65\x5f" . session("\x75\x6e\151\x61\x63\151\x64") . DS . date("\131\x6d\144") . DS; goto GN1qe; AXfDi: $thumb = \think\Image::open($file); goto WNxvp; FqIZk: $file = str_replace("\150\164\x74\x70\72", '', $file); goto Ndx8V; GN1qe: if (is_dir(ROOT_PATH . $path)) { goto rTV12; } goto BsVhg; WNxvp: $size = getimagesize($file); goto lReLl; jJAUJ: ini_set("\x6d\145\x6d\157\162\171\137\154\x69\155\151\164", "\62\x35\66\115"); goto HZQTj; QrI8H: return WE7_PATH . $imgName; goto U2kPS; QO1Ux: $file = str_replace(WE7_PATH, '', $imageUrl); goto tLwhZ; I7_5Y: $file = str_replace(MINI_WE7_PATH, '', $file); goto mlGP1; mlGP1: $file = str_replace("\150\164\x74\160\163\x3a", '', $file); goto FqIZk; Ndx8V: if (file_exists($file)) { goto MQFJl; } goto cUXUu; lReLl: $thumb->thumb(750, $size[1], \think\Image::THUMB_SCALING)->save($imgName); goto QrI8H; U2kPS: } public function getQrCode($data) { goto cVSZA; wgPVK: $size = 4; goto tsfaU; iwbFt: $level = "\114"; goto wgPVK; d0xX7: imagedestroy($QR); goto N42U1; OyW_W: $fileName = $path . md5(microtime()) . "\56\x70\x6e\147"; goto iwbFt; yALsn: $path = "\160\165\142\154\x69\143" . DS . "\x62\x6f\x67\x75\x61\156" . DS . "\x75\x70\x6c\x6f\x61\144\163" . DS . "\x71\162\143\x6f\x64\x65" . DS . "\163\x74\x6f\x72\145\137" . session("\165\x6e\151\x61\143\151\x64") . DS . date("\x59\155\144") . DS; goto u788o; e_WOc: $qRcode = new \QRcode(); goto yALsn; cVSZA: import("\x70\150\x70\161\162\143\x6f\144\145\x2e\x70\150\160\161\162\143\157\144\145"); goto e_WOc; tsfaU: $qRcode->png($data, $fileName, $level, $size, 2); goto UPsgA; N42U1: return $fileName; goto aGeqw; u788o: if (is_dir(ROOT_PATH . $path)) { goto yld8r; } goto O5yrB; s8l8U: yld8r: goto OyW_W; O5yrB: mkdir(ROOT_PATH . $path, 0777, true); goto s8l8U; Aqaic: $QR = imagecreatefromstring(file_get_contents($QR)); goto Opmm7; Opmm7: imagepng($QR, $fileName); goto d0xX7; UPsgA: $QR = $fileName; goto Aqaic; aGeqw: } }