<?php
 namespace app\boguan\service; use Aliyun\Core\Config; use Aliyun\Core\Profile\DefaultProfile; use Aliyun\Core\DefaultAcsClient; use Aliyun\Api\Sms\Request\V20170525\SendSmsRequest; use Aliyun\Api\Sms\Request\V20170525\QuerySendDetailsRequest; require_once EXTEND_PATH . "\144\171\163\x6d\x73\57\x76\x65\156\x64\157\x72\x2f\141\165\x74\157\154\157\x61\x64\56\x70\150\x70"; class Sms { public function __construct($accessKeyId, $accessKeySecret) { goto ZEN3_; HYwvt: $domain = "\x64\171\163\155\x73\x61\160\151\x2e\141\154\x69\171\x75\x6e\143\x73\56\143\x6f\x6d"; goto qiDOz; QBnNu: $endPointName = "\143\x6e\55\x68\141\156\x67\x7a\x68\157\165"; goto vSVmT; vSVmT: $profile = DefaultProfile::getProfile($region, $accessKeyId, $accessKeySecret); goto FSVVe; ZEN3_: $product = "\x44\x79\163\155\x73\141\x70\151"; goto HYwvt; fEWf2: $this->acsClient = new DefaultAcsClient($profile); goto Xx1mX; HVItg: DefaultProfile::addEndpoint($endPointName, $region, $product, $domain); goto fEWf2; FSVVe: Config::load(); goto HVItg; qiDOz: $region = "\x63\156\x2d\x68\141\x6e\x67\x7a\x68\157\165"; goto QBnNu; Xx1mX: } public function sendSms($signName, $templateCode, $phoneNumbers, $templateParam = null, $outId = null) { goto c9m20; J3GfG: if (!$outId) { goto J1inf; } goto WdB3C; eAPX8: return $acsResponse; goto AZyp9; SYqOz: $request->setTemplateParam(json_encode($templateParam)); goto nZusM; yj4t2: if (!$templateParam) { goto bMHwi; } goto SYqOz; lEAk3: $acsResponse = $this->acsClient->getAcsResponse($request); goto eAPX8; B23Ke: J1inf: goto lEAk3; oyCq2: $request->setTemplateCode($templateCode); goto yj4t2; c9m20: $request = new SendSmsRequest(); goto xM2M8; WdB3C: $request->setOutId($outId); goto B23Ke; pF9AA: $request->setSignName($signName); goto oyCq2; xM2M8: $request->setPhoneNumbers($phoneNumbers); goto pF9AA; nZusM: bMHwi: goto J3GfG; AZyp9: } public function queryDetails($phoneNumbers, $sendDate, $pageSize = 10, $currentPage = 1, $bizId = null) { goto bN7Sz; RHsPI: $request->setBizId($bizId); goto FwoQ6; rvJoC: $request->setCurrentPage($currentPage); goto JBlIL; JBlIL: $acsResponse = $this->acsClient->getAcsResponse($request); goto p6tFP; c5Aur: $request->setPhoneNumber($phoneNumbers); goto RHsPI; bN7Sz: $request = new QuerySendDetailsRequest(); goto c5Aur; p6tFP: return $acsResponse; goto ZJ_NA; FwoQ6: $request->setSendDate($sendDate); goto hExrF; hExrF: $request->setPageSize($pageSize); goto rvJoC; ZJ_NA: } }