<?php
 namespace app\boguan\model; class Integral extends BaseModel { public static function giveIntegral($data) { goto Ck2zK; Z0bUW: foreach ($integral as $key => $value) { goto qZgCy; kFKPe: IntegralDetail::setIntegralDetail($integralDetail); goto Pq4TX; Turum: $user = User::get($data["\165\163\145\162\137\151\144"]); goto Zi3_3; Zi3_3: $user->integral += $value["\x69\156\164\145\x67\162\x61\154"]; goto jtQBx; qZgCy: if (!($data["\x6f\x5f\x61\x6d\x6f\165\x6e\164"] >= $value["\155\x6f\x6e\x65\171"])) { goto yeqv8; } goto Turum; bp6i6: DhxbM: goto rkM0R; xWT61: $integralDetail = ["\165\x73\145\x72\x5f\151\x64" => $data["\x75\163\x65\162\x5f\151\x64"], "\157\x72\x64\145\162\x5f\151\144" => $data["\x6f\162\144\x65\162\137\x69\144"], "\164\171\x70\x65" => 1, "\153\151\156\x64" => 3, "\x69\x6e\164\145\147\162\x61\154\x5f\x69\144" => $value["\x69\x64"], "\151\x6e\164\145\x67\x72\x61\154" => $value["\x69\156\x74\x65\x67\x72\x61\154"]]; goto kFKPe; jtQBx: $user->save(); goto xWT61; Pq4TX: goto zpth0; goto Dlwjn; Dlwjn: yeqv8: goto bp6i6; rkM0R: } goto meial; VfqB7: uJRZT: goto Z0bUW; DlpER: if (!$integral->isEmpty()) { goto uJRZT; } goto WWMhQ; meial: zpth0: goto GfEax; WWMhQ: return; goto VfqB7; Ck2zK: $integral = self::where(["\x75\x6e\151\141\143\151\x64" => session("\x75\x6e\151\x61\143\151\144")])->order("\155\x6f\156\145\x79", "\x64\145\163\x63")->select(); goto DlpER; GfEax: } public static function deductIntegral($data) { goto JO1q1; z2Rie: foreach ($integral as $key => $value) { goto F4fFd; F4fFd: if (!($data["\x6f\x5f\x61\x6d\x6f\165\x6e\x74"] >= $value["\155\157\x6e\145\171"])) { goto nmG1a; } goto gXRr1; zhO8o: goto Fe8Fp; goto f1ABd; gXRr1: $user = User::get($data["\x75\163\145\162\x5f\x69\144"]); goto fz21A; fz21A: $user->integral -= $value["\151\156\164\x65\147\162\x61\x6c"]; goto HkbyM; HkbyM: $user->save(); goto jo_Nb; jo_Nb: $integralDetail = ["\165\x73\145\162\x5f\x69\144" => $data["\165\x73\x65\162\x5f\151\x64"], "\157\x72\x64\145\x72\x5f\x69\x64" => $data["\157\x72\144\145\162\x5f\x69\x64"], "\164\171\x70\x65" => 2, "\153\x69\x6e\144" => 3, "\151\156\x74\x65\x67\x72\x61\154\x5f\x69\144" => $value["\x69\144"], "\151\156\x74\x65\x67\x72\x61\154" => $value["\151\x6e\x74\x65\147\x72\141\154"]]; goto siSyo; siSyo: IntegralDetail::setIntegralDetail($integralDetail); goto zhO8o; EUfzf: AieJF: goto nhD6G; f1ABd: nmG1a: goto EUfzf; nhD6G: } goto j_KuE; wIFLS: qTwaL: goto z2Rie; j_KuE: Fe8Fp: goto E09sH; JO1q1: $integral = self::where(["\165\156\x69\141\143\x69\x64" => session("\165\x6e\x69\141\143\151\x64")])->order("\x6d\157\156\x65\171", "\x64\x65\163\143")->select(); goto ZEsVk; ZEsVk: if (!$integral->isEmpty()) { goto qTwaL; } goto c_q8M; c_q8M: return; goto wIFLS; E09sH: } }