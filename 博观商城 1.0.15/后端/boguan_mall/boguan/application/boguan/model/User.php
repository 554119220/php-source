<?php
 namespace app\boguan\model; use app\boguan\model\Order as OrderModel; class User extends BaseModel { public function getDistributorTimeAttr($data) { goto fJ2dd; g00z1: xUABA: goto JB0IR; fJ2dd: if ($data) { goto xUABA; } goto U17j9; JB0IR: return date("\131\55\x6d\55\144\x20\x48\x3a\151\72\163", $data); goto ND0NF; U17j9: return "\x2d"; goto g00z1; ND0NF: } public function vip() { return $this->hasOne("\x56\x69\160", "\151\x64", "\166\151\x70\x5f\151\144")->field("\151\144\54\156\x61\155\x65"); } public function parent() { return $this->hasOne("\x55\x73\x65\x72", "\151\144", "\x70\141\162\145\156\164\x5f\151\144")->field("\151\144\x2c\156\151\x63\x6b\156\141\155\145\54\x61\166\141\164\x61\162"); } public static function getUserInfoById($uid) { $user = self::get($uid); return $user; } public static function getAllUser() { $user = self::where(["\165\156\x69\x61\143\151\144" => session("\165\156\151\x61\x63\151\144")])->where("\x61\x76\x61\164\141\x72", "\x3c\x3e", '')->select(); return $user; } public static function userTop5() { goto eembG; U5mYi: effAZ: goto KmDId; eembG: $order = OrderModel::getPaidOrder(); goto PJd3i; KmDId: return $order; goto AgYE_; PJd3i: foreach ($order as $key => $value) { goto iezWq; iezWq: $user = self::where(["\x75\156\x69\x61\x63\x69\144" => session("\165\x6e\151\141\x63\151\x64")])->field("\x69\144\x2c\x6e\x69\x63\x6b\156\x61\155\145\54\x61\x76\141\164\x61\x72")->find($value["\165\163\x65\162\x5f\151\x64"]); goto Ulc5Z; UUItl: eJXAM: goto agb4_; Ulc5Z: $order[$key]["\165\x73\x65\x72"] = $user; goto UUItl; agb4_: } goto U5mYi; AgYE_: } public function getUserByParentId($parentId) { $user = self::where(["\x75\156\x69\141\143\151\x64" => session("\x75\x6e\151\x61\143\x69\x64"), "\x70\x61\162\145\156\x74\137\151\x64" => $parentId, "\151\x73\x5f\x64\145\x6c\145\x74\145" => 0])->field("\x69\x64\x2c\x61\166\x61\x74\141\162\x2c\x6e\x69\x63\153\156\x61\x6d\145\x2c\x62\151\x6e\144\137\164\151\x6d\x65\54\160\x61\x72\x65\x6e\164\x5f\x69\x64")->select(); return $user; } public static function countDistributors($uid) { goto WmRSZ; WmRSZ: $first = self::where(["\165\x6e\151\141\143\151\144" => session("\165\x6e\x69\x61\143\x69\x64"), "\x70\141\162\145\x6e\164\x5f\151\144" => $uid, "\151\163\x5f\x64\x65\154\x65\164\x65" => 0])->field("\x69\x64\54\141\166\x61\x74\x61\x72\x2c\156\x69\x63\x6b\156\x61\x6d\145\54\142\x69\156\144\137\164\x69\x6d\145")->select(); goto tVbqk; jfnu9: $secondCount = $thirdCount = 0; goto BSnOv; arPtY: return $count; goto svHkC; CWr6T: BFa0Q: goto raaj0; veDLh: $second = $third = []; goto jfnu9; tVbqk: $firstCount = count($first); goto veDLh; FzA78: Xucla: goto amBN8; raaj0: $count = $firstCount + $secondCount + $thirdCount; goto arPtY; BSnOv: foreach ($first as $key => $value) { goto xVKyL; QGV7H: KDpQ7: goto rhxBu; xVKyL: $second = self::getUserByParentId($value["\151\144"]); goto fOpHY; fOpHY: $secondCount = count($second); goto QGV7H; rhxBu: } goto FzA78; amBN8: foreach ($second as $k => $v) { goto VEBum; nDIGR: jvm96: goto oQfpN; ee4AS: $thirdCount = count($third); goto nDIGR; VEBum: $third = self::getUserByParentId($v["\x69\144"]); goto ee4AS; oQfpN: } goto CWr6T; svHkC: } }