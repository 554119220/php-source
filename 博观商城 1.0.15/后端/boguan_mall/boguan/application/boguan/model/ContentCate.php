<?php
 namespace app\boguan\model; class ContentCate extends BaseModel { public function getDisplayAttr($value) { goto q1ZTS; iM36Y: return null; goto xz0z_; q1ZTS: if (!empty($value)) { goto WQtxj; } goto iM36Y; xz0z_: WQtxj: goto qGoyN; qGoyN: return json_decode($value, true); goto GSCxV; GSCxV: } public static function getAllCate() { goto R6uhY; Dicvw: $data = self::buildTrees($cate); goto E5_6n; R6uhY: $cate = self::where(["\x75\x6e\151\x61\x63\x69\144" => session("\165\156\x69\x61\143\151\144")])->order("\163\x6f\x72\x74", "\141\163\x63")->select(); goto Dicvw; E5_6n: return $data; goto ZcLfc; ZcLfc: } public function buildTrees($data, $parentId, $level = 1) { goto YH4X5; FKVWt: return $treeNodes; goto rkaBs; tO13a: foreach ($data as $key => $value) { goto dQsiG; KAknE: $value["\154\x65\x76\x65\x6c"] = $level; goto BuKWu; BuKWu: $value["\143\x68\151\x6c\x64"] = self::buildTrees($data, $value["\151\144"], $level + 1); goto MCinC; B9bos: OkiaR: goto j1mT4; dQsiG: if (!($value["\x70\x61\162\145\156\164\137\x69\144"] == $parentId)) { goto OkiaR; } goto KAknE; MCinC: $treeNodes[] = $value; goto B9bos; j1mT4: BAqlt: goto EV2LF; EV2LF: } goto g0u4O; YH4X5: $treeNodes = array(); goto tO13a; g0u4O: JxgDu: goto FKVWt; rkaBs: } public static function getContentCategoryParentName($cateId) { goto z6gwL; vvMmw: z2GoU: goto yY3S9; ACEsT: $name .= $category["\x6e\141\155\145"]; goto VPxLT; yY3S9: return $name; goto Fgz3d; JFd0x: oK0ra: goto vvMmw; VPxLT: $parent_name = self::getContentCategoryParentName($category["\160\x61\x72\x65\156\164\137\x69\x64"]); goto OhIE_; IKsHN: $category = self::get($cateId); goto kOw8s; OhIE_: if (!isset($parent_name)) { goto oK0ra; } goto oM64a; z6gwL: $name = ''; goto IKsHN; oM64a: $name .= "\x2c" . $parent_name; goto JFd0x; kOw8s: if (!$category) { goto z2GoU; } goto ACEsT; Fgz3d: } }