<?php
 namespace app\boguan\controller; use app\api\service\WxMessage; use app\api\model\User; use app\lib\exception\UserException; use think\Log; class SendMessage extends WxMessage { public function sendTplMessage($data, $tplJumpPage) { goto nxnqb; OTtvT: $this->formID = $data["\x70\162\145\160\141\171\x5f\151\144"]; goto yh1PC; nxnqb: $this->tplID = $data["\164\160\x6c\111\144"]; goto OTtvT; suW5F: $this->emphasisKeyWord = ''; goto F82QD; yh1PC: $this->page = $tplJumpPage; goto HHX2D; F82QD: return parent::sendMessage($this->getUserOpenID($data["\165\x69\144"])); goto ojppS; HHX2D: $this->prepareMessageData($data); goto suW5F; ojppS: } private function prepareMessageData($data) { goto CzbF8; CzbF8: $keyword1 = isset($data["\x6b\145\171\x77\157\162\x64\61"]) ? $data["\x6b\145\x79\x77\157\162\x64\x31"] : ''; goto AqDcM; PZXvc: $keyword3 = isset($data["\x6b\145\171\167\x6f\162\144\x33"]) ? $data["\x6b\145\171\167\157\x72\x64\63"] : ''; goto BNSKX; FT2UK: $setData = ["\153\x65\171\x77\x6f\x72\x64\x31" => ["\x76\141\154\165\145" => $keyword1], "\x6b\x65\x79\167\157\162\x64\x32" => ["\x76\x61\154\x75\145" => $keyword2], "\153\x65\x79\x77\x6f\x72\144\63" => ["\x76\x61\x6c\x75\x65" => $keyword3], "\x6b\x65\x79\x77\157\162\144\64" => ["\x76\x61\x6c\165\x65" => $keyword4]]; goto TXE15; TXE15: $this->data = $setData; goto RD01P; AqDcM: $keyword2 = isset($data["\153\145\171\x77\157\x72\x64\x32"]) ? $data["\x6b\x65\x79\167\x6f\162\144\62"] : ''; goto PZXvc; BNSKX: $keyword4 = isset($data["\153\x65\x79\x77\157\162\144\x34"]) ? $data["\x6b\x65\x79\167\157\x72\144\64"] : ''; goto FT2UK; RD01P: } private function getUserOpenID($uid) { goto sT8Sf; VJGlh: iMQ6N: goto QctTi; Vb2_C: throw new UserException(); goto VJGlh; QctTi: return $user->openid; goto cyDjZ; sT8Sf: $user = User::get($uid); goto fJCSi; fJCSi: if ($user) { goto iMQ6N; } goto Vb2_C; cyDjZ: } }