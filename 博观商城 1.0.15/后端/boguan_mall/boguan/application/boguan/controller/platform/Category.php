<?php
 namespace app\boguan\controller\platform; use app\boguan\controller\Platform; use app\boguan\model\Category as CategoryModel; use app\boguan\model\PlatformSettings; use think\Request; class Category extends Platform { public function __construct(Request $request = null) { goto rA0ts; rA0ts: parent::__construct($request); goto MIIUH; qUzE7: $this->assign(["\x63\141\x74\145\x67\157\162\151\x65\x73" => $categories]); goto IpaNS; MIIUH: $categories = CategoryModel::getCategories(); goto qUzE7; IpaNS: } public function index() { return $this->fetch(); } public function add() { goto IM4RA; rVB62: Bv4CX: goto bUZ8a; faLlp: if (!request()->isAjax()) { goto Bv4CX; } goto U12qF; ZvL7b: $data["\165\156\151\141\x63\151\x64"] = $this->uniacid; goto HxGby; bFOne: $data["\x6c\x69\x6e\x6b"] = json_encode($urlData, JSON_UNESCAPED_SLASHES); goto ZvL7b; jlJR3: n6KwV: goto qwTFa; HxGby: $result = CategoryModel::create($data); goto FOqxy; U12qF: $data = input("\x70\x6f\163\164\x2e"); goto f7ZFG; FOqxy: if ($result !== false) { goto n6KwV; } goto Fmexs; myl2r: return $this->fetch(); goto tyCPT; uhOmk: $data["\x64\x65\164\141\151\x6c"] = json_encode($data["\x64\145\x74\141\x69\154"], JSON_UNESCAPED_SLASHES); goto bFOne; E4dPT: goto soG8F; goto jlJR3; XLMbR: return json(["\155\163\x67" => "\350\257\267\350\xbe\223\xe5\205\245\xe5\220\215\xe7\247\xb0", "\x65\x72\162\x6f\162\x43\x6f\x64\145" => 0]); goto Oh6fO; qwTFa: return json(["\x6d\163\x67" => "\346\xb7\xbb\345\x8a\xa0\346\x88\x90\xe5\212\237", "\x65\x72\x72\157\162\103\x6f\144\145" => 1]); goto eUeZF; bUZ8a: $this->assign(["\151\x6d\x61\x67\145\x4c\x69\x73\x74" => $imageList, "\x6c\x69\x6e\153\163\114\151\163\x74" => $linksList]); goto myl2r; Fmexs: return json(["\155\163\147" => "\346\xb7\xbb\xe5\212\240\345\xa4\261\xe8\xb4\xa5", "\x65\x72\162\x6f\162\x43\x6f\144\145" => 0]); goto E4dPT; R7z0t: $imageList = json_encode($this->imageList()); goto faLlp; IM4RA: $linksList = json_encode($this->linksList(), JSON_UNESCAPED_UNICODE); goto R7z0t; Oh6fO: nCDyX: goto iEMnb; eUeZF: soG8F: goto rVB62; iEMnb: $urlData = CategoryModel::setUrl($data["\144\x65\164\x61\x69\x6c"]); goto uhOmk; f7ZFG: if (!($data["\156\141\155\145"] == '')) { goto nCDyX; } goto XLMbR; tyCPT: } public function edit() { goto OSRZu; NXyOa: b57VR: goto Z84vK; XzJen: goto urAFm; goto NXyOa; WiHAF: $data["\x69\155\x61\x67\x65"] = ''; goto RIZFl; v64e3: return json(["\x6d\x73\147" => "\350\257\xb7\350\276\223\345\x85\xa5\xe5\x90\215\347\247\xb0", "\145\162\162\157\162\x43\157\144\x65" => 0]); goto badCn; hQdBQ: $data = input("\x70\x6f\163\164\x2e"); goto hu26b; fScho: P2o_7: goto wW4kO; EEr3k: if (isset($data["\x69\143\x6f\x6e"])) { goto P2o_7; } goto kfnpF; KMcRp: $imageList = json_encode($this->imageList()); goto Y_0NM; MMVnl: $urlData = CategoryModel::setUrl($data["\144\x65\x74\141\151\154"]); goto YPSfc; YPSfc: $data["\144\145\164\x61\151\x6c"] = json_encode($data["\144\x65\164\141\x69\x6c"], JSON_UNESCAPED_SLASHES); goto Zp5_s; OLmM4: if ($result !== false) { goto b57VR; } goto iAIL2; JkYXN: RIm36: goto WpNtr; WpNtr: $this->assign(["\x63\141\x74\x65\147\x6f\x72\171" => $category, "\151\x6d\141\147\x65\114\151\163\164" => $imageList, "\154\151\156\x6b\163\x4c\x69\163\x74" => $linksList]); goto EhQ67; tshgY: $result = CategoryModel::update($data); goto OLmM4; wW4kO: if (isset($data["\151\155\x61\147\x65"])) { goto QvGbQ; } goto WiHAF; zc1an: if (!request()->isAjax()) { goto RIm36; } goto hQdBQ; badCn: gFL0A: goto EEr3k; Uk38t: $category = CategoryModel::getCategoryById($id); goto zc1an; iAIL2: return json(["\155\x73\x67" => "\344\277\256\346\224\xb9\xe5\xa4\261\350\xb4\245", "\x65\162\162\157\162\x43\x6f\x64\145" => 0]); goto XzJen; RIZFl: QvGbQ: goto MMVnl; Z84vK: return json(["\x6d\x73\x67" => "\xe4\xbf\256\346\224\271\xe6\210\x90\345\x8a\x9f", "\x65\162\x72\157\x72\x43\x6f\x64\x65" => 1]); goto k7HdK; EhQ67: return $this->fetch(); goto FRnRC; OSRZu: $linksList = json_encode($this->linksList(), JSON_UNESCAPED_UNICODE); goto KMcRp; Y_0NM: $id = input("\x69\x64"); goto Uk38t; hu26b: if (!($data["\156\141\155\145"] == '')) { goto gFL0A; } goto v64e3; kfnpF: $data["\151\143\x6f\156"] = ''; goto fScho; k7HdK: urAFm: goto JkYXN; Zp5_s: $data["\154\151\x6e\x6b"] = json_encode($urlData, JSON_UNESCAPED_SLASHES); goto tshgY; FRnRC: } public function del() { goto jfDgE; B1GU6: $result = CategoryModel::destroy($id); goto kxHbP; sdzST: IUV0v: goto FDNpt; oYB7k: yGcI8: goto B1GU6; W8Kb8: goto IUV0v; goto ZM8XL; rBg16: return json(["\x6d\x73\147" => "\345\x88\240\xe9\231\xa4\346\x88\220\345\x8a\x9f", "\145\162\x72\157\162\103\x6f\144\x65" => 1]); goto sdzST; FDNpt: MMoyd: goto r7U84; dAwGv: return json(["\155\163\147" => "\345\210\xa0\xe9\231\xa4\xe5\xa4\261\xe8\264\xa5", "\x65\162\162\x6f\x72\103\x6f\144\145" => 0]); goto W8Kb8; LWz4e: return json(["\x6d\x73\x67" => "\151\144\344\xb8\x8d\xe5\255\x98\xe5\234\xa8", "\145\x72\x72\157\162\x43\x6f\144\145" => 0]); goto oYB7k; kxHbP: if ($result !== false) { goto sA3ef; } goto dAwGv; ZM8XL: sA3ef: goto rBg16; L_xxM: if (!($id == '')) { goto yGcI8; } goto LWz4e; jfDgE: if (!request()->isAjax()) { goto MMoyd; } goto Ta2Tg; Ta2Tg: $id = input("\x69\x64"); goto L_xxM; r7U84: } public function sort() { goto BBxde; HVuDK: return json(["\x6d\163\147" => "\xe6\216\x92\345\272\217\346\210\220\xe5\212\x9f", "\145\x72\x72\157\162\103\x6f\144\145" => 1]); goto neCWU; KoELu: goto ORxPU; goto eOUiz; eOUiz: STku5: goto HVuDK; j_KVq: $sort = input("\163\157\x72\x74"); goto MNqlP; MNqlP: $id = input("\x69\x64"); goto p4liI; p4liI: $data = ["\x69\x64" => $id, "\163\157\x72\164" => $sort]; goto VNK8P; hSuBC: return json(["\155\163\x67" => "\346\x8e\x92\xe5\xba\217\xe5\xa4\261\350\xb4\xa5", "\145\x72\162\157\162\103\x6f\144\145" => 0]); goto KoELu; FFena: wPzj7: goto Co3s0; nm8Vt: if ($result !== false) { goto STku5; } goto hSuBC; BBxde: if (!request()->isAjax()) { goto wPzj7; } goto j_KVq; VNK8P: $result = CategoryModel::update($data); goto nm8Vt; neCWU: ORxPU: goto FFena; Co3s0: } public function style() { goto pEutZ; Bwf9k: pWj_9: goto xDWDl; mRbX2: bTMjV: goto I7soj; Kbp6z: return json(["\155\163\147" => "\xe6\223\x8d\344\275\x9c\xe6\x88\220\xe5\x8a\x9f", "\x65\162\x72\157\162\x43\157\x64\x65" => 1]); goto RoOfW; D0gdv: return $this->fetch(); goto ZdW1K; I7soj: if (!empty($platform)) { goto pcYu4; } goto yIaPB; yIaPB: $data["\143\141\x74\x65\137\164\x79\160\145"] = $style; goto nSjna; EtODA: qYuYX: goto t1Mci; qIzIw: if ($style) { goto bTMjV; } goto RHzLG; cuFSQ: $result = $platform->save(); goto Bwf9k; q6HtZ: $platform->cate_type = $style; goto cuFSQ; pEutZ: $platform = PlatformSettings::where("\x75\156\x69\x61\143\151\144", $this->uniacid)->field("\x63\141\x74\x65\x5f\x74\171\x70\x65")->find(); goto IG2B9; t1Mci: $this->assign(["\x73\x74\x79\x6c\x65" => $platform["\x63\x61\x74\145\137\x74\171\x70\145"]]); goto D0gdv; RoOfW: aaXDg: goto EtODA; IG2B9: if (!request()->isAjax()) { goto qYuYX; } goto X6uP1; xDWDl: if ($result !== false) { goto hJApP; } goto BYdFg; RHzLG: return json(["\x6d\x73\x67" => "\xe8\xaf\xb7\xe9\200\x89\346\213\xa9\344\xb8\x80\xe4\270\xaa\346\xa0\267\345\xbc\x8f", "\x65\162\x72\157\x72\x43\157\x64\x65" => 0]); goto mRbX2; dkVj0: goto pWj_9; goto fj5TV; X6uP1: $style = input("\x73\x74\171\x6c\x65"); goto qIzIw; BYdFg: return json(["\155\163\x67" => "\346\223\x8d\344\xbd\x9c\xe5\xa4\261\350\264\xa5", "\x65\162\162\157\162\103\x6f\x64\x65" => 0]); goto zCJPr; nSjna: $result = PlatformSettings::create($data); goto dkVj0; fj5TV: pcYu4: goto q6HtZ; zCJPr: goto aaXDg; goto Kvncd; Kvncd: hJApP: goto Kbp6z; ZdW1K: } }