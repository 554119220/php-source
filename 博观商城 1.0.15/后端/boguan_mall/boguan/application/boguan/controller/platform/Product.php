<?php
 namespace app\boguan\controller\platform; use app\boguan\controller\Platform; use app\boguan\model\Category; use app\boguan\model\Product as ProductModel; use think\Request; use app\boguan\model\Freight as FreightModel; use app\boguan\model\AttrGroup as AttrGroupModel; use app\boguan\model\AttrValue as AttrValueModel; use app\boguan\model\Attr as AttrModel; use app\boguan\model\Vip as VipModel; use app\api\service\Wechat as WechatService; use app\boguan\model\Category as CategoryModel; use app\boguan\model\Promise as PromiseModel; use app\boguan\service\Image as ImageService; class Product extends Platform { public $category; public function __construct(Request $request = null) { parent::__construct($request); ProductModel::updateStock(); } public function index() { goto x21qQ; gjFmw: oaUW7: goto im0k7; yFYi8: $where["\163\164\141\x74\x75\x73"] = 1; goto Gn_dW; zAnIu: Wa8ZI: goto bEpRJ; Va_eo: vFwVi: goto BOE7q; im0k7: $wheres["\x63\141\x74\145\137\151\144"] = ["\151\156", $cateChildIds]; goto B2PQh; ZjznS: $wheres["\164\x6f\164\141\x6c\x5f\x73\164\x6f\143\153"] = ["\74\75", 0]; goto YmScg; FREuO: $childIds = getChildCate($cateId); goto VEHGC; Gn_dW: $wheres["\x74\157\164\141\x6c\137\x73\x74\157\x63\x6b"] = ["\76", 0]; goto XeuNs; VEHGC: if ($childIds) { goto vFwVi; } goto IV_42; BPIGR: $setWheres["\x74\x79\160\145"] = $type; goto u4jnB; XeuNs: goto p8mQR; goto qFJnA; k0Zm_: $product = ProductModel::where("\x75\156\x69\x61\x63\x69\x64", session("\x75\156\151\141\x63\151\144"))->where($where)->where($wheres)->order("\151\144", "\x64\145\x73\143")->paginate(8, false, ["\161\x75\x65\162\x79" => array_merge($where, $setWheres)]); goto he0xm; B2PQh: $setWheres["\x63\141\164\x65\137\x69\x64"] = $cateId; goto zAnIu; VyRgS: $category = Category::getCategories(); goto y1_Ur; DnjMF: if ($type == "\x33") { goto PSfRx; } goto yFYi8; IV_42: $cateChildIds = $cateId; goto LkSV9; ukwhE: PSfRx: goto bsPSe; H8XDf: $where = []; goto yu7cE; BOE7q: $cateChildIds = $cateId . "\x2c" . $childIds; goto gjFmw; rQQsA: $setWheres["\156\x61\x6d\x65"] = $name; goto BPIGR; XZNvM: $type = input("\x74\x79\x70\145"); goto H8XDf; bsPSe: $where["\x73\164\141\164\165\x73"] = 0; goto olVOC; bEpRJ: $wheres["\x6e\x61\x6d\x65"] = ["\154\151\153\x65", "\45{$name}\x25"]; goto rQQsA; qFJnA: HlOSm: goto qIh7N; y1_Ur: $this->assign(["\x70\162\x6f\x64\165\x63\x74\163" => $product, "\143\141\164\145\x67\157\x72\x79" => $category, "\160\141\x67\145" => $page]); goto m53Fj; olVOC: p8mQR: goto w1JQF; x21qQ: $cateId = input("\143\141\164\x65\x5f\151\144"); goto Y0xtA; yu7cE: if (!$cateId) { goto Wa8ZI; } goto FREuO; Y0xtA: $name = input("\x6e\x61\x6d\145"); goto XZNvM; qIh7N: $where["\x73\164\x61\x74\165\x73"] = 1; goto ZjznS; YmScg: goto p8mQR; goto ukwhE; w1JQF: $where["\151\163\x5f\x64\145\154\x65\164\x65"] = 0; goto k0Zm_; he0xm: $page = $product->render(); goto VyRgS; u4jnB: if ($type == "\x32") { goto HlOSm; } goto DnjMF; LkSV9: goto oaUW7; goto Va_eo; m53Fj: return $this->fetch(); goto x09ow; x09ow: } public function setVipPrice() { goto NTo8J; llY2l: $product = ProductModel::get($productId); goto xusJV; u62wO: mShE2: goto Mxjjs; drUto: $attrValue[0]["\151\x64"] = "\345\215\225\350\xa7\x84\xe6\240\274"; goto tyj5Z; nxXeH: $productModel = new ProductModel(); goto uDqZM; LWZNF: $attrValue[0]["\160\x72\151\x63\x65"] = $product["\x70\x72\x69\143\145"]; goto wZES1; yUC5O: goto XDXSA; goto rM0Xg; NTo8J: if (!request()->isAjax()) { goto jFS3w; } goto nxXeH; XMqSQ: $attrValue = $productModel->getAttrValueAndVipSetting($productId); goto yUC5O; DT6JG: if ($product["\x69\x73\137\x61\164\164\x72"] == 0) { goto IcDd2; } goto Tv9Ix; rM0Xg: IcDd2: goto drUto; BtS3t: jFS3w: goto GyJ9z; tyj5Z: $attrValue[0]["\x69\155\147"] = $product["\x74\150\x75\x6d\142"]; goto LWZNF; Tv9Ix: $attrGroup = $productModel->getAttrGroup($productId); goto XMqSQ; eWBNF: return json(["\151\x64" => $productId, "\x69\x73\x5f\141\x74\x74\162" => $product["\x69\163\137\x61\164\164\x72"], "\166\x69\160" => $vip, "\x61\x74\164\x72\126\x61\x6c\165\145" => $attrValue, "\x61\164\x74\x72\107\162\x6f\165\x70" => $attrGroup, "\145\x72\162\x6f\162\103\157\144\145" => 1]); goto BtS3t; IemqO: if (!is_array($setting)) { goto U3qhL; } goto Fiyj1; Fiyj1: foreach ($setting as $kk => $vv) { $attrValue[0]["\x6c\x65\x76\145\154\x5f" . $vv["\x76\x69\x70\x5f\151\144"]] = $vv["\166\x69\160\137\160\x72\151\143\145"]; bvZ3o: } goto u62wO; wZES1: $setting = json_decode($product["\x73\x65\x74\x74\x69\x6e\x67"], true); goto IemqO; qMLFG: $vip = VipModel::where("\165\x6e\x69\141\x63\x69\x64", "\x3d", session("\x75\x6e\151\141\x63\151\144"))->field("\x69\x64\x2c\156\x61\x6d\145")->order("\x69\156\164\x65\x67\x72\x61\x6c", "\x61\163\143")->select(); goto llY2l; xusJV: $attrValue = $attrGroup = []; goto DT6JG; uDqZM: $productId = input("\151\x64"); goto qMLFG; Mxjjs: U3qhL: goto aGe6p; aGe6p: XDXSA: goto eWBNF; GyJ9z: } public function saveVipPrice() { goto sM8Gj; GL6ca: $productId = input("\x69\x64"); goto YR1ol; sM8Gj: if (!request()->isAjax()) { goto BuXZw; } goto GL6ca; YR1ol: $data = input("\144\x61\164\x61"); goto z1Nxy; kZa1_: UGN25: goto EdcSH; lG9iN: $product = ProductModel::get($productId); goto ZvJha; z1Nxy: $data = json_decode($data, true); goto lG9iN; ZvJha: if (!is_array($data)) { goto UGN25; } goto uoddy; RHI_h: BuXZw: goto Lph7o; uoddy: foreach ($data as $key => $value) { goto CpQXS; LeP5O: j9yd1: goto JdocY; sOdgg: goto j9yd1; goto o6P06; o6P06: L0D8T: goto gCnb0; sL7Kx: unset($value["\151\144"]); goto b6tm8; pXmqG: if (empty($attrName)) { goto O1xXq; } goto G615G; arXkI: $attrName = explode("\x2d", $value["\x69\144"]); goto pXmqG; X9dII: $attrValueData["\163\x65\x74\x74\151\x6e\x67"] = $this->setVipData($value); goto oYSE9; gCnb0: $product->setting = $this->setVipData($value); goto utv8M; QvanY: lWyaB: goto Iqbl_; qJpy0: unset($value["\x69\155\x67"]); goto si1XG; JdocY: O1xXq: goto TjNnc; si1XG: E2CPD: goto u8qQa; CpQXS: if (!isset($value["\151\x6d\x67"])) { goto E2CPD; } goto qJpy0; ll8ub: $attrValueData["\151\x64"] = $attrValue["\151\144"]; goto X9dII; G615G: $attrIds = []; goto cxFfh; M9HTX: D3ZxX: goto arXkI; u8qQa: if (!isset($value["\160\x72\x69\x63\145"])) { goto D3ZxX; } goto YRpuB; oYSE9: AttrValueModel::update($attrValueData); goto sOdgg; cxFfh: foreach ($attrName as $k => $v) { goto fe46n; XXjIy: EUzYA: goto A4CfE; fe46n: $attr = AttrModel::where(["\160\x72\157\144\x75\x63\x74\137\x69\x64" => $productId, "\x61\164\x74\162\137\x6e\141\x6d\x65" => $v])->find(); goto pmAsT; pmAsT: $attrIds[] = $attr["\x69\x64"]; goto XXjIy; A4CfE: } goto QvanY; utv8M: $product->save(); goto LeP5O; Iqbl_: $keys = implode("\x2c", $attrIds); goto sL7Kx; YRpuB: unset($value["\160\162\151\143\145"]); goto M9HTX; TjNnc: zLx6T: goto AWJEl; oCzP1: $attrValue = AttrValueModel::where(["\160\x72\x6f\144\165\x63\x74\137\151\144" => $productId, "\153\x65\171" => $keys])->find(); goto ll8ub; b6tm8: if ($product["\151\x73\137\x61\x74\x74\x72"] == "\60") { goto L0D8T; } goto oCzP1; AWJEl: } goto GNnff; GNnff: uJFXk: goto kZa1_; EdcSH: return json(["\x6d\163\x67" => "\xe6\x93\x8d\344\275\x9c\xe6\x88\x90\345\x8a\237", "\x65\162\162\157\162\103\157\144\145" => 1]); goto RHI_h; Lph7o: } public function setVipData($data) { goto PlP7s; m7NWq: $i = 0; goto dNBvd; y8Xrq: return $vipArr; goto B_wng; vP1XT: $vipArr = json_encode($vipData, JSON_UNESCAPED_UNICODE); goto y8Xrq; PlP7s: $vipData = []; goto m7NWq; dNBvd: foreach ($data as $key => $value) { goto RmJUN; Tt6PB: $vipData[$i]["\x76\x69\x70\x5f\x70\162\151\x63\x65"] = $value; goto V46Fb; rUAEA: Kjr1x: goto NoMa_; mPPDg: $vipData[$i]["\166\151\160\137\x69\x64"] = $vip[1]; goto Tt6PB; RmJUN: $vip = explode("\137", $key); goto mPPDg; V46Fb: $i++; goto rUAEA; NoMa_: } goto RMzWl; RMzWl: kfR0S: goto vP1XT; B_wng: } public function add() { goto lCxew; TDhiU: Ldioh: goto PgIR2; wyqhe: if (empty($image)) { goto enUGI; } goto g_Hqt; cY40M: eQt58: goto t8JJF; J20eF: $data["\155\157\162\145"] = 0; goto n8wyR; A5Q5d: DdLgc: goto eHH0U; qS61v: $data["\x70\162\x69\x63\145"] = min($price); goto Zkbkw; E09mM: return json(["\x6d\163\147" => $validate->getError(), "\145\x72\x72\x6f\162\x43\x6f\144\x65" => 0]); goto A5Q5d; RR0tW: rx1IX: goto L3hBW; wdkSX: $data["\160\162\x6f\x6d\151\x73\145"] = implode("\x2c", $data["\160\162\x6f\155\151\163\145"]); goto OFyHF; kX2AU: goto xZeSp; goto cY40M; sxfO3: if (empty($attrGroupArr)) { goto eQt58; } goto rNlL2; t2LbS: if (!request()->isAjax()) { goto wLgF7; } goto cUyk3; jefF1: $data["\163\x65\x6e\x64\x5f\x74\x79\x70\145"] = json_encode([1, 2, 3], true); goto Xay2K; M25u8: if (!(!isset($data["\146\x6f\162\145\150\145\141\144"]) || $data["\146\x6f\x72\x65\150\145\x61\144"] == '')) { goto rx1IX; } goto I_FBM; eHH0U: $res = $this->checkProduct($data, $image, $attrGroupArr, $attrValueArr); goto wdTNI; wdTNI: if (!($res["\145\x72\x72\157\x72\103\x6f\x64\145"] != 1)) { goto UbKqj; } goto NdBdw; cKEOw: foreach ($attrValueArr as $key => $value) { $price[] = $value["\160\x72\x69\x63\145"]; YMOii: } goto XukAG; Xay2K: goto VDYiM; goto U92_b; H1RH7: VDYiM: goto sxfO3; GAuAg: xZeSp: goto nnk3E; Ucern: return json(["\155\163\x67" => "\346\xb7\xbb\345\212\xa0\345\244\xb1\350\264\245", "\x65\162\162\157\162\x43\x6f\x64\145" => 0]); goto M9qPY; e25jx: $image = input("\151\155\141\147\x65\x2f\141"); goto bhicC; vWG3J: goto yEq3e; goto C3cQc; GjcCS: $productModel = new ProductModel(); goto nOjKm; I_FBM: $data["\x66\x6f\162\145\150\x65\141\144"] = 0; goto RR0tW; UDsv0: unset($data["\145\144\151\x74\157\x72\x56\x61\154\165\145"]); goto GjcCS; yPtTt: $categories = CategoryModel::getCategories(); goto N4hDK; nnk3E: if (!($data["\167\145\151\x67\150\164\137\147\x72\157\x75\x70"] == "\61")) { goto Ldioh; } goto imaPJ; Zkbkw: $data["\x69\x73\x5f\141\164\x74\162"] = 1; goto kX2AU; NdBdw: return json(["\155\x73\147" => $res["\155\163\x67"], "\x65\162\x72\x6f\162\x43\x6f\x64\145" => 0]); goto I6Pu5; cUyk3: $data = input("\144\141\164\x61\57\141"); goto e25jx; k38tK: $data["\151\x6d\141\147\145"] = json_encode($image, true); goto wyqhe; bOkDu: return json(["\155\x73\147" => "\350\257\xb7\351\200\x89\xe6\213\xa9\345\x95\206\345\x93\x81\xe5\x88\206\347\261\273", "\145\162\162\157\x72\x43\x6f\144\x65" => 0]); goto pG6JB; PKzJE: $videoList = json_encode($this->videoList()); goto yPtTt; UqRa0: $attrValueArr = input("\x61\164\x74\x72\126\141\x6c\x75\x65\57\141"); goto v2eYy; bgSLQ: if ($productId) { goto JJ2BN; } goto Ucern; A11H9: yEq3e: goto J9QQE; wlJvW: return json(["\155\x73\147" => "\xe6\xb7\xbb\xe5\x8a\xa0\346\x88\x90\345\212\237", "\165\162\154" => url("\x62\x6f\147\x75\x61\156\x2f\160\x6c\x61\164\146\157\x72\x6d\56\160\162\157\x64\x75\143\x74\57\151\x6e\144\x65\170"), "\x65\162\x72\157\x72\x43\x6f\x64\145" => 1]); goto tOtno; XukAG: Q2iJX: goto qS61v; zshV2: $validate = \think\Loader::validate("\120\162\x6f\x64\165\143\164"); goto d05TS; W6jUt: $data["\163\145\156\x64\137\164\171\x70\145"] = json_encode($data["\x73\x65\156\x64\x5f\164\x79\160\145"], true); goto jAeBd; J9QQE: if (!(!isset($data["\155\x6f\x72\x65"]) || $data["\x6d\x6f\162\x65"] == '')) { goto bRJMF; } goto J20eF; d05TS: if ($validate->scene("\x61\144\144")->check($data)) { goto DdLgc; } goto E09mM; N4hDK: $freight = FreightModel::where(["\x75\x6e\x69\x61\x63\x69\144" => session("\165\156\x69\141\143\151\144")])->order("\143\x72\x65\141\x74\145\137\x74\151\x6d\145", "\144\x65\163\x63")->select(); goto GqfQP; RFL5c: $data["\165\156\x69\146\171\x5f\145\x78\x70\x72\145\x73\x73"] = ''; goto vWG3J; IybcN: enUGI: goto JIV8J; UcbUs: $data["\x69\156\164\145\x67\162\141\154"] = json_encode($integral, true); goto k38tK; BZgZ1: $data["\143\x72\x65\x61\164\145\137\x74\x69\155\x65"] = time(); goto sXOP_; g_Hqt: foreach ($image as $key => $value) { goto RJX8m; i4DuN: xyO_E: goto uavvX; xyn5j: $data["\164\150\165\155\x62"] = $thumb; goto qWpaV; xAWqw: goto m6qab; goto efxPg; gz_vS: goto FBubA; goto ztOpM; igqni: unlink($productThumb); goto cEUJq; F12zE: $thumb = ImageService::resizeImage($value); goto YYsUK; XdUQZ: $data["\164\150\165\155\x62"] = $value; goto xAWqw; efxPg: vG2me: goto xyn5j; SN06w: $productDetail = ProductModel::field("\151\144\x2c\x74\150\x75\x6d\x62")->find($data["\151\x64"]); goto F12zE; qWpaV: $productThumb = str_replace(WE7_PATH, '', $productDetail["\164\x68\165\155\142"]); goto bQfpS; bQfpS: if (!file_exists($productThumb)) { goto RwOdZ; } goto igqni; YYsUK: if ($thumb) { goto vG2me; } goto XdUQZ; RJX8m: if (!($key == 0)) { goto TuXTq; } goto SN06w; ztOpM: TuXTq: goto i4DuN; svO1e: m6qab: goto gz_vS; cEUJq: RwOdZ: goto svO1e; uavvX: } goto EUFkr; sIRjL: wLgF7: goto m6eWe; tfU8H: JJ2BN: goto kaWgg; nOjKm: $productId = $productModel->insertGetId($data); goto bgSLQ; rNlL2: $price = []; goto cKEOw; JIV8J: if (empty($data["\160\162\x6f\x6d\x69\163\145"])) { goto lu2Vt; } goto wdkSX; C3cQc: Y4LjO: goto yz4Cm; U92_b: Xsek0: goto W6jUt; n8wyR: bRJMF: goto M25u8; PgIR2: if ($data["\x69\x73\137\x75\x6e\151\146\x79"] == "\x31") { goto Y4LjO; } goto RFL5c; wfOBG: unset($data["\x6d\x6f\162\x65"]); goto UDsv0; tBgBD: $data["\165\156\151\141\x63\151\144"] = session("\x75\156\x69\141\143\x69\144"); goto BZgZ1; whUeN: unset($data["\146\x6f\162\145\x68\145\141\x64"]); goto wfOBG; EtED3: return $this->fetch(); goto njCxb; yz4Cm: $data["\x66\162\x65\x69\x67\x68\x74\x5f\151\x64"] = ''; goto A11H9; kaWgg: $productModel->addAttr($productId, $attrGroupArr, $attrValueArr); goto wlJvW; bhicC: $attrGroupArr = input("\x61\164\x74\162\x47\162\157\x75\x70\57\x61"); goto UqRa0; L3hBW: $integral = ["\x66\157\162\x65\x68\145\141\144" => $data["\x66\x6f\x72\145\150\145\141\144"], "\155\x6f\162\x65" => $data["\x6d\157\x72\x65"]]; goto UcbUs; imaPJ: $data["\167\x65\x69\x67\150\164\x5f\x6e\165\155"] = ''; goto TDhiU; tOtno: am3Ik: goto sIRjL; lCxew: $imageList = json_encode($this->imageList()); goto PKzJE; OFyHF: lu2Vt: goto nUya3; t8JJF: $data["\151\x73\137\141\x74\164\162"] = 0; goto GAuAg; m6eWe: $this->assign(["\x69\x6d\x61\x67\145\114\x69\163\164" => $imageList, "\166\151\x64\x65\x6f\114\x69\x73\x74" => $videoList, "\x66\x72\x65\151\x67\150\164" => $freight, "\x63\x61\164\x65\x67\x6f\162\151\145\163" => $categories, "\x70\x72\x6f\155\x69\x73\x65" => $promise]); goto EtED3; EUFkr: FBubA: goto IybcN; sXOP_: unset($data["\160\162\x6f\144\165\143\164\x5f\164\171\x70\145"]); goto whUeN; nUya3: $data["\143\157\156\164\x65\156\x74"] = $data["\145\x64\151\x74\157\162\126\x61\154\x75\x65"]; goto tBgBD; GRgTU: if ($data["\x70\162\157\x64\x75\x63\164\137\164\171\x70\145"] == "\61") { goto Xsek0; } goto jefF1; I6Pu5: UbKqj: goto GRgTU; GqfQP: $promise = PromiseModel::where(["\165\156\151\141\143\x69\x64" => session("\165\156\151\141\143\151\x64")])->order("\143\x72\145\141\164\x65\x5f\x74\x69\x6d\145", "\x64\x65\x73\143")->select(); goto t2LbS; pG6JB: lFt8d: goto zshV2; jAeBd: $data["\x73\145\156\144\x5f\164\171\x70\145"] = str_replace("\42", '', $data["\163\145\x6e\x64\x5f\x74\171\160\x65"]); goto H1RH7; M9qPY: goto am3Ik; goto tfU8H; v2eYy: if (!($data["\x63\141\x74\x65\137\x69\144"] == "\55\61")) { goto lFt8d; } goto bOkDu; njCxb: } public function edit() { goto bW6_T; fMYyw: $data["\x66\x72\x65\151\x67\x68\x74\x5f\151\144"] = ''; goto jb9cH; rcyS6: $data["\151\x73\x5f\x6c\151\155\x69\x74"] = 0; goto dV7F9; AuBa3: $imageList = json_encode($this->imageList(), true); goto BafTv; loRr9: if (!request()->isAjax()) { goto PXo5t; } goto T2erU; Xhteo: M2_LV: goto sI174; UpSGC: $data["\165\x6e\x69\146\171\137\145\170\x70\162\145\163\163"] = ''; goto zbEWR; bIrhu: unset($data["\160\162\157\x64\165\143\164\137\x74\171\x70\x65"]); goto n7E7q; ZKWvY: if ($data["\160\x72\157\x64\x75\143\164\x5f\x74\x79\x70\x65"] == "\x31") { goto YQL69; } goto jwkf4; v3dQx: R7l9a: goto Qn7dQ; AiLeM: Rz92a: goto eYTuK; DoN2h: goto OGnW5; goto Exc70; wJZ4e: $data["\x70\162\157\x6d\151\163\145"] = implode("\x2c", $data["\x70\x72\157\x6d\151\x73\145"]); goto VIxPK; vOuPP: $attrGroupArr = json_encode($attrGroupArr, JSON_UNESCAPED_UNICODE); goto XHJQc; i11pA: zHmLb: goto D2jgS; bW6_T: $productId = input("\151\144"); goto xsYU9; CqEsb: $data["\x69\x6e\164\x65\147\x72\x61\x6c"] = json_encode($integral, true); goto ZbS0s; PqGxa: $data["\x66\157\162\145\150\x65\141\144"] = 0; goto zgfLm; jb9cH: YXEtF: goto ggSMm; T2erU: $data = input("\x64\141\x74\141\x2f\x61"); goto KkuCK; OjdBi: $attrValueArr = json_encode($attrValueArr, JSON_UNESCAPED_UNICODE); goto loRr9; IHbcP: return json(["\155\x73\147" => "\xe4\xbf\256\xe6\224\271\xe6\x88\220\xe5\212\x9f", "\x75\162\x6c" => url("\142\157\x67\165\141\x6e\57\160\x6c\x61\x74\146\157\162\x6d\x2e\x70\162\x6f\144\x75\x63\x74\x2f\151\156\x64\145\x78"), "\145\162\162\157\162\103\x6f\x64\x65" => 1]); goto AiLeM; mkqIT: OGnW5: goto Un9aC; FDMvR: $data["\x69\163\x5f\141\x74\164\162"] = 1; goto tWzi4; hRTaM: TYnq7: goto WF_k1; MsOqb: if (!($data["\x63\141\164\145\x5f\x69\x64"] == "\x2d\x31")) { goto MzD7n; } goto YqevH; o4qux: $attrGroupArr = $productModel->getAttrGroup($productId); goto vOuPP; u2I2s: if ($result) { goto FaPtR; } goto orehy; jwkf4: $data["\163\145\x6e\144\x5f\x74\x79\x70\145"] = json_encode([1, 2, 3], true); goto DoN2h; XHJQc: $attrValueArr = $productModel->getAttrValue($productId); goto OjdBi; dRiAY: foreach ($attrValueArr as $key => $value) { $price[] = $value["\x70\x72\x69\143\145"]; YBBDt: } goto T4j4_; HoPzm: $data["\165\x6e\x69\141\143\x69\x64"] = session("\165\x6e\x69\x61\x63\151\144"); goto uJCEZ; XrKNw: EeJi3: goto JKa2n; ZbS0s: $data["\151\155\x61\x67\145"] = json_encode($image, true); goto b2dN8; sI174: if (!(!isset($data["\x6d\x6f\x72\145"]) || $data["\x6d\x6f\x72\145"] == '')) { goto EeJi3; } goto Dc69a; u8Ize: $freight = FreightModel::where(["\x75\x6e\x69\141\x63\x69\x64" => $this->uniacid])->select(); goto iy9sT; JRkw_: oUGps: goto ifuYA; C9tR1: foreach ($image as $key => $value) { goto zQ1wi; FbkPG: iRqB9: goto XF2JG; wOc4R: N5l4n: goto kuslv; XF2JG: $data["\164\150\165\x6d\142"] = $thumb; goto HvdP0; nhHWj: goto mVXcc; goto jcdQp; JScc1: $data["\x74\150\165\x6d\x62"] = $value; goto W7U6c; W7U6c: goto YepMb; goto FbkPG; YQq5q: if (!file_exists($productThumb)) { goto dsQdJ; } goto EAgj4; mHWF0: if ($thumb) { goto iRqB9; } goto JScc1; Jykov: $thumb = ImageService::resizeImage($value); goto mHWF0; jcdQp: cMPVu: goto wOc4R; zQ1wi: if (!($key == 0)) { goto cMPVu; } goto tmJbd; ATo2_: YepMb: goto nhHWj; yYAYN: dsQdJ: goto ATo2_; HvdP0: $productThumb = str_replace(WE7_PATH, '', $productDetail["\164\x68\x75\155\142"]); goto YQq5q; EAgj4: unlink($productThumb); goto yYAYN; tmJbd: $productDetail = ProductModel::field("\151\x64\54\x74\x68\165\155\x62")->find($data["\x69\144"]); goto Jykov; kuslv: } goto wG_5L; r81Wo: MzD7n: goto PT3J4; iy9sT: $productFreight = FreightModel::get($product["\x66\162\145\151\x67\x68\x74\137\x69\x64"]); goto l2vAi; Vb0HH: $data["\x73\145\x6e\144\137\164\x79\x70\145"] = json_encode($data["\x73\145\x6e\x64\x5f\164\x79\160\x65"], true); goto w2NLI; WF_k1: $res = $this->checkProduct($data, $image, $attrGroupArr, $attrValueArr); goto GrHPU; n7E7q: unset($data["\146\x6f\x72\x65\150\x65\x61\144"]); goto V2_7X; GrHPU: if (!($res["\145\x72\x72\x6f\x72\x43\157\x64\x65"] != 1)) { goto N3r7b; } goto cyhnA; wG_5L: mVXcc: goto i11pA; PDKLb: $data["\x77\x65\x69\147\x68\x74\137\x6e\165\x6d"] = ''; goto JRkw_; D2jgS: if (empty($data["\x70\x72\157\x6d\151\x73\145"])) { goto Nv9ff; } goto wJZ4e; cyhnA: return json(["\155\x73\x67" => $res["\155\163\x67"], "\x65\162\x72\157\x72\103\x6f\144\145" => 0]); goto UMmoE; FbUSG: $productModel = new ProductModel(); goto o4qux; w2NLI: $data["\x73\145\156\x64\137\164\171\x70\145"] = str_replace("\x22", '', $data["\163\x65\156\x64\x5f\x74\171\160\145"]); goto mkqIT; xsYU9: $product = ProductModel::get($productId); goto mAtr5; eYTuK: PXo5t: goto iaW1F; iig7t: $result = ProductModel::update($data); goto u2I2s; Dc69a: $data["\x6d\x6f\x72\x65"] = 0; goto XrKNw; ggSMm: if (isset($data["\151\163\x5f\154\151\155\x69\x74"])) { goto M2_LV; } goto rcyS6; l2vAi: $promise = PromiseModel::where(["\165\156\x69\141\143\x69\144" => session("\165\x6e\151\x61\143\151\144")])->order("\143\x72\x65\141\x74\x65\x5f\164\x69\155\x65", "\144\x65\x73\143")->select(); goto FbUSG; Exc70: YQL69: goto Vb0HH; BafTv: $videoList = json_encode($this->videoList(), true); goto u8Ize; tWzi4: goto R7l9a; goto Oo8_B; hWwz8: ZvpWW: goto IHbcP; wFEeg: return $this->fetch(); goto aX3ln; UMmoE: N3r7b: goto ZKWvY; T2BQ5: unset($data["\145\144\151\164\157\x72\x56\141\154\165\145"]); goto iig7t; orehy: return json(["\155\x73\x67" => "\344\277\256\xe6\x94\xb9\xe5\244\xb1\xe8\264\245", "\x65\162\162\157\x72\103\157\x64\x65" => 0]); goto IRbBd; zbEWR: goto YXEtF; goto a19fc; ifuYA: if ($data["\x69\x73\x5f\165\x6e\151\x66\171"] == "\61") { goto GzMcy; } goto UpSGC; iaW1F: $this->assign(["\x69\x6d\x61\147\x65\114\151\163\164" => $imageList, "\166\151\x64\x65\x6f\x4c\x69\163\164" => $videoList, "\143\x61\164\145\x67\x6f\x72\x69\x65\163" => $categories, "\160\162\x6f\144\x75\143\164" => $product, "\160\x72\157\x6d\x69\163\x65" => $promise, "\x66\x72\x65\151\x67\x68\164" => $freight, "\160\x72\x6f\144\x75\x63\x74\x46\x72\x65\x69\x67\x68\x74" => $productFreight, "\x61\164\x74\162\x47\162\157\165\x70\101\162\162" => $attrGroupArr, "\141\164\164\x72\x56\141\x6c\165\x65\101\x72\x72" => $attrValueArr]); goto wFEeg; Qn7dQ: if (!($data["\167\x65\151\147\150\164\x5f\x67\162\x6f\165\160"] == "\x31")) { goto oUGps; } goto PDKLb; LLzC1: FaPtR: goto Hhjja; oAIYG: $attrValueArr = input("\x61\x74\164\162\126\141\x6c\165\x65\57\x61"); goto MsOqb; FfeY3: $integral = ["\146\x6f\162\x65\150\145\x61\144" => $data["\146\157\162\145\x68\145\x61\x64"], "\x6d\157\x72\x65" => $data["\155\x6f\162\145"]]; goto CqEsb; U5AB5: return json(["\x6d\x73\147" => $validate->getError(), "\x65\x72\162\157\162\x43\x6f\x64\x65" => 0]); goto hRTaM; IRbBd: goto Rz92a; goto LLzC1; uJCEZ: $data["\143\x72\145\x61\164\145\137\x74\x69\155\x65"] = time(); goto bIrhu; V2_7X: unset($data["\155\x6f\162\x65"]); goto T2BQ5; Oo8_B: CX85v: goto atfcG; FPh9A: $productModel->editAttr($data["\151\144"], $attrGroupArr, $attrValueArr); goto hWwz8; JKa2n: if (!(!isset($data["\x66\157\x72\145\150\145\141\x64"]) || $data["\146\157\x72\145\150\145\141\x64"] == '')) { goto kuNgJ; } goto PqGxa; jAEeM: $price = []; goto dRiAY; PT3J4: $validate = \think\Loader::validate("\x50\162\x6f\x64\165\x63\x74"); goto wKZCx; T4j4_: SeW4q: goto sEJoZ; YqevH: return json(["\155\x73\147" => "\xe8\257\267\xe9\200\211\346\x8b\251\xe5\225\x86\xe5\223\201\345\210\206\347\xb1\xbb", "\x65\162\x72\157\162\x43\157\x64\x65" => 0]); goto r81Wo; KkuCK: $image = input("\151\155\x61\147\x65\x2f\x61"); goto ZTphx; sEJoZ: $data["\x70\x72\151\143\145"] = min($price); goto FDMvR; atfcG: $data["\151\163\137\x61\164\x74\x72"] = 0; goto v3dQx; Un9aC: if (empty($attrGroupArr)) { goto CX85v; } goto jAEeM; zgfLm: kuNgJ: goto FfeY3; b2dN8: if (empty($image)) { goto zHmLb; } goto C9tR1; mAtr5: $categories = CategoryModel::getCategories(); goto AuBa3; Hhjja: if (!($data["\x69\x73\x5f\x61\x74\x74\162"] == 1)) { goto ZvpWW; } goto FPh9A; VIxPK: Nv9ff: goto qL3cp; wKZCx: if ($validate->scene("\x61\144\144")->check($data)) { goto TYnq7; } goto U5AB5; ZTphx: $attrGroupArr = input("\141\x74\164\162\107\162\x6f\165\160\57\141"); goto oAIYG; a19fc: GzMcy: goto fMYyw; qL3cp: $data["\x63\x6f\x6e\164\145\x6e\x74"] = $data["\145\144\x69\x74\157\x72\126\141\x6c\165\x65"]; goto HoPzm; dV7F9: $data["\154\151\x6d\x69\164\137\156\165\155"] = 0; goto Xhteo; aX3ln: } private function checkProduct($data, $image, $attrGroupArr, $attrValueArr) { goto Dp9El; NauLa: dAwQz: goto fDYPG; uMqh0: if (!empty($attrValueArr)) { goto Nzdtm; } goto aZk_w; drqJX: OL91N: goto amDCr; ck1Vd: goto GaghJ; goto CAHtn; DRPro: if (!(!isset($data["\x73\x65\156\144\x5f\164\x79\160\x65"]) || empty($data["\163\145\x6e\144\x5f\164\171\x70\x65"]))) { goto OL91N; } goto lxm2x; QaKl8: foreach ($attrValueArr as $key => $value) { goto vVmWE; vVmWE: if (!($value["\167\x65\151\x67\150\x74"] == '' || $value["\x77\x65\x69\x67\150\164"] <= 0)) { goto sx8Kx; } goto Nipuo; UvEfp: osGQr: goto Sqvq2; IiN2w: sx8Kx: goto UvEfp; Nipuo: return ["\155\163\147" => "\xe8\257\xb7\350\xbe\223\345\205\xa5\346\211\200\xe6\234\211\345\x95\206\345\x93\201\xe8\xa7\x84\xe6\xa0\xbc\xe7\x9a\204\347\273\237\344\270\200\351\x87\215\351\x87\x8f", "\145\162\162\157\x72\103\157\144\145" => 0]; goto IiN2w; Sqvq2: } goto bxcq0; amDCr: El7qQ: goto Mqof3; OioTO: foreach ($attrValueArr as $key => $value) { goto mY2tQ; AuLkk: SeWcZ: goto e14Ay; p6ji_: return ["\x6d\163\x67" => "\350\257\xb7\350\276\x93\345\x85\xa5\357\xbc\x88{$value["\x69\x64"]}\xef\xbc\211\xe8\247\204\346\240\xbc\xe4\270\x8b\xe7\232\204\xe5\272\223\345\255\x98", "\145\162\162\x6f\x72\x43\157\x64\145" => 0]; goto TlmEy; MjFMT: if ($value["\163\164\157\143\x6b"] == '' || $value["\163\x74\x6f\x63\153"] < 0) { goto XaJwl; } goto us0zT; mY2tQ: if ($value["\160\x72\151\143\x65"] == '' || $value["\160\x72\x69\x63\x65"] <= 0) { goto SeWcZ; } goto MjFMT; PZh34: bGyk3: goto vcpJw; Slo1W: XaJwl: goto p6ji_; arfaL: goto XHWR8; goto Slo1W; e14Ay: return ["\155\163\x67" => "\350\xaf\267\350\xbe\223\345\205\xa5\357\xbc\x88{$value["\151\144"]}\xef\274\x89\350\247\x84\346\240\274\xe4\270\x8b\347\x9a\204\xe4\xbb\xb7\346\240\274", "\x65\x72\x72\x6f\x72\103\x6f\144\x65" => 0]; goto arfaL; us0zT: goto XHWR8; goto AuLkk; TlmEy: XHWR8: goto PZh34; vcpJw: } goto Z0s0N; DHDL6: dS3X8: goto ghp6X; QaTV6: NPKL7: goto Ox9bC; ghp6X: foreach ($attrValueArr as $key => $value) { goto hDywX; FqST5: ISILj: goto GrvDh; SA1RG: ceQDn: goto FqST5; hDywX: if (!($value["\x77\145\151\x67\x68\164"] == '' || $value["\167\145\151\x67\x68\164"] <= 0)) { goto ceQDn; } goto VQDhc; VQDhc: return ["\155\x73\x67" => "\xe8\xaf\267\xe8\xbe\x93\xe5\x85\xa5\xef\274\210{$value["\151\144"]}\xef\xbc\x89\xe8\247\204\xe6\xa0\274\344\xb8\x8b\347\x9a\x84\xe9\x87\x8d\351\x87\x8f", "\145\x72\x72\157\162\x43\157\x64\145" => 0]; goto SA1RG; GrvDh: } goto LW0Gw; zKbUm: vQlm6: goto KYFLx; CAHtn: Nq2B6: goto Z1SbN; ZWdsj: return ["\155\x73\x67" => "\xe8\257\xb7\xe8\xbe\223\xe5\x85\245\xe5\x95\x86\xe5\223\201\xe5\x8e\x9f\344\273\xb7", "\145\162\x72\x6f\162\103\157\x64\x65" => 0]; goto NiOaS; Z1SbN: if (!($data["\x75\x6e\151\146\171\137\145\170\160\x72\x65\x73\163"] == '')) { goto AXB4f; } goto xLTW8; lxm2x: return ["\155\163\x67" => "\xe8\xaf\267\xe9\200\x89\346\x8b\xa9\xe4\xb8\x80\347\247\x8d\xe9\205\x8d\351\x80\201\xe6\226\xb9\345\274\x8f", "\145\x72\x72\157\x72\103\157\144\x65" => 0]; goto drqJX; Z0s0N: SnfHA: goto qbkKB; QwyAv: GaghJ: goto NauLa; TBCDd: if ($data["\x69\163\137\x75\156\x69\146\171"] == "\61") { goto Nq2B6; } goto mIbMo; x21HC: if (!(!isset($data["\x66\157\x72\x65\150\x65\x61\x64"]) || $data["\146\x6f\x72\145\x68\145\141\144"] <= 0)) { goto fkQHN; } goto gYsQg; kGmlG: goto iRbci; goto DHDL6; mIbMo: if (!($data["\146\162\x65\x69\x67\150\x74\x5f\x69\x64"] == "\60" || $data["\x66\162\x65\x69\x67\150\x74\137\151\x64"] == '')) { goto cWY5u; } goto VZGhG; EYg5I: $freight = FreightModel::get($data["\x66\x72\145\x69\x67\x68\164\x5f\151\x64"]); goto Kc75W; rYzTx: cWY5u: goto OTiyu; rPUPK: iRbci: goto ck1Vd; Kc75W: if (!($freight["\164\x79\x70\x65"] == "\61")) { goto oiQt3; } goto QaKl8; xLTW8: return ["\x6d\x73\147" => "\xe8\xaf\267\xe8\xbe\x93\xe5\205\xa5\347\273\x9f\344\270\x80\350\277\220\350\264\271", "\145\x72\x72\x6f\x72\x43\x6f\144\x65" => 0]; goto nLVOy; i_eNb: return ["\155\163\x67" => "\350\xaf\xb7\xe8\xbe\223\345\205\xa5\xe5\x95\206\xe5\223\x81\345\x8e\x9f\344\273\xb7", "\145\162\162\x6f\x72\103\x6f\144\145" => 0]; goto Bnuas; TJ7M8: if (!(!isset($data["\x6c\151\x6d\151\164\137\x6e\x75\155"]) || $data["\x6c\x69\155\x69\x74\137\156\x75\155"] <= 0)) { goto ALVro; } goto qfqzE; gYsQg: return ["\x6d\163\147" => "\xe8\257\267\350\276\x93\345\205\xa5\346\x8a\xb5\346\x89\xa3\xe9\x87\x91\xe9\xa2\235", "\x65\x72\162\157\x72\103\157\144\x65" => 0]; goto WxoNF; Dp9El: if (!empty($image)) { goto W5Yfj; } goto jS740; t5LnV: tt3qy: goto TZP00; WxoNF: fkQHN: goto zKbUm; ePhy6: ALVro: goto F6Hfb; KYFLx: return ["\x6d\x73\147" => '', "\x65\x72\162\157\162\x43\157\x64\145" => 1]; goto Zw4UP; ZAMBz: goto NPKL7; goto lNQ0n; JLILt: Nzdtm: goto OioTO; VZGhG: return ["\x6d\x73\x67" => "\xe8\257\267\xe5\205\210\346\267\273\345\x8a\240\xe8\277\220\350\xb4\271\346\250\241\xe6\235\277", "\x65\x72\162\x6f\x72\x43\157\x64\145" => 0]; goto rYzTx; OTiyu: if ($data["\x77\145\151\x67\x68\x74\x5f\147\162\157\x75\x70"] == "\61") { goto dS3X8; } goto EYg5I; bxcq0: O9xS7: goto Prmrv; F6Hfb: d1fmq: goto sRNkZ; NiOaS: XKG97: goto wPBz6; Ox9bC: if (!($data["\x70\x72\x6f\144\165\x63\x74\137\164\x79\x70\145"] == "\60")) { goto dAwQz; } goto TBCDd; z9jyW: if (!($data["\x6f\137\160\x72\x69\143\145"] <= 0 || $data["\x6f\137\x70\x72\151\x63\x65"] == '')) { goto XKG97; } goto ZWdsj; qbkKB: if (!($data["\157\137\x70\x72\x69\x63\145"] <= 0 || $data["\x6f\137\160\x72\151\x63\145"] == '')) { goto oyftc; } goto i_eNb; Mqof3: if (!($data["\151\x73\137\154\x69\x6d\x69\164"] == "\61")) { goto d1fmq; } goto TJ7M8; p4Dph: th3Gx: goto z9jyW; LW0Gw: Zxoob: goto rPUPK; HD9u1: if (!($data["\160\162\151\x63\145"] <= 0 || $data["\160\162\x69\143\145"] == '')) { goto th3Gx; } goto IISTj; PjLJ3: W5Yfj: goto m5Nsx; aZk_w: return ["\x6d\x73\147" => "\xe8\257\xb7\350\276\x93\345\205\xa5\350\xa7\x84\346\240\xbc\345\x80\xbc", "\x65\x72\162\x6f\162\103\157\x64\x65" => 0]; goto JLILt; TZP00: $data["\x69\163\x5f\x61\164\164\x72"] = 0; goto QaTV6; nLVOy: AXB4f: goto QwyAv; Prmrv: oiQt3: goto kGmlG; jS740: return ["\x6d\x73\147" => "\xe8\xaf\267\xe6\xb7\273\xe5\212\240\345\225\206\xe5\223\x81\xe4\xb8\273\xe5\233\xbe", "\x65\162\162\157\162\103\x6f\144\x65" => 0]; goto PjLJ3; IISTj: return ["\155\x73\x67" => "\xe8\xaf\267\350\276\223\xe5\x85\245\345\x94\xae\344\xbb\267", "\145\162\162\x6f\x72\x43\157\144\145" => 0]; goto p4Dph; Bnuas: oyftc: goto ZAMBz; wPBz6: if (!($data["\x73\164\157\143\153"] == '' || $data["\x73\x74\x6f\143\153"] < 0)) { goto tt3qy; } goto o2IW6; lNQ0n: VgnOF: goto HD9u1; fDYPG: if (!($data["\160\x72\x6f\144\x75\143\x74\137\164\171\160\x65"] == "\61")) { goto El7qQ; } goto DRPro; sRNkZ: if (!($data["\151\163\x5f\151\x6e\x74\145\x67\162\x61\154"] == "\x31")) { goto vQlm6; } goto x21HC; qfqzE: return ["\155\x73\x67" => "\xe8\257\xb7\350\xbe\x93\xe5\x85\xa5\351\231\220\350\xb4\255\xe4\xbb\266\346\225\260", "\145\162\162\x6f\x72\x43\x6f\x64\145" => 0]; goto ePhy6; o2IW6: return ["\155\x73\x67" => "\350\257\267\xe8\276\223\xe5\205\245\345\272\x93\xe5\xad\x98", "\145\x72\162\157\162\103\x6f\x64\x65" => 0]; goto t5LnV; m5Nsx: if (empty($attrGroupArr)) { goto VgnOF; } goto uMqh0; Zw4UP: } public function sort() { goto XsIqW; PyZCU: $data = ["\x69\144" => $id, "\163\157\162\x74" => $sort]; goto sIFEa; blQcX: $sort = input("\x73\x6f\x72\x74"); goto pcpMM; oF7ER: H3e58: goto zOgQG; pcpMM: $id = input("\151\x64"); goto PyZCU; ah795: XEkv7: goto nEOwf; sIFEa: $result = ProductModel::update($data); goto nH7ZZ; NVI_c: return json(["\x6d\163\147" => "\346\216\x92\345\xba\217\xe5\244\261\350\xb4\245", "\145\x72\x72\157\162\x43\x6f\x64\145" => 0]); goto pOdom; zOgQG: lJDq7: goto S16zU; nH7ZZ: if ($result !== false) { goto XEkv7; } goto NVI_c; nEOwf: return json(["\155\163\147" => "\346\x8e\222\xe5\xba\x8f\346\x88\220\xe5\x8a\x9f", "\145\162\x72\x6f\162\x43\x6f\144\145" => 1]); goto oF7ER; XsIqW: if (!request()->isAjax()) { goto lJDq7; } goto blQcX; pOdom: goto H3e58; goto ah795; S16zU: } public function updateBannerStatus() { goto UBj3n; YsKa2: if (!($data["\x69\144"] == '')) { goto k9s6I; } goto reWUq; UBj3n: if (!request()->isAjax()) { goto uainK; } goto krssA; wnUU6: return json(["\155\163\147" => "\xe4\277\xae\346\224\xb9\xe6\x88\220\345\x8a\237", "\x75\162\x6c" => url(''), "\145\x72\x72\x6f\x72\x43\157\x64\x65" => 1]); goto mnEs1; hI5wR: faTd7: goto wnUU6; IeXC8: uainK: goto wFb7M; Aa6gV: $result = ProductModel::update($data); goto W74i0; k04Yv: return json(["\x6d\x73\147" => "\344\277\xae\xe6\224\271\xe5\xa4\261\xe8\xb4\xa5", "\x65\162\162\157\162\103\157\x64\x65" => 0]); goto kW8Js; m1kfd: k9s6I: goto Aa6gV; W74i0: if ($result !== false) { goto faTd7; } goto k04Yv; reWUq: return json(["\155\x73\147" => "\345\x95\x86\345\x93\x81\344\xb8\215\xe5\255\230\xe5\x9c\250", "\145\x72\x72\157\162\103\157\x64\145" => 0]); goto m1kfd; mnEs1: H27fy: goto IeXC8; krssA: $data = input("\160\157\x73\164\56"); goto YsKa2; kW8Js: goto H27fy; goto hI5wR; wFb7M: } public function del() { goto dmCbf; A5UQT: $productModel->delAttr($id); goto M9boI; lTLgI: $data["\151\x64"] = $id; goto YYR_P; V9Qdc: fu00L: goto lTLgI; ZbK9M: return json(["\x6d\x73\147" => "\345\225\206\345\223\x81\xe4\xb8\x8d\345\255\x98\xe5\x9c\xa8", "\x65\162\162\x6f\x72\103\x6f\x64\145" => 0]); goto V9Qdc; YYR_P: $data["\x69\163\x5f\144\x65\x6c\x65\x74\x65"] = 1; goto b612Y; dmCbf: if (!request()->isAjax()) { goto Je37v; } goto UqC5d; fI3FL: $productModel = new ProductModel(); goto A5UQT; uV3Gl: ZjN1g: goto fI3FL; fqI2U: if (!($id == '' || !$product)) { goto fu00L; } goto ZbK9M; J33m0: goto jLHY6; goto uV3Gl; dCqUJ: $product = ProductModel::get($id); goto fqI2U; b612Y: $result = ProductModel::update($data); goto M13UF; nNNSD: jLHY6: goto MLVjt; UqC5d: $id = input("\151\x64"); goto dCqUJ; MLVjt: Je37v: goto YWcjo; M13UF: if ($result !== false) { goto ZjN1g; } goto LTYfA; M9boI: return json(["\155\163\147" => "\xe5\x88\xa0\351\231\244\xe6\210\220\345\212\237", "\145\x72\162\157\162\103\x6f\144\x65" => 1]); goto nNNSD; LTYfA: return json(["\155\x73\x67" => "\xe5\210\240\351\231\xa4\xe5\244\xb1\350\xb4\245", "\145\x72\162\157\162\x43\x6f\144\145" => 0]); goto J33m0; YWcjo: } public function qrCode() { goto HGJcS; L7DpP: tw7NS: goto VpzR1; WIwhj: $qrCodeUrl = WE7_PATH . $saveRoot . $qrCode; goto bzOWp; gWIlX: $saveRoot = "\160\165\142\x6c\151\143" . DS . "\x73\x74\141\x74\x69\x63" . DS . "\161\162\143\157\x64\x65" . DS . "\163\164\157\162\145\x5f" . session("\165\x6e\x69\141\x63\151\144") . DS; goto zo6pV; zo6pV: $qrCode = WechatService::createQrCode($id, '', "\x70\x72\157\144\165\143\x74"); goto WIwhj; BifKA: $id = input("\x69\x64"); goto gWIlX; bzOWp: return json(["\x75\x72\154" => $qrCodeUrl, "\x65\x72\162\157\x72\x43\157\144\x65" => 1]); goto L7DpP; HGJcS: if (!request()->isAjax()) { goto tw7NS; } goto BifKA; VpzR1: } public function batch() { goto CyRPQ; L3E9k: lhOCG: goto vUw4A; B59Up: goto XZmY0; goto V13Mq; OP0uD: DkXqX: goto yL9fG; uB9yU: $data = input("\160\x6f\163\164\56"); goto sIrXi; U30sS: return json(["\155\x73\x67" => "\350\x87\263\345\260\221\xe9\x80\x89\xe6\213\251\xe4\270\200\351\241\271", "\x65\x72\x72\157\162\103\157\144\x65" => 0]); goto COBDB; V13Mq: J8O_L: goto jTdx6; Zm2hd: return json(["\155\163\147" => "\346\223\215\344\xbd\234\345\xa4\xb1\350\xb4\xa5", "\x65\162\x72\157\162\x43\157\x64\145" => 0]); goto B59Up; sIrXi: if (!(!isset($data["\151\x64\x73"]) || empty($data["\151\144\x73"]))) { goto nchIt; } goto U30sS; yL9fG: if ($result !== false) { goto J8O_L; } goto Zm2hd; CyRPQ: if (!request()->isAjax()) { goto lhOCG; } goto uB9yU; AW141: foreach ($data["\x69\144\163"] as $key => $value) { goto IQIBG; OGmpA: $result = ProductModel::update($post); goto nhYrh; EZSG8: if ($data["\x74\x79\x70\145"] == "\x64\x65\154\x65\164\145") { goto yhhHB; } goto oncUd; nV5ib: H47rj: goto OGmpA; sbIVt: goto H47rj; goto fPpD7; fPpD7: CeGGp: goto gdd0Q; gdd0Q: $post["\163\164\x61\x74\165\163"] = 1; goto nV5ib; umJE2: $post["\x73\164\141\x74\165\163"] = 0; goto vvyaU; nhYrh: MgzrO: goto spwYf; vDGxD: yhhHB: goto XdxHV; XdxHV: $post["\151\163\x5f\x64\x65\154\x65\x74\x65"] = 1; goto sbIVt; IQIBG: $post["\x69\144"] = $value; goto EZSG8; vvyaU: goto H47rj; goto vDGxD; oncUd: if ($data["\x74\x79\160\145"] == "\x6f\x6e") { goto CeGGp; } goto umJE2; spwYf: } goto OP0uD; fIHN3: $result = true; goto AW141; rcq_b: XZmY0: goto L3E9k; COBDB: nchIt: goto fIHN3; jTdx6: return json(["\x6d\x73\147" => "\xe6\x93\215\344\275\x9c\xe6\x88\220\345\x8a\237", "\145\x72\162\x6f\x72\x43\157\x64\145" => 1]); goto rcq_b; vUw4A: } }