<?php
 namespace app\boguan\controller\platform; use app\boguan\controller\Platform; use app\boguan\model\Printer as PrinterModel; use app\boguan\model\Category as CategoryModel; use app\boguan\service\FeiePrinter; class Printer extends Platform { public function index() { goto eBNGh; LsW3I: return $this->fetch(); goto Wi833; e27Z0: $page = $printer->render(); goto kN8PB; EASsC: foreach ($printer as $key => $value) { goto WZ1U0; B_2x1: Drz4p: goto WnwlX; tug9n: kmDfP: goto ZqWC9; WZ1U0: $data = ["\165\x73\x65\x72" => $value["\163\x65\164\x74\151\x6e\x67"]["\x63\x6f\156\x66\151\147"]["\165\x73\x65\162"], "\x75\x6b\145\x79" => $value["\163\x65\164\x74\151\156\x67"]["\x63\x6f\x6e\x66\151\x67"]["\165\x6b\145\171"], "\163\x6e" => $value["\x73\x65\164\164\151\x6e\147"]["\x63\157\156\x66\151\147"]["\x73\x6e"]]; goto L0AQF; L0AQF: $res = json_decode($feieService->getPrinterStatus($data), true); goto ZE9A9; rpRL8: goto Drz4p; goto tug9n; CgUiI: $printer[$key]["\x70\162\151\x6e\164\x65\162\137\x73\164\x61\x74\165\163"] = "\346\234\252\347\x9f\xa5"; goto rpRL8; ZqWC9: $printer[$key]["\160\x72\x69\x6e\164\145\x72\x5f\163\x74\141\164\x75\163"] = $res["\144\x61\164\141"]; goto B_2x1; ZE9A9: if ($res["\x72\x65\164"] == "\x30") { goto kmDfP; } goto CgUiI; WnwlX: StozC: goto lmmk_; lmmk_: } goto aN_jd; kN8PB: $this->assign(["\160\162\151\156\x74\x65\x72" => $printer, "\160\x61\147\x65" => $page]); goto LsW3I; aN_jd: XiK3h: goto e27Z0; xox0M: $printer = PrinterModel::where(["\165\156\151\x61\143\151\x64" => session("\165\156\x69\141\143\x69\x64")])->order("\143\x72\x65\141\x74\145\x5f\164\x69\155\x65", "\144\x65\163\143")->paginate(12, false); goto EASsC; eBNGh: $feieService = new FeiePrinter(); goto xox0M; Wi833: } public function add() { goto H2fx7; NtDxS: $category = CategoryModel::getCategories(); goto erZiG; p1hW5: $setting = json_decode($post["\163\145\164\164\151\156\147"], true); goto SIRmm; H2fx7: $feiePrinter = new FeiePrinter(); goto NtDxS; Ea2rh: return $this->fetch(); goto Q2yAM; ZQ7Aw: PrinterModel::create($post); goto reE2M; ij8Ya: wwX30: goto ZQ7Aw; gG9ms: leGjk: goto HBP_9; reE2M: return json(["\155\163\147" => "\xe6\xb7\273\345\x8a\240\346\x88\x90\345\x8a\237", "\x65\162\162\157\162\103\157\x64\x65" => 1]); goto KigZP; p41UZ: $post["\165\x6e\151\141\x63\x69\144"] = session("\x75\156\151\141\x63\x69\x64"); goto p1hW5; zSkZu: goto vBG2_; goto ij8Ya; jLgJJ: if ($res["\162\x65\164"] == "\60") { goto wwX30; } goto hGxmr; i9UWV: $feieData = ["\x75\163\145\x72" => $config["\x75\163\145\x72"], "\165\153\145\x79" => $config["\165\153\x65\x79"], "\x73\x6e" => $config["\x73\156"], "\x6b\145\171" => $config["\x6b\x65\x79"]]; goto d46_W; erZiG: if (!request()->isAjax()) { goto LcuCm; } goto dDvqo; SIRmm: $config = $setting["\143\157\156\146\x69\147"]; goto i9UWV; gnsHc: $this->assign(["\143\x61\164\x65\147\x6f\x72\171" => $category]); goto Ea2rh; HBP_9: $post = $check["\x64\x61\x74\x61"]; goto p41UZ; KigZP: vBG2_: goto sNXqr; dDvqo: $data = input("\x70\157\163\x74\56\x64\x61\164\x61\57\141"); goto JkFxC; JkFxC: $check = $this->checkPrinter($data); goto vns8e; ezPM_: return json(["\x6d\x73\x67" => $check["\x6d\x73\147"], "\x65\162\x72\157\162\103\x6f\144\x65" => $check["\145\162\162\x6f\x72\103\x6f\x64\x65"]]); goto gG9ms; d46_W: $res = json_decode($feiePrinter->addPrinter($feieData), true); goto jLgJJ; vns8e: if (!($check["\145\x72\x72\x6f\162\103\157\144\x65"] == 0)) { goto leGjk; } goto ezPM_; sNXqr: LcuCm: goto gnsHc; hGxmr: return json(["\x6d\163\x67" => $res["\155\163\147"], "\x65\x72\x72\157\x72\x43\x6f\x64\x65" => 0]); goto zSkZu; Q2yAM: } public function edit() { goto w62Jd; qRynQ: $post["\x75\156\x69\141\143\151\144"] = session("\165\x6e\x69\141\143\151\x64"); goto izbv2; MDphk: gjlHl: goto zQyLz; kI8Or: $config = $setting["\x63\x6f\156\x66\151\x67"]; goto ze1QY; fAWp0: if (!request()->isAjax()) { goto gjlHl; } goto OxI8t; T40dv: PrinterModel::update($post); goto nHXmh; HnqSv: goto nIjW6; goto Ajfao; izbv2: $setting = json_decode($post["\163\x65\x74\x74\x69\156\x67"], true); goto kI8Or; Nw1i4: $res = json_decode($feiePrinter->editPrinter($feieData), true); goto RmjP3; RSnb3: $printer = PrinterModel::get($id); goto Tt4WA; OxI8t: $data = input("\x70\x6f\163\164\56\144\141\164\x61\57\141"); goto EdHaJ; nHXmh: return json(["\155\x73\147" => "\xe4\277\xae\346\224\271\xe6\x88\x90\xe5\212\237", "\x65\162\x72\157\162\103\x6f\x64\145" => 1]); goto jOoaX; jOoaX: nIjW6: goto MDphk; p40kP: if (!($check["\x65\162\162\157\x72\x43\157\144\145"] == 0)) { goto mltst; } goto L1Vf7; EdHaJ: $check = $this->checkPrinter($data); goto p40kP; ze1QY: $feieData = ["\x75\163\x65\x72" => $config["\x75\x73\x65\x72"], "\165\153\x65\171" => $config["\165\x6b\145\171"], "\x73\x6e" => $config["\x73\156"], "\153\x65\x79" => $config["\x6b\145\x79"], "\156\x61\x6d\x65" => $post["\156\x61\x6d\x65"]]; goto Nw1i4; L1Vf7: return json(["\x6d\163\x67" => $check["\155\x73\147"], "\x65\162\162\157\x72\103\157\x64\x65" => $check["\145\x72\x72\157\162\x43\157\144\x65"]]); goto D3GdN; bCRKr: $post = $check["\x64\x61\164\x61"]; goto qRynQ; zQyLz: $this->assign(["\x70\x72\151\156\164\145\x72" => $printer, "\143\x61\x74\x65\147\157\162\171" => $category]); goto ozZUG; w62Jd: $feiePrinter = new FeiePrinter(); goto Pe9Ma; P0CFu: return json(["\x6d\163\x67" => $res["\155\x73\x67"], "\x65\162\x72\157\162\x43\157\144\145" => 0]); goto HnqSv; D3GdN: mltst: goto bCRKr; Ajfao: fcF8m: goto T40dv; ozZUG: return $this->fetch(); goto yT9c9; Tt4WA: $category = CategoryModel::getCategories(); goto fAWp0; Pe9Ma: $id = input("\x69\x64"); goto RSnb3; RmjP3: if ($res["\162\x65\x74"] == "\60") { goto fcF8m; } goto P0CFu; yT9c9: } private function checkPrinter($data) { goto Eozey; O40BW: sNvoS: goto i17Oi; mFj9E: qYJe2: goto fmUwr; p1GJs: $data["\143\x61\164\145\137\x69\144"] = json_encode($data["\x63\141\164\145\137\x69\144"], JSON_UNESCAPED_UNICODE); goto ZbvjE; adlpV: if (!(isset($data["\x65\x78\x70\x72\x65\163\163\137\x70\x61\171"]) && $data["\145\x78\160\162\x65\x73\x73\x5f\x70\141\x79"] == "\x31")) { goto x8zzn; } goto uATtQ; HNAGd: nkMsB: goto X_4Ax; bSO9u: $pick["\x73\164\x61\x74\x75\x73"] = 1; goto x5G8Z; cRj4H: return ["\x6d\x73\x67" => '', "\144\x61\x74\141" => $data, "\x65\162\x72\x6f\x72\x43\x6f\144\145" => 1]; goto WQ8E7; g_HZU: return ["\x6d\163\x67" => "\350\257\267\350\xbe\x93\xe5\205\245\xe7\274\x96\345\x8f\xb7", "\145\162\x72\157\162\103\x6f\144\x65" => 0]; goto mFj9E; z1NBF: if (!isset($data["\145\x78\160\x72\x65\163\x73"])) { goto QEeKM; } goto Rf7KG; UkaC2: nsalY: goto du1WY; UQ2tj: $data["\163\x65\x74\164\151\x6e\x67"]["\x64\x65\154\x69\x76\145\x72\171"] = $delivery; goto R_UFN; YRtRj: unset($data["\153\x65\x79"]); goto asC3y; AvOxn: return ["\155\x73\147" => "\350\257\xb7\350\xbe\223\xe5\205\xa5\345\257\x86\351\222\xa5\xef\274\210\x6b\x65\171\357\274\x89", "\145\162\162\157\162\x43\157\x64\145" => 0]; goto vnguy; WlIbp: unset($data["\x70\151\143\x6b\x5f\160\x61\171"]); goto BFZf4; MyipO: x8zzn: goto HxLfN; fmUwr: if (!($data["\x6b\x65\x79"] == '')) { goto nc5Qt; } goto AvOxn; o1QPI: $data["\163\145\x74\164\x69\x6e\147"]["\143\157\x6e\x66\151\147"] = ["\x75\x73\x65\x72" => $data["\x75\x73\x65\x72"], "\165\153\145\x79" => $data["\x75\153\145\171"], "\163\x6e" => $data["\x73\x6e"], "\x6b\x65\171" => $data["\153\145\171"]]; goto QCpZB; du1WY: if (!(!isset($data["\x63\141\164\145\x5f\x69\x64"]) || $data["\x63\141\164\145\137\151\144"] == '')) { goto aOqjm; } goto UleUZ; X2flC: Jbxqh: goto AwVM9; Usyz6: if (!(isset($data["\x64\x65\x6c\151\x76\x65\162\171\137\x70\141\171"]) && $data["\x64\145\154\151\166\x65\x72\x79\137\160\x61\171"] == "\61")) { goto nkMsB; } goto Z1cXg; Zmltl: $express = ["\163\164\141\x74\x75\x73" => 0, "\x70\x61\171" => 0, "\163\145\156\x64" => 0]; goto cmmZ2; abGIt: unset($data["\160\x69\x63\x6b"]); goto EIDUP; g0Z9c: Di9w7: goto L7WeE; NRGU6: TfgG0: goto ovjyW; TmoOC: return ["\155\163\147" => "\xe8\257\xb7\xe8\276\223\345\205\xa5\x55\x4b\x45\131", "\x65\162\162\x6f\162\x43\x6f\x64\145" => 0]; goto O40BW; pCrRs: return ["\155\163\147" => "\350\257\xb7\350\xbe\223\345\205\xa5\xe5\x90\215\xe7\247\260", "\x65\162\162\157\162\103\x6f\x64\145" => 0]; goto X2flC; L7WeE: $data["\x73\x65\x74\x74\x69\156\x67"]["\x65\x78\160\x72\x65\x73\x73"] = $express; goto UQ2tj; cmmZ2: $delivery = ["\163\x74\x61\164\165\163" => 0, "\160\141\171" => 0, "\x63\157\156\x66\x69\162\x6d" => 0]; goto LaxF1; tUJ89: return ["\x6d\163\x67" => "\350\257\267\xe8\276\x93\xe5\205\xa5\125\x53\105\x52", "\145\162\x72\157\x72\x43\x6f\x64\x65" => 0]; goto Gs5fG; R_UFN: $data["\x73\145\164\x74\x69\x6e\x67"]["\160\x69\x63\153"] = $pick; goto o1QPI; WMCLA: bWMZI: goto g0Z9c; LaxF1: $pick = ["\x73\164\x61\164\x75\163" => 0, "\x70\141\x79" => 0, "\143\154\x65\x72\153" => 0]; goto z1NBF; YYbOs: $express["\163\145\156\x64"] = 1; goto U2Gsh; ZbvjE: $data["\143\x61\x74\145\x5f\151\x64"] = str_replace("\42", '', $data["\143\141\164\145\137\151\144"]); goto tS9bN; jgahf: bhL2z: goto RTUq2; LVofs: QEeKM: goto CBFCs; tS9bN: FxcNv: goto cRj4H; Gs5fG: FmgQc: goto ViEDY; lr011: unset($data["\144\145\154\151\166\x65\x72\171"]); goto NISnT; vnguy: nc5Qt: goto Zmltl; S9906: unset($data["\145\170\x70\162\x65\163\163\x5f\x70\x61\171"]); goto O2OHS; aoYFB: if ($data["\141\x70\160\154\171"] == "\x32") { goto nsalY; } goto hGtUF; QCpZB: unset($data["\x65\170\160\x72\x65\x73\163"]); goto S9906; Va5u9: $delivery["\x73\164\141\x74\x75\163"] = 1; goto Usyz6; P6mMH: if (!isset($data["\x70\151\143\x6b"])) { goto Di9w7; } goto bSO9u; UleUZ: return ["\155\x73\x67" => "\350\257\267\351\x80\211\346\x8b\251\xe5\225\206\345\x93\201\xe5\210\x86\347\xb1\xbb", "\x65\x72\x72\157\x72\x43\157\144\x65" => 0]; goto MPrfR; X_4Ax: if (!(isset($data["\x64\145\154\151\166\145\162\x79\x5f\143\157\156\x66\x69\x72\x6d"]) && $data["\144\145\154\151\x76\x65\x72\x79\137\143\x6f\156\146\151\x72\x6d"] == "\x31")) { goto TfgG0; } goto aLC6q; Cnp53: unset($data["\163\156"]); goto YRtRj; AwVM9: if (!($data["\165\x73\x65\162"] == '')) { goto FmgQc; } goto tUJ89; ViEDY: if (!($data["\165\153\x65\171"] == '')) { goto sNvoS; } goto TmoOC; i17Oi: if (!($data["\163\x6e"] == '')) { goto qYJe2; } goto g_HZU; O2OHS: unset($data["\145\x78\160\x72\145\x73\x73\x5f\163\x65\156\x64"]); goto lr011; MPrfR: aOqjm: goto p1GJs; Rf7KG: $express["\163\x74\x61\x74\165\163"] = 1; goto adlpV; CBFCs: if (!isset($data["\144\145\x6c\151\166\x65\x72\171"])) { goto U6Fd4; } goto Va5u9; BFZf4: unset($data["\165\x73\x65\162"]); goto uJKLs; EIDUP: unset($data["\x70\x69\143\x6b\137\143\154\x65\x72\x6b"]); goto WlIbp; asC3y: $data["\x73\145\164\x74\151\156\147"] = json_encode($data["\x73\145\164\x74\151\156\147"], JSON_UNESCAPED_UNICODE); goto aoYFB; u777A: $pick["\160\x61\x79"] = 1; goto jgahf; ovjyW: U6Fd4: goto P6mMH; U2Gsh: Oyzap: goto LVofs; hGtUF: $data["\x63\141\164\145\x5f\151\x64"] = ''; goto V13Ym; Eozey: if (!($data["\156\x61\155\x65"] == '')) { goto Jbxqh; } goto pCrRs; bmgZq: unset($data["\x64\x65\x6c\x69\x76\x65\x72\171\137\x70\141\171"]); goto abGIt; aLC6q: $delivery["\143\157\x6e\x66\x69\162\155"] = 1; goto NRGU6; V13Ym: goto FxcNv; goto UkaC2; x5G8Z: if (!(isset($data["\160\151\143\x6b\137\160\x61\x79"]) && $data["\160\x69\143\153\x5f\x70\x61\x79"] == "\61")) { goto bhL2z; } goto u777A; NISnT: unset($data["\x64\145\x6c\x69\x76\145\162\x79\x5f\x63\x6f\x6e\x66\151\x72\155"]); goto bmgZq; Z1cXg: $delivery["\x70\x61\x79"] = 1; goto HNAGd; RTUq2: if (!(isset($data["\160\x69\143\x6b\137\x63\x6c\145\x72\x6b"]) && $data["\x70\151\x63\153\137\143\x6c\x65\x72\153"] == "\61")) { goto bWMZI; } goto Fk2_C; Fk2_C: $pick["\x63\x6c\x65\162\x6b"] = 1; goto WMCLA; uJKLs: unset($data["\x75\153\x65\x79"]); goto Cnp53; HxLfN: if (!(isset($data["\x65\170\160\162\x65\163\163\x5f\x73\x65\x6e\x64"]) && $data["\x65\170\160\162\x65\163\x73\x5f\163\x65\156\x64"] == "\x31")) { goto Oyzap; } goto YYbOs; uATtQ: $express["\160\x61\x79"] = 1; goto MyipO; WQ8E7: } public function del() { goto ouEOG; vc6NU: PrinterModel::destroy($id); goto ouvEy; gCOF2: $res = json_decode($feiePrinter->delPrinter($feieData), true); goto L5n35; pUR9Z: xkvEm: goto Lpon7; tCf2y: return json(["\155\x73\147" => $res["\x64\x61\164\141"]["\156\157"][0], "\x65\x72\x72\157\x72\103\x6f\x64\x65" => 0]); goto tJiXU; oW3fK: $printer = PrinterModel::get($id); goto oRGHZ; ouvEy: return json(["\155\x73\147" => "\345\x88\240\xe9\x99\xa4\346\x88\220\345\x8a\237", "\x65\162\x72\157\162\x43\157\144\x65" => 1]); goto bFqHa; ouEOG: if (!request()->isAjax()) { goto koQr5; } goto gxplP; GRNdr: koQr5: goto vxsp9; V27dm: wgjFL: goto vc6NU; pWCIq: return json(["\155\163\147" => "\346\x89\223\xe5\215\260\346\x9c\272\xe4\270\x8d\345\xad\x98\345\234\250", "\x65\162\162\x6f\162\x43\x6f\x64\145" => 0]); goto pUR9Z; oRGHZ: if (!empty($printer)) { goto xkvEm; } goto pWCIq; L5n35: if ($res["\162\145\164"] == 0) { goto wgjFL; } goto tCf2y; gxplP: $feiePrinter = new FeiePrinter(); goto Ldyjs; QYKhu: $config = $setting["\143\157\156\146\151\147"]; goto e2MRF; tJiXU: goto ZxgzF; goto V27dm; bFqHa: ZxgzF: goto GRNdr; Lpon7: $setting = $printer["\x73\x65\x74\x74\151\156\x67"]; goto QYKhu; e2MRF: $feieData = ["\x75\x73\145\162" => $config["\x75\163\145\162"], "\165\x6b\145\171" => $config["\x75\x6b\145\171"], "\163\x6e" => $config["\x73\x6e"]]; goto gCOF2; Ldyjs: $id = input("\151\144"); goto oW3fK; vxsp9: } public function updateStatus() { goto dWEja; IZglB: jWgBt: goto raZHa; eZhSN: if ($result !== false) { goto ZNIhL; } goto j55u1; Xd01U: goto jWgBt; goto h0PPl; KQeQT: tupvM: goto q0wFD; j55u1: return json(["\x6d\x73\x67" => "\344\277\256\xe6\224\271\345\xa4\261\350\xb4\xa5", "\145\162\x72\157\x72\x43\x6f\x64\145" => 0]); goto Xd01U; L2RLr: return json(["\x6d\163\147" => "\344\xbf\256\346\224\271\xe6\210\220\xe5\212\237", "\x75\x72\154" => url(''), "\x65\162\162\157\x72\x43\x6f\x64\x65" => 1]); goto IZglB; h0PPl: ZNIhL: goto L2RLr; dWEja: if (!request()->isAjax()) { goto nVuMu; } goto cwZ0F; w0Geg: return json(["\x6d\163\x67" => "\x69\144\344\270\x8d\xe5\255\230\345\234\xa8", "\x65\x72\x72\157\162\x43\x6f\x64\145" => 0]); goto KQeQT; RA1r7: if (!($data["\x69\x64"] == '')) { goto tupvM; } goto w0Geg; q0wFD: $result = PrinterModel::update($data); goto eZhSN; cwZ0F: $data = input("\x70\x6f\163\x74\x2e"); goto RA1r7; raZHa: nVuMu: goto swRE0; swRE0: } }