<?php
 namespace app\api\service; use app\api\model\PlatformSettings; use app\api\model\Express as ExpressModel; class Express { function __construct() { } public $status_text = array(0 => "\xe6\x9a\202\xe6\x97\240\xe8\xbd\xa8\350\xbf\271\xe4\277\xa1\346\201\xaf", 1 => "\xe6\x9c\252\347\237\245\347\x8a\xb6\346\200\x81", 2 => "\350\xbf\220\xe8\xbe\x93\xe4\270\255", 3 => "\xe5\xb7\xb2\347\xad\276\346\x94\xb6", 4 => "\351\x97\256\351\242\230\344\xbb\266"); public function kdniao($data = array()) { goto qW74z; VaLrf: return ["\x63\x6f\144\x65" => 10006, "\x6d\x73\147" => "\xe8\x8e\xb7\xe5\217\226\347\x89\xa9\xe6\xb5\x81\xe4\277\241\346\201\xaf\345\244\xb1\350\264\xa5\xef\xbc\232" . $res["\x52\145\x61\x73\x6f\156"]]; goto U9INB; ISjuy: $list = []; goto v7E0o; iK3P3: if (!($data["\x64\141\x74\141"]["\163\164\141\164\x75\163"] === null)) { goto lXQWV; } goto zU1Lg; U9INB: rF6RV: goto InO90; Wmk4B: $datas["\104\x61\x74\141\123\151\x67\156"] = $this->encrypt($requestData, $setting["\153\x64\x6e\151\x61\x6f\137\x61\x70\x70\137\x6b\145\171"]); goto eA8u9; aRp54: $data["\x64\141\164\x61"]["\163\x74\x61\164\x75\163\137\164\x65\x78\164"] = "\xe8\216\267\345\x8f\226\xe5\xa4\261\350\xb4\xa5"; goto XckGH; NnIXv: $list = array_reverse($list); goto jQfkz; n9JLl: if (!($res && $res["\123\x75\143\143\x65\x73\163"] == false)) { goto rF6RV; } goto VaLrf; pT8CB: JZz7T: goto n9JLl; C2Ipl: $setting = PlatformSettings::where(["\x75\x6e\151\x61\143\x69\144" => session("\165\156\151\141\143\x69\144")])->order("\x63\162\145\x61\164\145\137\164\x69\155\145", "\x64\145\163\143")->find(); goto qlsGI; JLA90: if ($res) { goto JZz7T; } goto nasEi; NHZL6: lXQWV: goto K8k8Y; K8k8Y: if (!($data["\144\141\x74\x61"]["\163\x74\x61\164\x75\163\137\164\145\x78\164"] === null)) { goto FA2oZ; } goto aRp54; InO90: $status = ["\x30" => 0, "\61" => 1, "\62" => 2, "\x33" => 3, "\x34" => 4]; goto ISjuy; eA8u9: $reqUrl = "\150\x74\x74\x70\72\x2f\x2f\x61\160\151\x2e\153\x64\156\x69\x61\x6f\x2e\x63\157\x6d\57\x45\x62\x75\163\x69\x6e\145\x73\163\57\105\142\x75\163\x69\x6e\x65\163\163\x4f\x72\x64\145\162\x48\141\156\144\x6c\145\56\x61\x73\x70\170"; goto FyZbO; v7E0o: foreach ($res["\124\162\141\143\x65\163"] as $item) { $list[] = ["\144\141\x74\145\164\151\x6d\x65" => $item["\x41\x63\143\x65\160\164\124\151\155\145"], "\x64\x65\x74\x61\151\x6c" => $item["\x41\143\x63\x65\160\164\123\164\141\164\x69\x6f\156"]]; HWMDt: } goto VD6HF; FyZbO: $result = http_post($reqUrl, $datas); goto ZyW_L; jQfkz: $data = ["\143\x6f\x64\145" => 0, "\x64\141\x74\x61" => ["\x73\x74\x61\x74\x75\x73" => $status[$res["\123\x74\141\164\x65"]], "\163\164\x61\164\x75\163\137\x74\x65\x78\164" => $this->status_text[$status[$res["\123\164\141\x74\145"]]], "\154\151\163\164" => $list]]; goto iK3P3; VD6HF: G9rhL: goto NnIXv; YcPND: $requestData = json_encode($requestData, true); goto C2Ipl; ZyW_L: $res = json_decode($result, true); goto JLA90; XckGH: FA2oZ: goto giD3y; nasEi: return ["\x63\x6f\x64\x65" => 10006, "\x6d\x73\x67" => "\350\x8e\267\xe5\x8f\226\347\211\xa9\xe6\xb5\x81\344\xbf\241\346\x81\xaf\xe5\xa4\xb1\xe8\xb4\245\xef\274\232\347\xb3\xbb\347\273\237\xe9\x94\231\xe8\257\xaf"]; goto pT8CB; giD3y: return $data; goto eEUJO; qlsGI: $datas = array("\x45\102\165\163\x69\156\145\163\x73\111\104" => $setting["\x6b\x64\156\x69\x61\x6f\137\155\143\150\x5f\x69\x64"], "\x52\x65\x71\165\145\163\x74\x54\171\x70\x65" => "\x31\60\60\62", "\x52\145\161\x75\145\x73\x74\104\x61\164\x61" => urlencode($requestData), "\x44\141\164\141\124\x79\x70\x65" => "\62"); goto Wmk4B; qW74z: $requestData = ["\x53\x68\x69\160\x70\x65\x72\x43\x6f\x64\145" => $this->getExpressCode($data["\145\x78\160\162\145\163\x73\x4e\x61\155\x65"]), "\114\157\147\151\x73\164\151\x63\x43\x6f\144\145" => $data["\x65\x78\160\162\x65\163\163\116\x75\155\x62\x65\162"]]; goto YcPND; zU1Lg: $data["\144\x61\164\x61"]["\163\x74\141\164\165\x73"] = ''; goto NHZL6; eEUJO: } private function encrypt($data, $appkey) { return urlencode(base64_encode(md5($data . $appkey))); } private function getExpressCode($express, $type = "\x6b\x64\x6e\x69\141\x6f") { goto GgnOL; hPUoz: dMPyC: goto NYIie; eaZK2: jydR2: goto gcLzE; NYIie: $express = ExpressModel::where("\x6e\141\155\x65", "\154\x69\x6b\x65", "\x25{$express}\x25")->find(); goto RSHXq; gcLzE: return ''; goto kuGG9; kuGG9: goto IPNL_; goto UMG3W; do6FX: return $express_name["\x63\x6f\x64\x65"]; goto koYt7; RSHXq: if (!$express) { goto jydR2; } goto HPs4y; UMG3W: SkA0e: goto do6FX; c7crv: foreach ($express_afters as $after) { $express = str_replace($after, '', $express); x2fZ6: } goto hPUoz; koYt7: IPNL_: goto gs9G4; jHOtE: $express_name = ExpressModel::where(["\156\141\155\145" => $express, "\x74\171\160\x65" => $type])->find(); goto LyAuZ; HPs4y: return $express["\143\x6f\x64\145"]; goto eaZK2; GgnOL: $express_afters = ["\345\xbf\xab\xe9\x80\x92", "\xe5\xbf\253\xe8\xbf\x90", "\xe7\211\251\xe6\xb5\201", "\xe9\200\x9f\350\277\x90"]; goto jHOtE; LyAuZ: if ($express_name) { goto SkA0e; } goto c7crv; gs9G4: } }