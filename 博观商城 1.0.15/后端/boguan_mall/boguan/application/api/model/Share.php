<?php
 namespace app\api\model; use app\api\service\Order as OrderService; use app\api\service\Token as TokenService; use app\api\model\ShareSetting; class Share extends BaseModel { public static function checkDistributor() { goto d1Wcy; hDCGO: $user->save(); goto hQzry; WRRJL: $sumAmount = array_sum($amount); goto sq4tw; GmMwo: $order = OrderService::getDealOrderByUser($uid); goto EjhOf; CutX0: $user->is_distributor = 1; goto hDCGO; mzAiu: if (!($share["\144\x69\163\x74\x72\x69\x62\x75\164\x6f\x72\x5f\x63\157\x6e\144\x69\164\151\x6f\x6e"] == 4 && $sumAmount >= $share["\143\x6f\156\144\x69\x74\151\157\156"] && empty($is_cancel))) { goto jxkXN; } goto CutX0; bcaIx: dGOtk: goto ii_zB; Uq2z5: $user = User::get($uid); goto ZKWvI; P4z9u: $is_cancel = self::where(["\165\156\x69\141\x63\x69\144" => session("\x75\156\151\x61\x63\x69\144"), "\x75\x73\145\162\x5f\x69\x64" => $uid])->where("\x73\x74\141\x74\165\x73\40\x3d\40\x32\x20\x6f\162\40\163\164\x61\x74\165\x73\x20\75\x33")->find(); goto hgJhm; VIdW9: foreach ($order as $key => $value) { $amount[] = $value["\141\155\x6f\x75\x6e\x74"]; HbLFe: } goto D2Wdn; ii_zB: YjsEI: goto yGCNR; sFqNa: iV8Ab: goto mzAiu; ZKWvI: if (!($user["\151\163\137\144\x69\163\164\x72\151\142\165\164\x6f\162"] != 1)) { goto YjsEI; } goto xWAuC; D2Wdn: sS5BS: goto WRRJL; i4ab0: $user->save(); goto sFqNa; WuO2f: $user->is_distributor = 1; goto i4ab0; hgJhm: if (!($share["\144\x69\163\164\162\x69\142\x75\164\157\162\137\x63\157\x6e\144\x69\x74\x69\x6f\156"] == 3 && count($order) >= $share["\x63\157\x6e\x64\151\x74\151\157\156"] && empty($is_cancel))) { goto iV8Ab; } goto WuO2f; sq4tw: if (empty($share)) { goto dGOtk; } goto P4z9u; EjhOf: $amount = []; goto VIdW9; xWAuC: $share = ShareSetting::where(["\165\x6e\x69\141\x63\151\x64" => session("\165\x6e\x69\141\x63\151\x64")])->find(); goto GmMwo; hQzry: jxkXN: goto bcaIx; d1Wcy: $uid = TokenService::getCurrentUid(); goto Uq2z5; yGCNR: } }