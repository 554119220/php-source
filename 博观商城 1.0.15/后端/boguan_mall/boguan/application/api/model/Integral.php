<?php
 namespace app\api\model; class Integral extends BaseModel { public static function giveIntegral($data, $type) { goto B0wib; IELK8: $user = User::get($data["\165\x73\x65\x72\x5f\151\144"]); goto a_Hm8; xoql7: return; goto ueLmW; l9lYN: $user->save(); goto ml1hZ; fIUrA: IntegralDetail::setIntegralDetail($integralDetail); goto TsFy3; ml1hZ: $integralDetail = ["\165\x73\145\162\137\x69\144" => $data["\165\163\145\x72\137\151\144"], "\157\162\x64\145\x72\x5f\x69\x64" => $data["\x6f\162\x64\145\x72\x5f\x69\x64"], "\x74\171\160\x65" => 1, "\x6b\x69\x6e\x64" => 3, "\151\156\x74\x65\147\x72\x61\154\x5f\151\144" => $integral["\x69\x64"], "\151\156\164\x65\x67\162\x61\x6c" => $giveIntegral]; goto fIUrA; uiUm9: if (!($integral["\151\x6e\164\x65\x67\x72\141\154"] > 0)) { goto YB6gS; } goto IELK8; ueLmW: EtCC1: goto uiUm9; HiGU_: $user->integral += $giveIntegral; goto l9lYN; B0wib: $integral = self::where(["\x75\156\151\141\143\x69\144" => session("\x75\156\151\x61\x63\151\144"), "\164\171\160\145" => $type])->find(); goto e1zW1; a_Hm8: $giveIntegral = round($data["\157\137\x61\155\157\x75\x6e\164"]) * $integral["\x69\x6e\164\145\147\162\x61\x6c"]; goto HiGU_; TsFy3: YB6gS: goto CtGiw; e1zW1: if (!empty($integral)) { goto EtCC1; } goto xoql7; CtGiw: } public static function returnIntegral($data) { goto BwwLw; BwwLw: $integralDetail = ["\x75\163\145\x72\x5f\151\144" => $data["\x75\163\x65\x72\x5f\x69\x64"], "\157\x72\x64\145\x72\137\151\x64" => $data["\x6f\x72\144\x65\162\137\x69\144"], "\x74\171\160\x65" => 1, "\153\x69\156\144" => 2, "\151\156\x74\x65\x67\x72\141\154" => $data["\151\156\x74\x65\x67\162\x61\154"]]; goto hUgwG; ouykz: return $result; goto w34aK; hUgwG: $result = IntegralDetail::setIntegralDetail($integralDetail); goto ouykz; w34aK: } }