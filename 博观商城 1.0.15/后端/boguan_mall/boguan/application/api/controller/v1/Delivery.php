<?php
 namespace app\api\controller\v1; use app\api\controller\BaseController; use app\api\service\TimeRange; use app\api\model\Delivery as DeliveryModel; use app\api\service\Convert; use app\api\service\Token as TokenService; use app\api\model\UserAddress as UserAddressModel; class Delivery extends BaseController { public function deliveryTime() { goto ImSvp; XHWmb: $data = $TimeRange->getDeliveryDate(); goto tkvMP; tkvMP: return $data; goto wjb3L; ImSvp: $TimeRange = new TimeRange(); goto XHWmb; wjb3L: } public function isInDeliveryArea($addressId = 0) { goto biujw; ZTwuQ: if ($bool) { goto aoEpz; } goto ooIxV; bU1uK: $bool = $convert->isInPolygon($point, $pts); goto ZTwuQ; ZX_5_: return ["\x6d\x73\147" => "\xe6\232\x82\xe6\227\xa0\346\255\244\xe6\224\xb6\350\264\xa7\345\234\xb0\xe5\x9d\x80", "\145\162\x72\x6f\162\103\157\x64\x65" => 0]; goto cqaLJ; OJOz6: $point = ["\154\x6e\x67" => $longitude, "\x6c\141\x74" => $latitude]; goto bU1uK; NWeUw: return ["\x6d\x73\147" => "\350\x8e\xb7\xe5\x8f\x96\xe6\x88\x90\345\212\x9f", "\x64\141\x74\141" => ["\151\163\x5f\141\162\145\x61" => $bool, "\144\x65\154\151\166\x65\x72\171\137\x70\162\x69\143\x65" => DeliveryModel::deliveryPrice($addressId, $uid)], "\x65\x72\162\157\162\x43\157\x64\145" => 1]; goto NxHBv; QXyTU: $convert = new Convert(); goto QJwzJ; Mi8lQ: if (!empty($userAddress)) { goto EmiB5; } goto ZX_5_; GBKhn: uc4ZG: goto Wqc50; biujw: if (!($addressId == '' || $addressId == 0)) { goto vp696; } goto z23N7; P9ws4: $uid = TokenService::getCurrentUid(); goto wbqDo; foxwP: goto plWEr; goto KIHMr; g_eyI: if (!empty($delivery)) { goto uc4ZG; } goto eZyeE; z23N7: return ["\x6d\163\147" => "\xe8\257\xb7\351\200\211\xe6\x8b\251\346\x94\xb6\xe8\264\xa7\345\234\260\345\x9d\x80", "\x65\x72\x72\x6f\x72\x43\x6f\x64\x65" => 0]; goto w9oTE; Kaf2U: $latitude = $userAddress["\154\x61\164\151\164\x75\144\145"]; goto QXyTU; wbqDo: $userAddress = UserAddressModel::where(["\165\156\151\141\x63\x69\144" => session("\x75\156\x69\x61\x63\x69\x64"), "\x75\x73\x65\162\x5f\151\x64" => $uid])->find($addressId); goto Mi8lQ; Wqc50: $pts = $delivery["\144\x65\154\x69\x76\x65\162\x79\x5f\141\x72\145\141"]; goto OJOz6; eZyeE: return ["\155\x73\147" => "\xe5\x95\206\345\256\xb6\xe6\234\252\345\xbc\x80\xe9\x80\232\xe9\205\215\xe9\200\201\xe5\212\x9f\xe8\203\xbd", "\145\x72\x72\x6f\162\x43\x6f\144\x65" => 0]; goto ntJOl; NxHBv: plWEr: goto VbraR; ntJOl: goto dhhGi; goto GBKhn; VbraR: dhhGi: goto MRGJy; cqaLJ: EmiB5: goto vKNf4; vKNf4: $longitude = $userAddress["\154\x6f\x6e\147\x69\164\165\144\x65"]; goto Kaf2U; w9oTE: vp696: goto P9ws4; KIHMr: aoEpz: goto NWeUw; ooIxV: return ["\x6d\163\x67" => "\344\270\215\xe5\x9c\250\351\x85\x8d\351\200\x81\350\x8c\203\xe5\233\264\xe5\x86\x85", "\x64\141\x74\x61" => ["\x69\x73\137\141\162\145\141" => false], "\145\x72\x72\157\162\x43\x6f\x64\145" => 0]; goto foxwP; QJwzJ: $delivery = DeliveryModel::where(["\165\156\x69\x61\x63\151\x64" => session("\165\156\151\141\x63\151\x64")])->find(); goto g_eyI; MRGJy: } }