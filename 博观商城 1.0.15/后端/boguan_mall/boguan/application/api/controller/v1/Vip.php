<?php
 namespace app\api\controller\v1; use app\api\model\Vip as VipModel; use app\api\model\User as UserModel; use app\api\service\Order as OrderService; use app\api\validate\Vip as VipValidate; use app\api\service\Token as TokenService; class Vip extends Base { public function getVipInfo() { goto wrZxW; pOXw0: return json(["\155\x73\x67" => "\xe8\216\xb7\xe5\217\226\xe6\210\x90\345\x8a\x9f", "\x64\x61\164\x61" => $vip, "\145\x72\162\x6f\162\x43\x6f\144\145" => 1]); goto l2jZm; xQAOV: $uid = TokenService::getCurrentUid(); goto Z8wcZ; lt0fZ: $curUserVip = VipModel::get($user["\166\x69\160\137\x69\x64"]); goto rqjY7; mneoJ: yS0BT: goto OhHTf; OhHTf: return json(["\155\x73\147" => "\346\232\x82\xe6\227\240\xe6\x95\xb0\xe6\215\xae", "\x65\x72\162\157\x72\x43\x6f\144\x65" => 0]); goto GaNlD; l2jZm: goto NsjsG; goto mneoJ; S5GnL: if ($vip->isEmpty()) { goto yS0BT; } goto lt0fZ; fJVHu: Llm2y: goto pOXw0; GaNlD: NsjsG: goto k2MMW; rqjY7: foreach ($vip as $key => $value) { goto DdtJ9; quIF2: WRXvl: goto iI47f; iI47f: uVB8s: goto sziap; kHqx_: goto WRXvl; goto TDZF6; DdtJ9: if ($curUserVip["\151\156\164\x65\x67\x72\141\154"] <= $value["\151\x6e\x74\x65\x67\162\x61\154"]) { goto Dhm6c; } goto To8sk; To8sk: $vip[$key]["\151\x73\x5f\x63\x75\162\x72\145\156\164"] = 0; goto kHqx_; TDZF6: Dhm6c: goto unBax; unBax: $vip[$key]["\151\x73\x5f\143\165\x72\162\145\x6e\164"] = 1; goto quIF2; sziap: } goto fJVHu; wrZxW: $vip = VipModel::where(["\x75\156\x69\141\143\151\x64" => session("\x75\x6e\x69\x61\x63\x69\x64"), "\163\x74\141\x74\165\163" => 1])->field("\x69\x64\x2c\x6e\141\155\145\54\x69\x6e\164\145\x67\x72\x61\154\54\144\151\x73\143\x6f\x75\156\164\x2c\164\x79\160\145\x2c\151\155\141\147\x65\54\143\157\x6c\x6f\162\x2c\x73\x74\141\x74\x75\163\54\x63\x72\x65\141\164\145\137\164\151\155\145")->order("\x69\156\164\145\x67\x72\141\154", "\141\x73\x63")->select(); goto xQAOV; Z8wcZ: $user = UserModel::get($uid); goto S5GnL; k2MMW: } }