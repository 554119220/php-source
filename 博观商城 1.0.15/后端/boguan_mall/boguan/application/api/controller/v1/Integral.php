<?php
 namespace app\api\controller\v1; use app\api\controller\BaseController; use app\api\service\Token as TokenService; use app\api\model\IntegralDetail; class Integral extends BaseController { public function getDetail($page = 0, $size = 12) { goto FmH4G; b9KMW: GyuC2: goto Bvde7; FmH4G: $uid = TokenService::getCurrentUid(); goto WsC1f; Bvde7: return json(["\155\x73\147" => "\xe8\216\xb7\xe5\x8f\x96\346\210\x90\xe5\212\x9f", "\144\x61\x74\x61" => $detail, "\145\x72\x72\157\162\x43\x6f\x64\x65" => 1]); goto WmxuW; WsC1f: $detail = IntegralDetail::where(["\165\x6e\151\141\x63\x69\x64" => session("\165\156\x69\141\x63\x69\144"), "\165\163\x65\162\x5f\x69\144" => $uid, "\153\x69\x6e\144" => 2])->field("\151\144\54\x74\x79\160\145\54\153\x69\156\144\x2c\x69\x6e\164\145\x67\x72\x61\x6c\54\x63\162\x65\x61\x74\145\137\x74\x69\x6d\x65")->order("\143\x72\x65\x61\x74\x65\137\x74\x69\x6d\x65", "\x64\145\163\x63")->paginate($size, true, ["\x70\141\147\145" => $page]); goto jqCUT; lsaRX: return json(["\155\163\x67" => "\346\x9a\202\346\227\xa0\xe6\x95\xb0\346\215\xae", "\145\162\162\x6f\162\103\157\x64\145" => 0]); goto b9KMW; jqCUT: if (!$detail->isEmpty()) { goto GyuC2; } goto lsaRX; WmxuW: } }