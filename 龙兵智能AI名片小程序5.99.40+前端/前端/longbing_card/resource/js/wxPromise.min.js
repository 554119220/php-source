var _typeof2 = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
    return typeof t;
} : function(t) {
    return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t;
}, _typeof = "function" == typeof Symbol && "symbol" == _typeof2(Symbol.iterator) ? function(t) {
    return void 0 === t ? "undefined" : _typeof2(t);
} : function(t) {
    return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : void 0 === t ? "undefined" : _typeof2(t);
}, promisify = function(o) {
    return function(n) {
        for (var t = arguments.length, r = Array(1 < t ? t - 1 : 0), e = 1; e < t; e++) r[e - 1] = arguments[e];
        return new Promise(function(t, e) {
            o.apply(void 0, [ Object.assign({}, n, {
                success: t,
                fail: e
            }) ].concat(r)), Promise.prototype.finally = function(e) {
                var n = this.constructor;
                return this.then(function(t) {
                    return n.resolve(e()).then(function() {
                        return t;
                    });
                }, function(t) {
                    return n.resolve(e()).then(function() {
                        throw t;
                    });
                });
            };
        });
    };
};

wx.pro = {};

var wxPromise = function() {
    for (var t in wx) wx.hasOwnProperty(t) && (wx.pro[t] = /^on|^create|Sync$|Manager$|^pause/.test(t) && "createBLEConnection" != t || "stopRecord" == t || "stopVoice" == t || "stopBackgroundAudio" == t || "stopPullDownRefresh" == t || "hideKeyboard" == t || "hideToast" == t || "hideLoading" == t || "showNavigationBarLoading" == t || "hideNavigationBarLoading" == t || "canIUse" == t || "navigateBack" == t || "closeSocket" == t || "closeSocket" == t || "pageScrollTo" == t || "drawCanvas" == t ? wx[t] : promisify(wx[t]));
    wx.pro.match = function(t, e) {
        var n = "";
        return "chinese" === t ? n = /[\u4e00-\u9fa5]/gm : "email" === t ? n = /\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/ : "url" === t ? n = /^https?:\/\/(([a-zA-Z0-9_-])+(\.)?)*(:\d+)?(\/((\.)?(\?)?=?&?[a-zA-Z0-9_-](\?)?)*)*$/i : "phoneNumber" === t ? n = /^(0|86|17951)?(13[0-9]|14[579]|15[012356789]|16[56]|17[1235678]|18[0-9]|19[89])\s{0,1}[0-9]{4}\s{0,1}[0-9]{4}$/ : "cardid" === t ? n = /^(^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$)|(^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[Xx])$)$/ : "mail" === t && (n = /^[1-9]\d{5}(?!\d)$/), 
        !!n.test(e);
    }, wx.pro.showTopTips = function(o, i) {
        return new Promise(function(t, e) {
            o || e("缺少配置项！"), o.content || e("option.content属性是必须的");
            var n = i.data.topTips || {};
            n.timeout && (clearTimeout(n.timeout), n.timeout = 0), void 0 === o.duration && (o.duration = 3e3);
            var r = setTimeout(function() {
                i.setData({
                    "topTips.show": !1,
                    "topTips.timeout": 0
                }, function() {
                    t();
                });
            }, o.duration);
            i.setData({
                topTips: {
                    show: !0,
                    content: o.content,
                    timeout: r
                }
            });
        });
    }, wx.pro.initChart = function(o, i) {
        return function(t, e, n) {
            var r = i.init(t, null, {
                width: e,
                height: n
            });
            return t.setChart(r), r.setOption(o), r;
        };
    }, wx.pro.lazyInitChart = function(i, a, t, c) {
        return new Promise(function(o) {
            c.selectComponent(t).init(function(t, e, n) {
                var r = a.init(t, null, {
                    width: e,
                    height: n
                });
                r.setOption(i), c.chart = r, o(r);
            });
        });
    }, wx.pro.updateChart = function(t, e) {
        t.clear(), t.setOption(e);
    }, wx.pro.saveImageToPhotosAlbum = function(r) {
        return new Promise(function(e, n) {
            wx.getSetting({
                success: function(t) {
                    t.authSetting["scope.writePhotosAlbum"] ? wx.saveImageToPhotosAlbum({
                        filePath: r,
                        success: function(t) {
                            e(t);
                        },
                        fail: function(t) {
                            n(t);
                        }
                    }) : wx.authorize({
                        scope: "scope.writePhotosAlbum",
                        success: function() {
                            wx.saveImageToPhotosAlbum({
                                filePath: r,
                                success: function(t) {
                                    e(t);
                                },
                                fail: function(t) {
                                    n(t);
                                }
                            });
                        },
                        fail: function() {
                            wx.hideLoading(), wx.pro.showModal({
                                title: "温馨提示",
                                content: "请授权系统使用保存图片接口",
                                confirmText: "知道了",
                                showCancel: !1
                            }).then(function() {
                                wx.openSetting();
                            });
                        }
                    });
                },
                fail: function(t) {
                    n(t);
                }
            });
        });
    }, wx.pro.canvasToTempFilePath = function(t) {
        return new Promise(function(e, n) {
            t.draw(!0, function() {
                wx.canvasToTempFilePath({
                    canvasId: "card",
                    success: function(t) {
                        e(t);
                    },
                    fail: function(t) {
                        n(t);
                    }
                });
            });
        });
    };
};

wxPromise(), function(t) {
    function i(t, e, n, r) {
        var i, a, c, u, o = e && e.prototype instanceof l ? e : l, s = Object.create(o.prototype), f = new y(r || []);
        return s._invoke = (i = t, a = n, c = f, u = P, function(t, e) {
            if (u == E) throw new Error("Generator is already running");
            if (u == S) {
                if ("throw" === t) throw e;
                return d();
            }
            for (c.method = t, c.arg = e; ;) {
                var n = c.delegate;
                if (n) {
                    var r = p(n, c);
                    if (r) {
                        if (r === T) continue;
                        return r;
                    }
                }
                if ("next" === c.method) c.sent = c._sent = c.arg; else if ("throw" === c.method) {
                    if (u == P) throw u = S, c.arg;
                    c.dispatchException(c.arg);
                } else "return" === c.method && c.abrupt("return", c.arg);
                u = E;
                var o = h(i, a, c);
                if ("normal" === o.type) {
                    if (u = c.done ? S : _, o.arg === T) continue;
                    return {
                        value: o.arg,
                        done: c.done
                    };
                }
                "throw" === o.type && (u = S, c.method = "throw", c.arg = o.arg);
            }
        }), s;
    }
    function h(t, e, n) {
        try {
            return {
                type: "normal",
                arg: t.call(e, n)
            };
        } catch (t) {
            return {
                type: "throw",
                arg: t
            };
        }
    }
    function l() {}
    function n() {}
    function e() {}
    function r(t) {
        [ "next", "throw", "return" ].forEach(function(e) {
            t[e] = function(t) {
                return this._invoke(e, t);
            };
        });
    }
    function a(u) {
        var e;
        this._invoke = function(n, r) {
            function t() {
                return new Promise(function(t, e) {
                    !function e(t, n, r, o) {
                        var i = h(u[t], u, n);
                        if ("throw" !== i.type) {
                            var a = i.arg, c = a.value;
                            return c && "object" === (void 0 === c ? "undefined" : _typeof(c)) && m.call(c, "__await") ? Promise.resolve(c.__await).then(function(t) {
                                e("next", t, r, o);
                            }, function(t) {
                                e("throw", t, r, o);
                            }) : Promise.resolve(c).then(function(t) {
                                a.value = t, r(a);
                            }, o);
                        }
                        o(i.arg);
                    }(n, r, t, e);
                });
            }
            return e = e ? e.then(t, t) : t();
        };
    }
    function p(t, e) {
        var n = t.iterator[e.method];
        if (n === s) {
            if (e.delegate = null, "throw" === e.method) {
                if (t.iterator.return && (e.method = "return", e.arg = s, p(t, e), "throw" === e.method)) return T;
                e.method = "throw", e.arg = new TypeError("The iterator does not provide a 'throw' method");
            }
            return T;
        }
        var r = h(n, t.iterator, e.arg);
        if ("throw" === r.type) return e.method = "throw", e.arg = r.arg, e.delegate = null, 
        T;
        var o = r.arg;
        return o ? o.done ? (e[t.resultName] = o.value, e.next = t.nextLoc, "return" !== e.method && (e.method = "next", 
        e.arg = s), e.delegate = null, T) : o : (e.method = "throw", e.arg = new TypeError("iterator result is not an object"), 
        e.delegate = null, T);
    }
    function o(t) {
        var e = {
            tryLoc: t[0]
        };
        1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), 
        this.tryEntries.push(e);
    }
    function c(t) {
        var e = t.completion || {};
        e.type = "normal", delete e.arg, t.completion = e;
    }
    function y(t) {
        this.tryEntries = [ {
            tryLoc: "root"
        } ], t.forEach(o, this), this.reset(!0);
    }
    function u(e) {
        if (e) {
            var t = e[v];
            if (t) return t.call(e);
            if ("function" == typeof e.next) return e;
            if (!isNaN(e.length)) {
                var n = -1, r = function t() {
                    for (;++n < e.length; ) if (m.call(e, n)) return t.value = e[n], t.done = !1, t;
                    return t.value = s, t.done = !0, t;
                };
                return r.next = r;
            }
        }
        return {
            next: d
        };
    }
    function d() {
        return {
            value: s,
            done: !0
        };
    }
    var s, f = Object.prototype, m = f.hasOwnProperty, w = "function" == typeof Symbol ? Symbol : {}, v = w.iterator || "@@iterator", g = w.asyncIterator || "@@asyncIterator", x = w.toStringTag || "@@toStringTag", b = "object" === ("undefined" == typeof module ? "undefined" : _typeof(module)), L = t.regeneratorRuntime;
    if (L) b && (module.exports = L); else {
        (L = t.regeneratorRuntime = b ? module.exports : {}).wrap = i;
        var P = "suspendedStart", _ = "suspendedYield", E = "executing", S = "completed", T = {}, O = {};
        O[v] = function() {
            return this;
        };
        var j = Object.getPrototypeOf, k = j && j(j(u([])));
        k && k !== f && m.call(k, v) && (O = k);
        var A = e.prototype = l.prototype = Object.create(O);
        n.prototype = A.constructor = e, e.constructor = n, e[x] = n.displayName = "GeneratorFunction", 
        L.isGeneratorFunction = function(t) {
            var e = "function" == typeof t && t.constructor;
            return !!e && (e === n || "GeneratorFunction" === (e.displayName || e.name));
        }, L.mark = function(t) {
            return Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : (t.__proto__ = e, !(x in t) && (t[x] = "GeneratorFunction")), 
            t.prototype = Object.create(A), t;
        }, L.awrap = function(t) {
            return {
                __await: t
            };
        }, r(a.prototype), a.prototype[g] = function() {
            return this;
        }, L.AsyncIterator = a, L.async = function(t, e, n, r) {
            var o = new a(i(t, e, n, r));
            return L.isGeneratorFunction(e) ? o : o.next().then(function(t) {
                return t.done ? t.value : o.next();
            });
        }, r(A), A[x] = "Generator", A[v] = function() {
            return this;
        }, A.toString = function() {
            return "[object Generator]";
        }, L.keys = function(n) {
            var r = [];
            for (var t in n) r.push(t);
            return r.reverse(), function t() {
                for (;r.length; ) {
                    var e = r.pop();
                    if (e in n) return t.value = e, t.done = !1, t;
                }
                return t.done = !0, t;
            };
        }, L.values = u, y.prototype = {
            constructor: y,
            reset: function(t) {
                if (this.prev = 0, this.next = 0, this.sent = this._sent = s, this.done = !1, this.delegate = null, 
                this.method = "next", this.arg = s, this.tryEntries.forEach(c), !t) for (var e in this) "t" === e.charAt(0) && m.call(this, e) && !isNaN(+e.slice(1)) && (this[e] = s);
            },
            stop: function() {
                this.done = !0;
                var t = this.tryEntries[0].completion;
                if ("throw" === t.type) throw t.arg;
                return this.rval;
            },
            dispatchException: function(n) {
                function t(t, e) {
                    return i.type = "throw", i.arg = n, r.next = t, e && (r.method = "next", r.arg = s), 
                    !!e;
                }
                if (this.done) throw n;
                for (var r = this, e = this.tryEntries.length - 1; 0 <= e; --e) {
                    var o = this.tryEntries[e], i = o.completion;
                    if ("root" === o.tryLoc) return t("end");
                    if (o.tryLoc <= this.prev) {
                        var a = m.call(o, "catchLoc"), c = m.call(o, "finallyLoc");
                        if (a && c) {
                            if (this.prev < o.catchLoc) return t(o.catchLoc, !0);
                            if (this.prev < o.finallyLoc) return t(o.finallyLoc);
                        } else if (a) {
                            if (this.prev < o.catchLoc) return t(o.catchLoc, !0);
                        } else {
                            if (!c) throw new Error("try statement without catch or finally");
                            if (this.prev < o.finallyLoc) return t(o.finallyLoc);
                        }
                    }
                }
            },
            abrupt: function(t, e) {
                for (var n, r = this.tryEntries.length - 1; 0 <= r; --r) if ((n = this.tryEntries[r]).tryLoc <= this.prev && m.call(n, "finallyLoc") && this.prev < n.finallyLoc) {
                    var o = n;
                    break;
                }
                o && ("break" === t || "continue" === t) && o.tryLoc <= e && e <= o.finallyLoc && (o = null);
                var i = o ? o.completion : {};
                return i.type = t, i.arg = e, o ? (this.method = "next", this.next = o.finallyLoc, 
                T) : this.complete(i);
            },
            complete: function(t, e) {
                if ("throw" === t.type) throw t.arg;
                return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, 
                this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), 
                T;
            },
            finish: function(t) {
                for (var e, n = this.tryEntries.length - 1; 0 <= n; --n) if ((e = this.tryEntries[n]).finallyLoc === t) return this.complete(e.completion, e.afterLoc), 
                c(e), T;
            },
            catch: function(t) {
                for (var e, n = this.tryEntries.length - 1; 0 <= n; --n) if ((e = this.tryEntries[n]).tryLoc === t) {
                    var r = e.completion;
                    if ("throw" === r.type) {
                        var o = r.arg;
                        c(e);
                    }
                    return o;
                }
                throw new Error("illegal catch attempt");
            },
            delegateYield: function(t, e, n) {
                return this.delegate = {
                    iterator: u(t),
                    resultName: e,
                    nextLoc: n
                }, "next" === this.method && (this.arg = s), T;
            }
        };
    }
}(function() {
    return this;
}() || Function("return this")());