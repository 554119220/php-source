<?php
 goto jFHAP; UAm0L: Dw6XU: goto ZK2nY; rkhJs: jpGyH: goto SWbuR; ujnZS: die; goto rkhJs; pk7Db: ffKoK: goto OYM6u; l3m6o: $coupon_key = trim($_GPC["\x63\157\x75\160\x6f\156\x5f\153\145\x79"]); goto x5eOi; dFvih: echo json_encode($data); goto jyehs; P3Ykf: yyGmy: goto hVPjb; JzQ1B: i2nr1: goto Bvyo1; t8Ed3: die; goto UDX8a; c6i1P: if (!($coupon["\x63\x6f\156\x73\165\x6d\x65\x5f\164\171\x70\145"] != 2)) { goto jpGyH; } goto PGDyM; FaMga: if (!(empty($uniacid) || empty($coupon_key) || !preg_match("\57\x5e\133\x41\55\x5a\141\55\172\60\55\71\135\x7b\61\x36\175\44\57", $coupon_key))) { goto Gte3o; } goto aM17K; Bvyo1: $coupon["\163\x74\x61\162\164\x5f\x65\x78\x70\x69\162\141\x74\x69\157\156"] = $expiration["\163\x74\141\162\164"]; goto L0P9_; FJ9fh: die; goto PZvOB; OYM6u: $data["\x73\164\141"] = 1; goto l0rXa; L6ign: $data["\x73\164\141"] = 0; goto IKfRW; H0h1S: goto kKIOe; goto JzQ1B; R2r8g: CV0d4: goto FaMga; ePYqQ: $data["\x73\x74\x61"] = 0; goto Ly5jO; q_Yd1: die; goto R2r8g; OQHRi: $data["\163\x74\x61"] = 1; goto tiFRI; rBQRS: HWbUx: goto efyur; cno9J: Gte3o: goto yDzT3; hVPjb: if (!($coupon["\163\x74\x61\164\165\x73"] == 2)) { goto x8xL8; } goto ePYqQ; a_4di: kKIOe: goto pk7Db; IgDUX: if ($coupon["\x63\x6f\165\160\157\156\137\x76\141\154\151\x64\151\164\171"]) { goto Met9u; } goto P8MqI; HzLFd: $data["\145\x72\162\157\162"] = "\xe5\215\xa1\345\210\270\xe4\xb8\215\xe5\234\xa8\xe5\x8f\257\xe4\xbd\277\347\x94\250\xe6\x97\266\351\x97\xb4\x28" . date("\131\x2d\155\x2d\144", strtotime(date("\131\x2d\155\x2d\x64", $coupon["\x63\162\x65\x61\164\x65\x74\151\x6d\x65"])) + $expiration["\x64\145\141\144\x6c\151\x6e\145"] * 86400) . "\xe5\x88\260" . date("\131\x2d\155\x2d\144", strtotime(date("\x59\55\x6d\55\144", $coupon["\143\x72\145\141\164\x65\164\151\x6d\x65"])) + ($expiration["\x64\145\141\144\x6c\151\x6e\x65"] + $expiration["\x6c\151\155\151\x74"]) * 86400) . "\51\xe8\214\x83\xe5\233\xb4\345\206\205"; goto WLMJl; X8nJs: $cfg = $this->module["\143\157\156\x66\151\147"]["\x61\x70\x69"]; goto UkiHD; mE2GP: echo json_encode($data); goto GA8Wf; ZK2nY: bfUs8: goto QA2v9; aM17K: $data["\x73\164\x61"] = 0; goto b70UD; UiUTS: echo json_encode($data); goto q_Yd1; diPLr: $data["\163\x74\x61"] = 0; goto QQMzQ; WLMJl: goto H1A8Z; goto rBQRS; efyur: $data["\145\162\162\157\x72"] = "\xe5\215\241\345\x88\xb8\344\270\x8d\345\234\xa8\345\x8f\xaf\xe4\275\xbf\347\224\xa8\xe6\227\266\351\227\264\x28" . $expiration["\x73\164\141\162\164"] . "\xe5\210\xb0" . $expiration["\145\x6e\x64"] . "\x29\xe8\x8c\x83\345\233\xb4\345\206\x85"; goto sEseT; Wk4ce: echo json_encode($data); goto FJ9fh; X1nLb: if ($expiration["\164\151\155\x65\x5f\x74\171\x70\145"] == 1) { goto HWbUx; } goto HzLFd; nTmYh: $data["\163\x74\141"] = 0; goto X1nLb; YIDGy: $expiration = json_decode($coupon["\x63\157\x75\160\x6f\156\x5f\166\x61\x6c\151\144\x69\164\171"], true); goto I5RcI; L0P9_: $coupon["\x65\156\144\137\x65\170\160\151\162\x61\164\x69\157\x6e"] = $expiration["\x65\156\x64"]; goto a_4di; asnNm: $data["\145\x72\162\157\x72"] = "\345\x8d\241\345\210\xb8\345\xb7\xb2\346\xa0\270\351\x94\200\350\xbf\207\xe4\272\206"; goto Wk4ce; uKLjE: echo json_encode($data); goto RVoDt; tyn3p: $update = array("\163\164\x61\164\x75\x73" => 3, "\165\x73\145\x74\x69\155\145" => time()); goto s1Zva; BozH5: Rio4E: goto tyn3p; k59Ok: echo json_encode($data); goto t8Ed3; RVoDt: die; goto BozH5; NmaJ1: z50Rv: goto c6i1P; vcTSW: $op = trim($_GPC["\x6f\160"]); goto RHD75; P8MqI: $coupon_user["\x73\x74\141\x72\x74\x5f\145\x78\x70\151\162\x61\x74\151\157\156"] = ''; goto sioI7; EqMcv: die; goto cno9J; jyehs: die; goto NmaJ1; SWbuR: if (!($op == "\147\x65\164\x5f\151\x6e\146\157")) { goto yyGmy; } goto KPEWs; xvEk7: $data["\163\x74\141"] = 0; goto S1S39; I5RcI: if (!($expiration["\164\151\x6d\145\137\164\171\x70\x65"] == 1 && (time() < strtotime($expiration["\x73\x74\x61\162\x74"]) || time() > strtotime($expiration["\x65\156\144"])) || $expiration["\164\x69\x6d\145\137\164\x79\x70\x65"] == 2 && (time() < strtotime(date("\x59\x2d\155\x2d\144", $coupon["\143\162\145\141\164\x65\164\x69\155\145"])) + $expiration["\144\x65\x61\144\x6c\x69\156\x65"] * 86400 || time() > strtotime(date("\x59\x2d\155\x2d\x64", $coupon["\143\162\145\141\x74\145\x74\151\x6d\145"])) + ($expiration["\144\x65\x61\144\x6c\151\156\145"] + $expiration["\x6c\151\x6d\x69\164"]) * 86400))) { goto Dw6XU; } goto nTmYh; Mfoap: Met9u: goto mvCn1; s1Zva: pdo_update(TABLE_COUPON, $update, array("\151\144" => $coupon["\x69\144"])); goto OQHRi; zORXw: $uniacid = $_W["\x75\156\x69\x61\x63\151\144"]; goto l3m6o; izKcO: if (!$coupon["\143\x6f\165\x70\157\156\137\x76\x61\x6c\151\144\x69\x74\x79"]) { goto bfUs8; } goto YIDGy; sioI7: $coupon_user["\145\x6e\144\x5f\145\170\160\151\x72\141\x74\x69\x6f\156"] = ''; goto Fg2TO; PGDyM: $data["\163\x74\141"] = 0; goto fdxKD; QldXH: die; goto UAm0L; S1S39: $data["\145\x72\162\x6f\162"] = "\xe5\215\241\xe5\210\270\xe4\xbf\241\xe6\201\xaf\344\xb8\215\345\255\230\xe5\234\xa8"; goto dFvih; NwgcZ: global $_GPC, $_W; goto zORXw; ypweP: $data["\163\164\x61"] = 0; goto asnNm; QA2v9: if (!($coupon["\x63\157\x75\160\x6f\x6e\x5f\153\x65\171"] != $coupon_key)) { goto Rio4E; } goto L6ign; IKfRW: $data["\x65\x72\x72\157\x72"] = "\xe5\215\xa1\345\257\x86\xe9\x94\231\350\257\xaf"; goto uKLjE; u2i2d: if ($expiration["\164\151\155\x65\x5f\x74\171\160\x65"] == 1) { goto i2nr1; } goto KebC1; tmzSR: if (!empty($coupon)) { goto z50Rv; } goto xvEk7; zlVg_: echo json_encode($data); goto ujnZS; x5eOi: $token = trim($_GPC["\x74\157\153\x65\x6e"]); goto vcTSW; sEseT: H1A8Z: goto ybEoZ; fdxKD: $data["\145\162\x72\x6f\162"] = "\xe8\257\245\345\215\xa1\345\210\xb8\xe4\270\215\346\224\xaf\346\x8c\x81\xe8\xaf\xa5\346\x96\271\xe5\xbc\217\346\240\xb8\351\224\x80"; goto zlVg_; GA8Wf: die; goto P3Ykf; pSWFq: header("\x43\157\156\x74\x65\x6e\x74\55\164\x79\160\145\72\141\160\x70\x6c\x69\x63\141\164\x69\x6f\x6e\x2f\152\x73\157\x6e"); goto X8nJs; Fg2TO: goto ffKoK; goto Mfoap; QQMzQ: $data["\x65\x72\162\157\x72"] = "\x74\157\x6b\x65\156\xe5\217\202\346\225\260\351\224\x99\350\xaf\257"; goto UiUTS; aYNbb: echo json_encode($data); goto EqMcv; KebC1: $coupon["\x73\164\x61\x72\164\x5f\145\170\x70\x69\x72\141\x74\x69\x6f\x6e"] = date("\131\55\155\55\144", strtotime(date("\x59\x2d\x6d\x2d\x64", $coupon["\x63\x72\x65\141\164\x65\x74\x69\x6d\145"])) + $expiration["\x64\x65\x61\144\154\x69\156\x65"] * 86400); goto I97PS; jFHAP: defined("\111\116\x5f\111\x41") or exit("\x41\x63\x63\x65\163\x73\40\x44\145\x6e\151\x65\x64"); goto NwgcZ; UkiHD: if (!(empty($token) || $token != md5($coupon_key . "\x6a\163\144\x68\x79\x75\145\165\x69\151\64\70\x37\67\x36\44\43\45"))) { goto CV0d4; } goto diPLr; ybEoZ: echo json_encode($data); goto QldXH; yDzT3: $coupon = pdo_fetch("\123\x45\x4c\x45\103\x54\40\x2a\40\x46\122\x4f\x4d\40" . tablename(TABLE_COUPON) . "\40\x57\x48\x45\x52\105\40\x63\157\x75\160\x6f\x6e\137\153\145\171\40\75\x20\x3a\x63\x6f\x75\160\x6f\x6e\x5f\x6b\145\171", array("\x3a\143\157\165\160\x6f\x6e\x5f\153\145\171" => $coupon_key)); goto tmzSR; RHD75: error_reporting(0); goto pSWFq; mvCn1: $expiration = json_decode($coupon["\x63\x6f\165\160\157\x6e\x5f\x76\x61\x6c\151\144\x69\164\x79"], true); goto u2i2d; PZvOB: wtFTd: goto izKcO; l0rXa: $data["\144\x61\x74\x61"] = $coupon; goto mE2GP; I97PS: $coupon["\x65\156\144\x5f\x65\x78\160\x69\x72\141\x74\x69\x6f\156"] = date("\x59\x2d\x6d\55\144", strtotime(date("\131\x2d\155\55\x64", $coupon["\143\x72\x65\x61\164\x65\x74\x69\x6d\x65"])) + ($expiration["\x64\145\141\144\x6c\151\x6e\x65"] + $expiration["\x6c\151\x6d\151\x74"]) * 86400); goto H0h1S; gi2Pv: if (!($coupon["\163\x74\141\164\x75\163"] == 3)) { goto wtFTd; } goto ypweP; KPEWs: $coupon["\x63\157\165\160\157\156\x5f\143\x6f\156\x74\145\x6e\164"] = $coupon["\x63\157\x75\x70\x6f\x6e\137\x63\x6f\x6e\164\145\156\x74"] ? json_decode($coupon["\143\157\x75\160\x6f\x6e\137\x63\157\156\x74\x65\x6e\x74"], true) : array(); goto IgDUX; Ly5jO: $data["\x65\162\162\x6f\x72"] = "\345\x8d\xa1\345\x88\xb8\345\267\xb2\xe5\244\261\xe6\225\210"; goto k59Ok; UDX8a: x8xL8: goto gi2Pv; b70UD: $data["\145\x72\162\157\x72"] = "\345\x8f\x82\xe6\225\260\xe9\x94\x99\xe8\xaf\xaf"; goto aYNbb; tiFRI: exit(json_encode($data));