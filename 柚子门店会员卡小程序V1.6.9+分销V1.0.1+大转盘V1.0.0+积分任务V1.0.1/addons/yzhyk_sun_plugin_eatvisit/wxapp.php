<?php
 goto pfvhB; eZAdx: global $_W; goto nug52; nug52: include IA_ROOT . "\57\141\x64\144\157\x6e\163\x2f" . $_W["\x63\165\162\162\145\x6e\164\137\x6d\x6f\x64\165\x6c\145"]["\156\x61\x6d\145"] . "\x2f\x66\165\156\143\x2f\x66\x75\156\143\56\160\x68\160"; goto Y7t_m; pfvhB: defined("\x49\116\x5f\111\x41") or exit("\x41\143\x63\145\163\163\40\104\x65\156\x69\145\x64"); goto eZAdx; Y7t_m: class yzhyk_sun_plugin_eatvisitModuleWxapp extends WeModuleWxapp { public function doPageGetGoods() { goto TWyHg; wsq2E: $newdata["\x67\x6f\157\144\x73\x6c\151\x73\164"] = $data; goto sPY6s; sPY6s: echo json_encode($newdata); goto SgfWu; PPnF7: $pageindex = intval($_GPC["\x70\x61\x67\x65"]) * $pagesize; goto MpPW2; oTb28: $newdata["\x73\164\x61\164\165\x73"] = $status; goto znPpF; W9wpo: goto DKCWV; goto uQ22u; T5asP: goto oU4pM; goto oNiJ0; JsEbN: $uniacid = $_W["\x75\156\x69\141\143\x69\144"]; goto wmetW; j_YmU: $new = time(); goto BPwvO; TqGqW: echo 2; goto T5asP; MpPW2: $where = "\40\167\x68\145\162\145\x20\x67\x2e\x75\x6e\151\x61\x63\x69\144\75" . $uniacid . "\40\141\156\144\x20\x67\56\151\x73\163\150\x65\x6c\146\75\x31\40\141\x6e\x64\x20\x67\x2e\x73\x74\x61\164\x75\x73\75\62\40"; goto Git4C; znPpF: $newdata["\x75\162\x6c"] = $_W["\x61\164\164\141\143\x68\165\162\154"]; goto wsq2E; iXkSv: DKCWV: goto ZC3Rm; EmMcv: $status = 0; goto iXkSv; oNiJ0: vTmuj: goto iwwdq; ESd_1: $data = pdo_fetchall($sql); goto EjHOC; q58wL: $pagesize = 10; goto PPnF7; iwwdq: $newdata = []; goto oTb28; LZmpN: $status = 1; goto W9wpo; wmetW: $goodstype = intval($_GPC["\x67\157\157\144\163\x74\171\160\x65"]); goto j_YmU; TWyHg: global $_W, $_GPC; goto JsEbN; BPwvO: $openid = $_GPC["\x6f\160\x65\156\x69\x64"]; goto q58wL; uQ22u: ZmEy0: goto XuJIe; XuJIe: $where .= "\x20\x61\156\144\40\50\147\56\141\x6e\164\151\x6d\145\x3c\75\x27" . $new . "\x27\x20\157\x72\40\x28\x67\x2e\146\151\x72\163\x74\x6e\x75\x6d\40\x2b\x20\147\x2e\x73\x65\x63\x6f\x6e\x64\x6e\x75\155\40\x2b\40\x67\56\x74\150\151\162\144\156\x75\155\40\53\x20\x67\x2e\146\157\x75\x72\x74\150\156\165\155\40\53\x20\x67\x2e\147\x72\x61\156\x64\156\x75\x6d\51\75\60\x29\40"; goto EmMcv; Git4C: if ($goodstype == 1) { goto ZmEy0; } goto YEw9m; ZC3Rm: $sql = "\163\145\x6c\145\143\x74\40\x67\x2e\x67\x6e\x61\155\145\54\147\x2e\x73\x68\157\x70\x70\162\x69\143\145\x2c\147\56\164\150\x75\x6d\x62\x6e\141\x69\154\x2c\x67\x2e\x69\144\54\147\x2e\x73\164\157\162\x65\x6e\141\x6d\145\54\x67\56\x63\x75\x72\162\145\x6e\x74\160\162\x69\143\145\x2c\x67\56\151\x73\137\x76\x69\160\40\x66\x72\x6f\x6d\40" . tablename("\x79\172\150\171\153\137\x73\x75\x6e\x5f\145\141\x74\166\151\x73\x69\x74\x5f\x67\x6f\x6f\x64\x73") . "\x20\141\163\x20\x67\x20\x4c\x45\x46\124\40\112\117\111\x4e\x20" . tablename("\171\172\150\171\x6b\x5f\163\x75\x6e\x5f\x73\x74\x6f\162\x65") . "\x20\141\163\x20\x62\x20\x6f\x6e\40\x62\56\151\x64\x20\75\40\x67\56\142\x69\x64\x20" . $where . "\40\x20\157\x72\144\145\162\40\x62\171\40\147\56\163\157\162\x74\40\x61\163\x63\x2c\x67\x2e\x69\144\x20\144\145\x73\143\40\154\x69\155\151\x74\40" . $pageindex . "\x2c" . $pagesize; goto ESd_1; YEw9m: $where .= "\x20\x61\x6e\144\40\x67\56\x61\x6e\x74\x69\155\145\76\75\47" . $new . "\47\x20\141\156\144\x20\x67\x2e\141\163\x74\x69\x6d\145\x3c\75\x27" . $new . "\47\x20\x61\x6e\144\x20\x28\x67\56\146\x69\x72\163\x74\x6e\165\x6d\x20\53\40\x67\56\x73\x65\x63\x6f\x6e\x64\x6e\165\x6d\40\53\40\x67\56\164\150\151\162\144\x6e\x75\155\40\53\40\147\56\x66\x6f\x75\x72\x74\x68\156\165\x6d\40\x2b\40\x67\x2e\x67\162\x61\156\144\156\x75\x6d\x29\x3e\60\x20"; goto LZmpN; SgfWu: oU4pM: goto edc81; EjHOC: if ($data) { goto vTmuj; } goto TqGqW; edc81: } public function doPageGetGoodsInfo() { goto epj4q; UcHwl: echo json_encode($data); goto ipJkd; ycpxR: $id = intval($_GPC["\151\x64"]); goto Uc7k5; epj4q: global $_W, $_GPC; goto Lsn21; ipJkd: GvrDD: goto NrmnI; Lsn21: $uniacid = $_W["\x75\156\151\141\x63\x69\144"]; goto ycpxR; ruAyx: $data["\156\x6f\x77\x74\151\x6d\x65"] = time(); goto UcHwl; Uc7k5: $sql = "\163\x65\x6c\145\x63\164\x20\x67\56\52\54\142\56\164\x65\154\54\x62\x2e\154\x6f\156\147\151\164\165\144\x65\54\x62\x2e\154\x61\164\x69\x74\165\144\x65\x2c\142\x2e\141\144\144\162\145\163\x73\40\146\x72\157\x6d\40" . tablename("\x79\x7a\150\x79\153\137\x73\x75\x6e\137\145\141\164\x76\151\x73\151\x74\137\147\x6f\157\144\x73") . "\x20\x61\163\40\x67\x20\x4c\105\106\124\x20\x4a\x4f\x49\116\x20" . tablename("\171\x7a\150\171\x6b\137\163\165\x6e\137\x73\164\157\x72\x65") . "\40\141\x73\40\x62\x20\x6f\x6e\40\142\x2e\151\144\40\x3d\40\147\x2e\142\x69\x64\40\x77\150\145\x72\145\40\147\56\151\x64\x3d" . $id . "\40\x61\156\x64\x20\x67\56\165\156\151\x61\x63\x69\x64\75" . $uniacid . "\x20\x20"; goto Axb0z; MQnOb: goto GvrDD; goto Bpvir; Axb0z: $data = pdo_fetch($sql); goto bKRjH; vtR4h: echo 2; goto MQnOb; ALcCB: $data["\x75\x72\x6c"] = $_W["\x61\164\164\x61\143\150\165\162\x6c"]; goto ruAyx; bKRjH: if ($data) { goto kx6yI; } goto vtR4h; Bpvir: kx6yI: goto ALcCB; NrmnI: } public function doPageGetLotteryreData() { goto FRE_x; jkTma: HGjss: goto LAAEk; mPmx7: $joinnum = pdo_fetchcolumn("\163\x65\154\x65\143\x74\x20\x63\x6f\165\x6e\x74\x28\151\x64\x29\40\x61\x73\x20\x77\156\141\x6d\x65\40\x66\x72\x6f\155\x20" . tablename("\x79\x7a\x68\171\x6b\x5f\x73\x75\x6e\137\145\141\164\x76\x69\163\151\164\137\154\x6f\164\164\x65\162\171\x72\x65\x63\157\162\144") . "\x20\167\x68\145\x72\145\x20\165\156\151\141\143\x69\144\x3d" . $uniacid . "\x20\141\x6e\144\x20\x67\151\144\x3d" . $gid . "\x20"); goto tVbZ8; u6vb8: XAiXp: goto mPmx7; mQQPf: $output["\x6a\157\151\156\x6e\165\155"] = intval($joinnum + $goods["\166\x69\x72\164\165\141\x6c\156\165\x6d"]); goto LMQyT; upEiQ: $lotteryrecord = pdo_get("\171\x7a\x68\x79\153\137\163\165\x6e\137\x65\141\x74\166\151\x73\x69\164\137\x6c\x6f\164\x74\145\x72\x79\x72\145\143\157\162\144", array("\147\151\144" => $gid, "\157\x70\x65\x6e\151\144" => $openid, "\165\x6e\151\141\x63\151\144" => $uniacid)); goto JHwPz; E7huN: $openid = $_GPC["\x6f\x70\145\156\151\x64"]; goto Au6lw; LAAEk: BrhIZ: goto XhHG4; DP1ly: echo json_encode($output); goto F2Fhq; ShCCQ: $sql = "\x73\145\x6c\145\x63\164\40\x75\x2e\156\x61\155\145\54\157\56\x61\167\141\x72\x64\x20\x66\162\x6f\x6d\40" . tablename("\x79\172\150\171\153\137\x73\x75\156\x5f\x65\x61\x74\x76\151\x73\151\x74\x5f\x6f\x72\144\x65\162") . "\40\141\x73\x20\x6f\x20\154\x65\146\x74\40\152\157\151\x6e\40" . tablename("\x79\x7a\150\171\153\137\x73\165\x6e\137\x75\x73\x65\162") . "\x20\141\163\40\165\x20\x6f\x6e\40\x75\x2e\x69\144\x3d\x6f\x2e\x75\x69\144\40\167\150\145\x72\145\x20\x6f\56\x67\151\x64\75" . $gid . "\x20\141\x6e\144\x20\157\x2e\165\x6e\x69\x61\143\151\144\x3d" . $uniacid . "\x20\157\162\x64\x65\162\x20\142\171\40\x6f\56\x69\x64\x20\x64\x65\163\143\x20\154\x69\155\151\x74\x20\x31\60\x20"; goto UxFCG; Y1RLZ: $output["\x61\x77\141\162\144\x6e\165\x6d"] = array(0, 0, 0, 0, 0, 0); goto jkTma; FRE_x: global $_W, $_GPC; goto UiojQ; C1JnQ: if (!$lotteryrecord) { goto XAiXp; } goto dbKDx; xkXpK: if ($orderdata) { goto c9AMG; } goto W88i2; JHwPz: $lotteryrenum = $goods["\151\156\x69\164\x69\141\154\x64\x72\x61\167\x73"]; goto C1JnQ; fy6sO: $output["\x6a\157\151\156\156\165\x6d"] = intval($joinnum + $goods["\166\151\162\164\165\141\x6c\156\x75\x6d"]); goto pNQ5f; kEgZY: $output["\157\x72\144\145\x72\144\141\164\x61"] = $orderdata; goto fy6sO; ykdYQ: $gid = intval($_GPC["\147\x69\144"]); goto E7huN; UiojQ: $uniacid = $_W["\165\x6e\151\x61\143\151\144"]; goto ykdYQ; YCVHi: XljjO: goto kEgZY; Rn1Ir: fSxbj: goto ShCCQ; AQ4FT: HuZAZ: goto YCVHi; XhHG4: echo json_encode($output); goto A1tvx; sx4na: goto XljjO; goto sRv7E; o3eeC: $output["\141\x77\141\x72\144\156\165\155"] = array(0, 0, 0, 0, 0, 0); goto DP1ly; F2Fhq: exit; goto Rn1Ir; W88i2: $orderdata = array(); goto sx4na; TKb1P: $goods = pdo_get("\171\x7a\150\171\153\137\x73\165\x6e\x5f\x65\141\x74\166\x69\x73\151\x74\x5f\147\157\157\144\163", array("\151\x64" => $gid, "\x75\156\151\x61\143\x69\x64" => $uniacid)); goto KRrMV; Au6lw: $uid = intval($_GPC["\x75\x69\x64"]); goto TKb1P; ijK0g: $awardarr = array("\347\x89\271\347\255\x89\345\245\226", "\344\xb8\200\xe7\xad\x89\xe5\245\226", "\344\xba\214\xe7\xad\x89\xe5\xa5\x96", "\xe4\xb8\x89\347\xad\x89\345\xa5\226", "\345\233\x9b\xe7\xad\x89\xe5\245\226", "\346\x9c\xaa\xe4\270\255\xe5\245\226"); goto lndqn; pNQ5f: $output["\x6c\157\x74\164\x65\162\171\x72\145\156\165\x6d"] = $lotteryrenum; goto UJL6_; dbKDx: $lotteryrenum = $lotteryrecord["\141\x6c\154\156\x75\155"] > $lotteryrecord["\165\163\x65\x6e\x75\155"] ? intval($lotteryrecord["\x61\x6c\x6c\156\x75\155"] - $lotteryrecord["\165\163\x65\x6e\165\155"]) : 0; goto u6vb8; LMQyT: $output["\154\x6f\x74\x74\x65\162\171\x72\145\156\x75\155"] = 0; goto o3eeC; lndqn: foreach ($orderdata as $key => $value) { goto ZAuKn; DLBtB: vg3Gp: goto fPNd1; UxPeK: $orderdata[$key]["\141\167\141\x72\x64"] = $awardarr[$value["\x61\x77\x61\162\x64"]]; goto DLBtB; ZAuKn: $orderdata[$key]["\x6e\x61\155\x65"] = substr_text($value["\156\141\x6d\145"], 0, 1, "\165\x74\146\55\x38", "\x2a\x2a\x2a"); goto UxPeK; fPNd1: } goto AQ4FT; sRv7E: c9AMG: goto ijK0g; geuLP: $lotterynum = pdo_fetchcolumn("\163\x65\154\145\x63\164\40\143\x6f\x75\156\164\50\151\x64\x29\40\141\163\40\167\156\141\x6d\x65\40\146\x72\157\x6d\x20" . tablename("\x79\172\x68\171\x6b\x5f\163\x75\156\x5f\145\x61\x74\x76\151\163\151\x74\137\x6f\x72\144\x65\x72") . "\x20\x77\150\145\162\145\40\165\x6e\151\x61\143\151\144\x3d" . $uniacid . "\x20\x61\156\x64\40\147\151\144\x3d" . $gid . "\40\141\156\144\40\x6f\160\x65\156\x69\144\x3d\x27" . $openid . "\47\x20"); goto Iu8Eh; Iu8Eh: if (!($goods["\154\151\155\151\x74\x6e\165\155"] <= $lotterynum)) { goto HGjss; } goto Y1RLZ; UxFCG: $orderdata = pdo_fetchall($sql); goto xkXpK; Uszgy: if (!($goods["\154\x69\155\151\x74\156\165\155"] > 0)) { goto BrhIZ; } goto geuLP; UJL6_: $output["\141\x77\141\x72\x64\156\165\155"] = array($goods["\x67\162\141\156\x64\x6e\165\x6d"], $goods["\x66\x69\x72\163\164\156\x75\155"], $goods["\163\145\143\x6f\156\144\156\165\155"], $goods["\164\150\151\162\144\156\x75\155"], $goods["\x66\x6f\x75\162\164\x68\x6e\165\155"], 0); goto Uszgy; tVbZ8: if (!(!$openid || $uid == 0)) { goto fSxbj; } goto KA1I2; KRrMV: $output = array(); goto upEiQ; KA1I2: $output["\x6f\x72\144\x65\162\x64\x61\x74\x61"] = array(); goto mQQPf; A1tvx: } public function doPageSaveEatShare() { goto A9io_; SCc0o: exit; goto pDAP1; qrhSA: echo 2; goto IjiHE; hgAHg: $click_user = !empty($lotteryrecord["\x63\154\x69\x63\x6b\x5f\x75\163\145\x72"]) ? explode("\54", $lotteryrecord["\143\154\151\x63\153\x5f\165\x73\x65\x72"]) : false; goto ImVca; IjiHE: exit; goto ixpmW; m_3pW: echo 2; goto SCc0o; QQkj3: goto ACi7E; goto clQGu; ZwoA1: echo 2; goto Cqv6O; Cqv6O: exit; goto Ul16m; rKIa3: $data["\143\154\x69\x63\153\x5f\165\163\x65\162"] = $clickopenid; goto eEyiF; eEiNq: $user_share = pdo_get("\x79\172\150\x79\153\137\x73\165\x6e\137\165\x73\145\x72", array("\151\x64" => $share_uid, "\165\156\151\141\x63\x69\x64" => $uniacid), array("\x6f\160\145\x6e\151\144")); goto tXRMi; biaaL: $isin = in_array($clickopenid, $click_user); goto kBihg; ixpmW: Tv0OL: goto zTHbe; A9io_: global $_W, $_GPC; goto h_nVe; SwiwW: $data = array(); goto YhdrB; h_nVe: $uniacid = $_W["\x75\x6e\x69\141\143\x69\x64"]; goto a1SP2; eEyiF: $res = pdo_insert("\171\x7a\150\x79\153\x5f\x73\x75\x6e\x5f\145\141\x74\166\x69\x73\151\x74\x5f\154\157\164\x74\145\162\x79\162\x65\x63\x6f\162\x64", $data); goto QQkj3; hPTG0: $lotteryrecord = pdo_get("\x79\x7a\150\171\x6b\137\163\165\156\137\x65\x61\x74\x76\x69\x73\151\x74\x5f\x6c\x6f\164\x74\145\x72\x79\x72\x65\143\157\x72\144", array("\x67\x69\144" => $gid, "\x75\x69\144" => $share_uid, "\x75\156\151\x61\x63\151\144" => $uniacid)); goto SwiwW; tXRMi: $data["\x75\151\x64"] = $share_uid; goto a51nR; tyTmv: $res = pdo_update("\171\172\150\171\x6b\137\x73\x75\156\137\145\141\x74\x76\x69\x73\x69\164\x5f\154\x6f\x74\164\x65\x72\171\x72\145\x63\x6f\162\144", $data, array("\147\151\x64" => $gid, "\165\151\x64" => $share_uid, "\165\x6e\x69\x61\143\151\x64" => $uniacid)); goto rWvw_; a1SP2: $clickopenid = $_GPC["\x63\154\x69\x63\x6b\x6f\x70\145\x6e\x69\144"]; goto YioyC; AKDYZ: if (!($user["\x69\144"] == $share_uid)) { goto zDgh7; } goto m_3pW; ImVca: if (!$click_user) { goto im62y; } goto biaaL; kBihg: if (!$isin) { goto Tv0OL; } goto qrhSA; tWGTZ: $data["\141\154\154\x6e\165\155"] = $lotteryrecord["\141\154\x6c\156\x75\155"] + $goods["\x73\150\x61\162\x65\x61\x64\144\x6e\x75\x6d"]; goto Safrw; soSXn: $data["\x67\x69\144"] = $gid; goto OvivE; pP32s: $goods = pdo_get("\171\172\x68\x79\153\137\163\x75\156\137\145\x61\x74\166\151\x73\151\164\137\147\x6f\157\144\163", array("\x69\x64" => $gid, "\x75\156\151\x61\x63\x69\x64" => $uniacid)); goto hPTG0; OvivE: $data["\x61\154\x6c\x6e\165\x6d"] = $goods["\x69\x6e\x69\x74\151\x61\x6c\x64\x72\x61\167\x73"] + $goods["\163\x68\x61\x72\145\141\x64\x64\x6e\x75\155"]; goto eLbxy; ORtBY: $user = pdo_get("\x79\172\x68\x79\x6b\137\163\x75\x6e\x5f\165\x73\x65\x72", array("\157\x70\x65\x6e\151\x64" => $clickopenid, "\x75\x6e\151\141\x63\x69\x64" => $uniacid), array("\x69\144")); goto AKDYZ; YhdrB: if ($lotteryrecord) { goto Ep5j1; } goto eEiNq; Safrw: $data["\143\154\x69\x63\153\137\x75\163\x65\162"] = $lotteryrecord["\x63\154\151\x63\x6b\137\x75\163\145\162"] ? $lotteryrecord["\143\x6c\151\x63\153\137\165\x73\145\x72"] . "\54" . $clickopenid : $clickopenid; goto tyTmv; eLbxy: $data["\x75\x6e\151\141\x63\151\x64"] = $uniacid; goto rKIa3; a51nR: $data["\157\x70\x65\x6e\x69\144"] = $user_share["\x6f\160\145\x6e\x69\x64"]; goto soSXn; clQGu: Ep5j1: goto hgAHg; YioyC: $share_uid = intval($_GPC["\x73\150\141\x72\x65\137\x75\151\144"]); goto ciwSY; zTHbe: im62y: goto tWGTZ; pDAP1: zDgh7: goto pP32s; ciwSY: $gid = intval($_GPC["\147\151\x64"]); goto ORtBY; rWvw_: ACi7E: goto ZwoA1; Ul16m: } public function doPageCheckLottery() { goto n8h49; K31E1: $openid = $_GPC["\157\x70\x65\x6e\x69\x64"]; goto hvQ0r; QCIgQ: $gid = intval($_GPC["\x67\151\144"]); goto O7_PO; m34zH: if (!($goods["\151\156\151\x74\x69\141\x6c\144\162\141\x77\163"] <= 0)) { goto kx_Vu; } goto cKlK_; jI1XR: $uniacid = $_W["\165\156\x69\141\143\151\x64"]; goto K31E1; bgzGR: return $this->result(1, "\xe5\267\262\xe7\273\217\xe6\262\xa1\346\x9c\x89\346\212\275\345\245\x96\346\xac\xa1\346\x95\260\344\272\206\xef\274\x81", array()); goto iG5V6; iG5V6: qLktO: goto fcyLG; cKlK_: return $this->result(1, "\345\xb7\262\347\xbb\x8f\xe6\xb2\241\xe6\234\x89\346\212\275\345\245\226\xe6\xac\xa1\xe6\225\xb0\344\272\206\357\274\201", array()); goto x1DPe; wzz2v: $lotteryrecord = pdo_get("\171\172\150\171\153\137\163\x75\x6e\x5f\145\141\164\x76\151\163\151\164\x5f\154\157\x74\x74\x65\x72\171\x72\145\143\157\162\x64", array("\147\x69\x64" => $gid, "\165\x69\144" => $uid, "\165\x6e\x69\141\143\151\x64" => $uniacid)); goto F5XaJ; YrPKd: JzMIC: goto lJkzl; O7_PO: $goods = pdo_get("\171\172\x68\x79\x6b\x5f\163\x75\x6e\x5f\145\141\x74\166\x69\x73\151\x74\x5f\147\x6f\157\x64\163", array("\x69\x64" => $gid, "\x75\156\151\141\x63\x69\x64" => $uniacid)); goto wzz2v; F5XaJ: if ($lotteryrecord) { goto JzMIC; } goto m34zH; lJkzl: if (!($lotteryrecord["\165\163\x65\156\165\x6d"] >= $lotteryrecord["\x61\154\x6c\x6e\165\155"])) { goto qLktO; } goto bgzGR; n8h49: global $_W, $_GPC; goto jI1XR; hvQ0r: $uid = intval($_GPC["\x75\151\144"]); goto QCIgQ; fcyLG: TtT24: goto Cxx38; GOBqt: goto TtT24; goto YrPKd; x1DPe: kx_Vu: goto GOBqt; Cxx38: } public function doPageSaveAward() { goto XMe95; nFcWC: O7vIA: goto bFrvL; BOH1W: $orderdata["\x73\x74\x61\164\165\x73"] = 1; goto uzvbl; FSqx2: if (!($goods["\x69\156\x69\x74\x69\x61\154\x64\x72\141\167\x73"] <= 0)) { goto ImgQ0; } goto j_CyC; uemsQ: $gdata[$award_field] = intval($goods[$award_field]) > 0 ? $goods[$award_field] - 1 : 0; goto H1mZb; nld8D: $res = pdo_insert("\171\172\150\171\x6b\x5f\163\165\x6e\x5f\145\141\x74\x76\x69\163\x69\164\137\x6c\157\164\x74\x65\x72\171\x72\145\x63\157\162\144", $data); goto l38af; fsfMS: $orderdata["\x75\x6e\151\x61\x63\x69\x64"] = $uniacid; goto BOH1W; pZHuG: $awardIndex = $_GPC["\x61\x77\x61\x72\x64\x49\156\x64\145\170"]; goto e1C1Z; jVP1W: if ($lotteryrecord) { goto jJGy7; } goto FSqx2; Apc8x: $data["\165\x69\x64"] = $uid; goto X10Lc; bFrvL: $data["\x75\163\x65\x6e\x75\x6d"] = $lotteryrecord["\x75\163\145\156\x75\x6d"] + 1; goto IzvOz; tnOoP: return $this->result(1, "\345\267\262\xe7\xbb\217\xe6\262\241\346\x9c\211\346\212\xbd\345\245\x96\346\254\xa1\xe6\x95\260\344\272\206\xef\274\201", array()); goto nFcWC; MRyLw: O8u8D: goto irlw7; skxah: $orderdata["\160\x72\x69\x7a\145"] = $award_arr[$awardIndex]; goto kX7Ta; CZDAP: $orderdata = array(); goto lC2l6; rPhBP: $gid = intval($_GPC["\x67\x69\x64"]); goto pZHuG; QhK_3: echo 2; goto EEPdF; MzGed: $uniacid = $_W["\165\x6e\x69\x61\x63\151\x64"]; goto MTH0p; KCsAA: $orderdata["\x67\156\141\x6d\145"] = $goods["\x67\x6e\141\155\x65"]; goto BYGrm; XMe95: global $_W, $_GPC; goto MzGed; uzvbl: $orderdata["\165\x69\144"] = $uid; goto iENMW; q59WX: if (!$res) { goto O8u8D; } goto u93Pu; B5nXY: $goods = pdo_get("\x79\172\150\x79\x6b\137\163\x75\156\x5f\x65\141\x74\x76\151\163\151\x74\137\147\x6f\157\x64\163", array("\x69\144" => $gid, "\x75\156\151\x61\x63\151\x64" => $uniacid)); goto BvTZ0; ClGig: if (!($lotteryrecord["\165\x73\x65\156\165\155"] >= $lotteryrecord["\x61\x6c\x6c\x6e\x75\x6d"])) { goto O7vIA; } goto tnOoP; j_CyC: return $this->result(1, "\345\267\xb2\xe7\xbb\x8f\346\262\xa1\346\234\211\346\x8a\xbd\xe5\245\x96\xe6\xac\241\xe6\x95\xb0\344\xba\x86\357\274\x81", array()); goto INtnr; BvTZ0: $award_arr = array($goods["\147\162\141\x6e\x64\160\162\x69\172\145"], $goods["\x66\x69\x72\x73\x74\160\162\x69\172\145"], $goods["\163\145\143\157\x6e\x64\x70\162\151\x7a\145"], $goods["\x74\x68\151\162\x64\160\x72\151\172\145"], $goods["\146\x6f\x75\162\x74\x68\160\x72\x69\172\145"], "\346\234\252\xe4\270\xad\xe5\245\226"); goto xAl2a; X10Lc: $data["\x6f\160\145\x6e\151\x64"] = $openid; goto kJxJ_; iENMW: $orderdata["\157\160\x65\156\151\144"] = $openid; goto VOCZL; VOCZL: $orderdata["\141\144\144\x74\151\155\145"] = time(); goto BS3hK; dFNZE: $data["\165\163\145\x6e\x75\x6d"] = 1; goto xxVAp; IT0ZJ: jJGy7: goto ClGig; IzvOz: $data["\x61\x77\x61\162\x64\x69\144"] = $lotteryrecord["\x61\x77\x61\162\144\151\144"] ? $lotteryrecord["\141\167\141\162\144\x69\144"] . "\x2c" . $awardIndex : $awardIndex; goto gDjUJ; TmCbL: $uid = intval($_GPC["\165\151\144"]); goto rPhBP; BS3hK: $res = pdo_insert("\x79\172\x68\171\153\137\163\x75\x6e\x5f\145\x61\164\x76\151\x73\151\164\x5f\x6f\162\x64\145\162", $orderdata); goto q59WX; HbuDT: $orderdata["\x73\164\157\x72\x65\151\x64"] = $goods["\x62\x69\144"]; goto blUif; H1mZb: $res = pdo_update("\171\x7a\150\x79\x6b\x5f\163\x75\156\x5f\145\x61\x74\x76\151\x73\x69\x74\137\147\x6f\157\144\163", $gdata, array("\151\x64" => $gid, "\165\156\151\141\x63\x69\144" => $uniacid)); goto MRyLw; i9WEM: if (!($awardIndex < 5)) { goto Ukr8T; } goto rQezt; BYGrm: $orderdata["\x67\151\x6d\x61\147\x65\x73"] = $goods["\164\x68\x75\x6d\142\x6e\x61\x69\x6c"]; goto EwX9G; irlw7: VhNYM: goto PbGog; xxVAp: $data["\x75\156\x69\x61\143\x69\x64"] = $uniacid; goto EVue6; tcsRz: $data["\160\162\x69\x7a\145"] = $award_arr[$awardIndex]; goto nld8D; blUif: $orderdata["\163\164\157\x72\x65\156\x61\155\145"] = $goods["\163\x74\x6f\162\x65\x6e\x61\x6d\x65"]; goto KCsAA; DKB4B: $award_field = $award_field_arr[$awardIndex]; goto uemsQ; rbp3y: $res = pdo_update("\x79\x7a\x68\171\153\x5f\163\165\156\137\145\x61\x74\166\151\163\x69\164\x5f\x6c\x6f\164\164\145\x72\x79\162\145\143\157\x72\144", $data, array("\x67\x69\144" => $gid, "\x75\151\x64" => $uid, "\165\156\151\141\143\151\144" => $uniacid)); goto f7Kg2; u93Pu: $award_field_arr = array("\x67\x72\141\x6e\144\x6e\x75\x6d", "\146\151\162\x73\x74\x6e\165\155", "\163\145\x63\157\x6e\x64\x6e\165\x6d", "\164\x68\x69\x72\x64\156\165\155", "\146\x6f\x75\162\x74\x68\x6e\x75\x6d"); goto DKB4B; f7Kg2: Br0GC: goto i9WEM; lC2l6: $orderdata["\x67\151\144"] = $gid; goto HbuDT; INtnr: ImgQ0: goto Apc8x; e1C1Z: $awardIndex = $awardIndex >= 0 && $awardIndex <= 5 ? $awardIndex : 5; goto B5nXY; gDjUJ: $data["\160\x72\151\172\145"] = $lotteryrecord["\160\x72\151\x7a\x65"] ? $lotteryrecord["\x70\x72\x69\x7a\x65"] . "\54" . $award_arr[$awardIndex] : $award_arr[$awardIndex]; goto rbp3y; RU8ah: $data["\141\x6c\x6c\156\165\155"] = $goods["\x69\x6e\x69\164\151\x61\x6c\144\x72\x61\x77\x73"]; goto dFNZE; EwX9G: $orderdata["\x61\x77\x61\162\x64"] = $awardIndex; goto skxah; rQezt: if (!$res) { goto VhNYM; } goto CZDAP; EVue6: $data["\x61\x77\141\162\144\151\x64"] = $awardIndex; goto tcsRz; kJxJ_: $data["\147\151\x64"] = $gid; goto RU8ah; MTH0p: $openid = $_GPC["\x6f\160\145\156\x69\x64"]; goto TmCbL; l38af: goto Br0GC; goto IT0ZJ; kFY2s: $data = array(); goto jVP1W; kX7Ta: $orderdata["\157\x72\144\x65\x72\x6e\x75\x6d"] = time() . mt_rand(10000, 99999); goto fsfMS; xAl2a: $lotteryrecord = pdo_get("\171\x7a\150\x79\x6b\x5f\163\165\x6e\137\x65\x61\164\x76\x69\x73\x69\x74\137\x6c\x6f\x74\x74\145\162\171\162\145\x63\x6f\x72\x64", array("\147\151\144" => $gid, "\165\151\x64" => $uid, "\x75\156\x69\x61\143\x69\144" => $uniacid)); goto kFY2s; PbGog: Ukr8T: goto QhK_3; EEPdF: } public function doPageGetOrder() { goto WV6uE; fspN7: $where .= "\40\141\x6e\144\40\x6f\56\163\164\141\164\165\163\x20\75\x20\x32\40\x61\x6e\144\x20\147\56\145\170\160\151\162\x61\164\x69\157\156\164\151\155\145\40\x3e\75\x20" . $new . "\x20"; goto y43kK; Pml1x: $uniacid = $_W["\x75\x6e\151\x61\x63\151\x64"]; goto qPp6S; qe2NI: Ry3Vn: goto FIsgg; BiWCt: MTHDY: goto fspN7; Ghvvh: ASYvW: goto iyLYx; H7XiA: $newdata["\157\162\x64\x65\162\x6c\151\x73\x74"] = $data; goto CQbOT; Iflla: if ($status == 2) { goto oQ0BU; } goto iKX_S; jh1b3: lpUYD: goto n97e7; Xty20: if ($data) { goto ASYvW; } goto OZpy0; U2w70: $new = time(); goto vlxxV; ZwEeV: Iem6c: goto EJfu9; S0niF: if ($status == 1) { goto MTHDY; } goto Iflla; CQbOT: echo json_encode($newdata); goto qe2NI; qPp6S: $uid = intval($_GPC["\x75\151\144"]); goto xIECK; lO4SS: $where .= "\x20\x61\x6e\144\40\147\56\x65\x78\160\151\x72\x61\164\151\x6f\x6e\x74\151\155\x65\x20\x3c\40" . $new . "\x20"; goto jh1b3; EJfu9: $where .= "\x20\141\156\144\x20\157\56\163\164\141\x74\165\163\40\x3d\x20\61\40\x61\x6e\x64\40\147\56\x65\x78\x70\151\x72\x61\164\x69\157\156\164\151\155\145\x20\76\75\x20" . $new . "\x20"; goto j42ZA; y43kK: goto lpUYD; goto pe6L4; v5Zza: $newdata["\165\x72\x6c"] = $_W["\x61\x74\x74\141\143\x68\x75\x72\154"]; goto H7XiA; pe6L4: oQ0BU: goto lO4SS; os769: $data = pdo_fetchall($sql); goto Xty20; iKX_S: goto lpUYD; goto ZwEeV; OZpy0: echo 2; goto HdzG5; n97e7: $sql = "\x73\x65\154\145\x63\164\x20\x6f\x2e\52\x2c\147\x2e\x61\x73\164\x69\x6d\x65\x2c\x67\56\x61\156\x74\x69\x6d\145\54\x67\56\x65\170\x70\x69\162\x61\x74\151\157\x6e\x74\151\155\145\54\x67\x2e\x74\150\165\x6d\142\x6e\x61\x69\154\40\146\x72\x6f\x6d\40" . tablename("\x79\x7a\x68\x79\x6b\137\163\x75\x6e\x5f\145\x61\x74\x76\151\163\151\x74\137\x6f\x72\x64\x65\x72") . "\40\x61\163\x20\157\40\x6c\x65\146\x74\x20\x6a\x6f\x69\x6e\40" . tablename("\171\172\150\x79\153\x5f\163\165\156\137\x65\x61\x74\166\x69\163\151\164\137\x67\157\x6f\x64\163") . "\40\x61\163\40\x67\40\x6f\x6e\40\x67\56\151\x64\x3d\157\56\x67\151\144\40" . $where . "\40\40\x6f\x72\144\145\162\40\142\x79\x20\x6f\56\x69\x64\x20\144\x65\163\x63\40\x6c\x69\155\x69\x74\40" . $pageindex . "\54" . $pagesize; goto os769; in1_E: $pageindex = intval($_GPC["\160\x61\x67\145"]) * $pagesize; goto Ym91s; Ym91s: $where = "\40\167\x68\145\162\x65\40\157\56\165\156\x69\141\143\x69\x64\75" . $uniacid . "\40\141\156\x64\40\x6f\56\x75\x69\144\40\x3d\x20" . $uid . "\x20"; goto AH8JK; HdzG5: goto Ry3Vn; goto Ghvvh; j42ZA: goto lpUYD; goto BiWCt; T1C93: $status = intval($_GPC["\x73\x74\141\164\x75\163"]); goto U2w70; vlxxV: $pagesize = 10; goto in1_E; iyLYx: $newdata = []; goto v5Zza; xIECK: $openid = $_GPC["\157\160\x65\156\151\x64"]; goto T1C93; AH8JK: if ($status == 0) { goto Iem6c; } goto S0niF; WV6uE: global $_W, $_GPC; goto Pml1x; FIsgg: } public function doPageGetOrderInfo() { goto m_wQ0; egaa1: pOFgB: goto v4ngy; P60C2: klsau: goto vUALm; wOdJ9: goto klsau; goto egaa1; v4ngy: echo json_encode($data); goto P60C2; m_wQ0: global $_W, $_GPC; goto TsxNO; yNrZT: echo 2; goto wOdJ9; ysj_6: $data = pdo_fetch($sql); goto ZrMKy; ysJc1: $id = intval($_GPC["\151\144"]); goto T7D2F; TsxNO: $uniacid = $_W["\x75\156\x69\x61\x63\x69\x64"]; goto ysJc1; ZrMKy: if ($data) { goto pOFgB; } goto yNrZT; T7D2F: $sql = "\x73\145\x6c\x65\x63\x74\40\157\x2e\52\x2c\x62\56\164\x65\154\54\142\56\141\144\x64\x72\145\x73\163\x2c\x62\56\154\x6f\156\147\x69\164\x75\144\x65\x2c\x62\56\x6c\x61\164\151\x74\x75\144\145\x20\x66\162\x6f\x6d\40" . tablename("\171\x7a\150\171\153\x5f\163\165\156\137\x65\x61\164\x76\x69\163\x69\164\x5f\157\162\144\145\x72") . "\40\141\x73\40\157\x20\x6c\x65\146\x74\40\152\x6f\x69\x6e\40" . tablename("\x79\x7a\150\x79\153\x5f\163\165\156\x5f\x73\164\x6f\x72\145") . "\40\141\163\40\142\40\x6f\156\x20\157\56\x73\164\x6f\162\x65\151\x64\x3d\x62\x2e\151\144\x20\x77\x68\145\162\x65\40\157\x2e\x69\144\x3d" . $id . "\40"; goto ysj_6; vUALm: } public function doPageGetwxCode() { goto ZnZuI; RRRNZ: $datas["\x77\170\x63\x6f\x64\x65\137\x70\151\x63"] = $imgname; goto biTW1; YlJ2r: $data["\154\x69\156\x65\x5f\x63\x6f\154\157\x72"] = $line_color; goto mY2YC; B3kHY: return $this->result(1, "\345\234\272\346\231\xaf\xe5\x80\274\xe4\270\215\xe5\220\210\346\263\225", array()); goto gB4qv; dH3VP: $return = $this->request_post($url, $json_data); goto Dk1T3; HMMtD: $page = $_GPC["\x70\x61\x67\145"]; goto Ra39H; OQhfI: file_put_contents("\x2e\56\x2f\141\x74\164\x61\x63\150\155\x65\x6e\x74\57" . $imgname, $return); goto RRRNZ; kTl0p: $auto_color = $_GPC["\x61\165\x74\x6f\137\143\x6f\154\157\x72"] ? $_GPC["\141\x75\x74\157\137\143\x6f\x6c\x6f\x72"] : false; goto Y0Jrb; iNy8X: $d_set = pdo_get("\171\172\x68\x79\153\x5f\x73\165\156\137\x64\x69\163\164\162\x69\142\x75\164\x69\x6f\x6e\137\x73\x65\164", array("\x75\156\151\141\143\151\144" => $uniacid), array("\160\157\163\x74\145\162\x74\x6f\160\x70\x69\143", "\x70\x6f\x73\164\145\162\164\x6f\160\x74\151\164\x6c\x65")); goto bnaV3; XFWUl: $data["\163\143\145\156\x65"] = $scene; goto MlEaS; ZnZuI: global $_W, $_GPC; goto hRkdQ; ohq2z: $json_data = json_encode($data); goto dH3VP; P0zeV: z8QVa: goto z50N0; Ra39H: $width = $_GPC["\x77\x69\x64\164\x68"] ? $_GPC["\x77\x69\x64\164\x68"] : 430; goto kTl0p; OUWHE: $data["\x61\165\x74\157\x5f\x63\157\x6c\x6f\x72"] = $auto_color; goto YlJ2r; hRkdQ: $access_token = $this->getaccess_token(); goto See45; J0mxE: $url = "\x68\164\x74\x70\163\x3a\57\57\x61\x70\x69\x2e\167\x65\151\170\151\156\56\161\161\56\x63\x6f\155\x2f\x77\170\141\57\x67\145\164\x77\x78\141\143\157\144\x65\165\156\154\151\155\151\x74\77\x61\x63\143\145\x73\163\x5f\x74\157\153\x65\x6e\75" . $access_token; goto tblYH; VJ6nU: if (!($uid > 0)) { goto sekfW; } goto iNy8X; bnaV3: if (!$d_set) { goto z8QVa; } goto EWnX7; Dfs_E: $is_hyaline = $_GPC["\x69\x73\x5f\150\171\x61\x6c\151\156\145"] ? $_GPC["\151\163\x5f\150\171\x61\154\x69\x6e\x65"] : true; goto ZYXh_; Vap6A: if (preg_match("\x2f\x5b\60\55\71\141\55\172\101\x2d\132\x5c\41\x5c\43\134\44\x5c\46\x27\134\x28\x5c\51\x5c\52\134\53\x5c\x2c\x5c\57\x5c\x3a\x5c\73\134\x3d\134\x3f\134\x40\x5c\55\x5c\x2e\x5c\x5f\134\176\135\173\x31\54\x33\62\175\x2f", $scene)) { goto T7NV5; } goto B3kHY; See45: $scene = $_GPC["\163\143\145\156\145"]; goto Vap6A; Y0Jrb: $line_color = $_GPC["\x6c\151\x6e\145\x5f\143\157\x6c\157\162"] ? $_GPC["\154\151\x6e\x65\x5f\143\157\x6c\x6f\162"] : array("\162" => 0, "\x67" => 0, "\x62" => 0); goto Dfs_E; tblYH: $data = array(); goto XFWUl; Dk1T3: $imgname = time() . rand(10000, 99999) . "\x2e\x6a\x70\x67"; goto OQhfI; VsCdg: $uniacid = $_W["\x75\156\x69\x61\143\x69\144"]; goto VJ6nU; MlEaS: $data["\x70\x61\147\145"] = $page; goto iM_b3; EWnX7: $datas["\x62\154\157\x67\x6f"] = !empty($d_set["\160\157\x73\x74\x65\162\x74\x6f\160\x70\x69\x63"]) ? $_W["\141\x74\x74\141\x63\x68\165\x72\154"] . $d_set["\160\x6f\163\x74\145\x72\164\x6f\160\x70\x69\143"] : $_W["\163\151\164\145\x72\x6f\157\164"] . "\x2f\141\144\144\x6f\156\x73\x2f\x79\x7a\150\171\x6b\137\x73\x75\x6e\137\x70\x6c\165\x67\151\x6e\137\144\x69\x73\x74\162\x69\142\x75\164\x69\157\x6e\57\151\155\141\x67\145\x73\57\163\150\x61\x72\145\151\x6d\147\56\x70\156\147"; goto XSX1f; ZYXh_: $uid = intval($_GPC["\165\151\144"]); goto VsCdg; z50N0: sekfW: goto J0mxE; biTW1: echo json_encode($datas); goto oNGpQ; iM_b3: $data["\167\151\144\164\150"] = $width; goto OUWHE; gB4qv: T7NV5: goto HMMtD; mY2YC: $data["\151\163\137\x68\171\141\x6c\x69\156\x65"] = $is_hyaline; goto ohq2z; XSX1f: $datas["\x70\157\163\x74\145\x72\x74\157\x70\x74\x69\x74\x6c\145"] = $d_set["\160\157\x73\164\x65\162\164\x6f\x70\164\x69\164\x6c\x65"]; goto P0zeV; oNGpQ: } public function getaccess_token() { goto FTYPk; CAjOx: $data = curl_exec($ch); goto jvVSl; mfPoo: $data = json_decode($data, true); goto oHRMe; jvVSl: curl_close($ch); goto mfPoo; gAKJZ: curl_setopt($ch, CURLOPT_URL, $url); goto SZvGT; CKIwG: curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 0); goto CAjOx; oHRMe: return $data["\x61\x63\143\145\163\x73\x5f\x74\x6f\153\145\156"]; goto PjTCv; FTYPk: global $_W, $_GPC; goto WVr2g; SZvGT: curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); goto CKIwG; B5b2_: $url = "\x68\x74\x74\x70\163\x3a\x2f\57\x61\x70\151\56\x77\x65\151\x78\x69\x6e\56\x71\x71\56\x63\157\x6d\x2f\x63\147\x69\x2d\142\151\x6e\x2f\x74\157\153\x65\x6e\77\147\162\x61\156\x74\x5f\x74\171\160\x65\x3d\143\154\x69\x65\156\x74\137\143\162\145\x64\x65\156\164\x69\x61\x6c\46\x61\x70\x70\151\144\x3d" . $appid . "\x26\x73\x65\143\x72\x65\164\x3d" . $secret . ''; goto QLYt1; QLYt1: $ch = curl_init(); goto gAKJZ; WVr2g: $res = pdo_get("\x79\172\x68\x79\153\x5f\163\x75\156\137\163\x79\x73\164\x65\155", array("\165\156\x69\141\x63\151\x64" => $_W["\x75\156\x69\x61\143\x69\x64"])); goto ZvUMn; ZvUMn: $appid = $res["\141\x70\160\x69\x64"]; goto g5_Vc; g5_Vc: $secret = $res["\141\160\160\163\x65\x63\162\145\164"]; goto B5b2_; PjTCv: } public function request_post($url, $data) { goto TdmEB; a5QDY: curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 0); goto JW_M3; X9Qca: $tmpInfo = curl_exec($ch); goto BaCXl; BaCXl: $error = curl_errno($ch); goto v2hkL; v2hkL: curl_close($ch); goto h6z85; gjNuz: curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); goto a5QDY; bkb82: vQLYF: goto SX3gw; fsgo_: return false; goto bkb82; Jjmvj: curl_setopt($ch, CURLOPT_URL, $url); goto gjNuz; jWeWq: dIkve: goto fsgo_; RMD0X: curl_setopt($ch, CURLOPT_POSTFIELDS, $data); goto X9Qca; JW_M3: curl_setopt($ch, CURLOPT_POST, 1); goto RMD0X; IwkD1: return $tmpInfo; goto oq4Nh; TdmEB: $ch = curl_init(); goto Jjmvj; h6z85: if ($error) { goto dIkve; } goto IwkD1; oq4Nh: goto vQLYF; goto jWeWq; SX3gw: } public function doPageDelwxCode() { goto zJO0b; IxBWP: Sie7i: goto mg1Yd; o09ik: $info = "\346\xb2\241\xe6\x89\xbe\345\x88\260\72" . $filename; goto fYBAp; ET_8C: $imgurl = $_GPC["\x69\155\147\165\162\154"]; goto TbumQ; TbumQ: $filename = "\56\x2e\57\x61\x74\164\141\143\x68\x6d\x65\156\x74\57" . $imgurl; goto fLcZq; qXJ9y: unlink($filename); goto IxBWP; OJqBH: $info = "\345\210\240\351\x99\xa4\xe6\210\220\345\x8a\x9f"; goto qXJ9y; fLcZq: if (file_exists($filename)) { goto CqNDE; } goto o09ik; FmRRF: CqNDE: goto OJqBH; zJO0b: global $_W, $_GPC; goto ET_8C; fYBAp: goto Sie7i; goto FmRRF; mg1Yd: echo $info; goto JDSSv; JDSSv: } }