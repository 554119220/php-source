<?php
 class SupermanHandUtil { public static function formatTime($timestamp) { goto MEN4I; u1HBy: goto CGhkE; goto sN6X2; VYFU8: rkRew: goto FQ69B; YrCHv: $format = "\x31\345\210\206\351\x92\237"; goto x9dDM; sN6X2: UDhaN: goto apKaI; Z7MiW: CGhkE: goto wDNru; apKaI: $format = floor($time_diff) . "\345\x88\206\351\222\x9f"; goto Z7MiW; d_DRd: if ($time_diff >= 60 && $time_diff < 1440) { goto rkRew; } goto HFCau; vYlAW: if ($time_diff > 1 && $time_diff < 60) { goto UDhaN; } goto d_DRd; RbJaQ: goto ZBzZB; goto VYFU8; ahCzi: return $format; goto SALsv; C1nJI: $format = floor($time_diff / 43200) . "\346\x9c\x88"; goto l7RGc; nfdyv: if ($time_diff >= 43200 && $time_diff < 518400) { goto ZcrFR; } goto QoQJl; wDNru: goto ib3jI; goto aDizI; x9dDM: ib3jI: goto ahCzi; l7RGc: sTaUG: goto S6e61; tbiRz: ZcrFR: goto C1nJI; FQ69B: $format = floor($time_diff / 60) . "\xe5\xb0\x8f\346\x97\xb6"; goto h3kCR; e4cfd: o26Kk: goto lGEj8; MEN4I: $time_diff = (TIMESTAMP - $timestamp) / 60; goto GocqD; aDizI: Bv3Ua: goto YrCHv; HFCau: if ($time_diff >= 1440 && $time_diff < 43200) { goto o26Kk; } goto nfdyv; lGEj8: $format = floor($time_diff / 1440) . "\xe5\244\251"; goto tgijt; QoQJl: $format = floor($time_diff / 518400) . "\xe5\271\264"; goto nt3J9; tgijt: vYHoh: goto RbJaQ; S6e61: goto vYHoh; goto e4cfd; nt3J9: goto sTaUG; goto tbiRz; h3kCR: ZBzZB: goto u1HBy; GocqD: if ($time_diff <= 1) { goto Bv3Ua; } goto vYlAW; SALsv: } public static function order_status_title($status = null) { goto GTDsp; ZCiDV: if (!($status !== null && isset($all_status[$status]))) { goto r0gr2; } goto k3vQl; GTDsp: $all_status = array("\55\x33" => "\345\267\xb2\351\200\200\xe6\254\xbe", "\x2d\62" => "\xe5\267\262\xe5\x88\240\351\231\xa4", "\x2d\61" => "\xe5\276\205\xe9\200\x80\346\xac\276", "\x30" => "\345\xbe\205\346\224\xaf\xe4\273\230", "\x31" => "\xe5\xbe\x85\xe5\217\x91\350\xb4\xa7", "\x32" => "\345\267\xb2\345\217\x91\xe8\264\xa7", "\63" => "\xe5\xb7\262\xe6\x94\xb6\xe8\xb4\247", "\x34" => "\345\xb7\262\xe5\xae\x8c\346\210\220"); goto ZCiDV; JBOFW: r0gr2: goto xpQHS; k3vQl: return $all_status[$status]; goto JBOFW; xpQHS: return $all_status; goto bK3jB; bK3jB: } public static function get_getcash_status_title($status) { goto FplQm; W7WGn: zDm3z: goto PJksY; FplQm: switch ($status) { case -1: return "\xe6\217\x90\xe7\216\xb0\xe5\xa4\261\xe8\264\245"; goto MEXKP; case 0: return "\346\x9c\252\xe6\224\257\344\xbb\x98"; goto MEXKP; case 1: return "\xe5\xb7\262\346\x94\257\344\273\x98"; goto MEXKP; default: return "\x75\x6e\153\x6e\157\x77\x6e"; goto MEXKP; } goto W7WGn; PJksY: MEXKP: goto zTn_I; zTn_I: } public static function item_status_title($status = null) { goto bjXdW; e33fB: return $all_status; goto qzvcQ; n7SW7: return $all_status[$status]; goto vndcU; vndcU: RCTur: goto e33fB; feybs: if (!($status !== null && isset($all_status[$status]))) { goto RCTur; } goto n7SW7; bjXdW: $all_status = array("\x2d\x32" => "\xe5\xb7\262\xe5\x88\xa0\xe9\231\xa4", "\55\61" => "\345\267\262\344\xb8\213\xe6\236\xb6", "\60" => "\345\276\x85\345\xae\xa1\xe6\240\270", "\x31" => "\xe5\267\262\xe5\217\x91\xe5\xb8\203", "\62" => "\345\xb7\262\344\xba\xa4\xe6\230\223"); goto feybs; qzvcQ: } function pay_item_expiretime($num, $time = 0) { goto bxtet; tne2p: return $time > 0 ? strtotime($pay_date . "\40\53" . $num . "\40\144\141\x79") : strtotime("\53{$num}\40\x64\x61\171"); goto pW2ff; WGtwK: return $time > 0 ? strtotime($pay_date . "\x20\53" . $hour . "\x20\150\x6f\x75\x72") : strtotime("\53{$hour}\x20\150\x6f\165\162"); goto WvmpD; l6u7b: Trc1O: goto tne2p; bxtet: $pay_date = date("\131\55\155\55\144\x20\x48\72\x69\x3a\x73", $time); goto Ht7IT; Ht7IT: if ($num > 1) { goto Trc1O; } goto nXEMb; pW2ff: huzw2: goto tkdSt; WvmpD: goto huzw2; goto l6u7b; nXEMb: $hour = ceil($num * 24); goto WGtwK; tkdSt: } public static function hide_mobile($mobile) { return !empty($mobile) ? preg_replace("\x2f\x28\134\x64\173\63\x7d\51\50\x5c\144\x7b\64\175\51\x2f", "\x24\x31\x2a\52\52\52", $mobile) : ''; } public static function json($errno, $errmsg = '', $data = array()) { goto Uu59F; Uu59F: ob_end_clean(); goto cKUyg; cKUyg: if (!($errmsg == '')) { goto Ltz4X; } goto AlNBc; dQemz: exit(json_encode($result)); goto h60nm; vFZIF: @header("\x43\157\156\x74\x65\156\164\x2d\x54\x79\x70\145\x3a\40\x61\x70\x70\x6c\151\x63\x61\x74\151\x6f\156\57\x6a\163\x6f\x6e\73\x20\x63\x68\141\x72\x73\145\164\75\165\164\x66\x2d\70"); goto dQemz; AlNBc: $errmsg = SupermanHandErrno::$ERRMSG[$errno]; goto rhCWe; rhCWe: Ltz4X: goto d6qm9; d6qm9: $result = array("\145\162\162\156\x6f" => $errno, "\145\162\162\155\163\x67" => $errmsg, "\144\x61\x74\x61" => $data); goto vFZIF; h60nm: } public static function set_resource(&$res) { goto AOVFI; B34u5: $res["\152\163"] = ''; goto Y5FBU; POWNy: if (defined("\111\x4e\137\115\117\x42\111\x4c\105")) { goto TdqN_; } goto KPBXq; Y5FBU: $module = ''; goto POWNy; D6qaQ: PQeFX: goto r6eAj; Zc2E0: TdqN_: goto iRvgF; HVLF6: $do = $_GPC["\144\x6f"]; goto pHmlW; KPBXq: if (!defined("\x49\116\x5f\123\131\123")) { goto hZUlu; } goto I60M6; MY0H0: $res["\x63\157\155\155\x6f\x6e\137\152\163"] = "\74\163\143\162\151\x70\164\x20\x73\x72\x63\x3d\42" . MODULE_URL . "\57\155\x69\156\57\151\156\x64\x65\x78\56\x70\150\160\x3f\x67\x3d\143\157\x6d\x6d\157\x6e\x2d\152\163\46" . SUPERMAN_HAND2_VERSION . "\42\x20\x63\150\141\x72\163\x65\164\75\x22\165\164\146\x2d\70\42\x3e\x3c\x2f\163\x63\x72\x69\x70\164\76"; goto fCRHa; fCRHa: $res["\155\x61\x69\x6e\x5f\x6a\x73"] = "\x3c\x73\143\162\x69\x70\x74\40\163\x72\x63\75\42" . MODULE_URL . "\57\155\151\156\x2f\151\156\144\x65\x78\x2e\160\150\x70\77\x67\x3d\x6d\x61\151\156\55\x6a\x73\x26" . SUPERMAN_HAND2_VERSION . "\x22\x20\143\x68\x61\162\x73\145\164\x3d\42\x75\164\x66\55\x38\42\76\x3c\57\163\x63\x72\151\x70\x74\76"; goto H9UE1; CJsMG: p13B2: goto TFwP6; KKO0r: $res["\155\x61\151\156\x5f\x6a\x73"] = "\x3c\163\x63\162\151\160\x74\x20\163\162\143\75\42" . MODULE_URL . "\x2f\164\x65\x6d\x70\154\141\x74\x65\x2f\155\157\142\151\154\145\x2f\x63\x61\143\150\x65\x2f\x6d\x61\x69\x6e\x2e\x6a\163\77" . SUPERMAN_HAND2_VERSION . "\42\40\x63\150\141\x72\163\x65\164\75\x22\x75\x74\x66\x2d\70\42\x3e\x3c\x2f\163\143\162\151\x70\164\76"; goto EHYtf; viHO0: $res["\x63\157\155\155\x6f\x6e\x5f\x6a\163"] = "\x3c\163\x63\x72\151\160\x74\x20\163\x72\x63\x3d\x22" . MODULE_URL . "\57\x6d\151\x6e\x2f\x69\156\144\x65\x78\56\160\150\x70\x3f\147\x3d\x63\x6f\x6d\x6d\157\156\x2d\x6a\163\x26\x64\x65\x62\165\x67\x3d\61\x26" . SUPERMAN_HAND2_VERSION . "\x22\40\x63\150\x61\162\x73\x65\x74\x3d\x22\165\x74\146\x2d\70\x22\76\74\57\163\143\x72\x69\160\164\x3e"; goto eszqc; ONPOd: goto NlV_m; goto dgw6l; y4gy4: if (file_exists(MODULE_ROOT . "\x2f\x74\x65\x6d\x70\x6c\x61\164\x65\57\155\157\142\x69\x6c\145\57\143\x61\x63\150\x65\57\143\x73\x73\56\x63\x73\163") && !defined("\117\116\x4c\x49\x4e\105\x5f\x44\105\x56\x45\x4c\x4f\120\115\105\116\124")) { goto p13B2; } goto pH17s; OcNlg: goto PQeFX; goto Zc2E0; TFwP6: $res["\x63\x73\x73"] = "\74\x6c\x69\x6e\x6b\x20\162\x65\154\75\42\x73\164\x79\154\145\163\150\x65\x65\164\42\40\x68\162\145\146\x3d\42" . MODULE_URL . "\x2f\x74\x65\155\x70\154\x61\164\x65\57\155\157\x62\x69\x6c\145\x2f\143\141\143\150\145\57\143\163\x73\56\x63\163\x73\x3f" . SUPERMAN_HAND2_VERSION . "\x22\x3e"; goto pQa4y; X0PW_: $res["\143\163\x73"] = ''; goto B34u5; r4KVv: $res["\x63\163\x73"] = "\x3c\x6c\151\x6e\x6b\40\x72\145\154\75\x22\163\x74\x79\x6c\145\x73\x68\x65\145\164\42\x20\150\162\x65\x66\75\42" . MODULE_URL . "\x2f\x6d\151\x6e\57\151\x6e\144\145\x78\x2e\160\150\160\x3f\x67\x3d\x63\163\x73\x26\144\145\142\165\147\75\x31\x26" . SUPERMAN_HAND2_VERSION . "\x22\76"; goto viHO0; AOVFI: global $_GPC; goto LD_q2; dgw6l: PxALk: goto r4KVv; iRvgF: $module = "\x6d\157\142\151\154\x65"; goto D6qaQ; Uj8cB: return $res; goto NnLRB; eszqc: $res["\155\x61\151\156\x5f\152\x73"] = "\x3c\163\x63\x72\x69\160\164\x20\x73\x72\x63\75\x22" . MODULE_URL . "\57\155\x69\x6e\x2f\151\156\144\145\170\56\x70\150\160\x3f\147\75\155\141\151\x6e\x2d\x6a\x73\x26\144\145\x62\165\x67\x3d\61\x26" . SUPERMAN_HAND2_VERSION . "\x22\x20\x63\150\x61\x72\163\145\164\75\x22\165\164\x66\x2d\x38\x22\76\74\x2f\x73\x63\162\151\160\164\x3e"; goto oDrOf; pHmlW: $act = $_GPC["\x61\143\x74"] ? $_GPC["\141\143\164"] : "\x64\151\x73\x70\x6c\141\171"; goto X0PW_; H9UE1: goto MIo2F; goto CJsMG; pQa4y: $res["\x63\x6f\x6d\155\157\156\x5f\x6a\x73"] = "\x3c\163\x63\x72\x69\x70\x74\40\x73\x72\143\75\42" . MODULE_URL . "\57\164\145\155\160\154\141\164\145\x2f\155\x6f\x62\151\154\x65\57\143\x61\x63\x68\x65\x2f\143\x6f\x6d\x6d\x6f\x6e\x2e\152\x73\x3f" . SUPERMAN_HAND2_VERSION . "\42\x20\x63\150\x61\162\163\145\x74\75\42\x75\164\146\x2d\70\x22\76\x3c\x2f\163\143\x72\x69\x70\x74\x3e"; goto KKO0r; EDO6_: $js = array(); goto HVLF6; I60M6: $module = "\167\x65\x62"; goto cRhpu; oDrOf: NlV_m: goto Uj8cB; EHYtf: MIo2F: goto ONPOd; cRhpu: hZUlu: goto OcNlg; pH17s: $res["\x63\163\x73"] = "\x3c\154\x69\156\153\40\x72\145\154\x3d\x22\163\x74\x79\154\x65\163\x68\145\x65\164\42\x20\x68\162\145\x66\x3d\x22" . MODULE_URL . "\x2f\x6d\x69\x6e\x2f\151\156\144\145\x78\x2e\x70\x68\160\77\147\75\143\x73\x73\x26" . SUPERMAN_HAND2_VERSION . "\42\x3e"; goto MY0H0; LD_q2: $css = array(); goto EDO6_; r6eAj: if (defined("\x4c\117\103\x41\114\x5f\x44\105\126\x45\x4c\x4f\x50\x4d\x45\x4e\124")) { goto PxALk; } goto y4gy4; NnLRB: } public static function background_running($module) { goto JTooX; CGezr: $list = pdo_getall("\163\165\160\145\162\155\x61\156\137\x68\141\x6e\x64\x32\x5f\151\x74\145\x6d", array("\x75\x6e\151\x61\x63\x69\x64" => $_W["\165\x6e\x69\141\x63\151\x64"], "\163\x74\x61\x74\165\x73\40\x3e\x3d" => 0)); goto PnRNL; e5bbO: if (!$ret) { goto bA117; } goto dL2rX; HZUE5: xYRaF: goto O6fX_; RL73n: $gzh_appid = $module["\x63\157\x6e\x66\x69\x67"]["\155\x69\156\x69\160\147"]["\x62\151\x6e\144\x5f\147\172\150"]["\x61\160\160\x69\144"]; goto myjvY; Ku23_: ZAKH3: goto iMp8p; To3Xq: $wxapp_interval = self::check_running_interval_time($path . "\57\x68\x61\x6e\x64\x6c\x65\137\x74\160\x6c\155\x73\147\x2e\x74\x78\x74"); goto qdt3c; NzzrP: if (empty($orders)) { goto SkLnN; } goto oa0eV; WhaST: foreach ($orders as $li) { goto tyVDr; F_xdN: AO9fz: goto qCf7F; j3R2I: WeUtility::logging("\146\x61\x74\x61\x6c", "\40\x6f\162\144\145\x72\56\151\x6e\143\56\160\150\x70\54\40\157\x72\144\x65\162\40\163\x65\x74\164\x6c\x65\x6d\145\156\164\x20\x66\141\151\154\x65\144\54\40\x72\x65\x74\61\x3d" . var_export($ret1, true) . "\54\x20\162\145\164\62\x3d" . var_export($ret2, true) . "\54\x20\x6f\162\144\145\162\x3d" . var_export($li, true)); goto YtRC9; QDjMZ: $new_id = pdo_insertid(); goto UKU2k; z1eTl: goto AO9fz; goto qG8Dp; Gcgav: FRF4x: goto F_xdN; tyVDr: if (!empty($li)) { goto yTuLV; } goto z1eTl; YtRC9: qI_Is: goto O08HM; UKU2k: if (!empty($new_id)) { goto FRF4x; } goto u824l; O08HM: $log = array("\165\x6e\x69\141\143\151\144" => $_W["\x75\156\x69\141\x63\151\x64"], "\165\151\144" => $li["\x73\145\x6c\x6c\x65\x72\x5f\165\x69\x64"], "\x74\171\x70\145" => 1, "\x6d\157\156\145\x79" => $li["\160\162\x69\143\x65"], "\x6f\160\x65\162\x61\164\x6f\x72" => "\xe7\xb3\xbb\xe7\xbb\237", "\x72\145\155\x61\x72\153" => "\347\263\273\xe7\273\237\xe7\xbb\223\347\xae\227\357\xbc\232\350\xae\xa2\xe5\x8d\225\xe5\217\xb7\x3d" . $li["\x6f\162\144\145\x72\163\x6e"], "\x63\x72\145\x61\164\145\164\151\155\x65" => TIMESTAMP); goto g_lOA; g_lOA: pdo_insert("\x73\x75\x70\x65\162\155\x61\x6e\x5f\150\141\x6e\144\x32\x5f\x6d\x65\x6d\142\145\162\x5f\155\x6f\x6e\x65\x79\137\x6c\x6f\147", $log); goto QDjMZ; x1pTN: if (!($ret1 === false || $ret2 === false)) { goto qI_Is; } goto j3R2I; u824l: WeUtility::logging("\x66\141\164\141\x6c", "\x20\x6f\x72\x64\x65\162\x2e\x69\156\143\x2e\x70\150\x70\x2c\x20\x6f\x72\144\145\162\x20\163\145\164\164\154\x65\155\x65\156\164\40\146\141\151\x6c\x65\x64\x2c\x20\154\x6f\x67\x3d" . var_export($log, true) . "\54\x20\x6f\x72\x64\x65\162\x3d" . var_export($li, true)); goto Gcgav; XCuDS: $ret1 = pdo_update("\163\165\x70\145\162\155\141\x6e\x5f\150\141\156\x64\62\137\x6d\145\155\142\145\162", array("\142\141\x6c\x61\156\143\x65\40\x2b\75" => $li["\x70\162\x69\143\145"], "\x75\x70\144\x61\164\x65\164\151\x6d\x65" => TIMESTAMP), array("\x75\156\x69\141\x63\x69\144" => $_W["\x75\156\x69\141\143\x69\x64"], "\165\x69\144" => $li["\x73\x65\x6c\x6c\145\162\x5f\x75\x69\x64"])); goto AG9SE; AG9SE: $ret2 = pdo_update("\x73\x75\x70\x65\x72\155\x61\156\137\x68\x61\156\x64\62\x5f\157\x72\x64\145\x72", array("\163\x65\164\x74\154\145\155\x65\x6e\x74\137\x73\164\141\164\x75\x73" => 1, "\163\x74\x61\x74\x75\x73" => 3), array("\x69\x64" => $li["\x69\144"])); goto x1pTN; qG8Dp: yTuLV: goto XCuDS; qCf7F: } goto jqAfW; VxOcn: YoxZ2: goto IfLUf; QfXhU: if (!$ret) { goto j6mtX; } goto y7_cB; IuGyM: $notice_config = $plugin_module["\x70\154\165\x67\151\156\137\156\x6f\x74\x69\143\x65"]["\155\157\144\165\154\x65"]["\143\157\x6e\146\151\147"]; goto xYmKa; ztpRZ: file_put_contents($path . "\x2f\154\x6f\x63\x61\x74\x69\x6f\156\x5f\x74\x72\x61\156\x73\151\164\151\x6f\x6e\x2e\164\170\x74", ''); goto Xd4h0; y7_cB: $filter = array("\x75\x6e\151\x61\143\x69\144" => $_W["\x75\156\x69\x61\x63\x69\144"], "\x73\164\141\x74\x75\163" => 2, "\x63\162\x65\144\151\164\40\76" => 0, "\163\145\156\144\164\x69\x6d\x65\40\x3e" => 0, "\x73\145\x6e\x64\x74\151\x6d\x65\40\74" => TIMESTAMP - 3600 * 24 * 10); goto cQJ6g; QCgu3: if (empty($orders)) { goto K4pVA; } goto WhaST; giGdF: if (empty($members)) { goto edmlC; } goto shrSV; XwqMR: $stat = pdo_getall("\x73\165\x70\x65\x72\155\141\x6e\x5f\x68\x61\156\x64\x32\137\163\x74\141\x74", $filter); goto O7Y_d; RbnCX: j6mtX: goto pZY7i; ghL0v: $members = pdo_getall("\163\165\x70\x65\162\155\141\156\137\x68\x61\x6e\144\62\x5f\x6d\145\155\142\145\x72\137\x6c\x6f\x67\x69\156", array("\165\156\x69\141\x63\151\144" => $_W["\x75\x6e\x69\x61\143\151\144"])); goto giGdF; RLjVc: $plugin_module = SupermanHandUtil::_init_plugin_module($module); goto IuGyM; ec41v: xD9c8: goto hPEXB; xYmKa: $notice_run_time = $notice_config["\164\x6d\x70\x6c"]["\162\165\156\x5f\x74\151\155\x65"] ? $notice_config["\164\x6d\160\154"]["\x72\165\156\137\x74\x69\x6d\145"] : 5; goto jdkl1; MYjNB: if (file_exists($path . "\57\x6c\157\x63\141\x74\x69\x6f\156\137\164\162\141\156\163\151\164\151\x6f\156\x2e\x74\170\164")) { goto IbW1u; } goto CGezr; kMssI: if (!$ret) { goto ZxDvx; } goto sUc0P; O7Y_d: if (empty($stat)) { goto O7VFl; } goto sDQGB; Z9j5Q: if (!$ask_item) { goto anxpo; } goto sc9FH; cQJ6g: $orders = pdo_getall("\163\x75\x70\145\x72\155\141\x6e\137\x68\x61\x6e\144\62\137\x6f\162\x64\x65\x72", $filter); goto NzzrP; qhpLC: mkdirs($path); goto YfDmR; iExsM: $ret = self::check_running_interval_time($path . "\57\x63\x72\145\144\x69\x74\x5f\163\145\x74\x74\x6c\x65\x6d\145\x6e\x74\56\164\x78\x74", 300); goto QfXhU; IfLUf: ToMAg: goto ztpRZ; oa0eV: foreach ($orders as $li) { goto SZV10; SZV10: $item = pdo_get("\x73\x75\160\x65\162\155\141\156\x5f\150\x61\156\144\x32\x5f\151\x74\x65\x6d", array("\x75\156\x69\x61\143\151\144" => $_W["\165\x6e\151\141\x63\151\x64"], "\151\144" => $li["\x69\x74\145\x6d\151\144"])); goto UDwT7; ZKYzk: wQ8f_: goto pjuoY; UKXjV: pdo_delete("\163\165\160\x65\162\155\141\x6e\137\150\x61\x6e\144\x32\137\x6d\x65\155\142\x65\162\x5f\142\x6c\x6f\143\153\x5f\143\x72\x65\x64\151\x74", array("\165\156\151\x61\143\x69\x64" => $_W["\x75\x6e\x69\x61\143\x69\x64"], "\165\151\144" => $item["\142\165\171\145\162\x5f\165\151\144"], "\x69\164\145\x6d\x69\x64" => $li["\151\164\145\155\151\144"])); goto of5ia; VOyhi: WeUtility::logging("\146\x61\164\x61\x6c", "\133\x6f\162\x64\x65\x72\x2e\151\x6e\143\56\x70\150\160\x3a\40\160\157\x73\x74\x5d\x20\165\x70\x64\141\164\145\x20\163\x65\154\x6c\145\x72\137\165\151\x64\40\143\162\145\144\151\x74\40\146\141\151\x6c\x5d\x2c\40\x72\145\164\x31\x3d" . var_export($ret1, true)); goto YWHjQ; X1t8Q: $credit_log = array($_W["\x6d\x65\155\x62\x65\x72"]["\x75\151\x64"], "\xe5\205\x91\xe6\x8d\xa2" . $item["\164\151\x74\154\145"] . "\347\211\xa9\xe5\223\x81", "\163\x75\160\145\x72\155\x61\x6e\137\150\141\x6e\x64\x32"); goto Q2F1a; PHIvp: WeUtility::logging("\x66\141\164\x61\154", "\133\157\162\x64\x65\x72\x2e\151\156\143\56\160\x68\160\72\40\160\157\163\x74\x5d\40\165\x70\144\141\164\x65\x20\x62\x75\171\145\x72\137\x75\x69\144\40\143\x72\145\x64\x69\164\x20\146\141\x69\154\x5d\54\40\x72\145\x74\x32\x3d" . var_export($ret2, true)); goto ibSDI; ibSDI: JXNpP: goto UKXjV; oSaV0: $ret1 = mc_credit_update($item["\163\145\x6c\154\x65\x72\x5f\165\x69\144"], "\143\162\x65\144\151\164\x31", $li["\143\x72\x65\x64\x69\x74"], $credit_log); goto yc40i; G5nHW: if (!is_error($ret2)) { goto JXNpP; } goto PHIvp; YWHjQ: cPRoj: goto X1t8Q; yc40i: if (!is_error($ret1)) { goto cPRoj; } goto VOyhi; UDwT7: $credit_log = array($item["\163\145\154\154\x65\x72\137\x75\151\144"], "\xe5\215\x96\345\x87\xba\xe7\x89\251\345\x93\201" . $item["\x74\x69\164\154\x65"], "\x73\x75\x70\145\x72\x6d\x61\156\x5f\x68\x61\x6e\x64\x32"); goto oSaV0; of5ia: pdo_update("\163\165\160\x65\x72\155\141\156\x5f\150\x61\156\x64\x32\x5f\157\162\144\x65\162", array("\163\x74\141\x74\x75\x73" => 3), array("\x69\144" => $li["\151\144"])); goto ZKYzk; Q2F1a: $ret2 = mc_credit_update($item["\x62\165\171\145\162\137\x75\x69\x64"], "\143\162\145\144\151\164\61", -$li["\x63\162\x65\144\x69\x74"], $credit_log); goto G5nHW; pjuoY: } goto zsYm5; NP0Pd: aDJox: goto iExsM; qdt3c: if (!$wxapp_interval) { goto xD9c8; } goto ubXCN; PF4FR: $expire_tplid = $module["\143\x6f\156\x66\x69\x67"]["\155\x69\x6e\151\160\147"]["\167\170\x61\160\160\x5f\x65\170\160\x69\x72\x65"]["\x74\x6d\x70\154\x5f\x69\144"]; goto RL73n; KTNsJ: $filter = array("\x75\x6e\151\141\143\151\144" => $_W["\165\x6e\x69\x61\x63\151\144"], "\144\x61\x79\x74\x69\x6d\x65\x20\x3e\x3d" => date("\x59\155\144", strtotime("\55\x31\40\144\141\171"))); goto XwqMR; shrSV: foreach ($members as $member) { goto bUULJ; qraqI: $message_data = array("\x66\x69\x72\163\164" => array("\166\141\x6c\165\145" => "\344\272\xb2\xef\xbc\x8c\345\xa5\275\xe4\xb9\x85\344\xb8\x8d\350\xa7\201\344\xba\206", "\143\x6f\x6c\x6f\x72" => "\x23\61\x37\x33\61\67\x37"), "\153\x65\171\x77\157\162\144\x31" => array("\166\x61\154\165\145" => $user["\156\151\143\153\156\x61\155\145"]), "\153\145\x79\x77\157\162\x64\x32" => array("\166\x61\x6c\165\x65" => $module["\143\x6f\x6e\x66\151\x67"]["\142\141\163\x65"]["\x74\151\x74\154\145"]), "\153\x65\x79\167\157\x72\144\63" => array("\x76\141\x6c\165\x65" => SupermanHandUtil::formatTime($member["\x64\x61\x74\145\154\151\156\145"])), "\162\145\x6d\141\162\x6b" => array("\x76\x61\x6c\x75\x65" => "\xe6\x88\x91\344\xbb\254\345\217\x88\xe6\233\xb4\xe6\x96\260\xe4\272\206\344\xb8\x80\345\xa4\247\xe6\211\xb9\xe5\212\237\xe8\x83\xbd\345\222\x8c\347\211\xa9\345\x93\x81\xef\xbc\214\xe8\265\266\345\277\253\347\x82\271\350\xbf\x9b\xe6\235\245\347\234\x8b\xe4\270\x80\344\xb8\x8b\xe5\x90\xa7\357\xbc\x81", "\143\157\x6c\157\162" => "\x23\61\67\63\61\67\67")); goto ITEvz; EBw8N: Pyx_2: goto KaXZA; rwfzZ: Jg7vP: goto EBw8N; bUULJ: if (!($member["\144\141\x74\145\154\151\156\145"] + $days_mils <= TIMESTAMP && $member["\x75\151\144"] > 0)) { goto Jg7vP; } goto O3N9h; O3N9h: $openid = SupermanHandUtil::uid2openid($member["\165\x69\144"]); goto D5_Sx; ITEvz: SupermanHandUtil::send_uniform_msg($message_data, $openid, $expire_tplid, $gzh_appid); goto rwfzZ; D5_Sx: $user = mc_fetch($member["\x75\151\x64"], array("\x6e\151\143\x6b\156\x61\155\x65")); goto qraqI; KaXZA: } goto Ku23_; sDQGB: $cloud = new SupermanHandCloud(); goto zRMEU; YfDmR: if (!(!defined("\x4c\117\103\x41\114\137\104\105\x56\105\114\117\x50\x4d\105\x4e\124") && self::check_running_interval_time($path . "\57\x73\164\141\164\165\163\x2e\x74\x78\164"))) { goto aDJox; } goto KTNsJ; wHILq: SkLnN: goto RbnCX; ubXCN: $days = $module["\x63\x6f\x6e\146\151\147"]["\x6d\x69\x6e\151\x70\147"]["\154\x6f\147\x6f\165\x74"]["\x64\x61\x79\163"] ? intval($module["\x63\x6f\156\146\x69\x67"]["\155\x69\x6e\151\160\x67"]["\154\x6f\147\x6f\x75\164"]["\x64\x61\x79\163"]) : 7; goto r5sY0; r5sY0: $days_mils = $days * 24 * 60 * 60; goto ghL0v; bts26: bA117: goto MYjNB; jqAfW: C3HBK: goto a2i9J; PnRNL: if (!$list) { goto ToMAg; } goto y7esk; O6fX_: O7VFl: goto NP0Pd; myjvY: if (!($expire_tplid && $gzh_appid)) { goto GJKBO; } goto To3Xq; nqZ2B: zJVLp: goto bts26; a2i9J: K4pVA: goto Szr5_; sUc0P: $day = $module["\x63\157\156\x66\151\147"]["\x67\x65\164\x63\x61\163\x68"]["\163\x65\164\x74\x6c\x65\155\x65\x6e\x74\137\x74\x69\155\x65"] > 0 ? $module["\143\x6f\x6e\x66\151\147"]["\147\145\164\x63\141\x73\x68"]["\163\145\164\x74\x6c\145\x6d\x65\x6e\x74\137\164\x69\155\145"] : 7; goto fZoj4; mmJ0_: $orders = pdo_getall("\163\165\x70\x65\162\x6d\141\156\x5f\150\x61\x6e\144\x32\x5f\157\162\144\145\162", $filter); goto QCgu3; fZoj4: $filter = array("\x75\156\x69\141\x63\151\x64" => $_W["\165\156\x69\x61\x63\151\x64"], "\x73\x74\x61\164\x75\163" => 2, "\x70\141\171\164\171\x70\x65\x20" => 2, "\163\145\x6e\x64\164\x69\155\x65\x20\76" => 0, "\163\x65\156\144\164\151\155\145\40\x3c" => TIMESTAMP - 3600 * 24 * $day, "\163\x65\x74\164\154\x65\x6d\145\x6e\x74\x5f\163\164\141\x74\x75\x73" => 0); goto mmJ0_; WBu7f: WeUtility::logging("\167\x61\162\x6e\151\156\x67", "\133\x75\164\151\154\56\143\154\x61\x73\x73\56\x70\150\160\54\x20\x68\x61\156\144\x32\x5f\162\x65\x70\157\x72\x74\x5d\x20\x72\145\x73\165\x6c\164\75" . var_export($result, true)); goto HZUE5; g_Amx: $path = MODULE_ROOT . "\57\144\x61\x74\x61\57" . $_W["\165\156\x69\x61\143\151\x64"]; goto qhpLC; Xd4h0: IbW1u: goto LiKa3; y7esk: foreach ($list as $li) { goto igWPj; Pz2Wc: $location = SupermanHandUtil::location_transition($li["\x6c\141\164"], $li["\x6c\x6e\x67"], $module["\x63\x6f\156\x66\151\147"]["\142\x61\163\145"]["\154\142\163\x5f\153\x65\x79"]); goto als9N; sF9nS: goto YoxZ2; goto Ug1ud; IYq9S: if (!($ret === false)) { goto wtLID; } goto sF9nS; t5nkE: goto U8T_v; goto BuTbl; igWPj: if (!($li["\x70\162\157\x76\151\x6e\143\145"] && $li["\143\x69\x74\x79"])) { goto XPFbp; } goto t5nkE; BuTbl: XPFbp: goto Pz2Wc; Ug1ud: wtLID: goto yDgNs; yDgNs: U8T_v: goto kdVKD; als9N: $ret = pdo_update("\163\x75\x70\145\x72\155\x61\x6e\x5f\x68\x61\x6e\x64\62\137\151\x74\145\x6d", array("\x70\x72\157\166\x69\x6e\143\145" => $location["\160\162\x6f\166\151\156\143\x65"], "\143\151\x74\x79" => $location["\143\x69\164\171"]), array("\x75\156\x69\x61\143\x69\x64" => $_W["\165\x6e\x69\141\143\x69\144"], "\151\144" => $li["\151\144"])); goto IYq9S; kdVKD: } goto VxOcn; zRMEU: $result = $cloud->hand2_report($stat); goto JQXkW; Szr5_: ZxDvx: goto PF4FR; pZY7i: $ret = self::check_running_interval_time($path . "\57\167\145\x63\150\x61\164\137\163\145\x74\x74\154\x65\x6d\145\x6e\164\56\164\170\164", 300); goto kMssI; JTooX: global $_W; goto g_Amx; JQXkW: if (!($result["\x65\162\162\x6e\157"] != 0)) { goto xYRaF; } goto WBu7f; dL2rX: if (!($plugin_module["\x70\154\x75\x67\x69\156\137\x6e\x6f\164\x69\143\145"]["\155\x6f\144\165\154\145"] && !$plugin_module["\x70\x6c\165\147\151\156\137\156\x6f\164\x69\143\145"]["\x6d\157\144\165\x6c\145"]["\x69\163\137\x64\x65\154\145\164\145"])) { goto zJVLp; } goto bn6Nc; hPEXB: GJKBO: goto RLjVc; sc9FH: foreach ($ask_item as $ai) { goto TPkcx; y0Q6x: $tpl_id = $notice_config["\164\x6d\160\x6c"]["\145\170\160\151\162\145"]; goto QM2Dw; AGBsu: $sql .= "\x20\x57\x48\105\122\105\x20\x75\156\151\141\x63\151\x64\75\72\165\x6e\151\141\x63\151\x64\x20\x41\x4e\104\40\163\x74\x61\x74\165\163\x3d\x3a\x73\164\x61\164\165\163\40\101\x4e\104\40\144\151\x73\164\141\x6e\143\x65\x20\74\x3d{$ai["\144\x69\163\164\x61\x6e\143\x65"]}"; goto es296; TPkcx: if ($ai["\144\141\164\x65\154\151\156\x65"] + 7 * 24 * 3600 - 60 * 10 < TIMESTAMP) { goto iqruB; } goto Jq_gz; EGqW7: $res = SupermanHandUtil::get_uid_formid($ai["\x75\151\144"]); goto vPJt8; KWCy3: $ret = SupermanHandUtil::send_wxapp_msg($message_data, $openid, $tpl_id, $url, $res["\146\157\162\x6d\x69\144"]); goto mjLnU; Kz6f0: if (!$ret) { goto Mfc6l; } goto BgIWc; yRjmw: goto MnPy_; goto VT0by; pnpQg: $params = array("\72\x75\x6e\x69\141\x63\x69\144" => $_W["\x75\156\x69\x61\x63\x69\144"], "\72\x73\x74\141\164\x75\163" => 1, "\x3a\154\141\x74" => $ai["\x6c\141\164"], "\x3a\154\x6e\147" => $ai["\x6c\156\147"]); goto Up0tK; kUhqi: $openid = SupermanHandUtil::uid2openid($ai["\x75\151\144"]); goto sHhZO; l8P3S: goto JiuQu; goto XuaAF; mjLnU: $type = 1; goto yRjmw; LjWcJ: Mfc6l: goto V6nwZ; RmL9Y: $res = SupermanHandUtil::get_uid_formid($ai["\165\151\x64"]); goto WwbHj; vPJt8: if (!empty($res["\146\x6f\162\x6d\151\x64"])) { goto W5FYq; } goto FJRMC; sHhZO: $tpl_id = $notice_config["\164\155\160\x6c"]["\147\145\164"]; goto OZ0SZ; ll74r: $openid = SupermanHandUtil::uid2openid($ai["\x75\151\144"]); goto y0Q6x; FJRMC: goto JiuQu; goto VMeV2; TjlLG: goto JiuQu; goto xovSI; es296: $sql .= "\x20\x41\x4e\x44\x20\50\x74\x69\x74\154\145\40\x4c\111\113\x45\40\47\45{$ai["\x74\x69\164\154\145"]}\x25\47\40\117\122\40\x64\x65\163\x63\x72\x69\160\164\x69\x6f\156\40\114\111\113\105\40\x27\45{$ai["\x74\151\164\x6c\x65"]}\45\47\x29"; goto pnpQg; xovSI: IWb7a: goto ll74r; XuaAF: tuN4O: goto EGqW7; Jq_gz: $child_sql = "\123\105\x4c\x45\103\124\40\x2a\54\x28\x52\x4f\x55\116\104\x28\x36\63\x37\70\56\61\63\x37\40\52\x20\x32\x20\52\x20\x41\123\111\x4e\x28\123\x51\122\124\x28\x50\117\x57\x28\123\x49\116\x28\x28\50\x6c\141\x74\40\52\x20\120\x49\x28\51\51\40\x2f\x20\x31\x38\60\x20\55\40\x28\x3a\x6c\x61\x74\x20\x2a\x20\x50\111\x28\x29\x29\40\x2f\x20\x31\70\x30\x29\40\57\40\62\x29\x2c\x20\x32\51\40\x2b\x20\x43\117\123\50\x28\x3a\x6c\141\x74\x20\x2a\40\120\111\x28\51\51\40\x2f\x20\x31\70\x30\x29\x20\52\40\x43\117\x53\50\x28\154\x61\x74\x20\x2a\40\x50\x49\x28\x29\x29\40\x2f\40\x31\x38\60\x29\40\52\40\x50\117\x57\50\123\x49\116\x28\x28\50\154\156\x67\40\52\x20\120\x49\x28\51\51\40\57\40\61\70\x30\40\55\40\50\72\154\x6e\147\40\x2a\40\x50\x49\x28\x29\x29\x20\57\40\x31\70\x30\x29\x20\57\x20\62\x29\54\40\62\51\x29\51\54\40\x32\x29\51\40\x41\x53\40\144\151\163\164\141\x6e\143\x65\x20\x46\122\117\x4d\40" . tablename("\x73\165\x70\145\162\155\x61\156\137\x68\x61\156\x64\x32\137\151\164\x65\x6d"); goto voCsL; cs98T: unset($type); goto Zxr1o; Zxr1o: JiuQu: goto k0zDD; F_R0I: pdo_update("\163\165\x70\x65\162\155\141\156\x5f\x68\141\156\144\62\x5f\141\x73\x6b\137\x69\164\145\155", array("\x73\145\156\144\x5f\164\155\x70\x6c" => 1), array("\151\x64" => $ai["\x69\144"])); goto XK_NI; XK_NI: pdo_insert("\163\x75\x70\145\x72\155\141\156\137\150\x61\156\x64\x32\137\x61\163\x6b\137\155\145\163\x73\141\x67\x65\137\x6c\x6f\147", array("\x75\156\x69\x61\143\x69\x64" => $_W["\x75\156\x69\141\143\151\144"], "\165\x69\x64" => $ai["\165\151\x64"], "\x74\151\164\154\145" => $ai["\164\151\x74\x6c\145"], "\x74\x79\x70\145" => $type ? $type : 0, "\144\x61\x74\x65\154\151\x6e\x65" => TIMESTAMP)); goto LjWcJ; WwbHj: if (!empty($res["\x66\157\x72\x6d\151\144"])) { goto IWb7a; } goto TjlLG; VT0by: iqruB: goto RmL9Y; OZ0SZ: $url = "\160\x61\x67\x65\x73\x2f\x64\145\x74\x61\151\154\x2f\x69\156\144\145\170\x3f\x69\x64\75" . $item["\x69\x64"]; goto tGQ0S; tGQ0S: $message_data = array("\153\x65\x79\x77\157\162\x64\61" => array("\166\141\x6c\165\x65" => $ai["\x74\x69\x74\154\x65"]), "\153\145\x79\x77\157\x72\144\x32" => array("\166\x61\154\165\x65" => "\xe6\202\xa8\xe6\220\x9c\xe7\xb4\242\347\x9a\x84\350\xae\xa2\351\x98\205\347\x89\251\xe5\x93\201\345\267\262\344\270\x8a\xe7\272\277\xe5\225\xa6\357\274\x81")); goto KWCy3; V6nwZ: unset($ret); goto cs98T; QM2Dw: $url = "\160\141\147\145\163\x2f\141\163\x6b\137\x69\164\145\x6d\57\x69\156\x64\145\x78\x3f\151\x64\75" . $ai["\x69\144"] . "\x26\x6d\145\x73\163\x61\x67\145\75\61"; goto RoV7L; RoV7L: $message_data = array("\153\145\171\167\x6f\162\144\x31" => array("\166\x61\154\x75\145" => "\xe6\202\xa8\350\256\xa2\xe8\264\255\xe7\232\204\345\225\x86\xe5\223\x81\357\274\x9a{$ai["\x74\x69\164\154\x65"]}\xe4\xbf\241\346\x81\xaf\345\215\xb3\345\xb0\206\350\xbf\x87\346\x9c\237\xe5\225\xa6\xef\xbc\214\350\257\267\xe7\202\xb9\xe5\207\273\xe8\xbf\x9b\xe5\205\xa5\xe9\x87\215\346\226\260\xe6\x8f\220\344\xba\xa4\345\220\247\xef\xbc\x81"), "\153\x65\x79\x77\157\162\x64\62" => array("\166\141\x6c\165\145" => date("\131\55\x6d\55\x64\40\110\72\x69\x3a\163", $ai["\144\x61\x74\x65\x6c\x69\x6e\x65"]))); goto EtYn9; AT9Ad: if (!empty($item)) { goto tuN4O; } goto l8P3S; voCsL: $sql = "\40\x53\105\114\x45\103\124\x20\x2a\x20\106\122\117\115\x20" . "\x28" . $child_sql . "\x29" . tablename("\x73\165\160\x65\x72\x6d\141\x6e\137\x68\141\156\144\62\137\151\164\145\155"); goto AGBsu; Up0tK: $item = pdo_fetch($sql, $params); goto AT9Ad; VMeV2: W5FYq: goto kUhqi; EtYn9: $ret = SupermanHandUtil::send_wxapp_msg($message_data, $openid, $tpl_id, $url, $res["\146\x6f\162\x6d\151\x64"]); goto uIE7g; uIE7g: MnPy_: goto Kz6f0; BgIWc: SupermanHandUtil::delete_uid_formid($res["\151\x64"]); goto F_R0I; k0zDD: } goto d6VGE; iMp8p: edmlC: goto ec41v; jdkl1: $ret = self::check_running_interval_time($path . "\x2f\x70\x6c\165\x67\151\156\x5f\x6e\x6f\164\151\143\145\56\164\170\x74", $notice_run_time * 60); goto e5bbO; d6VGE: plIbU: goto eV2Sh; bn6Nc: $ask_item = pdo_getall("\163\165\x70\x65\x72\x6d\x61\156\x5f\x68\141\156\144\x32\137\141\x73\153\x5f\x69\x74\145\155", array("\x75\x6e\x69\x61\x63\x69\x64" => $_W["\x75\x6e\x69\141\143\x69\x64"], "\163\145\x6e\x64\x5f\164\x6d\x70\x6c" => 0, "\x73\164\141\x74\x75\163" => 0)); goto Z9j5Q; zsYm5: SVDP9: goto wHILq; eV2Sh: anxpo: goto nqZ2B; LiKa3: } public static function check_running_interval_time($filename, $interval = 86400) { goto w5HQ1; Njcvp: if (!($diff < $interval)) { goto DldnO; } goto g7YvH; x5pUn: flock($fp, LOCK_UN); goto rWgNN; X0FD4: WeUtility::logging("\x66\x61\164\x61\154", "\133\x5f\x63\150\x65\x63\x6b\137\162\165\x6e\x6e\x69\156\x67\137\x69\x6e\164\145\x72\x76\141\154\x5f\x74\x69\x6d\x65\x3a{$name}\135\40\x66\x69\x6c\145\137\x70\x75\164\x5f\x63\x6f\156\x74\x65\x6e\x74\163\x20\x66\141\x69\154\145\144\x28\x32\51\54\x20\162\145\x74\x3d{$ret}"); goto x5pUn; km7KP: if (file_exists($filename)) { goto GVfnv; } goto uncDc; uu4M8: fclose($fp); goto py9dU; RWbH4: ds5Ph: goto KfBfm; E2syL: return false; goto dR8fx; w5HQ1: $name = substr($filename, strrpos($filename, "\57") + 1); goto Y7WVx; c4QUA: QPZQx: goto PT6PV; tMeth: return false; goto se3bI; rWgNN: fclose($fp); goto E2syL; KfBfm: ftruncate($fp, 0); goto ffWs2; KeF4p: $fp = fopen($filename, "\141"); goto T8l1g; PT6PV: if (!($interval > 0)) { goto ds5Ph; } goto Rsbfx; NkIC2: $diff = TIMESTAMP - $lasttime; goto Njcvp; QbtyM: return true; goto jH1iX; rG4Ql: WeUtility::logging("\146\141\x74\141\154", "\x5b\x5f\x63\x68\x65\143\153\137\x72\165\156\x6e\x69\x6e\147\137\x69\x6e\164\x65\162\x76\x61\154\137\164\151\155\145\x3a{$name}\x5d\40\x66\x69\x6c\x65\x6e\141\x6d\145\40\x69\163\40\156\165\154\154"); goto FTTyK; HDYAK: if (!defined("\x4c\117\x43\101\x4c\137\x44\105\126\105\x4c\117\x50\115\105\x4e\x54")) { goto pCs0Y; } goto j0CFe; Y7WVx: if (!empty($filename)) { goto w37dJ; } goto rG4Ql; Rsbfx: clearstatcache(); goto mgNBw; uncDc: $interval = 0; goto vK2VQ; se3bI: x7UUh: goto XLvaz; yET1t: fclose($fp); goto ipbOo; vK2VQ: GVfnv: goto KeF4p; mgNBw: $lasttime = filemtime($filename); goto NkIC2; ipbOo: return false; goto Zbk_X; dR8fx: wDVmt: goto HDYAK; D1KTh: sTZ_k: goto Tp5v6; Dvd3t: if (!($ret <= 0)) { goto wDVmt; } goto X0FD4; G19_f: $ret = fwrite($fp, "\163\165\143\x63\145\163\x73"); goto Dvd3t; Tp5v6: flock($fp, LOCK_UN); goto yET1t; mRem5: WeUtility::logging("\x66\x61\164\141\x6c", "\133\137\143\x68\x65\x63\x6b\x5f\x72\x75\x6e\x6e\151\156\x67\x5f\x69\x6e\164\145\162\166\141\x6c\137\164\151\155\145\72{$name}\x5d\x20\x66\x6f\160\x65\x6e\x20\146\x61\151\154\x65\144\54\40\x66\151\x6c\x65\156\141\x6d\145\75{$filename}"); goto tMeth; LuzQV: flock($fp, LOCK_UN); goto pGJp2; GnQTM: w37dJ: goto km7KP; ffWs2: rewind($fp); goto G19_f; FTTyK: return false; goto GnQTM; XLvaz: if (flock($fp, LOCK_EX | LOCK_NB)) { goto QPZQx; } goto uu4M8; T8l1g: if ($fp) { goto x7UUh; } goto mRem5; g7YvH: if (!defined("\x4c\x4f\x43\x41\114\x5f\104\x45\126\x45\114\x4f\120\x4d\105\116\124")) { goto sTZ_k; } goto D1KTh; j0CFe: pCs0Y: goto LuzQV; pGJp2: fclose($fp); goto QbtyM; Zbk_X: DldnO: goto RWbH4; py9dU: return false; goto c4QUA; jH1iX: } public static function weiqing_polyfill() { goto nzsAK; BtFaQ: LecHF: goto o351V; m9A96: if (empty($_GPC["\x64\x6f"])) { goto Kr4Mn; } goto SgDvK; SpgQA: if (empty($row)) { goto UObir; } goto Em1Qv; MIals: $eid = intval($_GPC["\145\x69\144"]); goto LmKUU; Q7jTI: Kr4Mn: goto Kgsyc; Kgsyc: if (!(isset($_GPC["\145\151\144"]) && $_GPC["\x65\x69\x64"])) { goto R5ZmW; } goto MIals; rncjK: R5ZmW: goto ZUC8F; KtMdi: $do = $_GPC["\x64\x6f"]; goto Kexlw; SgDvK: if (!empty($do)) { goto LecHF; } goto kB9Jd; Kexlw: UObir: goto rncjK; ZUC8F: WB10y: goto XxhbK; LmKUU: $row = pdo_get("\155\x6f\x64\x75\154\145\x73\137\x62\x69\x6e\x64\x69\x6e\x67\x73", array("\145\151\x64" => $eid)); goto SpgQA; Em1Qv: $_GPC["\144\x6f"] = $row["\x64\x6f"]; goto ndac5; nzsAK: global $_GPC, $do; goto m9A96; o351V: goto WB10y; goto Q7jTI; ndac5: $_GPC["\x6d"] = $row["\x6d\x6f\x64\x75\154\x65"]; goto KtMdi; kB9Jd: $do = $_GPC["\144\x6f"]; goto BtFaQ; XxhbK: } public static function format_date($str) { return substr($str, 0, 4) . "\55" . substr($str, 4, 2) . "\x2d" . substr($str, 6, 2); } public static function attachment_path() { goto Dvstk; KsaZe: n3fLg: goto I7sX8; I7sX8: if (!(substr(ATTACHMENT_ROOT, -1, 1) != "\57")) { goto JdI_N; } goto APG9I; cH_Cg: if (defined("\x41\124\x54\x41\x43\110\115\105\116\124\x5f\122\x4f\117\x54")) { goto n3fLg; } goto IcQHb; yi0DH: return $path; goto KsaZe; IcQHb: $path = IA_ROOT . "\x2f\x61\164\164\141\143\x68\x6d\145\x6e\164\x2f"; goto de0xa; Dvstk: global $_W; goto cH_Cg; de0xa: define("\101\124\124\101\103\110\115\x45\116\x54\x5f\122\x4f\117\124", $path); goto yi0DH; APG9I: return ATTACHMENT_ROOT . "\x2f"; goto Qc9Fs; Qc9Fs: JdI_N: goto v7ZH5; v7ZH5: return ATTACHMENT_ROOT; goto tSMRQ; tSMRQ: } public static function weaccount_create() { goto RCXxg; kM1ny: if (is_null($account)) { goto xJP7g; } goto AJKbW; Q4iHH: return $account; goto ZkPH5; c_sVN: WcEM_: goto EVPFY; g0iLE: WeUtility::logging("\146\x61\164\x61\154", "\x5b\x77\145\x61\143\143\x6f\x75\x6e\164\137\143\162\145\141\x74\145\135\xe5\x88\233\345\273\xba\345\205\xac\xe4\xbc\227\xe5\217\xb7\xe6\x93\x8d\xe4\275\234\345\257\xb9\xe8\xb1\xa1\xe5\244\261\350\xb4\xa5"); goto BzqSJ; E2dbT: return error(-1, "\345\210\x9d\345\xa7\213\345\214\x96\345\xa4\xb1\xe8\264\xa5\xef\274\x8c\xe7\274\272\345\260\221\141\143\151\144\x7c\x7c\x75\156\x69\x61\143\151\144\345\x8f\202\346\225\260"); goto oD5m5; fb8O4: YSjih: goto qVkJA; dtDey: if (isset($_W["\141\x63\151\x64"]) && $_W["\x61\143\x69\x64"]) { goto WcEM_; } goto sEEW8; dct3f: if (!($_W["\141\143\143\157\x75\156\164"]["\x6c\145\x76\145\154"] < 3)) { goto rQ347; } goto l6YPQ; zsbmy: xJP7g: goto cA5_9; cA5_9: if (!empty($_W["\141\x63\143\157\165\x6e\x74"])) { goto SYxVd; } goto HU2cu; AJKbW: return $account; goto zsbmy; HU2cu: if (isset($_W["\x75\156\151\x61\143\151\x64"]) && $_W["\x75\156\x69\141\x63\x69\x64"]) { goto kiVKC; } goto dtDey; EVPFY: $_W["\141\143\143\157\x75\x6e\164"] = account_fetch($_W["\141\x63\x69\x64"]); goto fb8O4; oD5m5: goto YSjih; goto c_sVN; Z9dPE: return error(-1, "\xe5\x85\xac\xe4\xbc\x97\345\217\xb7\346\262\241\346\234\x89\xe7\xbb\x8f\xe8\xbf\207\350\256\244\xe8\257\x81"); goto Pu7k3; k1gxV: $_W["\141\143\143\x6f\165\x6e\x74"] = uni_fetch($_W["\165\x6e\151\141\143\x69\144"]); goto KjFQ1; D_d4k: static $account = null; goto kM1ny; Mb4hN: kiVKC: goto k1gxV; LJgNb: if (!is_null($account)) { goto kH_fj; } goto g0iLE; Pu7k3: rQ347: goto jc3JJ; KjFQ1: ZS_aq: goto s6Ypl; qVkJA: goto ZS_aq; goto Mb4hN; BzqSJ: return error(-1, "\xe5\x88\233\xe5\xbb\272\xe5\x85\xac\xe4\274\227\345\217\xb7\346\x93\x8d\344\275\234\xe5\xaf\271\xe8\261\241\345\xa4\xb1\xe8\264\xa5"); goto ui8tA; RCXxg: global $_W; goto D_d4k; sEEW8: WeUtility::logging("\x66\x61\x74\141\x6c", "\x5b\167\x65\141\143\x63\x6f\x75\x6e\164\137\x63\x72\x65\x61\x74\145\x5d\345\210\235\xe5\247\213\xe5\x8c\x96\xe5\244\xb1\350\xb4\xa5\xef\274\x8c\xe7\xbc\xba\xe5\xb0\x91\x61\x63\x69\144\174\174\165\x6e\151\141\143\x69\144\345\x8f\x82\xe6\x95\260"); goto E2dbT; l6YPQ: WeUtility::logging("\146\141\164\x61\154", "\x5b\x77\145\141\143\x63\157\x75\x6e\164\x5f\x63\x72\145\141\164\145\135\xe5\205\254\xe4\xbc\227\345\x8f\xb7\xe6\xb2\xa1\346\234\211\347\273\217\350\277\207\350\256\244\xe8\257\201"); goto Z9dPE; ui8tA: kH_fj: goto Q4iHH; s6Ypl: SYxVd: goto dct3f; jc3JJ: $account = WeAccount::create(); goto LJgNb; ZkPH5: } public static function send_tmplmsg($data, $openid, $tpl_id, $url) { goto yNA4a; MTfxr: ZBgRC: goto uBjhC; INL8B: if ($ret !== true) { goto dXPAC; } goto Adbau; nE4es: Ytzik: goto MTfxr; J4dLj: if (!(strpos($ret["\155\x65\163\163\141\x67\x65"], "\64\x30\60\x30\61") || strpos($ret["\155\145\163\163\x61\x67\x65"], "\x34\62\60\60\61"))) { goto Ytzik; } goto YjfQK; FFy14: if (!($_W["\x61\143\143\x6f\165\156\164"]["\154\145\166\145\x6c"] != 4)) { goto y9Hv3; } goto R8EmJ; PENcD: fPIVB: goto Zxzng; Adbau: WeUtility::logging("\151\x6e\x66\x6f", "\133\x73\145\x6e\x64\x5f\x74\155\x70\x6c\155\x73\147\x5d\x20\xe6\250\241\xe6\x9d\xbf\xe6\266\210\346\201\xaf\xe5\x8f\221\xe9\x80\201\xe6\x88\x90\xe5\212\237\357\xbc\x9a\x6f\160\x65\156\x69\144\x3d{$openid}\x2c\40\x6d\x65\163\163\141\147\145\x3d" . var_export($data, true)); goto CnRJP; yNA4a: global $_W; goto Img5y; R8EmJ: WeUtility::logging("\x66\x61\x74\x61\154", "\133\163\x65\156\144\137\164\155\160\x6c\155\x73\147\135\x20\xe6\250\xa1\346\235\277\xe6\266\x88\346\201\257\xe5\217\221\351\200\201\345\xa4\261\350\xb4\245\xef\274\232\351\x9d\x9e\xe8\xae\244\350\xaf\x81\xe6\x9c\215\345\x8a\241\345\x8f\xb7\346\xb2\241\346\234\x89\345\x8f\221\351\200\201\346\xa8\xa1\346\x9d\277\xe6\xb6\210\xe6\x81\257\346\235\x83\351\x99\220"); goto G1p89; Img5y: $account = self::weaccount_create(); goto FFy14; V6lZZ: WeUtility::logging("\x66\141\164\141\154", "\133\x73\x65\156\144\x5f\164\155\x70\154\155\x73\x67\x5d\40\xe6\250\xa1\xe6\x9d\277\346\266\x88\xe6\201\257\345\217\x91\351\x80\201\345\xa4\261\350\264\245\357\274\232\x6f\x70\145\156\151\x64\75{$openid}\54\40\162\x65\x74\x3d" . var_export($ret, true) . "\x2c\40\155\x65\163\x73\141\147\145\x3d" . var_export($data, true)); goto J4dLj; CnRJP: goto ZBgRC; goto lFXP7; BD2jj: if ($openid) { goto fPIVB; } goto ClRzc; u0JYb: y9Hv3: goto BD2jj; Zxzng: if (!empty($tpl_id)) { goto N1rvC; } goto TatpJ; TatpJ: WeUtility::logging("\146\x61\x74\x61\154", "\133\163\x65\156\144\x5f\x74\x6d\x70\154\155\x73\147\135\40\346\xa8\241\346\235\xbf\xe6\266\x88\xe6\201\257\xe5\x8f\221\xe9\x80\201\xe5\xa4\261\350\264\xa5\357\xbc\x9a\xe6\x9c\252\351\205\x8d\xe7\275\xae\346\250\xa1\xe7\x89\x88\346\xb6\x88\xe6\201\257"); goto Fsa72; Fsa72: return false; goto cJKxl; ctJWa: $ret = $account->sendTplNotice($openid, $tpl_id, $data, $url); goto INL8B; cJKxl: N1rvC: goto ctJWa; YjfQK: $account->sendTplNotice($openid, $tpl_id, $data, $url); goto nE4es; lFXP7: dXPAC: goto V6lZZ; Ytj1J: return false; goto PENcD; G1p89: return false; goto u0JYb; ClRzc: WeUtility::logging("\146\x61\x74\x61\154", "\x5b\x73\145\156\x64\137\x74\x6d\x70\154\155\163\147\135\x20\346\250\xa1\346\x9d\xbf\xe6\xb6\x88\xe6\x81\257\xe5\217\221\xe9\200\201\xe5\244\261\350\xb4\245\xef\274\x9a\x6f\x70\145\x6e\151\144\xe4\xb8\xba\347\251\xba"); goto Ytj1J; uBjhC: } public static function send_uniform_msg($data, $openid, $tmpl_id, $appid, $url = '') { goto NyZ1w; QKdzT: return true; goto VSgQb; lgwzI: if (is_error($result)) { goto upeUd; } goto RWX9y; ucuGk: $account = WeAccount::create($_W["\x61\x63\x63\157\165\156\x74"]); goto j5id8; F1vdJ: if (!empty($openid)) { goto j3FMG; } goto lDX7h; xJ_FN: if (!is_error($token)) { goto Wu4lj; } goto eDDsJ; j5id8: if (!empty($account)) { goto RN4Zv; } goto ntX41; cWtps: j3FMG: goto ucuGk; RWX9y: WeUtility::logging("\151\156\x66\157", "\345\217\221\xe9\x80\x81\xe6\210\220\345\212\237\357\xbc\232\165\x69\x64\75{$uid}\x2c\40\x6f\x70\x65\156\x69\144\75{$openid}"); goto e1sX9; K6qw3: $result = self::superman_hand2_request($post_url, json_encode($post)); goto EyPk6; NyZ1w: global $_W; goto f8iTy; f8iTy: if (!empty($tmpl_id)) { goto WwDKD; } goto FIWoN; EyPk6: $uid = mc_openid2uid($openid); goto lgwzI; bEyPX: return false; goto BzBBT; lDX7h: WeUtility::logging("\x66\141\164\141\154", "\133\x73\145\156\144\x5f\x77\x78\141\x70\160\137\155\x73\147\135\x20\xe6\xa8\241\xe6\x9d\277\xe6\266\x88\xe6\201\257\xe5\217\221\xe9\x80\x81\345\xa4\261\xe8\xb4\245\xef\274\x9a\157\160\145\x6e\151\144\xe4\270\272\347\251\272"); goto tjOcj; iif31: WeUtility::logging("\151\156\146\157", "\345\217\221\351\x80\x81\xe5\244\xb1\350\264\245\357\xbc\232\x75\151\144\75{$uid}\54\40\157\160\145\156\x69\x64\75{$openid}\x2c\40\x72\145\163\x75\154\x74\x3d" . var_export($result, true) . "\x2c\40\160\157\163\x74\75" . var_export($post, true)); goto bEyPX; QrjZC: RN4Zv: goto HHk0t; SxnXL: $post_url = "\x68\x74\x74\x70\163\72\57\x2f\141\160\151\56\167\145\151\170\x69\x6e\56\161\161\x2e\143\157\x6d\x2f\x63\147\x69\55\142\151\156\57\155\145\163\163\x61\x67\145\x2f\167\x78\x6f\160\x65\156\57\164\x65\155\x70\154\141\164\145\57\x75\x6e\x69\146\157\x72\155\x5f\x73\x65\x6e\144\77\x61\x63\x63\145\163\x73\x5f\164\157\x6b\x65\x6e\75" . $token; goto K6qw3; ntX41: WeUtility::logging("\146\x61\164\141\154", "\143\x72\145\x61\164\145\x20\x61\x63\143\157\x75\156\164\40\x66\141\x69\x6c\x65\144\x3a\x20\x61\143\143\x6f\x75\x6e\x74\x3d" . var_export($_W["\141\x63\143\x6f\x75\156\x74"], true)); goto bHW3L; eDDsJ: WeUtility::logging("\x66\141\x74\141\154", "\x67\x65\164\x41\x63\143\x65\x73\163\124\157\153\145\156\40\x66\141\151\154\145\x64\x3a\40\164\157\x6b\x65\x6e\75" . var_export($token, true)); goto MM2Ff; e1sX9: goto mVgJF; goto oqn41; zqKRL: Wu4lj: goto pxi0R; tWNFF: WwDKD: goto F1vdJ; HHk0t: $token = $account->getAccessToken(); goto xJ_FN; bHW3L: return false; goto QrjZC; oqn41: upeUd: goto iif31; BzBBT: mVgJF: goto QKdzT; LfNp6: return false; goto tWNFF; MM2Ff: return false; goto zqKRL; pxi0R: $post = array("\164\x6f\x75\x73\x65\x72" => $openid, "\x6d\x70\137\164\x65\155\x70\154\141\x74\x65\137\x6d\163\147" => array("\141\x70\160\x69\x64" => $appid, "\164\145\x6d\x70\154\x61\x74\x65\x5f\151\144" => $tmpl_id, "\155\x69\x6e\151\x70\162\157\x67\x72\141\x6d" => array("\x61\160\x70\x69\x64" => $account["\153\x65\x79"], "\160\141\147\x65\160\141\164\x68" => $url ? $url : "\x70\x61\x67\x65\x73\57\x68\x6f\155\145\57\x69\x6e\144\145\x78"), "\144\141\164\141" => $data)); goto SxnXL; FIWoN: WeUtility::logging("\x66\x61\x74\x61\154", "\x5b\163\145\156\144\137\x77\x78\141\x70\160\137\x6d\163\147\135\x20\346\250\xa1\346\235\xbf\346\xb6\210\xe6\201\257\xe5\217\221\351\x80\x81\345\xa4\xb1\xe8\xb4\245\xef\xbc\232\xe6\234\252\351\x85\x8d\347\xbd\xae\346\250\xa1\xe7\211\210\xe6\xb6\210\xe6\x81\xaf"); goto LfNp6; tjOcj: return false; goto cWtps; VSgQb: } public static function send_wxapp_msg($data, $openid, $tmpl_id, $url, $form_id) { goto zXfmK; HqZuG: A4rYb: goto ZxDwK; Qou2j: if (!empty($openid)) { goto DJuMZ; } goto pt9Wc; Rop5E: NP0H2: goto UIndk; pt9Wc: WeUtility::logging("\x66\x61\164\x61\154", "\x5b\x73\x65\156\x64\x5f\x77\x78\141\x70\x70\137\x6d\163\147\x5d\x20\xe6\xa8\xa1\xe6\x9d\xbf\xe6\266\x88\346\201\xaf\xe5\x8f\221\351\200\201\345\244\xb1\350\xb4\xa5\xef\xbc\x9a\x6f\160\x65\156\x69\x64\344\270\272\xe7\xa9\xba"); goto G2SrN; MIWIS: return false; goto HqZuG; FATYG: if (!empty($tmpl_id)) { goto Rx9Wm; } goto oYE37; Nz2WI: return false; goto OQEXY; fIXUF: $account = WeAccount::create($_W["\141\143\143\x6f\165\x6e\x74"]); goto KxMpq; jbcT6: $post_url = "\150\164\164\x70\163\72\x2f\x2f\141\160\x69\x2e\x77\145\151\x78\x69\x6e\x2e\161\161\x2e\x63\x6f\155\57\x63\x67\x69\55\142\x69\x6e\57\155\x65\163\163\x61\147\145\x2f\167\170\x6f\160\145\156\57\164\145\155\160\154\141\x74\145\57\163\145\x6e\x64\77\141\143\x63\145\x73\x73\x5f\x74\x6f\153\145\x6e\75" . $token; goto HB2i0; htqnQ: return false; goto Slp5C; VgZ_i: return false; goto NTKQc; GBqsq: if (is_error($result)) { goto NP0H2; } goto o7ioO; zXfmK: global $_W; goto FATYG; NTKQc: I8bKF: goto LGNYQ; KjGui: goto H4ejF; goto Rop5E; Slp5C: Rx9Wm: goto Qou2j; ZxDwK: $token = $account->getAccessToken(); goto soXhY; oYE37: WeUtility::logging("\146\141\164\x61\154", "\x5b\163\x65\x6e\144\x5f\167\x78\x61\x70\160\x5f\155\x73\x67\x5d\40\xe6\250\xa1\xe6\235\xbf\xe6\xb6\x88\xe6\x81\xaf\345\x8f\221\351\x80\201\xe5\xa4\261\xe8\264\xa5\xef\xbc\x9a\xe6\234\252\351\205\215\347\xbd\256\346\xa8\xa1\xe7\211\210\346\xb6\x88\346\x81\xaf"); goto htqnQ; HB2i0: $result = self::superman_hand2_request($post_url, json_encode($post)); goto H_T93; UIndk: WeUtility::logging("\151\156\146\157", "\345\x8f\221\xe9\200\x81\xe5\244\261\xe8\xb4\xa5\357\274\x9a\x75\151\x64\75{$uid}\54\40\157\x70\145\x6e\151\144\75{$openid}\x2c\x20\x72\x65\163\x75\154\x74\75" . var_export($result, true) . "\x2c\40\160\157\163\x74\x3d" . var_export($post, true)); goto Nz2WI; Qjzb6: WeUtility::logging("\146\x61\x74\141\x6c", "\x67\x65\x74\x41\x63\x63\145\163\x73\x54\157\x6b\x65\x6e\x20\146\x61\151\154\145\x64\x3a\x20\x74\157\153\145\x6e\x3d" . var_export($token, true)); goto VgZ_i; b6kF1: WeUtility::logging("\x66\x61\x74\x61\154", "\143\162\x65\141\164\x65\x20\x61\x63\143\157\165\156\164\x20\146\x61\x69\154\x65\144\72\x20\x61\x63\x63\x6f\x75\x6e\164\75" . var_export($_W["\x61\143\143\157\x75\156\164"], true)); goto MIWIS; G2SrN: return false; goto rKbcS; o7ioO: WeUtility::logging("\151\156\146\x6f", "\xe5\217\221\351\x80\x81\346\210\220\xe5\x8a\x9f\357\xbc\232\x75\151\x64\75{$uid}\54\40\157\160\145\x6e\151\x64\x3d{$openid}"); goto KjGui; OQEXY: H4ejF: goto mqZ6Z; KxMpq: if (!empty($account)) { goto A4rYb; } goto b6kF1; soXhY: if (!is_error($token)) { goto I8bKF; } goto Qjzb6; H_T93: $uid = mc_openid2uid($openid); goto GBqsq; rKbcS: DJuMZ: goto fIXUF; LGNYQ: $post = array("\x74\157\x75\x73\x65\162" => $openid, "\x74\145\155\160\x6c\141\164\x65\137\x69\x64" => $tmpl_id, "\160\141\x67\x65" => $url, "\146\x6f\162\x6d\137\151\x64" => $form_id, "\144\141\x74\x61" => $data); goto jbcT6; mqZ6Z: return true; goto xMp3p; xMp3p: } public static function wxapp_custom_notice($data) { goto OF_Q2; GeJmP: $token = $account->getAccessToken(); goto yQDb2; BukQ6: RhQ1K: goto tK8Qn; R_GMl: Fa5ps: goto GeJmP; T4Fi2: return; goto LbxVK; VBuCN: gq54v: goto MyQB5; m2GwF: NsV9w: goto LY7Wq; oN8OR: return; goto Td2X_; sVFA_: WeUtility::logging("\146\x61\x74\141\154", "\xe8\xae\277\351\227\256\xe5\x85\xac\xe4\274\x97\345\271\263\xe5\217\xb0\xe6\x8e\245\345\217\243\345\xa4\261\350\264\xa5\x2c\40\351\x94\x99\350\257\xaf\x3a\40{$response["\x6d\x65\x73\163\141\x67\x65"]}"); goto jEOKM; lgrUi: WeUtility::logging("\146\141\164\141\154", "\x63\162\145\x61\164\x65\x20\x61\143\143\x6f\165\x6e\164\40\x66\x61\151\x6c\x65\144\x3a\40\x61\x63\x63\157\x75\156\164\75" . var_export($_W["\x61\x63\x63\157\x75\156\x74"], true)); goto sVOCW; IVwZ2: jcCvu: goto NSyS5; GDuFf: $account = WeAccount::create($_W["\141\x63\143\157\x75\156\164"]); goto HBa5i; nBp8w: $response = ihttp_request($url, urldecode(json_encode($data))); goto rbux4; Td2X_: N55Cq: goto kdcb1; rbux4: if (!is_error($response)) { goto NsV9w; } goto sVFA_; NSyS5: WeUtility::logging("\146\x61\x74\141\154", "\346\x8e\xa5\345\x8f\xa3\xe8\260\x83\xe7\224\xa8\345\244\xb1\xe8\xb4\245\54\40\xe5\x85\x83\346\225\xb0\346\215\256\72\40{$response["\155\x65\164\x61"]}"); goto T4Fi2; HBa5i: if (!empty($account)) { goto Fa5ps; } goto lgrUi; Ee2Dw: if (!empty($result["\x65\162\x72\x63\x6f\x64\145"])) { goto RhQ1K; } goto jYJKq; tK8Qn: WeUtility::logging("\x66\x61\x74\141\x6c", "\350\xae\xbf\xe9\227\256\345\276\xae\344\277\241\346\216\245\345\217\243\351\x94\231\xe8\xaf\257\54\x20\xe9\224\x99\xe8\257\xaf\xe4\xbb\243\347\240\201\72\40{$result["\145\162\162\143\157\x64\145"]}\54\x20\351\x94\231\350\257\xaf\344\xbf\xa1\346\201\xaf\72\40{$result["\145\x72\x72\x6d\163\147"]}\x2c\351\x94\231\350\xaf\xaf\xe8\xaf\xa6\xe6\203\x85\xef\xbc\x9a" . SupermanTuanUtil::wxapp_error_code($result["\x65\162\x72\143\157\144\145"])); goto KQKs5; yQDb2: if (!is_error($token)) { goto N55Cq; } goto G927q; jYJKq: goto gq54v; goto IVwZ2; sVOCW: return; goto R_GMl; jEOKM: return; goto m2GwF; OF_Q2: global $_W; goto GDuFf; LY7Wq: $result = @json_decode($response["\143\x6f\156\164\145\x6e\164"], true); goto G5HeD; G5HeD: if (empty($result)) { goto jcCvu; } goto Ee2Dw; kdcb1: $url = "\x68\x74\x74\160\x73\72\x2f\x2f\x61\x70\151\x2e\x77\145\151\170\151\156\x2e\x71\161\56\143\x6f\x6d\x2f\143\x67\151\55\x62\151\x6e\x2f\x6d\x65\x73\x73\x61\147\x65\57\x63\165\163\164\x6f\155\57\x73\x65\x6e\x64\x3f\x61\143\x63\x65\163\163\137\x74\157\153\145\x6e\75{$token}"; goto nBp8w; LbxVK: goto gq54v; goto BukQ6; MyQB5: return true; goto vZOV1; KQKs5: return; goto VBuCN; G927q: WeUtility::logging("\146\141\x74\141\154", "\147\x65\164\x41\x63\x63\145\163\x73\x54\157\x6b\145\156\40\x66\141\x69\154\145\144\x3a\40\x74\157\x6b\145\x6e\x3d" . var_export($token, true)); goto oN8OR; vZOV1: } public static function isBindPort($port, &$errno = null, &$errstr = null) { goto E9XCy; U6TPC: if (!$socket) { goto n3maF; } goto EnsxI; E9XCy: $socket = @stream_socket_server("\x74\x63\x70\72\x2f\57\x31\x32\67\x2e\x30\x2e\60\56\61\x3a" . $port, $errno, $errstr); goto U6TPC; HA5Et: unset($socket); goto HkO9L; QUGT4: n3maF: goto fJTvs; EnsxI: fclose($socket); goto HA5Et; HkO9L: return false; goto QUGT4; fJTvs: return true; goto sXdBh; sXdBh: } public static function get_domain($siteurl, $level = 0) { goto g4Het; Ry_OE: $j = count($arr) - 1; goto OKPjq; sz4mr: $arr = explode("\x2f", $siteurl); goto Hjz4n; vJD3d: $tmp = array(); goto iKFsZ; tTHUg: $i = 0; goto Ry_OE; ylgjt: $i++; goto CI4Ae; M4K9J: return $domain; goto C0pde; vXUgf: $level = count($arr) - 1; goto mHJSa; X426O: $tmp = array_reverse($tmp); goto uWEeL; uWEeL: $domain = implode("\x2e", $tmp); goto e8uny; VO0P0: if (!preg_match("\57\x5e\133\60\55\71\135\173\61\54\x33\x7d\x5c\x2e\x5b\60\55\71\x5d\173\61\x2c\63\175\x5c\56\x5b\60\55\71\135\173\x31\54\63\x7d\134\56\x5b\60\55\71\135\x7b\61\54\x33\175\44\x2f", $domain)) { goto vDNb8; } goto M4K9J; C0pde: vDNb8: goto bCsPe; bCsPe: $arr = explode("\56", $domain); goto vJD3d; m_2BF: if (!($i <= $level && $j >= 0)) { goto xyuQZ; } goto uftbb; iKFsZ: if (!($level <= 0)) { goto CnylP; } goto vXUgf; g4Het: $siteurl = preg_replace("\57\150\164\164\160\x5b\163\135\173\60\54\x31\x7d\x3a\x5c\57\x5c\57\x2f\151", '', $siteurl, 1); goto cXt7b; CI4Ae: $j--; goto s_YqY; s_YqY: goto NvtDs; goto N6Uxx; jB62S: QUoja: goto ylgjt; OKPjq: NvtDs: goto m_2BF; mHJSa: CnylP: goto tTHUg; uftbb: array_push($tmp, $arr[$j]); goto jB62S; e8uny: return $domain; goto DYuso; WJRWF: $siteurl = $arr[0]; goto sz4mr; N6Uxx: xyuQZ: goto X426O; cXt7b: $arr = explode("\72", $siteurl); goto WJRWF; Hjz4n: $domain = $arr[0]; goto VO0P0; DYuso: } public static function superman_hand2_request($url, $post = '') { goto Cq1DJ; EM6SQ: if (!empty($result["\145\162\x72\x63\157\144\x65"])) { goto nA0kb; } goto Cp2mO; CjbRh: return $result; goto AGfGr; vnUHE: return error(-1, "\xe6\x8e\xa5\345\217\xa3\xe8\260\x83\xe7\x94\250\xe5\244\261\xe8\xb4\xa5\x2c\40\345\205\x83\346\225\xb0\346\x8d\256\72\40{$response["\155\145\x74\141"]}"); goto nlCWy; RN_Vq: $result = @json_decode($response["\x63\x6f\x6e\164\x65\x6e\x74"], true); goto n4Bqc; ybUgr: nA0kb: goto b8Nru; vqQJs: if (empty($result)) { goto ilvOw; } goto EM6SQ; GPtzp: sxXP7: goto CjbRh; lm_jc: ilvOw: goto vnUHE; n4Bqc: if (!is_error($response)) { goto qejGa; } goto eOmsM; b8Nru: return error($result["\145\162\x72\x63\x6f\144\x65"], "\350\xae\xbf\351\x97\256\345\x85\254\xe4\274\227\xe5\271\263\xe5\217\xb0\346\x8e\xa5\xe5\217\xa3\345\xa4\261\350\264\245\x2c\x20\xe9\x94\231\xe8\xaf\257\72\40{$result["\x65\162\x72\155\x73\x67"]}\x2c\351\224\231\xe8\257\257\xe8\257\xa6\346\x83\x85\xef\274\x9a{$result["\145\162\x72\x63\157\x64\x65"]}"); goto GPtzp; Cq1DJ: $response = ihttp_request($url, $post); goto RN_Vq; nlCWy: goto sxXP7; goto ybUgr; eOmsM: return error($result["\x65\162\162\143\157\x64\145"], "\350\xae\277\xe9\227\256\xe5\205\xac\344\xbc\227\xe5\xb9\xb3\xe5\x8f\260\346\216\245\xe5\x8f\243\345\xa4\xb1\xe8\264\245\x2c\40\351\x94\x99\xe8\257\257\350\257\246\346\203\205\72\40{$result["\145\162\162\143\x6f\144\x65"]}"); goto A44qD; Cp2mO: goto sxXP7; goto lm_jc; A44qD: qejGa: goto vqQJs; AGfGr: } public static function get_recycle_categorys($filter = array(), $fields = array(), $keyfield = '', $orderby = array(), $limit = array()) { goto Jkzz6; McNhM: foreach ($list as $row) { goto eOmzV; oHC9x: if (!$children) { goto nkCDm; } goto oR9za; eOmzV: $filter["\x70\x69\144"] = $row["\x69\144"]; goto hzZRx; oR9za: $row["\x63\150\x69\x6c\x64\162\x65\156"] = $children; goto WAkpE; nm1Kk: $data[] = $row; goto XlfRR; hzZRx: $children = self::get_recycle_categorys($filter, $fields, $keyfield, $orderby, $limit); goto oHC9x; XlfRR: J0MW9: goto RfUdF; WAkpE: nkCDm: goto nm1Kk; RfUdF: } goto mdZAk; mdZAk: W4D0P: goto JtZJf; JtZJf: return $data; goto XBvXZ; Jkzz6: $list = pdo_getall("\x73\x75\160\x65\x72\155\x61\156\137\150\x61\156\x64\62\137\162\145\x63\x79\143\x6c\x65\x5f\x63\141\164\145\x67\x6f\162\171", $filter, $fields, $keyfield, $orderby, $limit); goto gB3bZ; gB3bZ: if (!$list) { goto SmBcx; } goto ZKYSA; ZKYSA: usort($list, array(SupermanHandUtil, "\x73\x6f\x72\164\x5f\144\151\163\160\154\141\171\157\162\144\145\162\x5f\x64\145\163\x63")); goto McNhM; XBvXZ: SmBcx: goto sYZVK; sYZVK: } public static function sort_displayorder_desc($m1, $m2) { goto Ol3X4; Ol3X4: if (!($m1["\x64\151\x73\x70\x6c\141\x79\x6f\162\144\x65\x72"] == $m2["\144\x69\x73\160\154\141\x79\x6f\162\x64\145\162"])) { goto w6CNy; } goto is93q; is93q: return 0; goto nq0OV; nq0OV: w6CNy: goto sweCY; sweCY: return $m1["\x64\151\x73\x70\154\x61\171\157\x72\x64\145\x72"] < $m2["\144\x69\163\160\154\141\171\x6f\x72\144\x65\x72"] ? 1 : -1; goto BNd3y; BNd3y: } public static function sort_displayorder_asc($m1, $m2) { goto W3uDI; F7who: return $m1["\144\x69\x73\x70\x6c\141\x79\157\x72\144\x65\x72"] < $m2["\x64\x69\163\160\x6c\x61\x79\x6f\x72\144\x65\x72"] ? -1 : 1; goto o5cqB; jZ9RL: return 0; goto M6usA; W3uDI: if (!($m1["\x64\151\x73\160\154\x61\x79\x6f\x72\x64\145\x72"] == $m2["\144\151\163\x70\x6c\x61\x79\157\162\x64\x65\162"])) { goto LkLtx; } goto jZ9RL; M6usA: LkLtx: goto F7who; o5cqB: } public static function get_links($type, $title = '') { goto X0LUO; cTaDB: return $links; goto HC1Vm; aIgh1: qBLlT: goto El2x1; Q94KG: GYFE1: goto c5sV7; z4_Po: $orderby = "\144\x69\163\x70\x6c\141\171\157\162\x64\145\x72\40\104\105\x53\x43"; goto b1jgf; c5sV7: return ''; goto tK2RQ; SWzzf: $filter = array("\165\156\151\141\143\151\144" => $_W["\x75\x6e\x69\141\143\151\144"], "\x73\x74\x61\x74\x75\163" => 1); goto z4_Po; b1jgf: $notice = pdo_getall("\x73\x75\160\x65\x72\x6d\141\156\x5f\x68\141\156\144\62\x5f\x6e\157\164\x69\x63\x65", $filter, "\52", '', $orderby); goto XFs2n; ko761: $links = array(array("\164\x69\164\x6c\145" => "\xe9\246\x96\351\241\265", "\165\162\154" => $type == 4 ? "\x2f\x70\141\x67\x65\x73\x2f\150\157\x6d\x65\57\x69\156\x64\145\x78" : self::createMobileUrl("\x68\x6f\x6d\x65")), array("\164\151\x74\154\x65" => "\xe5\217\221\xe5\270\203\xe9\241\265", "\165\x72\x6c" => $type == 4 ? "\x2f\x70\141\147\x65\x73\x2f\x70\157\x73\x74\x2f\151\156\144\x65\170" : self::createMobileUrl("\151\164\x65\x6d", array("\x61\x63\x74" => "\x70\x6f\x73\x74"))), array("\164\151\x74\x6c\x65" => "\346\x88\x91\xe7\232\204", "\x75\162\154" => $type == 4 ? "\57\x70\x61\x67\145\163\x2f\155\x79\x2f\151\156\x64\x65\170" : self::createMobileUrl("\155\171")), array("\164\x69\x74\154\145" => "\xe6\xb6\x88\346\201\xaf\345\x88\x97\350\xa1\250", "\165\x72\x6c" => $type == 4 ? "\57\x70\x61\x67\x65\x73\x2f\x6d\x65\x73\x73\x61\x67\145\x2f\151\x6e\144\145\170" : self::createMobileUrl("\155\145\163\163\x61\x67\145", array("\x61\143\x74" => "\x6c\x69\x73\164"))), array("\x74\151\164\154\x65" => "\344\xbb\273\xe5\212\241\xe4\xb8\255\345\277\x83", "\x75\x72\154" => $type == 4 ? "\x2f\x70\141\x67\x65\163\57\147\145\x74\137\143\x72\145\144\151\164\57\151\156\x64\145\170" : self::createMobileUrl("\155\x79", array("\141\x63\164" => "\147\x65\x74\137\143\162\145\x64\151\x74"))), array("\x74\151\164\154\145" => "\xe7\211\xa9\xe5\223\201\345\x88\x97\350\xa1\250", "\165\162\154" => $type == 4 ? "\57\x70\141\147\145\x73\57\x6c\151\x73\164\57\x69\156\x64\x65\x78" : self::createMobileUrl("\151\x74\145\155", array("\x61\x63\x74" => "\154\151\x73\164"))), array("\164\151\x74\154\x65" => "\xe6\210\221\xe8\xae\xa2\351\x98\205\347\x9a\204", "\x75\162\x6c" => $type == 4 ? "\x2f\160\x61\x67\x65\163\x2f\x61\x73\x6b\137\x69\164\x65\155\57\151\x6e\x64\x65\x78" : self::createMobileUrl("\x61\x73\153\137\x69\x74\145\x6d", array("\141\x63\164" => "\144\x69\163\160\x6c\x61\171", "\x6d" => "\163\165\160\145\x72\x6d\x61\x6e\x5f\150\141\x6e\144\x32\x5f\160\154\165\x67\x69\156\x5f\156\157\164\x69\x63\x65")))); goto VhCWX; ynyQG: if (empty($title)) { goto oE_ga; } goto OhDu2; OhDu2: foreach ($links as $li) { goto rh8s3; rh8s3: if (!($li["\x74\151\x74\x6c\145"] == $title)) { goto GhK0Y; } goto zomkp; zomkp: return $li["\x75\x72\x6c"]; goto JVjln; JVjln: GhK0Y: goto mRIRB; mRIRB: XTjLH: goto rY7AD; rY7AD: } goto Q94KG; VhCWX: if (!($type == 4)) { goto zZjWy; } goto SWzzf; El2x1: qbOEs: goto imZoL; XFs2n: if (empty($notice)) { goto qbOEs; } goto SPOHs; SPOHs: foreach ($notice as $n) { $links[] = array("\164\x69\x74\154\145" => "\345\x85\xac\345\221\212\72" . $n["\x74\151\164\154\x65"], "\165\162\154" => "\x2f\x70\141\147\x65\x73\57\141\144\57\151\156\x64\145\x78\77\151\x64\x3d" . $n["\151\x64"]); ZfSUz: } goto aIgh1; X0LUO: global $_W; goto ko761; imZoL: zZjWy: goto ynyQG; tK2RQ: oE_ga: goto cTaDB; HC1Vm: } public static function format_form_fields($params) { $data = array(); return $data; } public static function uid2openid($uid) { $fans = mc_fansinfo($uid); return $fans && $fans["\x6f\160\x65\x6e\151\x64"] ? $fans["\157\160\145\x6e\151\144"] : ''; } public static function get_uid_formid($uid) { goto QKRSa; J6b4A: return $row; goto PRS_I; o3_fz: h56mH: goto J6b4A; QKRSa: global $_W; goto m0unT; s343g: if ($row) { goto h56mH; } goto lWMcV; m0unT: $row = pdo_get("\x73\165\x70\x65\162\x6d\x61\156\137\150\x61\156\144\62\137\x6d\x65\155\142\145\x72\137\x66\157\162\155\151\x64", array("\x75\156\x69\x61\x63\x69\x64" => $_W["\165\x6e\151\141\143\x69\x64"], "\x75\151\x64" => $uid, "\x63\162\145\141\164\145\x74\151\x6d\x65\40\76" => TIMESTAMP - 7 * 24 * 3600), array("\151\144", "\146\x6f\x72\x6d\151\144")); goto s343g; lWMcV: return false; goto o3_fz; PRS_I: } public static function delete_uid_formid($id) { global $_W; pdo_delete("\x73\165\x70\x65\162\155\141\156\x5f\150\141\x6e\x64\62\137\155\145\155\x62\x65\x72\x5f\x66\x6f\162\x6d\151\x64", array("\x75\x6e\x69\x61\x63\151\x64" => $_W["\165\156\151\x61\x63\151\x64"], "\151\144" => $id)); } public static function check_blacklist() { goto lyG_y; DWfAI: $sql = "\123\x45\x4c\105\x43\x54\x20\52\x20\106\122\x4f\115\40" . tablename("\x73\x75\x70\x65\162\x6d\x61\x6e\137\150\x61\x6e\x64\62\x5f\x6d\145\155\142\145\x72\137\x62\154\141\x63\153\154\151\163\164") . "\x20\127\x48\105\122\x45\40\x75\156\x69\x61\x63\151\x64\x3d\72\165\156\x69\141\x63\x69\144\40\101\116\104\x20\x75\151\x64\x3d\x3a\165\151\x64"; goto CAaor; XkBV8: return $black; goto omqPy; D9KHY: $params = array("\x3a\x75\x6e\x69\x61\143\151\x64" => $_W["\165\156\x69\x61\x63\151\x64"], "\72\165\x69\144" => $_W["\155\145\x6d\142\145\162"]["\165\151\144"]); goto Z73Vd; lyG_y: global $_W; goto DWfAI; Z73Vd: $black = pdo_fetch($sql, $params); goto XkBV8; CAaor: $sql .= "\x20\101\x4e\104\40\x28\142\154\x6f\x63\x6b\x74\x69\x6d\145\40\x3d\40\x31\40\117\x52\x20\142\154\x6f\143\153\x74\151\x6d\145\x20\x3e" . TIMESTAMP . "\x29"; goto D9KHY; omqPy: } public static function create_ordersn() { goto vuu9Y; Iyeb9: if ($exist) { goto ne1Vg; } goto wZxhk; wZxhk: l90qL: goto GhN4s; vuu9Y: ne1Vg: goto q8EHX; q8EHX: $ordersn = "\x53" . date("\x59\155\x64") . random(6, 1); goto ax_K7; Ir1tN: $exist = $row ? true : false; goto Iyeb9; GhN4s: return $ordersn; goto IhwZA; ax_K7: $row = pdo_fetchcolumn("\x53\x45\x4c\105\103\x54\40\151\144\40\106\x52\x4f\115\40" . tablename("\x73\165\x70\x65\x72\155\141\156\137\x68\141\x6e\144\62\137\x6f\x72\144\x65\x72") . "\x20\x57\110\x45\x52\x45\40\x6f\x72\144\145\162\x73\156\x3d\x3a\x6f\x72\x64\145\162\163\156", array("\x3a\157\162\144\x65\x72\x73\x6e" => $ordersn)); goto Ir1tN; IhwZA: } public static function sync_remote_file($paths) { goto LwBNG; Cz01K: if (!$paths) { goto PWonS; } goto rXgqa; AagzJ: unset($path); goto rEQ41; E6CM6: WBYWd: goto pRX_n; bpD2v: $buckets = attachment_alioss_buctkets($_W["\163\145\164\164\x69\156\x67"]["\x72\145\x6d\157\x74\x65"]["\x61\154\151\157\163\x73"]["\153\145\171"], $_W["\163\145\164\164\x69\156\147"]["\x72\x65\x6d\x6f\x74\145"]["\x61\154\151\x6f\163\x73"]["\x73\x65\143\x72\x65\x74"]); goto tsa0M; rEQ41: PWonS: goto E6CM6; LwBNG: global $_W; goto BQQmq; I230q: DdhER: goto AagzJ; Rjg05: try { goto bMyRH; Z4QZP: if (!$paths) { goto PkZK4; } goto qi9yP; qi9yP: foreach ($paths as &$path) { goto PJaz1; zKk2e: if ($ret === null) { goto Zn3GC; } goto xD303; n20gx: Qj1es: goto qzh3m; VrOKv: VzVts: goto zf2aU; xD303: WeUtility::logging("\167\141\x72\156\x69\x6e\x67", "\133\164\142\141\x73\x74\72\141\154\x69\157\x73\163\x5d\x20\x75\x70\154\x6f\141\x64\40\x66\141\151\154\x65\144\x2c\40\x72\145\x74\x3d" . var_export($ret, true)); goto PTTZT; qzh3m: $ret = $ossClient->uploadFile($_W["\163\145\164\x74\151\x6e\147"]["\x72\x65\155\x6f\164\145"]["\141\154\151\x6f\x73\163"]["\x62\165\143\153\x65\164"], $path, self::attachment_path() . $path); goto zKk2e; PTTZT: goto VzVts; goto bu15_; dwo4e: return false; goto n20gx; bu15_: Zn3GC: goto GrNYc; GrNYc: file_delete(self::attachment_path() . $path); goto VrOKv; zf2aU: G2ZN9: goto C7XW3; PJaz1: if (!(empty($path) || !file_exists(self::attachment_path() . $path))) { goto Qj1es; } goto dwo4e; C7XW3: } goto iYz1O; bMyRH: $ossClient = new \OSS\OssClient($_W["\x73\145\164\x74\151\x6e\x67"]["\x72\145\155\157\164\x65"]["\141\154\x69\x6f\x73\163"]["\153\145\171"], $_W["\163\x65\164\x74\x69\x6e\x67"]["\x72\145\x6d\157\x74\145"]["\x61\154\x69\157\x73\163"]["\x73\x65\x63\162\145\164"], $endpoint); goto Z4QZP; E1Jjp: unset($path); goto DW85h; DW85h: PkZK4: goto EDGzm; iYz1O: k_PqP: goto E1Jjp; EDGzm: } catch (\OSS\Core\OssException $e) { return error(1, $e->getMessage()); } goto FmQUO; rXgqa: foreach ($paths as &$path) { goto CQk48; CQk48: if (!(empty($path) || !file_exists(self::attachment_path() . $path))) { goto j8JMh; } goto LgzVQ; UhPxq: list($ret, $err) = $uploadmgr->putFile($uploadtoken, $path, self::attachment_path() . $path); goto Kj6Qa; z2ryC: file_delete(self::attachment_path() . $path); goto kKTSX; Ww9nY: goto zOpW1; goto YxlET; kKTSX: zOpW1: goto kFZ_0; YxlET: OBBcE: goto z2ryC; UaIWw: WeUtility::logging("\167\x61\162\156\x69\156\x67", "\133\164\142\141\x73\x74\72\161\x69\156\x69\165\135\40\165\160\x6c\x6f\141\x64\x20\146\x61\151\154\x65\x64\54\40\162\x65\x74\x3d" . var_export($ret, true) . "\x2c\x20\145\x72\x72\x3d" . var_export($err, true)); goto Ww9nY; LgzVQ: return false; goto g_3Dg; Kj6Qa: if ($err === null) { goto OBBcE; } goto UaIWw; g_3Dg: j8JMh: goto EPx04; EPx04: $putpolicy = Qiniu\base64_urlSafeEncode(json_encode(array("\163\x63\x6f\x70\145" => $_W["\163\145\164\164\x69\x6e\x67"]["\162\145\155\157\164\145"]["\161\151\x6e\x69\165"]["\142\x75\143\153\x65\164"] . "\x3a" . $path))); goto uqzAP; kFZ_0: fptEd: goto BdwdS; uqzAP: $uploadtoken = $auth->uploadToken($_W["\x73\x65\164\164\151\156\147"]["\x72\x65\155\157\164\x65"]["\161\x69\156\x69\x75"]["\142\x75\x63\x6b\145\164"], $path, 3600); goto UhPxq; BdwdS: } goto I230q; rE9DE: load()->model("\x61\164\164\x61\x63\150\x6d\x65\x6e\x74"); goto bpD2v; FmQUO: GZx8G: goto M8KXQ; pRX_n: if (!($_W["\163\145\x74\x74\x69\x6e\x67"]["\162\145\x6d\x6f\x74\x65"]["\164\x79\160\x65"] == 2 && !empty($_W["\163\145\x74\x74\151\x6e\x67"]["\x72\x65\x6d\157\164\145"]["\141\x6c\x69\157\163\163"]["\153\x65\x79"]) && !empty($_W["\163\145\164\164\x69\156\x67"]["\x72\145\155\x6f\x74\145"]["\141\154\x69\x6f\x73\163"]["\163\145\143\162\x65\x74"]) && !empty($_W["\163\145\x74\164\x69\156\x67"]["\162\145\x6d\x6f\164\145"]["\x61\x6c\151\x6f\x73\163"]["\x62\165\x63\153\145\164"]))) { goto GZx8G; } goto rE9DE; UiBTA: require IA_ROOT . "\x2f\146\x72\141\155\x65\167\x6f\162\x6b\57\154\151\x62\x72\x61\x72\171\x2f\x71\151\156\151\165\57\141\165\x74\157\154\157\x61\144\56\x70\150\x70"; goto dRHXF; BQQmq: if (!($_W["\x73\x65\164\x74\151\x6e\147"]["\162\x65\155\x6f\164\145"]["\x74\x79\160\x65"] == 3 && !empty($_W["\x73\x65\x74\x74\x69\156\x67"]["\162\x65\155\x6f\164\x65"]["\161\151\156\x69\x75"]["\x75\x72\154"]) && !empty($_W["\x73\x65\164\x74\x69\x6e\147"]["\x72\145\x6d\157\164\145"]["\161\x69\x6e\x69\165"]["\x61\143\143\x65\x73\x73\x6b\x65\x79"]) && !empty($_W["\163\x65\x74\x74\151\156\147"]["\x72\145\155\157\164\145"]["\161\151\156\x69\165"]["\x73\145\x63\x72\x65\164\153\145\x79"]) && !empty($_W["\163\145\164\x74\x69\x6e\147"]["\x72\x65\155\x6f\164\x65"]["\x71\151\156\151\165"]["\x62\165\143\153\145\164"]))) { goto WBYWd; } goto UiBTA; JF6yM: $uploadmgr = new Qiniu\Storage\UploadManager(); goto Cz01K; tsa0M: $endpoint = "\150\x74\164\x70\x3a\x2f\57" . $buckets[$_W["\x73\145\x74\164\151\156\x67"]["\x72\x65\x6d\x6f\x74\x65"]["\141\154\151\x6f\163\x73"]["\x62\165\143\153\145\x74"]]["\x6c\157\143\x61\164\151\157\x6e"] . "\56\x61\x6c\151\x79\x75\x6e\143\163\x2e\x63\x6f\x6d"; goto Rjg05; dRHXF: $auth = new Qiniu\Auth($_W["\x73\145\x74\x74\x69\156\x67"]["\162\145\155\157\x74\145"]["\161\151\156\x69\x75"]["\x61\143\x63\x65\163\163\x6b\x65\x79"], $_W["\163\x65\164\164\x69\x6e\x67"]["\x72\x65\x6d\x6f\x74\x65"]["\161\x69\156\x69\x75"]["\163\x65\143\162\145\164\x6b\x65\171"]); goto JF6yM; M8KXQ: } public static function stat_day_item_trade() { goto OyqxL; kmbUV: $sql = "\125\x50\104\101\x54\105\40" . tablename("\163\165\x70\145\162\x6d\x61\156\x5f\150\x61\156\x64\62\x5f\163\x74\141\x74") . "\40\x53\x45\x54\x20\x69\x74\x65\x6d\137\x74\162\141\144\x65\x3d\x69\164\x65\155\137\x74\162\x61\144\x65\x2b\x31\40\127\110\105\x52\x45\x20"; goto QdLlO; QdLlO: $sql .= "\40\x75\156\151\x61\143\x69\144\75{$_W["\x75\x6e\151\x61\x63\151\x64"]}\x20\x41\x4e\x44\x20\144\141\171\164\x69\155\x65\x3d" . date("\131\155\144"); goto Wu14E; Wu14E: pdo_query($sql); goto xtsJO; OyqxL: global $_W; goto kmbUV; xtsJO: } public static function float_format($num, $len = 2) { goto kYGy6; zZrh7: $result = $arr[0] / $multiplier; goto CbSMm; CbSMm: return sprintf("\x25\56" . $len . "\x66", $result); goto eD9X2; kYGy6: $multiplier = pow(10, $len); goto wv3PR; wv3PR: $arr = explode("\x2e", $num * $multiplier); goto zZrh7; eD9X2: } public static function pay($params, $extra = array()) { goto k77nc; xCvdP: $xml = @simplexml_load_string($response); goto oZJ4B; ZlFk1: goto QxJ8A; goto Vooj0; nfF7S: $return_msg = $xml->return_msg ? (string) $xml->return_msg : ''; goto cUK5Z; rj3o5: $key = authcode($_W["\x61\x63\x63\x6f\x75\156\164"]["\x73\145\164\x74\x69\156\x67"]["\160\x61\171\155\x65\x6e\164"]["\167\145\x63\x68\141\164\x5f\162\145\146\165\x6e\144"]["\x6b\145\171"], "\104\x45\103\117\x44\x45"); goto aGvQs; kZMTZ: Pqn3L: goto uYkSJ; ulFUr: return $ret; goto IJZkl; klYWk: AbhBu: goto NKI5r; J1ty8: $headers["\103\x6f\x6e\164\x65\156\164\x2d\124\171\160\x65"] = "\141\160\x70\x6c\x69\x63\x61\x74\151\x6f\x6e\x2f\x78\55\167\x77\x77\55\146\157\162\x6d\x2d\x75\x72\x6c\145\156\143\x6f\144\145\x64"; goto YWzsV; wHiWb: $err_code_des = $xml->err_code_des ? (string) $xml->err_code_des : ''; goto tLTBf; LJmCQ: @unlink($cert_filename); goto yVnee; H7PbD: ewv3z: goto xCvdP; qSfDp: $pay_url = "\150\164\164\x70\x73\x3a\x2f\x2f\141\x70\151\x2e\155\143\150\56\x77\x65\151\x78\x69\156\56\x71\161\x2e\143\x6f\x6d\57\155\x6d\160\x61\171\155\153\x74\164\x72\141\156\163\146\x65\162\163\x2f\x70\162\x6f\155\x6f\164\151\x6f\x6e\x2f\164\162\141\x6e\x73\x66\145\x72\x73"; goto okoCc; uYkSJ: $response = $response["\143\157\156\164\x65\x6e\164"]; goto ckVD0; tLTBf: if ($return_code == "\123\125\x43\x43\x45\123\123" && $result_code == "\x53\x55\103\x43\x45\x53\123") { goto GWKqM; } goto twhhL; BgZX0: $return_code = $xml->return_code ? (string) $xml->return_code : ''; goto nfF7S; Kxdax: $ret = array("\x73\165\x63\x63\145\163\163" => true, "\160\141\x72\164\x6e\x65\162\x5f\x74\x72\x61\x64\145\x5f\156\x6f" => $xml->partner_trade_no, "\160\141\171\155\x65\x6e\164\137\156\157" => $xml->payment_no, "\x70\x61\171\155\x65\156\164\x5f\164\151\155\145" => $xml->payment_time); goto ulFUr; twhhL: return $return_code . "\72" . $return_msg . "\x2c" . $err_code . "\x3a" . $err_code_des; goto ZlFk1; R7P12: WeUtility::logging("\164\162\x61\x63\145", "\133\127\x78\x70\141\171\x3a\x70\x61\x79\x5d\x20\x78\x6d\x6c\137\x64\x61\164\x61\x3d" . $xml_data); goto Uk7v2; cUK5Z: $result_code = $xml->result_code ? (string) $xml->result_code : ''; goto UFQLb; okoCc: $response = ihttp_request($pay_url, $xml_data, $headers); goto LJmCQ; U1lg7: if (!self::$debug) { goto TmrkC; } goto R7P12; S3AHY: return "\x5b\167\x78\160\x61\x79\x2d\x61\x70\x69\72\160\x61\x79\135\x20\162\x65\163\160\x6f\x6e\x73\145\x20\x4e\x55\x4c\x4c"; goto kZMTZ; oZJ4B: if (!empty($xml)) { goto AbhBu; } goto whtHP; X66OR: file_put_contents($cert_filename, $cert . $key); goto kfxi9; k7yFw: $headers = array(); goto J1ty8; UFQLb: $err_code = $xml->err_code ? (string) $xml->err_code : ''; goto wHiWb; B4xSF: WeUtility::logging("\164\162\x61\143\x65", "\133\127\x78\x70\141\x79\72\x70\x61\x79\x5d\40\170\155\x6c\x3d" . var_export($xml, true)); goto ipqEj; etggX: $sign = self::sign($data, $extra["\163\x69\x67\x6e\137\153\145\x79"]); goto rG9wD; ckVD0: if (!self::$debug) { goto ewv3z; } goto QABlO; ipqEj: drgIl: goto BgZX0; NKI5r: if (!self::$debug) { goto drgIl; } goto B4xSF; kfxi9: $headers["\103\125\x52\x4c\x4f\x50\124\137\123\x53\114\x43\x45\122\x54"] = $cert_filename; goto U1lg7; fkP39: $headers["\x43\125\122\x4c\117\x50\124\x5f\x53\x53\x4c\137\x56\x45\x52\x49\x46\131\x48\117\x53\124"] = false; goto MHGV8; YWzsV: $headers["\x43\125\122\x4c\117\x50\x54\137\123\123\x4c\x5f\126\105\x52\111\106\x59\120\105\105\122"] = false; goto fkP39; k77nc: global $_W; goto QTVz5; MHGV8: $cert = authcode($_W["\x61\143\x63\x6f\165\x6e\x74"]["\163\x65\164\164\x69\156\x67"]["\x70\141\171\155\145\156\x74"]["\167\x65\x63\x68\x61\x74\137\x72\x65\x66\x75\x6e\x64"]["\143\145\162\164"], "\104\x45\103\x4f\104\105"); goto rj3o5; rG9wD: $xml_data = "\74\170\x6d\x6c\76\74\155\143\x68\137\x61\160\160\151\144\76{$data["\x6d\x63\x68\x5f\141\160\x70\151\144"]}\x3c\57\x6d\x63\x68\x5f\141\160\x70\151\x64\x3e\x3c\x6d\143\150\x69\x64\76{$data["\155\143\x68\x69\144"]}\x3c\x2f\x6d\143\x68\151\144\76\x3c\156\x6f\156\x63\x65\x5f\163\164\x72\x3e{$data["\156\x6f\156\143\x65\x5f\x73\164\162"]}\x3c\x2f\156\x6f\x6e\143\x65\x5f\163\164\x72\x3e\74\x70\141\162\164\x6e\145\162\x5f\x74\x72\x61\144\145\137\x6e\x6f\x3e{$data["\x70\x61\x72\x74\x6e\x65\x72\137\x74\162\141\x64\x65\137\x6e\157"]}\x3c\57\160\x61\x72\x74\x6e\145\162\x5f\164\162\x61\x64\x65\x5f\x6e\157\76\74\157\160\x65\156\x69\x64\x3e{$data["\x6f\160\x65\x6e\x69\144"]}\74\57\x6f\160\145\x6e\151\144\x3e\74\143\x68\145\143\153\x5f\x6e\141\155\x65\x3e{$data["\143\150\145\x63\153\137\156\141\x6d\145"]}\74\57\x63\150\x65\143\x6b\137\x6e\x61\155\145\x3e\74\162\x65\x5f\x75\x73\x65\x72\137\x6e\x61\x6d\145\x3e{$data["\x72\145\137\x75\163\145\x72\137\156\141\155\x65"]}\x3c\57\162\145\137\165\163\145\x72\x5f\156\x61\x6d\x65\76\74\x61\155\157\165\x6e\x74\x3e{$data["\141\x6d\x6f\165\x6e\164"]}\74\x2f\x61\x6d\157\165\x6e\164\x3e\x3c\x64\145\163\143\x3e{$data["\x64\x65\x73\143"]}\74\57\x64\x65\163\x63\76\x3c\163\x70\142\x69\x6c\x6c\x5f\x63\x72\145\x61\164\145\x5f\x69\x70\76{$data["\163\x70\142\151\154\154\137\x63\x72\145\x61\x74\145\137\151\x70"]}\x3c\57\x73\x70\x62\x69\x6c\154\x5f\143\162\145\141\x74\x65\x5f\151\160\76\74\163\x69\147\156\x3e{$sign}\74\x2f\163\x69\147\156\76\x3c\x2f\170\155\154\76"; goto k7yFw; IJZkl: QxJ8A: goto h1PyR; Vooj0: GWKqM: goto Kxdax; QABlO: WeUtility::logging("\x74\x72\141\x63\145", "\133\127\x78\160\x61\x79\x3a\160\x61\x79\x5d\40\162\x65\163\x70\157\156\163\x65\x3d" . $response); goto H7PbD; Uk7v2: WeUtility::logging("\164\162\x61\x63\145", "\133\127\170\160\x61\x79\72\160\141\171\135\40\150\x65\x61\144\x65\162\x73\75" . var_export($headers, true)); goto NU4Mo; aGvQs: $cert_filename = MODULE_ROOT . "\144\x61\164\x61\57" . $_W["\165\x6e\x69\x61\x63\x69\x64"] . "\x5f\167\x65\x63\150\141\x74\137\160\141\171\x5f\141\x6c\154\56\160\145\155"; goto X66OR; yVnee: if (!($response == '')) { goto Pqn3L; } goto S3AHY; whtHP: return "\x5b\167\x78\160\141\x79\55\x61\x70\x69\x3a\160\x61\171\x5d\40\x70\141\x72\163\x65\40\170\155\154\40\x4e\x55\x4c\114"; goto klYWk; QTVz5: $data = array("\x6d\143\x68\x5f\x61\x70\160\x69\144" => $params["\x6d\143\150\x5f\x61\160\160\x69\x64"], "\155\x63\150\151\144" => $params["\x6d\143\x68\x69\144"], "\x6e\157\156\x63\145\x5f\163\x74\x72" => $params["\x6e\157\156\x63\145\137\x73\164\x72"], "\160\x61\162\x74\x6e\x65\x72\137\164\x72\141\144\x65\137\156\157" => $params["\x70\141\x72\x74\x6e\x65\162\x5f\164\x72\141\x64\x65\x5f\156\x6f"], "\157\x70\145\x6e\x69\144" => $params["\x6f\160\x65\x6e\x69\144"], "\143\x68\x65\x63\153\137\156\x61\x6d\x65" => $params["\x63\150\x65\143\x6b\x5f\156\141\155\x65"], "\162\x65\x5f\165\x73\x65\162\x5f\156\x61\x6d\x65" => $params["\x72\145\137\165\x73\x65\162\137\x6e\141\x6d\x65"], "\141\x6d\157\x75\x6e\164" => $params["\x61\155\x6f\x75\156\164"] * 100, "\144\x65\163\143" => $params["\144\x65\163\143"], "\163\x70\142\151\154\154\137\x63\162\x65\141\x74\145\137\151\160" => $params["\x73\160\x62\x69\x6c\x6c\137\143\162\x65\141\164\x65\137\x69\x70"]); goto etggX; NU4Mo: TmrkC: goto qSfDp; h1PyR: } public static function _init_plugin_module($module) { goto uXfjx; mplKw: if (!empty($plugin_name)) { goto U1DmH; } goto rODlM; a57sK: return $plugin_module; goto Lib4c; bOTrf: foreach ($plugin_name as $name) { goto vHWDZ; vHWDZ: $str = str_replace("\x73\x75\x70\145\162\x6d\x61\156\x5f\150\x61\x6e\x64\62\137", '', $name); goto iZAzI; iZAzI: $plugin_module[$str] = json_decode(json_encode(WeUtility::createModuleHook($name)), true); goto c2pfJ; c2pfJ: SJOba: goto DQrLP; DQrLP: } goto NpHNa; uD6rQ: U1DmH: goto bOTrf; NpHNa: mQ28E: goto a57sK; uXfjx: $plugin_name = $module["\x70\154\x75\147\x69\156\137\x6c\x69\x73\164"]; goto mplKw; rODlM: return false; goto uD6rQ; Lib4c: } public static function credit_uplimit($config_credit, $credit) { goto GIP_c; jibFh: $record = pdo_fetch($sql); goto Pf635; CqsOY: if (!empty($config_credit["\157\160\x65\x6e"])) { goto UzwiM; } goto rYzES; DNA0t: $sql .= "\40\101\116\x44\40\165\x69\x64\x3d" . $_W["\x6d\x65\x6d\142\145\x72"]["\165\x69\144"]; goto jibFh; zaBPa: UzwiM: goto MgNdI; lWA0A: return true; goto JUSee; rvw2o: L7W29: goto YJcN1; GVU8m: $sql .= "\40\101\116\104\x20\x63\162\x65\x64\151\x74\x74\x79\x70\x65\75\47\x63\162\x65\x64\151\164\61\47\x20\x41\116\x44\40\155\x6f\x64\x75\x6c\145\75\x27\x73\x75\160\145\x72\x6d\x61\x6e\137\150\141\x6e\x64\62\47\40\x41\116\x44\x20\x6e\165\x6d\40\76\40\x30"; goto Bxtaz; Pf635: if (!($config_credit["\x75\x70\x6c\x69\x6d\x69\x74"] > 0 && $record["\156\x75\x6d"] + $credit > $config_credit["\165\160\x6c\x69\155\151\x74"])) { goto fIR2r; } goto mWEmJ; mWEmJ: return false; goto vgdAg; MgNdI: if (!empty($credit)) { goto L7W29; } goto gTXSI; rYzES: return false; goto zaBPa; YJcN1: $sql = "\123\x45\x4c\x45\103\x54\40\x53\x55\x4d\x28\156\165\x6d\51\40\101\x53\40\x6e\x75\x6d\40\x46\x52\x4f\115\x20" . tablename("\155\143\137\x63\162\x65\x64\151\x74\x73\x5f\x72\145\x63\x6f\x72\144") . "\x20\x57\x48\105\x52\105\40\x75\156\151\x61\143\151\x64\x3d{$_W["\165\x6e\151\x61\x63\x69\144"]}"; goto GVU8m; Bxtaz: $sql .= "\40\101\116\104\40\x63\x72\x65\141\164\x65\164\151\x6d\x65\76\75" . strtotime(date("\131\55\x6d\55\144\40\60\60\x3a\x30\60\x3a\60\x30", TIMESTAMP)); goto DNA0t; gTXSI: return false; goto rvw2o; GIP_c: global $_W; goto CqsOY; vgdAg: fIR2r: goto lWA0A; JUSee: } public static function payResult($params, $modules) { goto zbSWD; AxDfA: if (!($order["\163\x74\141\x74\x75\x73"] != 0)) { goto qOHUW; } goto WEzSL; iNWoM: WeUtility::logging("\146\x61\164\x61\154", "\x5b\163\x75\x70\145\x72\x6d\x61\156\137\150\x61\156\144\x32\x5d\x20\160\141\171\122\145\x73\165\x6c\164\72\x75\160\144\141\x74\x65\x20\x69\x74\x65\x6d\x20\146\x61\151\x6c\145\x64\54\x20\154\x6f\x67\x69\x64\75{$order["\151\144"]}\x2c\40\144\x61\x74\141\x3d" . var_export($data, true)); goto HoyTX; E_0nv: CjwRk: goto DYHxL; GT1w1: WeUtility::logging("\151\156\146\157", "\133\x73\x75\160\x65\162\x6d\141\x6e\x5f\150\141\156\144\62\x3a\165\164\151\x6c\56\x63\x6c\141\163\163\x2e\160\x68\x70\x5d\x20\x70\x61\171\x52\x65\163\165\x6c\164\x3a\x20\163\165\143\143\x65\x73\163\54\40\x6c\157\x67\151\x64\75{$order["\151\x64"]}"); goto H76iH; ic9_Z: $ret2 = pdo_update("\163\165\160\x65\162\x6d\141\156\137\150\141\156\144\62\137\x69\x74\145\x6d", array("\x73\x74\x61\164\x75\x73" => $status, "\163\164\157\x63\x6b\x20\55\x3d" => $order["\x74\x6f\164\141\154"]), array("\151\144" => $order["\x69\164\x65\155\151\144"])); goto mHdXW; InzrQ: yi1qy: goto cr0IE; BDw4w: WeUtility::logging("\144\x65\x62\x75\x67", "\133\163\x75\160\145\162\155\x61\x6e\137\150\141\x6e\x64\x32\72\165\164\x69\154\56\143\154\141\x73\163\56\x70\150\x70\x5d\40\160\x61\171\x52\145\163\x75\x6c\164\x3a\x20\x70\141\162\x61\155\x73\x3d" . var_export($params, true)); goto dJaX1; aCdKE: rrjZy: goto n4S7g; xgT6Y: $url = "\160\x61\147\145\x73\x2f\155\171\137\x6f\x72\144\145\x72\57\x69\156\x64\145\x78\x3f\x74\x79\160\145\75\163\x65\154\x6c"; goto W1PxV; HoyTX: return; goto ax6dU; o0zjq: return; goto U3FaW; WyLN9: WeUtility::logging("\x66\141\164\141\154", "\x5b\x73\165\160\x65\162\x6d\141\x6e\137\150\141\156\x64\62\x5d\40\160\x61\171\x52\x65\x73\165\154\x74\72\165\x70\x64\x61\x74\145\x20\x6f\x72\144\x65\162\x20\146\x61\151\x6c\x65\x64\x2c\40\40\154\157\x67\151\x64\x3d{$order["\151\x64"]}\x2c\x20\144\x61\x74\141\75" . var_export($data, true)); goto np2jG; EgC2o: $res = SupermanHandUtil::get_uid_formid($item["\163\145\154\154\x65\162\x5f\165\151\144"]); goto O7han; i5Vz8: TIIW3: goto sylK1; oCORD: if (!($ret1 === false || $ret2 === false)) { goto DXJ2w; } goto ZsdJc; U8nKJ: $logid = $arr[1]; goto fpL94; aEgkW: $data = array("\163\x74\x61\164\x75\163" => 1, "\160\x61\171\156\157" => $params["\x74\141\x67"]["\x74\162\x61\x6e\163\141\143\164\151\x6f\156\x5f\151\x64"], "\160\x61\171\164\151\155\x65" => $params["\x70\141\x79\164\x69\155\145"]); goto gGcCN; mvmDd: if (!$ret) { goto u29Lp; } goto I8G4u; GAqQp: u29Lp: goto naziU; lYEzI: exit; goto VXgU7; naziU: qrGJv: goto ObHrx; a4IWd: return; goto rp3Sc; zbSWD: global $_W; goto BDw4w; DYHxL: if (is_numeric($params["\164\x69\x64"])) { goto s0Ocu; } goto kjVCd; fpL94: s0Ocu: goto Cm5jg; CBRAz: baYAL: goto FNnYm; NN38d: $order = pdo_get("\x73\165\160\x65\162\x6d\x61\x6e\137\x68\x61\156\x64\62\137\x70\x6f\x73\x69\x74\151\x6f\x6e\x5f\x6f\162\144\x65\162\137\x6c\157\x67", array("\151\x64" => $logid)); goto vzRSb; ObHrx: WeUtility::logging("\x69\156\x66\x6f", "\133\163\165\x70\145\x72\x6d\141\x6e\137\150\x61\156\x64\x32\x3a\163\x69\164\145\56\160\x68\x70\x5d\x20\160\x61\x79\122\145\163\x75\154\x74\x3a\x20\x73\165\143\143\145\163\163\x2c\x20\x6c\x6f\147\151\144\x3d{$order["\151\x64"]}"); goto lYEzI; VR5Xa: $ret1 = pdo_update("\x73\x75\x70\145\162\x6d\x61\x6e\x5f\150\141\x6e\x64\x32\137\x6f\162\x64\x65\162", $data, array("\x69\x64" => $order["\x69\144"])); goto yGQq1; ZsdJc: WeUtility::logging("\x69\156\146\157", "\133\163\x75\160\145\x72\155\x61\x6e\137\150\x61\x6e\144\x32\72\x75\164\151\154\x2e\x63\154\141\x73\163\x2e\x70\150\x70\135\40\x75\x70\144\141\164\145\x20\x74\x61\142\x6c\145\40\x66\x61\x69\154\145\x64\54\x20\x6f\x72\x64\145\x72\x3d" . var_export($order, true)); goto o0zjq; VXgU7: vcmQL: goto gZx9D; MsjGw: if (!empty($paylog)) { goto CjwRk; } goto buOsx; Q0CO_: return; goto E_0nv; J8Ffv: HlswW: goto GT1w1; U3FaW: DXJ2w: goto J8Ffv; vzRSb: if (!($paylog["\x66\x65\145"] != $order["\x61\154\154\x5f\160\162\151\x63\x65"] || $paylog["\163\164\141\x74\x75\163"] != 1)) { goto TIIW3; } goto hDD4h; W1PxV: $message_data = array("\x6b\x65\x79\167\157\162\144\61" => array("\x76\141\154\x75\x65" => $item["\x74\151\164\x6c\x65"]), "\x6b\x65\171\167\157\162\144\62" => array("\166\141\154\165\145" => $item["\160\162\151\143\145"] > 0 ? $item["\x70\162\x69\x63\145"] . "\345\205\x83" : $item["\x63\x72\145\144\151\x74"] . "\347\247\xaf\345\x88\206"), "\153\x65\171\x77\157\162\x64\63" => array("\166\x61\x6c\165\145" => $member["\x6e\x69\x63\153\156\141\155\145"])); goto FQQK1; FQQK1: $ret = SupermanHandUtil::send_wxapp_msg($message_data, $openid, $tpl_id, $url, $res["\x66\157\x72\155\x69\144"]); goto mvmDd; sylK1: if (!($order["\163\164\141\164\165\163"] != 0)) { goto W6P7Z; } goto dUFap; gGcCN: $ret = pdo_update("\x73\165\x70\145\162\x6d\141\156\137\150\141\x6e\x64\62\137\160\x6f\x73\x69\x74\x69\157\x6e\137\157\162\144\145\x72\137\154\x6f\147", $data, array("\151\x64" => $order["\x69\x64"])); goto oTWhU; I8G4u: SupermanHandUtil::delete_uid_formid($res["\151\x64"]); goto GAqQp; kpGYx: qOHUW: goto wcT26; eTY9r: $data = array("\x73\164\x61\164\x75\x73" => 1, "\160\x61\x79\156\x6f" => $params["\164\141\x67"]["\x74\162\x61\x6e\163\x61\x63\x74\151\157\156\137\151\x64"], "\x70\x61\171\164\x69\155\145" => $params["\160\x61\x79\164\151\155\145"]); goto VR5Xa; ax6dU: JpaKj: goto EgC2o; dJaX1: $paylog = pdo_get("\x63\x6f\162\x65\x5f\160\x61\x79\154\157\x67", array("\164\151\x64" => $params["\x74\151\x64"], "\x6d\157\x64\x75\154\x65" => "\163\x75\160\145\x72\x6d\x61\x6e\x5f\x68\x61\x6e\144\62")); goto MsjGw; np2jG: return; goto InzrQ; wcT26: if (!($params["\x72\x65\163\x75\x6c\164"] == "\163\165\x63\143\145\x73\x73" && $params["\146\162\x6f\155"] == "\x6e\157\164\151\x66\171")) { goto vcmQL; } goto rIXFu; rIXFu: $item = pdo_get("\163\x75\x70\x65\x72\155\x61\156\137\150\141\156\144\62\137\151\164\x65\x6d", array("\165\x6e\x69\x61\x63\151\144" => $_W["\165\x6e\x69\141\x63\x69\144"], "\151\144" => $order["\x69\x74\x65\x6d\x69\x64"])); goto eTY9r; oTWhU: if (!($ret === false)) { goto baYAL; } goto JcW9_; cUwa7: return; goto kpGYx; GgLa7: return; goto CBRAz; H76iH: exit; goto anGTL; kjVCd: $arr = explode("\x3a", $params["\x74\151\144"]); goto U8nKJ; MDb6F: $ret2 = pdo_update("\x73\165\x70\x65\162\155\x61\156\x5f\x68\141\156\x64\62\137\160\x6f\163\x69\x74\151\x6f\156\137\157\x72\144\145\x72\x5f\154\157\147", array("\141\165\144\151\x74" => 1, "\x61\165\144\x69\164\x74\151\155\x65" => TIMESTAMP, "\145\x78\160\151\162\x65\x74\151\155\145" => SupermanHandUtil::pay_item_expiretime($order["\164\157\164\x61\154"])), array("\x69\144" => $order["\x69\x64"])); goto oCORD; QF2_t: $member = mc_fetch($order["\142\165\x79\145\x72\x5f\165\151\144"], array("\x6e\151\143\153\x6e\x61\155\145")); goto rea17; Cm5jg: if ($arr[0] == "\163\165\x70\x65\162\155\x61\x6e\137\x68\141\156\144\62\137\167\x65\143\150\x61\164") { goto rrjZy; } goto NN38d; JcW9_: WeUtility::logging("\x66\x61\164\x61\x6c", "\133\163\x75\x70\x65\162\155\141\x6e\137\x68\x61\x6e\x64\x32\72\x75\x74\x69\x6c\56\143\154\141\x73\x73\56\x70\x68\x70\135\40\160\x61\x79\122\x65\x73\x75\x6c\x74\x3a\40\x6c\x6f\147\151\x64\75{$order["\151\x64"]}\x2c\40\x64\x61\x74\141\75" . var_export($data, true)); goto GgLa7; FxwU3: $openid = SupermanHandUtil::uid2openid($item["\163\x65\x6c\154\145\162\137\165\151\x64"]); goto QF2_t; MNh9l: W6P7Z: goto Vk5H5; gZx9D: VLpMW: goto zOMM0; FNnYm: if ($modules["\x63\x6f\x6e\x66\151\x67"]["\142\x61\163\x65"]["\x74\157\160\x5f\141\165\144\151\x74"]) { goto HlswW; } goto hYqD1; n4S7g: $order = pdo_get("\163\x75\160\145\x72\x6d\x61\x6e\137\150\x61\x6e\x64\62\x5f\157\162\x64\x65\x72", array("\x69\x64" => $logid)); goto u5GWW; rea17: $tpl_id = $modules["\143\157\x6e\146\x69\147"]["\x6d\151\156\x69\160\x67"]["\x62\x75\171"]["\164\155\x70\x6c\137\151\144"]; goto xgT6Y; LX9JW: WeUtility::logging("\x66\141\x74\x61\154", "\x5b\163\165\160\x65\x72\155\141\156\137\150\141\x6e\x64\62\x3a\163\151\x74\x65\x2e\x70\x68\160\135\x20\x70\x61\x79\122\x65\163\x75\x6c\x74\72\x20\151\x6e\x76\141\x6c\x69\144\x20\146\145\145\54\x20\160\x61\x79\x6c\157\147\x3d" . var_export($paylog, true) . "\54\40{$order}\x3d" . var_export($order, true)); goto a4IWd; rp3Sc: noUAy: goto AxDfA; yGQq1: if (!($ret1 === false)) { goto yi1qy; } goto WyLN9; cr0IE: $status = $item["\163\x74\157\143\x6b"] - $order["\164\x6f\164\x61\x6c"] > 0 ? 1 : 2; goto ic9_Z; hDD4h: WeUtility::logging("\146\141\164\x61\x6c", "\133\163\165\x70\145\x72\155\141\x6e\137\x68\141\156\144\62\72\165\x74\x69\x6c\x2e\x63\x6c\141\163\163\56\160\150\160\135\x20\x70\141\x79\122\145\163\x75\x6c\164\x3a\x20\151\156\166\x61\154\151\144\x20\146\145\x65\x2c\40\160\x61\171\154\157\147\x3d" . var_export($paylog, true) . "\x2c\x20{$order}\x3d" . var_export($order, true)); goto DTeKa; hYqD1: $ret1 = pdo_update("\163\x75\160\x65\x72\155\x61\156\x5f\x68\141\156\144\x32\x5f\x69\164\x65\x6d", array("\x70\x61\x79\137\x70\157\x73\x69\x74\x69\157\x6e" => 1, "\163\x65\164\137\164\157\160\137\x66\151\x65\x6c\144\x73" => $order["\x73\145\x74\x5f\164\157\x70\x5f\x66\x69\x65\x6c\x64\163"]), array("\151\x64" => $order["\151\x74\145\155\x69\144"])); goto MDb6F; WEzSL: WeUtility::logging("\146\x61\164\x61\154", "\133\163\165\x70\145\162\155\x61\x6e\x5f\x68\141\156\144\x32\x3a\x73\151\164\145\x2e\160\150\160\135\40\x70\x61\x79\x52\145\x73\x75\x6c\164\72\40\160\141\171\145\x64\54\x20\x6f\162\x64\x65\162\75" . var_export($order, true)); goto cUwa7; mHdXW: if (!($ret2 === false)) { goto JpaKj; } goto iNWoM; DTeKa: return; goto i5Vz8; u5GWW: if (!($paylog["\146\145\145"] != $order["\160\162\x69\x63\x65"] || $paylog["\163\x74\x61\164\x75\163"] != 1)) { goto noUAy; } goto LX9JW; dUFap: WeUtility::logging("\146\141\164\141\154", "\x5b\x73\165\x70\145\x72\155\x61\x6e\137\x68\141\x6e\144\62\72\x75\x74\x69\154\x2e\x63\154\x61\163\163\x2e\160\x68\160\135\40\160\141\171\x52\x65\x73\165\x6c\x74\72\40\x70\141\171\145\x64\x2c\x20\x6f\x72\x64\x65\162\x3d" . var_export($order, true)); goto w1tkX; w1tkX: return; goto MNh9l; RzhN1: goto VLpMW; goto aCdKE; Vk5H5: if (!($params["\162\145\163\x75\154\164"] == "\x73\165\x63\143\145\163\x73" && $params["\146\162\x6f\x6d"] == "\x6e\157\164\x69\x66\x79")) { goto UtMOC; } goto aEgkW; buOsx: WeUtility::logging("\146\x61\x74\141\x6c", "\x5b\x73\165\x70\145\x72\x6d\x61\x6e\x5f\150\x61\x6e\x64\x32\x3a\x75\164\151\154\56\143\x6c\x61\163\x73\x2e\x70\x68\160\x5d\40\x70\x61\x79\122\145\x73\x75\154\x74\x3a\40\x70\x61\171\154\x6f\x67\40\151\x73\x20\156\x75\x6c\x6c\x2c\x20\x74\x69\x64\x3d{$params["\164\x69\x64"]}"); goto Q0CO_; anGTL: UtMOC: goto RzhN1; O7han: if (!$res["\x66\x6f\x72\x6d\x69\x64"]) { goto qrGJv; } goto FxwU3; zOMM0: } public static function superman_wxpay_build($params, $module) { goto br984; zpLRw: $data = array("\x74\x69\144" => $paylog["\164\x69\144"], "\146\x65\x65" => $paylog["\143\141\x72\144\137\146\x65\145"], "\165\x73\x65\x72" => $paylog["\157\x70\145\156\151\144"], "\165\x6e\x69\x6f\x6e\x74\151\x64" => $paylog["\165\156\x69\157\156\164\151\144"], "\x74\151\164\x6c\145" => $params["\x74\x69\x74\154\x65"]); goto mtE0e; ElfZw: WeUtility::logging("\x66\141\x74\141\154", "\x5b\x73\x75\160\x65\162\155\x61\x6e\137\x77\170\x70\141\171\x5f\x62\165\x69\154\144\135\x20\146\141\151\x6c\145\x64\54\40\x72\x65\x73\x75\x6c\x74\x3d" . var_export($result, true) . "\54\x20\x64\x61\x74\141\x3d" . var_export($data, true) . "\x2c\x20\167\x65\x63\150\x61\x74\75" . var_export($wechat_payment, true)); goto fq02o; CSxwM: if (!(!empty($paylog) && empty($paylog["\x75\156\x69\x6f\156\164\151\144"]))) { goto Mwp9z; } goto vcJFM; mtE0e: $setting = uni_setting($wxapp_uniacid, array("\160\141\171\x6d\145\x6e\164")); goto lpKhn; eC4DY: $result = wechat_build($data, $wechat_payment); goto QLBE1; YIGo8: $paylog = array("\x75\156\x69\x61\143\x69\x64" => $wxapp_uniacid, "\141\x63\151\144" => $wxapp_uniacid, "\x74\171\160\x65" => "\167\x65\x63\x68\141\164", "\x6f\x70\x65\156\151\x64" => $params["\x75\163\x65\162"], "\x6d\157\x64\x75\x6c\x65" => $module["\156\x61\x6d\x65"], "\x74\x69\x64" => $params["\164\x69\144"], "\165\x6e\x69\x6f\156\x74\x69\x64" => $uniontid, "\x66\x65\145" => floatval($params["\146\x65\x65"]), "\x63\x61\162\x64\x5f\146\145\145" => floatval($params["\x66\x65\x65"]), "\x73\x74\x61\x74\x75\163" => "\60", "\151\x73\137\x75\x73\145\x63\x61\x72\144" => "\x30", "\164\x61\147" => iserializer(array("\141\x63\x69\x64" => $_W["\141\x63\x69\x64"], "\165\151\x64" => $_W["\155\x65\x6d\x62\145\162"]["\x75\151\144"]))); goto MYhuy; MYhuy: pdo_insert("\143\x6f\162\145\137\x70\x61\171\154\157\147", $paylog); goto RbMnL; QLBE1: if (!is_error($result)) { goto xOqNk; } goto ElfZw; ezQIb: M2_lC: goto CSxwM; Q8P1z: $moduels = uni_modules(); goto VuiXV; RlUzl: Unmv7: goto wrNk8; Y8xmI: wQdmN: goto pvEeW; fwLDY: load()->model("\x61\x63\x63\x6f\165\x6e\x74"); goto Q8P1z; pvEeW: if (!(!empty($paylog) && $paylog["\x73\164\141\164\x75\x73"] != "\x30")) { goto M2_lC; } goto hMF2a; pJArA: $paylog = pdo_get("\143\x6f\162\145\137\x70\141\171\154\157\147", array("\x75\156\x69\x61\143\151\x64" => $wxapp_uniacid, "\x6d\x6f\x64\x75\x6c\145" => $module["\x6e\141\x6d\x65"], "\164\151\144" => $params["\164\x69\144"])); goto YxWBY; EJ93R: Mwp9z: goto oZ2Kb; v9gFD: load()->model("\x70\141\x79\x6d\145\x6e\x74"); goto fwLDY; VuiXV: if (!(empty($params) || !array_key_exists($module["\x6e\x61\x6d\145"], $moduels))) { goto Unmv7; } goto S9hQB; mUbjS: $wxapp_uniacid = $_W["\165\x6e\x69\x61\143\x69\144"]; goto pJArA; lpKhn: $wechat_payment = array("\141\160\160\151\x64" => $params["\x61\160\x70\151\144"], "\163\151\147\x6e\x6b\x65\171" => $setting["\160\141\x79\x6d\145\x6e\x74"]["\x77\x65\x63\150\141\x74"]["\163\151\x67\156\x6b\145\x79"], "\155\x63\x68\151\x64" => $setting["\160\141\x79\x6d\145\156\164"]["\x77\x65\x63\150\x61\164"]["\155\x63\x68\x69\144"], "\x76\x65\162\163\151\157\156" => 2); goto eC4DY; hMF2a: return error(1, "\xe8\277\x99\xe4\270\252\350\xae\xa2\345\215\225\345\xb7\262\347\xbb\x8f\xe6\224\257\xe4\273\x98\346\210\220\xe5\x8a\x9f\x2c\40\xe4\xb8\215\351\x9c\200\xe8\246\x81\xe9\207\x8d\345\xa4\215\346\x94\257\xe4\273\x98\56"); goto ezQIb; vcJFM: pdo_update("\x63\x6f\162\145\x5f\160\141\x79\154\157\147", array("\x75\x6e\151\x6f\156\x74\x69\x64" => $uniontid), array("\x70\x6c\151\144" => $paylog["\x70\154\x69\x64"])); goto to9e5; RbMnL: $paylog["\160\x6c\x69\x64"] = pdo_insertid(); goto Y8xmI; YxWBY: if (!empty($paylog)) { goto wQdmN; } goto YIGo8; S9hQB: return error(1, "\xe6\250\xa1\xe5\x9d\227\344\xb8\215\345\255\x98\xe5\234\250"); goto RlUzl; wrNk8: $moduleid = empty($module["\155\x69\144"]) ? "\60\60\x30\x30\x30\60" : sprintf("\x25\x30\x36\x64", $module["\x6d\151\x64"]); goto Adkyu; br984: global $_W; goto v9gFD; uUjxo: return $result; goto GKNgP; to9e5: $paylog["\165\156\151\157\x6e\164\151\x64"] = $uniontid; goto EJ93R; fq02o: xOqNk: goto uUjxo; oZ2Kb: $_W["\157\x70\145\156\151\x64"] = $paylog["\157\x70\145\156\151\144"]; goto zpLRw; Adkyu: $uniontid = date("\x59\155\x64\110\151\163") . $moduleid . random(8, 1); goto mUbjS; GKNgP: } public static function order_refund($params, $extra = array()) { goto PYFFF; tmSrx: $headers["\x43\x6f\x6e\x74\145\156\x74\55\124\171\160\x65"] = "\141\x70\x70\154\151\x63\141\x74\x69\157\156\57\x78\x2d\167\x77\167\55\146\157\x72\155\55\165\162\154\145\x6e\143\157\x64\x65\x64"; goto Br3mA; gi14m: $key = authcode($_W["\141\143\143\x6f\165\156\164"]["\163\145\164\164\151\156\147"]["\160\x61\x79\x6d\145\x6e\x74"]["\x77\x65\x63\150\141\x74\137\162\x65\x66\x75\156\x64"]["\153\x65\x79"], "\104\105\103\x4f\104\x45"); goto MUkCv; f6PaB: $response = ihttp_request($refund_url, $xml_data, $headers); goto o6M40; r0Ium: $headers = array(); goto tmSrx; y89ox: $data = array("\x61\x70\160\151\144" => $params["\x61\160\x70\151\144"], "\155\x63\x68\137\151\144" => $params["\x6d\x63\150\x5f\x69\x64"], "\x6e\157\x6e\x63\145\x5f\x73\164\162" => $params["\156\157\x6e\x63\145\137\163\164\162"], "\x74\162\x61\156\x73\141\143\x74\x69\x6f\x6e\137\151\x64" => $params["\164\162\141\156\163\x61\143\x74\x69\157\156\x5f\151\x64"], "\x6f\x75\164\x5f\162\x65\146\x75\x6e\x64\x5f\156\x6f" => $params["\x6f\165\164\137\162\x65\146\x75\156\x64\x5f\x6e\x6f"], "\x74\x6f\x74\141\x6c\x5f\x66\x65\145" => floatval($params["\x74\x6f\164\x61\154\x5f\146\145\145"]) * 100, "\162\145\x66\x75\x6e\x64\137\146\x65\145" => floatval($params["\162\145\x66\165\156\x64\x5f\146\145\x65"]) * 100, "\157\160\x5f\165\x73\x65\162\137\151\144" => $params["\157\160\137\x75\x73\145\x72\x5f\151\x64"], "\x72\x65\146\165\x6e\x64\x5f\141\143\143\157\x75\156\x74" => "\122\105\106\x55\x4e\104\137\x53\117\x55\122\103\105\137\x55\116\x53\x45\x54\124\114\105\104\x5f\106\125\x4e\104\123"); goto VvOHv; UWk2x: $return_msg = $xml->return_msg ? (string) $xml->return_msg : ''; goto gm7Q0; WSGa8: TNVgN: goto lvCbA; DTW_f: $ret = array("\163\x75\x63\143\145\163\163" => true, "\162\x65\146\x75\x6e\144\x5f\x69\144" => (string) $xml->refund_id, "\x6f\165\164\137\x72\x65\146\x75\x6e\144\137\156\x6f" => (string) $xml->out_refund_no); goto nEM2I; MUkCv: $cert_filename = MODULE_ROOT . "\57\144\141\x74\x61\57" . $_W["\x75\156\x69\141\143\151\x64"] . "\x5f\167\x65\143\150\x61\164\137\x72\x65\x66\165\156\x64\137\x61\154\x6c\x2e\160\145\155"; goto DtW3r; PYFFF: global $_W; goto y89ox; lvCbA: $xml_data = "\x3c\170\155\154\x3e"; goto eZpPz; dUfIN: UddhJ: goto vlPy8; V9zqZ: $err_code = $xml->err_code ? (string) $xml->err_code : ''; goto q0k20; pl4JF: $xml_data .= "\74\163\151\x67\156\x3e{$sign}\x3c\x2f\x73\151\147\x6e\x3e"; goto swJnz; q0k20: $err_code_des = $xml->err_code_des ? (string) $xml->err_code_des : ''; goto Z755_; ewVUk: Oacec: goto u0y2o; vlPy8: $return_code = $xml->return_code ? (string) $xml->return_code : ''; goto UWk2x; KbUwM: WeUtility::logging("\x66\x61\164\141\x6c", "\x5b\165\164\x69\154\56\x63\141\x6c\163\163\x2e\x70\150\160\x2c\40\127\x78\x70\x61\171\x3a\x72\145\x66\165\x6e\144\x5d\40\x72\145\163\x70\x6f\x6e\x73\145\75" . var_export($response, true)); goto wG1IB; eZpPz: foreach ($data as $k => $v) { $xml_data .= "\x3c{$k}\x3e{$v}\74\57{$k}\x3e"; deqgU: } goto Q9U6I; Br3mA: $headers["\x43\x55\x52\x4c\x4f\120\124\x5f\x53\x53\x4c\137\126\x45\x52\111\106\131\120\105\x45\122"] = false; goto zfcn3; x_ewH: $sign = self::sign($data, $extra["\x73\x69\147\x6e\137\153\145\171"]); goto pl4JF; LuMZA: $cert = authcode($_W["\141\x63\x63\157\x75\156\x74"]["\x73\145\164\x74\x69\x6e\147"]["\x70\141\171\155\145\156\164"]["\167\145\143\150\141\164\137\162\x65\x66\165\x6e\144"]["\143\145\x72\164"], "\x44\x45\103\117\104\105"); goto gi14m; p5k2L: return $return_code . "\x3a" . $return_msg . "\54" . $err_code . "\x3a" . $err_code_des; goto iIndD; nEM2I: WeUtility::logging("\164\162\x61\143\x65", "\x5b\x75\x74\x69\x6c\56\x63\x61\x6c\x73\x73\x2e\160\150\x70\x2c\x20\x57\170\x70\x61\x79\72\162\145\146\x75\x6e\x64\x5d\x20\44\162\x65\x74\75" . var_export($ret, true)); goto zM2JL; DtW3r: file_put_contents($cert_filename, $cert . $key); goto Peq0Q; GZLXa: return $response; goto dUfIN; zM2JL: return $ret; goto FVHIc; zfcn3: $headers["\x43\125\122\x4c\117\x50\x54\137\x53\x53\x4c\137\x56\105\122\111\x46\x59\x48\x4f\123\124"] = false; goto LuMZA; bGe0N: WeUtility::logging("\x66\x61\x74\x61\x6c", "\x5b\x75\164\x69\154\56\x63\141\x6c\163\163\x2e\160\x68\160\54\x20\x57\170\x70\x61\171\72\162\145\x66\165\x6e\144\x5d\40\x72\x65\163\x70\x6f\x6e\x73\x65\75" . var_export($response, true)); goto GZLXa; Z755_: if ($return_code == "\x53\125\103\x43\105\x53\123" && $result_code == "\x53\125\x43\x43\x45\x53\x53") { goto gjkwB; } goto p5k2L; HFt2o: if (!empty($xml)) { goto UddhJ; } goto bGe0N; swJnz: $xml_data .= "\74\57\x78\x6d\x6c\x3e"; goto r0Ium; iIndD: goto OOXp9; goto ecRP1; FVHIc: OOXp9: goto ayC0O; VvOHv: if (!($params["\x72\x65\146\x75\x6e\x64\137\x61\143\143\x6f\165\x6e\164"] == 2)) { goto TNVgN; } goto kGAEA; WxUW1: $refund_url = "\x68\164\164\x70\x73\72\57\x2f\141\x70\x69\x2e\155\143\150\x2e\x77\145\151\x78\151\156\x2e\x71\x71\56\x63\157\155\x2f\163\145\143\x61\160\151\57\x70\x61\171\x2f\x72\x65\146\x75\x6e\x64"; goto f6PaB; nB5EL: $xml = @simplexml_load_string($response); goto HFt2o; gm7Q0: $result_code = $xml->result_code ? (string) $xml->result_code : ''; goto V9zqZ; JSIdg: if (!is_error($response)) { goto Oacec; } goto KbUwM; wG1IB: return $response; goto ewVUk; Q9U6I: B7e0F: goto x_ewH; Peq0Q: $headers["\x43\x55\x52\x4c\117\x50\x54\137\123\x53\114\x43\x45\x52\x54"] = $cert_filename; goto WxUW1; o6M40: @unlink($cert_filename); goto JSIdg; kGAEA: $data["\162\x65\146\165\x6e\x64\137\x61\143\143\157\x75\156\x74"] = "\x52\x45\106\x55\116\104\137\123\117\x55\x52\103\x45\x5f\x52\105\103\x48\101\x52\x47\x45\x5f\x46\125\116\x44\123"; goto WSGa8; u0y2o: $response = $response["\x63\157\x6e\x74\x65\x6e\164"]; goto nB5EL; ecRP1: gjkwB: goto DTW_f; ayC0O: } public static function sign($data, $sign_key) { goto QOiLj; guhMk: NR11U: goto bDQiF; hhniW: $sign = strtoupper(md5($data_str)); goto B3WA9; QOiLj: ksort($data); goto iLTJ7; iLTJ7: $data_str = ''; goto qRT_a; qRT_a: foreach ($data as $k => $v) { goto Hxa_V; buFcU: $data_str .= "{$k}\x3d{$v}\46"; goto YsPrw; mXYtS: XuR2U: goto buFcU; Hxa_V: if (!($v == '' || $k == "\163\151\x67\156")) { goto XuR2U; } goto o2zxk; o2zxk: goto Kt12e; goto mXYtS; YsPrw: Kt12e: goto g75Ph; g75Ph: } goto guhMk; B3WA9: return $sign; goto MAJLb; bDQiF: $data_str .= "\x6b\x65\x79\x3d" . $sign_key; goto hhniW; MAJLb: } public static function location_transition($lat, $lng, $key) { goto THOhm; UOpit: $data["\x63\x69\164\171"] = $ad_level_2; goto i9vQF; QE7Ks: if (!($result["\163\164\x61\x74\x75\163"] == 112)) { goto D1zBh; } goto LO8pG; hJ1Rz: $data["\x70\162\x6f\x76\151\x6e\143\x65"] = $ad_level_1; goto UOpit; s2x3v: WeUtility::logging("\146\x61\164\141\154", "\x5b\x67\145\164\40\141\x64\144\162\145\163\163\x5f\x63\157\155\160\x6f\156\145\x6e\x74\40\146\141\x69\154\x65\x64\x5d\54\x20\162\x65\163\x70\157\156\163\x65\75" . var_export($response, true)); goto QZfZi; wz0pP: return $data; goto mQT8Q; IF3u1: if (!($result["\x73\164\x61\x74\165\163"] != 0)) { goto Te6YH; } goto BPt28; z2WEI: return; goto Q5Hzn; Q5Hzn: Te6YH: goto ecAiO; X2k6C: if (!is_error($response)) { goto ADcl5; } goto s2x3v; laMgF: $data["\160\x6f\x69\163"] = $result["\x72\145\x73\165\154\164"]["\160\x6f\x69\163"]; goto A3g0E; A3g0E: $ad_level_1 = $result["\x72\x65\163\165\154\x74"]["\141\x64\144\x72\145\163\163\137\143\157\155\160\x6f\x6e\x65\156\164"]["\141\144\137\154\x65\166\145\154\x5f\61"]; goto Go3Qa; tqkqG: $data["\144\151\x73\x74\x72\x69\143\x74"] = $result["\162\145\x73\x75\x6c\x74"]["\141\x64\144\x72\x65\163\x73\x5f\143\157\x6d\160\x6f\x6e\145\156\x74"]["\x64\x69\x73\164\x72\x69\143\164"]; goto MDH24; dxZh1: if (!$ad_level_1) { goto f7YB6; } goto hJ1Rz; Zyk1E: $url = "\150\164\164\x70\x73\x3a\x2f\x2f\x61\x70\151\163\x2e\155\x61\160\x2e\x71\x71\x2e\x63\x6f\x6d\57\x77\163\x2f\x67\145\157\x63\x6f\x64\145\162\x2f\x76\61\57\77\154\x6f\x63\141\x74\151\157\x6e\x3d" . $lat . "\54" . $lng . "\x26\153\x65\171\x3d{$key}" . "\x26\147\x65\x74\137\x70\x6f\x69\x3d\61"; goto W9dP7; Go3Qa: $ad_level_2 = $result["\162\x65\163\x75\x6c\x74"]["\141\x64\x64\x72\145\x73\x73\x5f\x63\157\155\160\157\x6e\145\156\x74"]["\141\144\137\x6c\145\166\145\154\x5f\x32"]; goto dxZh1; THOhm: $key = $key ? $key : "\110\x50\115\102\132\x2d\x54\x58\x56\x4b\125\x2d\120\x35\64\x56\125\x2d\64\x54\65\63\x34\x2d\x44\131\116\113\x54\x2d\114\x58\x46\x4e\106"; goto elF7t; BPt28: WeUtility::logging("\146\141\164\141\154", "\133\147\x65\x74\40\x61\144\144\x72\145\x73\x73\137\143\x6f\x6d\x70\x6f\156\x65\156\164\x20\146\141\151\x6c\x65\x64\135\54\40\x72\x65\163\x75\x6c\164\75" . var_export($result, true)); goto QE7Ks; W9dP7: $response = ihttp_get($url); goto X2k6C; slJ_L: $data["\143\151\x74\171"] = $result["\x72\145\163\165\x6c\x74"]["\x61\x64\x64\162\x65\x73\x73\137\143\x6f\155\160\157\x6e\145\156\x74"]["\143\151\x74\x79"]; goto tqkqG; DwXqV: ADcl5: goto PdrEq; i9vQF: f7YB6: goto wz0pP; v3aci: D1zBh: goto z2WEI; PdrEq: $result = @json_decode($response["\143\157\x6e\x74\145\x6e\164"], true); goto IF3u1; MDH24: $data["\x61\144\x64\162\x65\163\163"] = $result["\x72\145\163\x75\154\x74"]["\x61\144\x64\x72\145\x73\163"]; goto laMgF; QZfZi: return; goto DwXqV; elF7t: $data = array(); goto Zyk1E; LO8pG: return $result["\155\x65\163\x73\x61\147\145"]; goto v3aci; ecAiO: $data["\160\x72\157\166\x69\156\x63\x65"] = $result["\x72\145\163\x75\154\164"]["\x61\x64\144\162\145\163\163\x5f\143\157\x6d\x70\157\x6e\x65\x6e\164"]["\x70\x72\x6f\166\x69\156\143\x65"]; goto slJ_L; mQT8Q: } public static function is_point_in_polygon($point, $pts) { goto eU3An; PB1gt: $boundOrVertex = true; goto oAvGX; gyBqE: $xinters = ($p["\154\141\x74"] - $p1["\x6c\141\x74"]) * ($p2["\154\156\147"] - $p1["\x6c\x6e\x67"]) / ($p2["\x6c\141\164"] - $p1["\154\x61\164"]) + $p1["\154\156\147"]; goto qKPq8; J4DGh: $precision = 2.0E-10; goto vkIPE; LzMrO: KBjBS: goto sbP3F; ZJhNs: CvCIt: goto LkL5H; vibUU: REMpM: goto WNZFI; Ogamf: kZjsW: goto FwAX7; jMmJT: goto Lf13a; goto vwiEb; qKPq8: if (!(abs($p["\154\156\147"] - $xinters) < $precision)) { goto wbvIl; } goto EGIb0; vkIPE: $p1 = 0; goto V3BKS; cEFZp: GSMx1: goto shPvS; xfPkl: goto bWRlv; goto vh4qu; shPvS: ++$i; goto lwkQV; V3BKS: $p2 = 0; goto OtwJh; Rg1mK: a3kSH: goto F8WSH; kxdnk: pTy2W: goto tG1Sb; e9yQG: if (!($p["\154\156\x67"] == $p1["\154\x6e\147"] && $p["\154\x61\x74"] == $p1["\x6c\141\164"])) { goto ea9J2; } goto D6nNp; eWlZF: $p1 = $pts[0]; goto nM60f; ItZ4b: goto GSMx1; goto Ogamf; knIU9: wbvIl: goto oQCQF; hRC9W: pQANM: goto GLMlC; vh4qu: yYwwg: goto y892L; GLMlC: goto Q9vak; goto vibUU; D6nNp: return $boundOrVertex; goto lXZ7U; gVHuW: goto KBjBS; goto rLDLx; YxJed: GK1ul: goto E4kgv; PPhp5: return true; goto soYnB; OtwJh: $p = $point; goto eWlZF; y892L: ++$intersectCount; goto z_GY6; qegf9: s1zAy: goto jMmJT; LkL5H: Lf13a: goto EkxyU; nM60f: $i = 1; goto DtjDC; LjK0B: if (!($p1["\x6c\x61\x74"] == $p2["\154\141\x74"] && $p["\154\156\x67"] >= min($p1["\x6c\156\x67"], $p2["\154\156\x67"]))) { goto pTy2W; } goto iUsUU; oQCQF: if (!($p["\154\156\x67"] < $xinters)) { goto pQANM; } goto jXj7B; sbP3F: Q9vak: goto ZJhNs; JcWw2: if (!($i <= $N)) { goto GK1ul; } goto e9yQG; z_GY6: bWRlv: goto qegf9; kYek0: $p1 = $p2; goto ItZ4b; nB6IC: $p3 = $pts[($i + 1) % $N]; goto Nf73z; lwkQV: goto BQVBS; goto YxJed; Ftsn0: k8PpL: goto voY5z; NcE3O: $p2 = $pts[$i % $N]; goto Z4j3X; pV42x: return $boundOrVertex; goto LzMrO; EGIb0: return $boundOrVertex; goto knIU9; FwAX7: if ($p["\154\x61\x74"] > min($p1["\154\141\164"], $p2["\154\x61\164"]) && $p["\x6c\x61\164"] < max($p1["\154\141\x74"], $p2["\154\141\x74"])) { goto Y7Lux; } goto hCwYM; Wku0p: ++$intersectCount; goto gVHuW; fUL2f: if (!($p["\x6c\156\x67"] <= max($p1["\154\156\x67"], $p2["\154\x6e\147"]))) { goto CvCIt; } goto LjK0B; hCwYM: if (!($p["\x6c\x61\x74"] == $p2["\x6c\x61\164"] && $p["\154\156\x67"] <= $p2["\154\x6e\147"])) { goto s1zAy; } goto nB6IC; eU3An: $N = count($pts); goto PB1gt; FOF0c: $intersectCount += 2; goto xfPkl; E4kgv: if ($intersectCount % 2 == 0) { goto a3kSH; } goto PPhp5; lXZ7U: ea9J2: goto NcE3O; oAvGX: $intersectCount = 0; goto J4DGh; Z4j3X: if (!($p["\154\141\164"] < min($p1["\x6c\x61\x74"], $p2["\154\x61\164"]) || $p["\154\141\164"] > max($p1["\154\141\164"], $p2["\154\141\x74"]))) { goto kZjsW; } goto kYek0; WNZFI: if ($p1["\154\x6e\147"] == $p["\x6c\x6e\x67"]) { goto u3eaW; } goto Wku0p; DtjDC: BQVBS: goto JcWw2; vwiEb: Y7Lux: goto fUL2f; F8WSH: return false; goto Ftsn0; tG1Sb: if ($p1["\154\x6e\147"] == $p2["\154\x6e\x67"]) { goto REMpM; } goto gyBqE; jXj7B: ++$intersectCount; goto hRC9W; iUsUU: return $boundOrVertex; goto kxdnk; soYnB: goto k8PpL; goto Rg1mK; Nf73z: if ($p["\x6c\x61\164"] >= min($p1["\x6c\141\164"], $p3["\154\x61\x74"]) && $p["\154\x61\x74"] <= max($p1["\x6c\x61\164"], $p3["\x6c\141\x74"])) { goto yYwwg; } goto FOF0c; rLDLx: u3eaW: goto pV42x; EkxyU: $p1 = $p2; goto cEFZp; voY5z: } public static function Convert_BD09_To_GCJ02($lat, $lng) { goto akGtg; hIJab: $theta = atan2($y, $x) - 3.0E-6 * cos($x * $x_pi); goto ZblLh; oDKaw: $y = $lat - 0.006; goto uAX0o; akGtg: $x_pi = 3.141592653589793 * 3000.0 / 180.0; goto FKO32; pmQoM: $lat = $z * sin($theta); goto rfvNa; uAX0o: $z = sqrt($x * $x + $y * $y) - 2.0E-5 * sin($y * $x_pi); goto hIJab; FKO32: $x = $lng - 0.0065; goto oDKaw; ZblLh: $lng = $z * cos($theta); goto pmQoM; rfvNa: return array("\x6c\156\147" => $lng, "\154\x61\164" => $lat); goto ERxw0; ERxw0: } public static function get_credit_titles() { goto cMJK_; GP6nU: j1a7w: goto YQkRm; JyY_T: $creditnames = iunserializer($uni_settings["\143\162\x65\x64\x69\x74\156\141\155\145\x73"]); goto XvY7I; M1opB: if (!($uni_settings && $uni_settings["\x63\x72\145\144\x69\164\156\x61\155\145\163"])) { goto Nx0it; } goto JyY_T; e24VJ: Nx0it: goto jJsh9; ictXB: foreach ($creditnames as $k => $val) { goto I0pZj; Epx44: fGPFm: goto WavCU; GhU_M: ZiWA8: goto Epx44; zsict: $credit_title[$k] = $val; goto GhU_M; I0pZj: if (!$val["\x65\x6e\x61\142\154\x65\x64"]) { goto ZiWA8; } goto zsict; WavCU: } goto GP6nU; YQkRm: bS9Lu: goto e24VJ; XvY7I: if (!$creditnames) { goto bS9Lu; } goto ictXB; N9i5t: $credit_title = array(); goto NxgaU; NxgaU: $uni_settings = uni_setting($_W["\165\x6e\x69\141\143\x69\x64"]); goto M1opB; cMJK_: global $_W; goto N9i5t; jJsh9: return $credit_title; goto ACieW; ACieW: } }