<?php
 require IA_ROOT . "\57\x61\144\144\x6f\156\163\x2f\x73\165\x70\x65\162\x6d\x61\156\137\x68\141\x6e\x64\62\137\x70\x6c\x75\147\151\x6e\137\x6e\x6f\164\x69\143\145\x2f\147\x6c\157\x62\141\154\x2e\x70\x68\160"; class SupermanHand2PluginNoticeUtil { public static function weiqing_polyfill() { goto Dj8Zc; gotnW: zepXf: goto NbC_Y; hAqw9: $_GPC["\144\x6f"] = $row["\x64\x6f"]; goto wGMEP; DY_VK: if (empty($_GPC["\144\157"])) { goto w2DF1; } goto zeTe6; aX87u: pcWjY: goto a1hCE; zeTe6: if (!empty($do)) { goto pcWjY; } goto pS7Jt; G5rfq: B0tpR: goto Wl94G; wGMEP: $_GPC["\x6d"] = $row["\155\157\x64\165\x6c\x65"]; goto njHkc; Dj8Zc: global $_GPC, $do; goto DY_VK; NbC_Y: A7RJb: goto G5rfq; m56uC: w2DF1: goto k0GWX; a1hCE: goto B0tpR; goto m56uC; X3fS2: if (empty($row)) { goto zepXf; } goto hAqw9; k0GWX: if (!(isset($_GPC["\145\x69\x64"]) && $_GPC["\145\x69\x64"])) { goto A7RJb; } goto xvBGo; njHkc: $do = $_GPC["\x64\x6f"]; goto gotnW; xvBGo: $eid = intval($_GPC["\x65\151\x64"]); goto tZyL5; tZyL5: $row = pdo_get("\155\157\144\x75\154\145\x73\137\x62\151\x6e\x64\x69\x6e\x67\163", array("\145\151\x64" => $eid)); goto X3fS2; pS7Jt: $do = $_GPC["\x64\x6f"]; goto aX87u; Wl94G: } public static function redirect($url) { goto CKlty; YLo6Y: @header("\x4c\x6f\x63\141\x74\151\157\x6e\72\40" . $url); goto h9C0o; CKlty: ob_end_clean(); goto YLo6Y; h9C0o: exit; goto vqoas; vqoas: } public static function send_wxapp_msg($data, $openid, $tmpl_id, $url, $form_id) { goto OxBpK; ZnvmV: if (!empty($account)) { goto bz5N5; } goto AQxTS; zBZx5: WeUtility::logging("\x66\x61\x74\141\154", "\x5b\163\145\156\x64\137\x77\170\141\x70\160\137\x6d\163\x67\135\x20\346\xa8\xa1\346\235\277\xe6\xb6\x88\346\201\257\xe5\x8f\x91\xe9\200\x81\xe5\244\xb1\xe8\264\245\357\xbc\232\x6f\x70\145\x6e\x69\144\344\xb8\272\347\xa9\xba"); goto rbl9H; Z7Y2i: $token = $account->getAccessToken(); goto GqQrd; JMTSu: Vyo3B: goto mtdUb; XXLRv: if (is_error($result)) { goto GLtL5; } goto Q0M9g; MrVOG: yCglj: goto sfmPi; sfmPi: $account = WeAccount::create($_W["\x61\x63\143\157\x75\156\x74"]); goto ZnvmV; rjTdl: sAO3P: goto dqkN4; mtdUb: $post = array("\x74\157\165\x73\x65\162" => $openid, "\x74\x65\x6d\x70\x6c\141\x74\x65\x5f\151\x64" => $tmpl_id, "\x70\x61\x67\x65" => $url, "\x66\157\162\155\x5f\151\x64" => $form_id, "\x64\x61\164\141" => $data); goto oeupA; t5v35: return false; goto rjTdl; YQ_Ng: bz5N5: goto Z7Y2i; hVKzN: return false; goto JMTSu; LrAec: WeUtility::logging("\x69\156\146\157", "\345\217\x91\xe9\200\201\345\xa4\xb1\xe8\264\245\xef\274\x9a\x75\x69\144\75{$uid}\x2c\40\x6f\160\145\x6e\x69\x64\x3d{$openid}\x2c\x20\x72\x65\x73\165\154\x74\75" . var_export($result, true) . "\x2c\40\160\x6f\163\x74\75" . var_export($post, true)); goto t5v35; Zm0kh: Q0CeP: goto STAtw; NYd63: goto sAO3P; goto d08gj; AQxTS: WeUtility::logging("\146\141\164\141\x6c", "\x63\x72\x65\x61\164\145\40\141\x63\143\157\x75\156\x74\40\146\x61\151\154\145\x64\x3a\x20\141\143\x63\157\165\x6e\164\x3d" . var_export($_W["\141\143\143\x6f\165\156\x74"], true)); goto GYwIt; OxBpK: global $_W; goto yLQnH; HaLGE: return false; goto Zm0kh; dqkN4: return true; goto RXb9m; yLQnH: if (!empty($tmpl_id)) { goto Q0CeP; } goto qMGa7; GqQrd: if (!is_error($token)) { goto Vyo3B; } goto QBOe9; d08gj: GLtL5: goto LrAec; Q0M9g: WeUtility::logging("\x69\156\146\157", "\345\217\221\xe9\200\201\xe6\x88\x90\345\212\237\xef\274\232\x75\151\144\75{$uid}\54\x20\157\x70\145\156\151\144\75{$openid}"); goto NYd63; n8iri: $uid = mc_openid2uid($openid); goto XXLRv; rbl9H: return false; goto MrVOG; STAtw: if (!empty($openid)) { goto yCglj; } goto zBZx5; QBOe9: WeUtility::logging("\x66\141\164\141\x6c", "\x67\x65\x74\x41\x63\143\x65\163\x73\124\x6f\153\145\156\40\146\x61\151\x6c\145\144\72\x20\x74\x6f\x6b\145\156\x3d" . var_export($token, true)); goto hVKzN; qMGa7: WeUtility::logging("\x66\x61\164\x61\154", "\x5b\163\145\156\x64\x5f\x77\x78\x61\160\160\137\x6d\x73\x67\x5d\x20\346\xa8\xa1\346\235\277\346\266\x88\346\x81\257\xe5\217\x91\351\x80\201\xe5\xa4\xb1\350\xb4\245\357\274\232\346\234\xaa\351\205\x8d\347\xbd\xae\xe6\250\241\347\x89\210\xe6\266\210\346\x81\257"); goto HaLGE; oeupA: $post_url = "\150\164\164\x70\x73\72\57\x2f\x61\160\x69\56\x77\x65\x69\x78\151\x6e\x2e\x71\x71\x2e\x63\x6f\155\x2f\x63\x67\x69\55\142\151\x6e\x2f\x6d\x65\x73\163\141\147\x65\x2f\167\170\x6f\x70\x65\156\57\164\x65\x6d\x70\x6c\141\164\145\x2f\163\x65\156\x64\x3f\141\143\143\x65\163\163\x5f\x74\157\x6b\x65\156\x3d" . $token; goto CYkNb; CYkNb: $result = self::superman_hand2_request($post_url, json_encode($post)); goto n8iri; GYwIt: return false; goto YQ_Ng; RXb9m: } public static function uid2openid($uid) { $fans = mc_fansinfo($uid); return $fans && $fans["\157\160\145\156\151\144"] ? $fans["\157\160\x65\156\151\x64"] : ''; } public static function createMobileUrl($do, $query = array(), $noredirect = true, $modulename = "\x73\x75\x70\145\162\155\141\x6e\137\150\141\x6e\x64\x32") { goto s_ctO; s_ctO: $query["\144\157"] = $do; goto J920B; EH07a: return murl("\x65\x6e\x74\162\171", $query, $noredirect); goto ntfCL; J920B: $query["\155"] = strtolower($modulename); goto EH07a; ntfCL: } }