<?php
 goto YXfyk; pmWo9: goto DW6tk; goto S_nGG; yVWqu: $dir = md5($id . openid . uniacid); goto MZmMg; jn473: goto t3LYI; goto IfJDX; kUgYP: $msg = array("\x65\x78\164" => 1, "\x73\x69\x67\156" => $sn); goto AdlaJ; MZmMg: $url = murl("\145\156\x74\162\171\x2f\57\161\x72\x63\x6f\144\x65", ["\155" => "\x62\x65\x74\141\137\143\141\162", "\x6f\160" => "\163\143\x61\x6e", "\x73\x69\147\156" => $sn], 1, true); goto ohLGH; lzi3G: goto qUnGE; goto bdwyB; ec9C_: if (!$request) { goto BuS0o; } goto Kvqdd; RCcqr: $content = @json_decode($response["\143\x6f\x6e\164\x65\x6e\164"], true); goto ZkNEV; S_nGG: Xxj0C: goto X1fb7; Nwtqd: $request = $this->update("\143\x61\x72", array("\x73\156" => $sn, "\x71\162\x63\157\x64\145" => $de), array("\x69\x64" => $id)); goto S_A1t; mgxGU: $msg = array("\x65\x78\x74" => 1, "\x73\151\147\x6e" => $sn); goto uurFJ; CTbLS: function err_msg($data) { goto vyXIA; vyXIA: echo "\x3c\x6d\145\164\x61\x20\143\157\156\x74\145\x6e\164\75\42\x77\x69\x64\x74\x68\75\x64\x65\x76\x69\143\145\55\167\x69\x64\x74\x68\x2c\40\x69\x6e\x69\x74\151\141\x6c\55\x73\x63\141\x6c\x65\x3d\61\x2e\x30\54\x20\155\x61\170\151\x6d\165\x6d\55\163\143\x61\154\145\x3d\x31\56\60\x2c\x20\165\163\x65\x72\55\163\143\141\x6c\141\142\x6c\x65\x3d\60\x3b\x22\40\x6e\x61\x6d\145\x3d\42\x76\x69\145\x77\160\x6f\x72\x74\42\x20\x2f\76"; goto kJQL_; qpDW4: echo "\x3c\142\162\76\74\142\162\76\x3c\146\x6f\156\164\76\xe4\xb8\255\xe5\215\x8e\xe4\272\272\346\xb0\221\xe5\205\xb1\345\222\x8c\xe5\233\xbd\xc2\267\xe8\xbd\257\xe4\xbb\xb6\350\x91\227\xe4\xbd\234\xe6\235\203\347\274\x96\xe5\x8f\267\xef\274\x9a\62\x30\x31\x39\x53\122\x30\x37\61\x37\66\67\60\x3c\57\146\157\x6e\164\76\x20\74\141\40\150\162\x65\x66\x3d\42\150\x74\x74\160\x73\x3a\57\57\143\144\156\x2e\x77\x37\56\x63\x63\57\151\155\x61\147\145\x73\x2f\x32\60\61\x39\x2f\60\67\x2f\61\x36\x2f\x33\160\x47\62\x36\x30\x74\x32\166\x6c\111\146\x6b\x52\x37\x47\172\x34\x70\x74\146\x64\164\152\116\x46\146\155\115\167\132\x66\x33\103\157\143\167\131\117\117\56\152\x70\x65\x67\x22\x3e\xe6\237\245\xe7\x9c\213\350\257\201\xe4\271\xa6\74\57\x61\x3e"; goto H0gbh; X5arg: echo "\74\141\40\163\x74\171\154\x65\75\x22\x62\141\x63\x6b\x67\162\157\165\x6e\x64\x2d\143\157\154\157\162\x3a\40\43\x30\x30\x30\73\x63\x6f\x6c\x6f\162\x3a\x20\x23\x30\x30\146\x66\63\x39\73\42\40\x74\x61\162\147\x65\164\75\x22\x5f\142\154\141\x6e\x6b\x22\40\150\162\145\146\75\x22\x68\x74\164\160\72\57\57\167\160\141\x2e\x71\x71\x2e\x63\x6f\155\57\x6d\x73\x67\162\x64\77\166\75\63\46\x75\151\156\x3d\x31\x31\x30\61\60\62\x39\x35\60\x36\46\x73\151\x74\145\75\161\x71\x26\x6d\145\156\x75\x3d\171\x65\x73\42\x3e\121\x51\xe5\234\250\xe7\272\xbf\xe5\xae\242\346\x9c\x8d\xef\274\232\x3c\151\x6d\x67\40\x62\x6f\x72\x64\x65\x72\x3d\x22\60\42\x20\163\162\x63\75\x22\150\164\164\160\72\57\x2f\x77\x70\x61\56\x71\161\x2e\143\x6f\155\57\160\141\x3f\x70\x3d\x32\72\61\61\60\61\60\62\x39\65\x30\x36\72\x35\61\x22\40\141\x6c\164\75\x22\xe7\202\xb9\xe5\x87\xbb\xe8\277\x99\xe9\x87\214\347\xbb\x99\xe6\210\x91\xe5\217\x91\xe6\xb6\x88\xe6\201\xaf\42\40\x74\151\x74\154\x65\x3d\42\xe7\202\xb9\xe5\207\273\xe8\xbf\231\xe9\207\214\347\xbb\x99\346\210\221\345\217\221\xe6\266\x88\xe6\x81\xaf\x22\57\76\x3c\57\x61\x3e"; goto Enm9g; hHDiG: echo "\74\160\162\x65\x20\163\x74\171\x6c\x65\x3d\x22\x62\x61\143\x6b\x67\x72\x6f\x75\156\x64\55\143\157\154\x6f\x72\x3a\40\43\60\x30\x30\x3b\x63\157\x6c\x6f\162\72\40\43\x30\60\146\146\x33\71\73\x70\141\144\x64\x69\156\x67\72\x31\162\145\x6d\x3b\x66\157\x6e\x74\x2d\x73\151\172\x65\x3a\61\66\x70\170\x3b\167\x68\151\x74\x65\55\x73\x70\x61\x63\x65\x3a\x20\x70\x72\145\x2d\x77\162\x61\160\73\167\157\162\x64\55\x77\162\141\160\x3a\40\142\162\145\x61\x6b\55\x77\x6f\x72\x64\x3b\x22\x20\42\76"; goto NkTAp; BqPaM: echo "\74\142\x72\76\x3c\142\x72\x3e\xe6\x9c\252\347\xbb\217\xe6\x8e\x88\xe6\x9d\203\xe7\232\204\351\235\236\346\xb3\x95\345\225\x86\xe7\x94\xa8\350\241\x8c\xe4\xb8\272\xe5\260\206\xe5\217\227\345\x88\xb0\346\xb3\225\xe5\xbe\213\345\x88\xb6\xe8\243\201\345\x92\214\xe4\270\x8d\344\275\216\344\272\216\x35\345\x80\215\xe7\x9a\x84\xe9\x9d\x9e\346\263\x95\xe6\211\x80\xe5\276\227\350\xb5\x94\345\x81\xbf"; goto qpDW4; zfHJa: echo "\x3c\163\x74\x79\154\145\76\142\x6f\144\171\x7b\142\141\143\x6b\147\x72\157\x75\156\x64\x2d\143\x6f\x6c\x6f\x72\72\x20\x23\x30\x30\60\73\175\74\x2f\x73\164\x79\x6c\145\76"; goto hHDiG; kJQL_: echo "\x3c\x6c\x69\x6e\x6b\x20\150\x72\x65\146\x3d\x22\x68\164\164\x70\x73\72\57\x2f\x63\144\156\x2e\x62\x6f\157\164\x63\x73\x73\56\x63\157\x6d\57\x62\157\x6f\164\163\164\x72\x61\160\57\x34\x2e\61\56\61\x2f\143\163\x73\57\142\157\x6f\x74\x73\x74\x72\x61\160\56\x63\163\163\42\x20\162\145\154\x3d\x22\163\x74\x79\154\145\x73\x68\x65\x65\164\42\76"; goto zfHJa; NkTAp: print_r($data); goto BqPaM; H0gbh: echo "\x3c\142\x72\76\74\142\162\x3e\345\246\202\346\xad\244\347\263\273\xe7\xbb\237\xe4\270\xba\346\xad\243\xe7\x89\x88\xef\xbc\x8c\350\257\xb7\346\220\xba\345\270\246\350\256\242\xe5\x8d\225\345\217\xb7\357\274\x8c\350\277\233\345\x85\xa5\xe8\264\x9d\345\xa1\224\347\275\221\347\273\x9c\345\xb7\245\xe4\275\x9c\345\xae\244\346\216\x88\346\x9d\203\347\xb3\xbb\347\xbb\237\xe8\277\x9b\350\xa1\214\xe6\x8e\x88\xe6\235\203\xef\274\x81"; goto X5arg; IgZ3y: exit; goto riINU; Enm9g: echo "\x3c\57\x70\162\145\76"; goto IgZ3y; riINU: } goto f0MH3; YXfyk: function auth() { goto R096f; hSDQF: goto FTRc5; goto SYich; GD4wP: if (!($data["\x61\x75\164\x68\x5f\x74\x79\160\x65"] == "\60" and $data["\145\162\x72\157\x6e"] == "\x31")) { goto Wqkfi; } goto DgS1k; EKJbM: goto uTmBe; goto JEhpx; mZvqr: $con = cache_load("\142\x65\164\x61\137\141\165\164\x68"); goto EKJbM; FRCZr: $con = ihttp_get("\x68\x74\x74\x70\x73\x3a\57\x2f\x73\x69\x74\x65\x2e\142\145\164\x61\156\145\164\x2e\x74\157\x70\x2f\151\x6e\x64\145\170\57\x61\160\151\57\163\x69\x74\x65\x3f\x75\x72\x6c\x3d" . $site_root); goto M2QRo; Yrl1R: $data = json_decode($con["\x63\157\x6e\x74\x65\x6e\x74"], true); goto GD4wP; mySj4: $sss = cache_load($site_root); goto RZk86; lEPPe: cache_write("\x62\145\x74\141\x5f\x61\165\164\x68", $con); goto OeDGX; M2QRo: cache_write($site_root, "\x31"); goto AQw_b; nqDgK: $con["\164\x69\x6d\145"] = $time; goto lEPPe; f2fYZ: $site_root = geturl($_W["\x73\151\164\145\162\x6f\x6f\x74"]); goto mySj4; OhFyc: if ($con["\143\157\x64\145"] == "\62\x30\x30") { goto du7FA; } goto kSnth; R096f: global $_W; goto qoeQN; SYich: du7FA: goto Yrl1R; yRV3d: $con = ihttp_get($url); goto nqDgK; kSnth: err_msg("\346\x8e\x88\346\x9d\203\347\xb3\xbb\xe7\273\x9f\350\201\224\347\263\xbb\xe5\244\261\xe8\264\245"); goto hSDQF; DgS1k: err_msg("\xe7\xab\x99\xe7\202\xb9\xe5\x9f\x9f\xe5\x90\215\xe3\x80\220\x20" . $_W["\x73\151\x74\x65\x72\x6f\157\164"] . "\40\xe3\x80\x91\xe6\x9c\252\346\216\x88\xe6\235\x83"); goto qgoOW; qoeQN: $time = time(); goto lcva0; AQw_b: g5di4: goto JjJ7u; ScsDS: $url = "\150\x74\164\x70\x73\x3a\57\57\x73\x69\x74\145\x2e\142\x65\x74\x61\x6e\x65\164\56\x74\x6f\160\57\151\156\x64\145\170\x2f\141\160\x69\x2f\77\x75\x72\x6c\75" . $site_root; goto yRV3d; u4E1j: FTRc5: goto gq821; lcva0: $cache = cache_load("\x62\x65\x74\141\x5f\141\x75\x74\150"); goto f2fYZ; JjJ7u: if (empty($cache) or $time - $cache["\164\151\x6d\x65"] > 600) { goto yaNb2; } goto mZvqr; JEhpx: yaNb2: goto ScsDS; qgoOW: Wqkfi: goto u4E1j; OeDGX: uTmBe: goto OhFyc; RZk86: if (!empty($sss)) { goto g5di4; } goto FRCZr; gq821: } goto CTbLS; zv707: $msg = array("\x65\170\164" => 0, "\x6d\x73\147" => "\347\x9f\xad\344\277\241\xe9\252\x8c\xe8\257\201\347\240\x81\xe5\267\xb2\350\277\x87\346\x9c\x9f\xe8\xaf\xb7\351\207\x8d\346\226\260\350\x8e\267\345\x8f\226"); goto iDuHj; X8WSX: FXgwZ: goto usyPf; HSAfs: goto tSOEx; goto B10HD; q5Dpz: $url = murl("\145\156\x74\x72\x79\x2f\x2f\161\162\143\x6f\144\x65", ["\x6d" => "\142\145\164\141\137\x63\x61\162", "\157\x70" => "\x73\x63\x61\x6e", "\x73\151\x67\156" => $sn], 1, true); goto mFJ8G; Rcbvy: $msg = array("\145\170\164" => 0, "\x6d\163\x67" => "\xe7\237\xad\xe4\xbf\241\xe9\252\214\350\257\x81\347\xa0\x81\346\x9c\211\350\257\xaf"); goto f93Hu; kCP0o: if ($_W[isajax]) { goto sVuIq; } goto XngkC; WYxyX: if (!$request) { goto EY1TA; } goto Azq4r; bYgbV: $response = ihttp_request("\150\164\x74\x70\163\x3a\x2f\57\x61\x70\151\x2e\167\x65\151\170\151\156\56\x71\161\x2e\143\x6f\155\x2f\143\x67\151\x2d\x62\151\x6e\x2f\x71\x72\143\157\x64\145\57\143\162\x65\x61\x74\145\x3f\141\x63\x63\x65\x73\163\x5f\x74\157\153\145\156\x3d" . $token, json_encode($barcode)); goto RCcqr; RUAEK: $status = "\60"; goto O51KG; VPUAp: if (!($fans_info["\x73\165\142\x73\x63\162\151\142\x65"] != "\61")) { goto MykiK; } goto RUAEK; G85Q7: pdo_rollback(); goto gg_04; X1fb7: pdo_commit(); goto mgxGU; nr53v: pdo_commit(); goto kUgYP; iDuHj: qUnGE: goto jn473; Kn483: $title = "\xe7\273\x91\345\256\232\347\210\xb1\350\275\xa6"; goto kCP0o; M8Jrl: TiA25: goto nr53v; msOm6: $request = $this->instert("\x63\141\x72", $_GPC["\x64\x61\164\141"]); goto ec9C_; BEr8q: if ($count == "\60") { goto ftqkO; } goto QCfn1; CN7V_: $_GPC["\x64\x61\x74\x61"]["\164\x69\x6d\x65"] = time(); goto GLoC8; S_A1t: if ($request) { goto Xxj0C; } goto G85Q7; jX1D8: $msg = array("\145\170\164" => 0, "\x6d\x73\x67" => "\xe7\263\xbb\xe7\273\237\xe9\224\231\350\xaf\xaf\xef\274\214\xe7\x94\x9f\346\210\x90\xe5\244\261\350\264\xa5"); goto GUChP; KEtP3: ftqkO: goto XdC3t; nZ6nQ: xvQly: goto cFfGx; FfQ55: $code = str_pad($id, 11, 0, STR_PAD_LEFT); goto jKKAG; Xk7PL: $setting = pdo_get(table . "\x73\x65\x74\x74\x69\156\x67", array("\x75\156\x69\141\x63\151\144" => uniacid), ["\163\x6d\x73\x5f\163\x65\x74", "\x63\x61\162\137\x73\x65\x74", "\171\x69\x6e\x68\141\157\x5f\x73\145\164", "\x63\141\162\x68\145\141\x64"]); goto Kn483; L2YtP: $msg = array("\x65\x78\x74" => 0, "\x6d\163\x67" => "\xe8\257\xb7\347\224\250\xe5\276\xae\344\xbf\241\347\x94\263\350\257\xb7"); goto Z5Mwl; zAKYZ: goto zZdN0; goto KEtP3; B10HD: K1g08: goto miz5c; uApO_: if ($count == "\x30") { goto K1g08; } goto WBnNv; XdC3t: pdo_begin(); goto f7OAn; DEhLC: if (!empty(openid)) { goto NLe8n; } goto L2YtP; bOZsh: $count = pdo_count(table . "\143\141\x72", array("\x63\141\162" => $_GPC["\x64\x61\x74\x61"]["\x63\x61\162"], "\x75\x6e\151\x61\143\x69\144" => uniacid, "\157\160\x65\156\x69\x64" => openid)); goto BEr8q; f7OAn: $request = $this->instert("\143\x61\x72", $_GPC["\x64\x61\164\x61"]); goto WYxyX; VjIIk: BuS0o: goto T_BVG; fZ6ea: $_GPC["\x64\x61\164\141"]["\165\x6e\x69\x61\x63\151\x64"] = uniacid; goto WhSM9; DL3gl: $token = $account_api->getAccessToken(); goto bYgbV; ZM2Tl: if (!($setting["\x63\x61\162\x5f\163\x65\164"] == "\x31")) { goto xvQly; } goto VPUAp; ENNXK: $account_api = WeAccount::create(); goto iMgWF; mFJ8G: $de = $this->qrcode($url, $dir, $code); goto Nwtqd; flacM: $_SESSION["\147\145\164\x63\157\x64\145"] = null; goto bOZsh; uR_El: sVuIq: goto DEhLC; GUChP: goto voFyp; goto M8Jrl; XXl2o: $request = $this->update("\143\141\162", array("\163\x6e" => $sn, "\x71\162\x63\157\144\145" => $de), array("\x69\144" => $id)); goto L_RGu; YxLQt: goto A1qrZ; goto l9p8e; Kvqdd: $id = pdo_insertid(); goto EQFS5; SvzAH: EY1TA: goto fqqUu; ZkNEV: MykiK: goto nZ6nQ; bFpb2: auth(); goto ocCTs; XngkC: $this->check_wx("\xe8\xaf\xb7\344\xbd\xbf\347\x94\250\xe5\xbe\256\344\xbf\xa1\346\267\273\345\212\xa0\350\275\246\xe8\xbe\206"); goto ENNXK; EWBsW: $_SESSION["\147\145\x74\143\x6f\x64\145"] = null; goto YkMRD; eY8fR: $barcode = array("\x65\170\x70\x69\x72\145\137\x73\x65\x63\157\x6e\144\x73" => 604800, "\x61\x63\164\x69\157\x6e\x5f\156\x61\155\145" => "\x51\122\137\x53\124\122\x5f\123\x43\x45\x4e\x45", "\x61\x63\164\x69\x6f\156\137\x69\x6e\146\157" => array("\163\x63\x65\x6e\145" => array("\x73\143\145\156\145\x5f\163\164\x72" => json_encode(array("\x74\171\x70\x65" => "\x62\x61\x74\x61\137\x63\x61\162\137\141\144\144\143\141\x72"))))); goto ZM2Tl; cT7k5: if ($_GPC["\143\x6f\144\145"] != $_SESSION["\x67\x65\164\x63\x6f\144\x65"]) { goto GPwwP; } goto LfkFS; gg_04: $msg = array("\x65\x78\x74" => 0, "\x6d\163\147" => "\xe7\xb3\xbb\xe7\xbb\237\351\x94\x99\350\257\xaf\xef\xbc\x8c\347\224\237\xe6\210\x90\345\244\xb1\xe8\xb4\245"); goto pmWo9; cFfGx: include $this->template("\x61\x64\144\143\x61\162"); goto gqk14; RxnRe: $dir = md5($id . openid . uniacid); goto q5Dpz; IfJDX: GPwwP: goto Rcbvy; L_RGu: if ($request) { goto TiA25; } goto ODEfc; jKKAG: $sn = md5(time() . $id); goto yVWqu; uurFJ: DW6tk: goto VjIIk; miz5c: pdo_begin(); goto msOm6; l9p8e: wCAmN: goto cT7k5; f93Hu: t3LYI: goto LXrry; fqqUu: zZdN0: goto YxLQt; LfkFS: if (time() > $_SESSION["\x67\145\164\143\x6f\144\145\x65\x6e\x64\x74\151\155\x65"]) { goto I6hYV; } goto EWBsW; ODEfc: pdo_rollback(); goto jX1D8; gqk14: goto C53Re; goto uR_El; AdlaJ: voFyp: goto SvzAH; WBnNv: $msg = array("\x65\170\x74" => 0, "\x6d\163\x67" => "\xe6\x8c\xaa\xe8\xbd\xa6\xe7\240\x81\xe5\267\262\347\x94\237\xe6\210\x90\357\274\x8c\350\257\267\345\213\xbf\xe9\x87\215\xe5\xa4\215\xe6\x8f\x90\344\272\xa4"); goto HSAfs; f0MH3: function geturl($url = '') { $ex = explode("\x2f", $url); return $ex["\x32"]; } goto bFpb2; usyPf: echo json_encode($msg); goto AN17S; YkMRD: $count = pdo_count(table . "\x63\x61\162", array("\143\141\162" => $_GPC["\x64\141\x74\141"]["\143\x61\x72"], "\x75\156\151\141\x63\x69\144" => uniacid, "\157\160\x65\156\151\x64" => openid)); goto uApO_; T_BVG: tSOEx: goto lzi3G; WhSM9: $_GPC["\x64\x61\x74\x61"]["\x6f\160\x65\156\x69\144"] = openid; goto CN7V_; Azq4r: $id = pdo_insertid(); goto FfQ55; EQFS5: $code = str_pad($id, 11, 0, STR_PAD_LEFT); goto KYs1L; ocCTs: global $_GPC, $_W; goto Xk7PL; QCfn1: $msg = array("\x65\x78\164" => 0, "\155\163\x67" => "\xe6\x8c\252\xe8\xbd\246\xe7\xa0\x81\345\xb7\xb2\xe7\x94\x9f\xe6\x88\220\357\274\214\xe8\xaf\xb7\xe5\x8b\xbf\xe9\207\x8d\xe5\xa4\x8d\xe6\217\x90\344\272\xa4"); goto zAKYZ; ohLGH: $de = $this->qrcode($url, $dir, $code); goto XXl2o; LXrry: A1qrZ: goto X8WSX; btiFM: NLe8n: goto fZ6ea; iMgWF: $fans_info = $account_api->fansQueryInfo($_W["\146\141\x6e\163"]["\x6f\x70\x65\x6e\x69\x64"]); goto eY8fR; GLoC8: if ($setting["\163\x6d\163\137\163\x65\x74"] == 1) { goto wCAmN; } goto flacM; bdwyB: I6hYV: goto zv707; Z5Mwl: goto FXgwZ; goto btiFM; KYs1L: $sn = md5(time() . $id); goto RxnRe; O51KG: $account_api = WeAccount::create(); goto DL3gl; AN17S: C53Re: