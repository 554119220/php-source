<?php
 goto Mvb4s; E8DIy: if (!pdo_insert("\x78\x69\141\x6f\x66\x5f\164\x6f\x75\160\x69\x61\157\x5f\x67\x69\166\x69\x6e\147", array("\x73\x69\x64" => $setting["\x69\144"], "\164\171\160\x65" => 1, "\x67\x69\166\151\156\x67\x69\x64" => $givingid, "\x67\x69\166\x69\156\x67\137\x6e\x61\x6d\145" => $giving["\156\141\x6d\145"], "\x6e\x75\x6d" => $giving["\x61\x64\144\x69\156\x67"], "\142\165\x79\x63\x72\145\144\151\x74" => $giving["\x62\165\x79\x63\162\x65\x64\x69\x74"], "\x6c\x65\146\164\143\x72\145\144\151\164" => $this->getCredit(), "\162\151\x64" => $rid, "\157\x70\145\156\151\144" => $openid, "\165\x69\x64" => $this->mcOpenid2uid(), "\156\x69\x63\x6b\x6e\x61\155\x65" => self::getUserinfo("\x6e\x69\x63\x6b\156\x61\x6d\145"), "\x61\166\x61\x74\x61\162" => self::getUserinfo("\x61\x76\141\x74\141\x72"), "\151\160" => sprintf("\45\165", ip2long(CLIENT_IP)), "\144\141\x74\x61" => iserializer($giving), "\143\x72\145\141\x74\x65\144\137\x61\x74" => time()))) { goto dlb5g; } goto n1B9u; Mvb4s: defined("\x49\116\x5f\111\x41") or exit("\x41\143\x63\x65\163\x73\x20\104\145\x6e\x69\145\x64"); goto Zd7Ci; h4Asz: if ($type == 2) { goto swUs6; } goto ulHLg; rIQG4: $giving = $setting["\x70\162\157\x70\145\x72\x74\x79"][$givingid]; goto wV1MZ; j6JhR: $givingid = intval($_GPC["\147\151\x64"]); goto r2d0B; AqjSi: VI5zI: goto q7PU5; Q3QRR: exit(json_encode(error(999, "\346\xb2\xa1\346\234\211\350\216\267\xe5\x8f\x96\xe5\210\xb0\xe7\224\xa8\346\x88\xb7\344\277\xa1\xe6\x81\xaf"))); goto P7O0i; aF7cH: exit(json_encode(error(999, "\xe5\x8a\x9f\xe8\x83\275\xe6\234\252\345\xbc\x80\345\x90\xaf"))); goto Exe1j; wq57J: $openid = self::getUserinfo("\157\x70\x65\x6e\x69\x64"); goto moTi_; Z6ki0: if ($type == 1) { goto ECako; } goto h4Asz; otMqw: $setting = self::getSetting(); goto oFa_e; VZoHG: if (!is_error($return1)) { goto S77LT; } goto RZOKh; pBwic: $openid = $_W["\157\160\x65\x6e\151\x64"]; goto AqjSi; k9XHi: swUs6: goto rIQG4; Exe1j: L1JJ6: goto nyqF_; n1B9u: exit(json_encode(error(0, "\xe5\x85\221\346\215\xa2\xe6\x88\x90\xe5\x8a\x9f\xef\xbc\x8c\346\x82\250\347\232\204\x3c\163\x70\141\x6e\x20\143\154\141\x73\163\75\x22\x67\151\166\x69\156\x67\55\156\141\155\145\42\x3e" . $giving["\x6e\141\x6d\145"] . "\x3c\x2f\x73\x70\141\156\x3e\347\244\xbc\xe7\x89\251\53\x31"))); goto YkfiN; foVf7: QEZRw: goto Xiexp; wV1MZ: $giving["\151\x64"] = $givingid; goto EAiWx; Xiexp: b3ryc: goto QnnYq; Zfxnj: $giving = $setting["\147\151\x76\x69\x6e\x67"][$givingid]; goto gTV65; RZOKh: exit(json_encode(error(999, "\xe5\244\261\350\xb4\245\xef\xbc\214\xe6\x82\250\xe7\x9a\204\347\xa7\xaf\345\210\x86\344\270\x8d\350\266\263\xe3\200\x82\x3c\142\x72\x2f\x3e\345\205\x91\346\x8d\xa2\xe9\234\200\346\xb6\210\xe8\200\227" . intval($giving["\x62\165\x79\143\162\145\144\151\x74"]) . "\xe7\247\xaf\345\x88\206\343\200\202\xe5\x8a\xa0\xe6\262\271\xe8\216\267\345\217\226\347\247\xaf\345\210\206\345\220\xa7\357\274\201"))); goto NdxWJ; NdxWJ: S77LT: goto E8DIy; P7O0i: jRLg3: goto Z6ki0; jLGDs: if (!pdo_insert("\170\151\141\x6f\x66\x5f\x74\157\x75\x70\x69\x61\157\x5f\x67\151\x76\151\x6e\x67", array("\163\151\144" => $setting["\151\x64"], "\x74\171\160\x65" => 2, "\147\x69\x76\x69\156\x67\151\x64" => $givingid, "\x67\151\x76\x69\156\147\x5f\x6e\141\x6d\145" => $giving["\156\141\155\x65"], "\156\165\x6d" => $giving["\x64\x6f\x75\x62\154\x65"], "\x62\x75\171\143\x72\x65\144\x69\x74" => $giving["\142\x75\171\143\x72\x65\144\x69\164"], "\154\145\x66\x74\x63\162\x65\144\x69\x74" => $this->getCredit(), "\162\x69\x64" => $rid, "\x6f\160\145\156\x69\x64" => $openid, "\165\x69\x64" => $this->mcOpenid2uid(), "\156\151\x63\x6b\156\141\155\x65" => self::getUserinfo("\x6e\x69\143\x6b\x6e\141\x6d\145"), "\x61\x76\x61\164\141\x72" => self::getUserinfo("\141\166\x61\x74\x61\162"), "\x69\160" => sprintf("\x25\x75", ip2long(CLIENT_IP)), "\144\141\x74\141" => $giving["\145\x66\146\x65\x63\164\x69\166\x65\x74\x69\x6d\145"], "\143\162\x65\x61\x74\x65\144\x5f\x61\164" => time()))) { goto QEZRw; } goto NKpKk; YkfiN: dlb5g: goto jn3Au; EAiWx: $return1 = $this->setCredit(-intval($giving["\142\165\171\143\x72\145\x64\151\164"])); goto Mv1xS; oFa_e: if (!(empty($setting["\157\x70\145\x6e\x67\x69\166\x69\156\147"]) && empty($setting["\157\x70\145\x6e\x70\x72\157\160\145\x72\164\x79"]) or !empty($setting["\143\x6c\157\x73\x65\x67\151\x76\x69\156\147\x63\162\145\144\x69\x74"]))) { goto L1JJ6; } goto aF7cH; AlI3l: KaQ3R: goto jLGDs; Zd7Ci: global $_W, $_GPC; goto otMqw; ap2WJ: exit(json_encode(error(999, "\345\244\261\350\xb4\245\xef\274\x8c\xe6\x82\xa8\xe7\232\204\xe7\247\257\345\x88\206\xe4\270\x8d\xe8\xb6\xb3\343\200\x82\74\x62\162\57\x3e\345\205\221\346\x8d\242\351\x9c\x80\346\xb6\x88\350\x80\x97" . intval($giving["\x62\165\171\x63\162\145\144\x69\164"]) . "\347\247\257\345\210\206\xe3\200\x82\xe5\212\240\xe6\xb2\271\xe8\x8e\xb7\xe5\217\226\347\xa7\257\345\210\x86\345\x90\247\357\274\x81"))); goto AlI3l; nyqF_: load()->model("\155\143"); goto j6JhR; Mv1xS: if (!is_error($return1)) { goto KaQ3R; } goto ap2WJ; gTV65: $giving["\151\144"] = $givingid; goto G6snh; jn3Au: goto b3ryc; goto k9XHi; moTi_: if (!empty($openid)) { goto VI5zI; } goto pBwic; q7PU5: if (!(empty($rid) or empty($type))) { goto jRLg3; } goto Q3QRR; r2d0B: $type = intval($_GPC["\x74\171\x70\x65"]); goto tMhs9; fydoc: ECako: goto Zfxnj; tMhs9: $rid = self::getUserinfo("\162\151\144"); goto wq57J; NKpKk: exit(json_encode(error(0, "\345\205\221\xe6\x8d\xa2\xe6\210\x90\xe5\x8a\x9f\xef\274\214\346\202\250\347\232\x84\x3c\163\160\141\156\x20\x63\x6c\141\x73\x73\x3d\x22\147\x69\x76\151\156\147\x2d\156\x61\x6d\x65\42\x3e" . $giving["\156\x61\x6d\x65"] . "\74\57\163\160\x61\156\76\351\x81\223\345\x85\267\x2b\61"))); goto foVf7; ulHLg: goto b3ryc; goto fydoc; G6snh: $return1 = $this->setCredit(-intval($giving["\x62\165\171\143\x72\145\144\x69\x74"])); goto VZoHG; QnnYq: exit(json_encode(error(999, "\xe5\x85\x91\346\215\242\xe5\xa4\261\350\264\245")));