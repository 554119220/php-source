<?php
 defined("\111\x4e\137\111\101") or exit("\101\x63\143\x65\163\163\40\104\145\156\151\145\x64"); class Xiaof_toupiaoModuleProcessor extends WeModuleProcessor { protected static $_setting; private function setProcess($key, $step, $data = array()) { $value = array_merge(array("\x73\x74\145\x70" => $step), $data); $_SESSION["\x78\151\x61\157\x66\x70\x72\x6f\x63\x65\x73\x73"] = iserializer(array($key => $value)); } private function getProcess($key) { $xiaofprocess = iunserializer($_SESSION["\170\151\x61\157\146\x70\162\x6f\143\x65\x73\163"]); return $xiaofprocess[$key]; } private function getRuleitem($content) { goto tDdwZ; leudX: return $this->respText("\xe7\xb3\273\xe7\xbb\237\xe6\xb2\241\xe6\234\211\346\211\276\345\x88\260\346\202\xa8\350\246\201\xe5\217\202\344\270\216\xe7\232\204\xe6\264\xbb\345\212\xa8\343\x80\x82"); goto jSEOG; nTdmr: goto ZOcbW; goto rLcPQ; tDdwZ: global $_W; goto uEaOQ; Z6xa6: return $ruleitem; goto laa57; L2O5l: if (!($ruleitem = pdo_fetch("\123\105\114\x45\x43\124\40\52\40\x46\x52\x4f\x4d\40" . tablename("\x78\x69\141\157\146\x5f\x74\157\165\160\151\x61\x6f\x5f\x72\165\154\x65") . "\x20\127\x48\x45\122\105\x20\x60\x72\151\144\x60\x20\x3d\x20\47" . $this->rule . "\47\40\x6c\x69\x6d\151\x74\x20\61"))) { goto shXcv; } goto nTdmr; uEaOQ: if ($ruleitem = pdo_fetch("\123\105\114\105\103\124\x20\x2a\x20\x46\122\x4f\x4d\40" . tablename("\170\x69\141\157\x66\x5f\x74\157\165\160\x69\141\157\x5f\162\x75\154\145") . "\x20\127\x48\x45\x52\105\x20\140\165\x6e\151\x61\143\x69\x64\x60\x20\75\x20\47" . $_W["\x75\156\151\141\143\151\x64"] . "\47\40\101\x4e\104\40\140\153\x65\x79\x77\157\x72\x64\x60\x20\x3d\x20\47" . md5($content) . "\47\x20\x6c\151\155\x69\x74\x20\x31")) { goto fg4u4; } goto L2O5l; jSEOG: ZOcbW: goto Z6xa6; rLcPQ: fg4u4: goto j2I6i; NJOjQ: goto ZOcbW; goto gT2bu; gT2bu: shXcv: goto leudX; j2I6i: $this->clearSession(); goto NJOjQ; laa57: } public function responds($openid) { goto frJNJ; l3Y41: if (empty($ruleitem)) { goto rhg9a; } goto l7BlR; frJNJ: global $_W, $_GPC; goto Pjk6N; m6_9i: $result = $accObj->sendCustomNotice($message); goto yVnEG; B2yC7: $text = "\347\202\271\xe5\207\273\347\273\247\347\273\255\xe8\277\x9b\xe8\xa1\x8c\346\x8a\225\347\xa5\250"; goto NbBvH; l7BlR: $activity = pdo_fetch("\123\105\114\105\103\124\x20\x2a\40\x46\x52\x4f\115\40" . tablename("\170\151\x61\157\146\137\164\157\165\160\151\141\x6f\x5f\163\x65\164\164\x69\x6e\x67") . "\40\x57\x48\x45\x52\x45\x20\140\x69\144\140\40\75" . $ruleitem["\x73\151\x64"]); goto dm2mK; dm2mK: $activity["\144\141\164\141"] = iunserializer($activity["\x64\x61\x74\x61"]); goto GOGWx; uSuUs: $accObj = WeixinAccount::create(); goto B2yC7; Pjk6N: $ruleitem = pdo_fetch("\x53\105\114\x45\103\x54\40\x2a\40\x46\122\x4f\x4d\x20" . tablename("\x78\x69\141\x6f\146\x5f\164\157\x75\x70\151\141\x6f\137\x72\x75\x6c\x65") . "\x20\127\110\105\122\105\x20\140\x61\x63\164\x69\157\156\x60\x20\x3d\x20\47\x33\x27\x20\x41\116\x44\x20\x60\x75\156\x69\x61\143\151\144\140\75" . $_W["\x75\x6e\x69\x61\x63\151\x64"] . "\x20\154\151\155\x69\x74\40\61"); goto l3Y41; NbBvH: $message = array("\155\163\147\164\x79\160\145" => "\156\x65\x77\163", "\156\145\x77\x73" => array("\141\x72\164\151\143\154\x65\x73" => array(array("\x74\151\x74\154\145" => urlencode("\xe5\205\xb3\346\263\250\xe6\x88\x90\345\212\237"), "\x64\x65\163\x63\x72\151\160\164\x69\157\x6e" => urlencode($text), "\x70\x69\x63\165\162\154" => tomedia($activity["\144\141\164\141"]["\163\x68\141\162\x65\x74\150\165\155\x62"]), "\165\x72\x6c" => self::appUrl("\x69\x6e\144\145\170", "\x78\151\141\157\146\x5f\x74\157\x75\x70\x69\141\157", "\x26\163\151\144\x3d" . $ruleitem["\163\151\x64"])))), "\x74\157\165\x73\x65\x72" => $openid); goto m6_9i; GOGWx: load()->classs("\x77\145\151\x78\151\156\x2e\x61\x63\143\x6f\165\x6e\x74"); goto uSuUs; yVnEG: rhg9a: goto zbuCM; zbuCM: } private function voteCheck() { goto oOCwX; apGS2: O7jA8: goto KseUN; CJFaf: sVSEl: goto YsBwq; UdP1c: return $this->respTexttips("\xe6\264\273\345\212\250\346\234\xaa\345\xbc\x80\345\247\213\357\xbc\214\350\257\267\345\274\x80\xe5\247\213\345\220\216\xe5\x86\x8d" . self::$_setting["\x78\x69\x61\157\x66\166\x6f\x74\x65\153\145\x79\x73"] . "\xef\xbc\214\xe5\xbc\200\xe5\xa7\213\346\227\xb6\351\x97\264" . self::$_setting["\x73\164\x61\162\164"] . ''); goto HXxjE; NtiYC: return $this->respTexttips("\xe6\x8a\xb1\xe6\255\211\xef\xbc\x8c\347\263\273\347\273\x9f\346\243\x80\xe6\xb5\x8b\xe5\210\260\346\202\250\351\235\236\346\255\243\xe5\270\xb8" . self::$_setting["\x78\x69\x61\157\x66\x76\x6f\164\145\153\x65\171\163"] . "\357\274\214" . self::$_setting["\170\x69\x61\x6f\146\x76\x6f\164\145\x6b\x65\171\x73"] . "\xe5\xa4\261\350\xb4\245\343\x80\202\350\xbf\x98\xe7\xbb\277\xe8\211\262\xe5\205\254\xe5\xb9\xb3\xe7\216\xaf\xe5\xa2\x83\xef\xbc\214\xe6\213\222\xe7\xbb\235\345\x88\xb7" . self::$_setting["\x78\151\x61\x6f\146\x76\157\164\x65\153\x65\171"] . "\xe3\x80\x82\xe5\246\202\346\x9c\x89\xe7\x96\x91\xe9\227\256\350\x81\224\347\263\273\xe6\x88\221\344\xbb\254\xe7\232\204\xe5\205\xac\xe4\xbc\227\xe5\x8f\267\347\224\263\350\xaf\x89\350\xa7\xa3\345\xb0\201"); goto CJFaf; Lcr1M: if (!pdo_fetch("\x53\x45\114\105\x43\124\40\x2a\x20\106\122\117\115\x20" . tablename("\170\151\141\157\x66\137\x74\157\x75\x70\151\x61\x6f\x5f\163\141\146\145") . "\40\x57\110\105\122\x45\x20\140\163\151\144\140\40\75\x20\72\163\x69\144\x20\101\116\x44\40\140\x69\x70\x60\40\75\x20\72\151\160\x20", array("\72\163\151\x64" => self::$_setting["\151\144"], "\72\x69\160" => sprintf("\x25\165", ip2long(CLIENT_IP))))) { goto sVSEl; } goto NtiYC; ElepK: if (!($totals >= self::$_setting["\x76\x6e\x75\x6d"])) { goto u5LZW; } goto caBTb; OPYFh: return $this->respTexttips("\xe7\263\xbb\347\xbb\237\xe5\205\xb3\xe9\x97\255\xe4\xba\x86\xe5\x9b\x9e\345\244\215" . self::$_setting["\x78\x69\x61\x6f\x66\x76\157\164\x65\x6b\145\x79\163"] . "\357\274\214\350\257\xb7\350\xbf\233\346\264\xbb\xe5\x8a\xa8\xe9\241\xb5" . self::$_setting["\170\151\141\x6f\x66\x76\x6f\x74\145\x6b\x65\171\x73"] . "\343\200\202\x3c\141\40\150\162\x65\x66\x3d\x27" . $this->appUrl("\x69\x6e\144\145\x78") . "\47\x3e\347\202\xb9\xe5\x87\273\350\xbf\233\345\x85\xa5\x3c\x2f\x61\76"); goto DpSou; oOCwX: global $_W; goto B80Rl; KseUN: return false; goto hVaws; YMQtq: $totals = pdo_fetchcolumn("\x53\105\x4c\x45\103\x54\x20\x43\117\x55\116\124\x28\x2a\x29\40\x46\x52\x4f\115\40" . tablename($this->splittingtable("\x78\151\x61\157\146\x5f\x74\x6f\165\x70\151\x61\157\137\154\157\147")) . "\x20\x77\150\145\x72\x65\x20\140\x6f\x70\x65\156\x69\144\x60\40\x3d\40\47" . $_W["\157\160\145\156\x69\144"] . "\47\40\101\x4e\x44\40\x60\165\x6e\x69\x71\165\x65\x5f\x61\x74\140\40\75\x20\47" . date(Ymd) . "\47"); goto ElepK; rX2KU: lVo6l: goto sbJcl; B80Rl: if (!(intval(self::$_setting["\x6f\160\x65\156\155\x73\147\x76\157\x74\x65"]) == 1)) { goto mSCXr; } goto OPYFh; HXxjE: B88aV: goto okthR; al5dA: Z4HfO: goto Lcr1M; x7tpG: $this->beginContext(); goto apGS2; HfEYU: return $this->respTexttips("\346\xb4\273\345\212\250\xe5\267\262\347\273\x93\346\x9d\237\xef\274\x8c\346\x95\xac\350\257\xb7\346\234\x9f\xe5\xbe\205\xe4\xb8\213\xe6\254\241\346\xb4\xbb\345\212\250"); goto rX2KU; YsBwq: if ($this->inContext) { goto O7jA8; } goto x7tpG; DpSou: mSCXr: goto OWsM7; okthR: if (!(time() >= strtotime(self::$_setting["\x65\x6e\x64"]))) { goto lVo6l; } goto HfEYU; sbJcl: if (!(self::$_setting["\x76\156\165\155"] >= 1)) { goto Z4HfO; } goto YMQtq; Ziqrc: u5LZW: goto al5dA; OWsM7: if (!(time() <= strtotime(self::$_setting["\163\164\141\162\164"]))) { goto B88aV; } goto UdP1c; caBTb: return $this->respTexttips("\344\xb8\200\344\270\xaa\xe5\276\xae\344\277\xa1\345\217\267\346\257\217\xe5\244\251\345\x8f\252\350\x83\275\xe7\xbb\231" . self::$_setting["\x76\x6e\x75\x6d"] . "\xe4\xb8\252\351\x80\211\346\x89\x8b" . self::$_setting["\x78\x69\x61\x6f\146\166\157\x74\x65\x6b\x65\171\x73"] . ''); goto Ziqrc; hVaws: } private function initSetting($sid) { goto kzaF0; jggGK: l67Va: goto Q6j63; UxHz8: $item["\170\x69\x61\157\x66\x76\157\164\145\x6b\x65\x79\x61\143\x74"] = empty($data["\x76\157\164\x65\164\157\147\157\157\x64"]) ? "\xe6\212\x95" : "\347\x82\xb9"; goto OZgqK; Ikj3T: $item["\x78\x69\141\157\146\166\157\164\145\153\x65\x79\x73"] = empty($data["\x76\x6f\x74\x65\164\x6f\x67\157\x6f\x64"]) ? "\346\212\x95\xe7\245\xa8" : "\xe7\x82\271\350\xb5\x9e"; goto wHssi; OZgqK: return self::$_setting = array_merge($data, $item); goto wofDo; ZfaOb: goto OjWGK; goto dsttY; wHssi: $item["\170\x69\x61\157\x66\x76\x6f\164\x65\153\x65\171"] = empty($data["\x76\157\x74\145\x74\x6f\x67\157\157\x64"]) ? "\347\xa5\250" : "\350\xb5\x9e"; goto UxHz8; gHNMo: $items = pdo_fetch("\x53\x45\x4c\105\x43\x54\x20\140\151\144\140\54\x60\x74\x69\x74\x60\x2c\140\x64\141\164\141\x60\x20\106\122\117\115\40" . tablename("\x78\x69\x61\157\x66\x5f\x74\157\x75\160\x69\141\157\x5f\163\x65\164\164\151\x6e\147") . "\x20\x57\110\105\x52\105\40\140\x69\144\x60\40\x3d\40\x3a\x69\x64\x20\x6c\151\x6d\151\164\x20\x31", array("\72\x69\x64" => intval($_SESSION["\x78\151\x61\x6f\x66\x73\151\x64"]))); goto Y_eZP; kzaF0: if (empty(self::$_setting)) { goto FpmMR; } goto kx5Wi; auxOz: $item["\151\144"] = $items["\151\144"]; goto Ikj3T; dsttY: If5Z4: goto pZImM; Q6j63: $data = iunserializer($items["\x64\x61\x74\x61"]); goto auxOz; uPfyw: if (empty($_SESSION["\170\x69\141\x6f\146\x73\151\144"]) or $sid != $_SESSION["\170\151\141\157\x66\163\151\x64"]) { goto WS4eS; } goto gHNMo; ssVVj: OjWGK: goto jggGK; pXirh: if ($items = pdo_fetch("\123\105\x4c\x45\x43\124\x20\140\x69\144\x60\54\140\164\x69\x74\x60\54\x60\x64\x61\x74\x61\140\40\x46\122\x4f\x4d\40" . tablename("\x78\x69\141\x6f\146\x5f\x74\157\x75\160\x69\x61\157\x5f\x73\145\x74\x74\x69\x6e\x67") . "\x20\127\x48\105\x52\x45\x20\x60\151\x64\x60\x20\75\40\72\151\144\x20\154\x69\155\x69\164\x20\x31", array("\x3a\151\144" => $sid))) { goto If5Z4; } goto y_1Pp; bU2M4: WS4eS: goto pXirh; MC2Ve: FpmMR: goto uPfyw; y_1Pp: return $this->respText("\xe7\xb3\xbb\347\273\x9f\346\xb2\xa1\xe6\234\x89\xe6\211\xbe\345\210\xb0\346\x82\250\xe8\246\x81\345\x8f\202\xe4\270\216\xe7\232\x84\xe6\xb4\xbb\345\x8a\250\343\200\x82"); goto ZfaOb; pZImM: $_SESSION["\x78\151\x61\x6f\146\x73\x69\144"] = $items["\151\x64"]; goto ssVVj; kx5Wi: return self::$_setting; goto MC2Ve; Y_eZP: goto l67Va; goto bU2M4; wofDo: } private function voteAction($content) { goto xBHrb; FDK38: $sid = self::$_setting["\x69\144"]; goto vgJcI; kAm9_: da3J1: goto o65Zp; jU00H: switch ($xiaofprocess["\163\164\145\x70"]) { case 1: goto Fh1Q1; wMnaf: return $this->respText("\xe4\xb8\xba\351\x98\xb2\345\210\xb7" . self::$_setting["\x78\x69\141\157\x66\x76\157\x74\145\x6b\145\171"] . "\350\257\267\345\x9b\x9e\xe5\244\x8d\xe5\233\233\xe4\xbd\x8d\351\252\214\xe8\257\201\xe7\240\201\357\274\232" . $rand . ''); goto sZQ5l; F8WV1: nlla5: goto oqLAH; nQ8VO: $this->clearSession(); goto r4uVS; sZQ5l: goto da3J1; goto sf7jx; oqLAH: if (!(intval(self::$_setting["\x76\157\x74\145\152\165\155\x70"]) == 1)) { goto ow3wq; } goto ZeXlv; VIgPn: $this->setProcess("\x76\x6f\164\145", 2, array("\x64\141\164\141" => array("\x72\141\156\144" => $rand, "\160\151\x64" => $item["\x69\x64"]))); goto wMnaf; Fh1Q1: if ($item = pdo_fetch("\123\105\x4c\x45\x43\124\40\x2a\x20\106\122\x4f\x4d\40" . tablename("\x78\151\x61\157\146\x5f\164\x6f\x75\160\151\x61\157") . "\40\x57\110\105\122\105\40\140\x73\x69\144\x60\x20\75\x20\x3a\163\151\144\x20\101\x4e\x44\x20\140\x75\151\x64\140\40\x3d\40\x3a\x75\x69\144", array("\x3a\x73\x69\x64" => self::$_setting["\x69\144"], "\x3a\x75\151\x64" => intval($content)))) { goto nlla5; } goto nQ8VO; Zpz8f: $rand = rand(1000, 9999); goto VIgPn; ZeXlv: return $this->respUsers("\xe6\210\221\xe6\x98\xaf\xef\274\x9a" . $item["\156\141\x6d\145"] . "\357\xbc\x8c\347\274\x96\345\217\267\xef\274\x9a" . $item["\165\151\x64"] . "\343\200\x82\347\x82\271\xe5\x87\273\xe8\277\x9b\xe5\205\xa5\344\270\xba\346\x88\x91" . self::$_setting["\x78\151\141\157\x66\x76\x6f\x74\x65\x6b\x65\171\x73"] . "\xe5\x90\xa7\357\274\x81", $item["\x70\x69\x63"], $item["\151\x64"]); goto lT5Bn; lT5Bn: ow3wq: goto Zpz8f; r4uVS: return $this->respText("\347\263\xbb\xe7\273\x9f\xe6\xb2\xa1\346\234\x89\xe6\x89\276\xe5\x88\260\xe6\x82\250\350\246\201" . self::$_setting["\x78\x69\141\x6f\146\166\157\164\x65\x6b\x65\171\163"] . "\347\x9a\204\351\x80\211\xe6\x89\213\347\274\226\xe5\217\xb7\343\x80\x82\350\257\xb7\xe9\x87\215\346\226\xb0\xe8\xbe\x93\345\205\xa5\xe3\x80\x82"); goto F8WV1; sf7jx: case 2: goto x_aBF; erud3: IKES7: goto CDoTI; r7_kh: if (!(intval(self::$_setting["\155\x61\170\x76\157\x74\145\x6e\165\x6d"]) >= 1)) { goto S1XNB; } goto WIZfZ; JkgPu: return $this->respTexttips("\346\x9c\254\xe6\xac\241\xe6\xb4\273\xe5\x8a\250\346\202\xa8\345\205\xb1\346\234\x89" . self::$_setting["\155\141\x78\x76\x6f\164\x65\x6e\x75\155"] . '' . self::$_setting["\170\x69\x61\157\146\x76\x6f\164\145\x6b\x65\x79"] . "\xef\xbc\214\xe5\267\262\xe7\xbb\217\347\224\250\345\xae\214\357\274\214\xe4\xb8\x8d\xe8\203\275\345\x86\x8d" . self::$_setting["\x78\x69\141\x6f\146\166\x6f\x74\x65\x6b\145\x79\141\x63\x74"] . ''); goto UFLZR; OwuIb: V3LvJ: goto VFSjW; yi_Ow: $this->setProcess("\x76\157\164\x65", 1); goto jHs6w; FOsFx: Op3b3: goto j9_Gy; O2ZPh: Ak6IV: goto j7qu0; ZayBE: BBZ0N: goto m0o45; Z47yN: rKutI: goto LtMJb; zPUiT: goto VCgFc; goto sfRyN; WbXo3: $num = $double; goto DJ7_h; XbB7H: if (!(intval(self::$_setting["\162\x65\154\145\141\x73\145\164\151\155\145"]) >= 1)) { goto ycXNG; } goto rBmL_; Y_uWj: if (!(intval(self::$_setting["\x6d\141\170\x67\157\157\x64\156\x75\x6d"]) >= 1)) { goto kbg9p; } goto PQIN8; gkfqp: if (!($votenum >= 1)) { goto glbTc; } goto jDOkN; WeaTa: goto rKutI; goto DeMDA; VYzKe: uXqc5: goto L2q5k; w9YSf: if ($item = pdo_fetch("\x53\105\114\105\x43\124\x20\x2a\x20\106\122\117\x4d\40" . tablename("\x78\151\x61\x6f\x66\x5f\164\x6f\165\160\151\141\x6f") . "\40\127\x48\105\122\x45\x20\x60\x69\144\x60\x20\75\x20\x3a\151\x64", array("\72\151\x64" => intval($votedata["\160\151\144"])))) { goto Jcr2g; } goto yi_Ow; PSyRv: if ($content != $votedata["\x72\x61\156\x64"]) { goto kq_1C; } goto w9YSf; UFLZR: DB3QO: goto dmWWB; DpOg5: if ($item["\154\x6f\x63\x6b\x69\x6e\x67\137\x61\x74"] >= time() or intval(self::$_setting["\x72\x65\x6c\x65\141\x73\x65\x74\151\x6d\145"]) == 0) { goto xFYAJ; } goto ASgAD; DeMDA: kq_1C: goto bVYfj; EYMVf: return $this->respTexttips("\346\234\xac\xe6\254\xa1\346\264\xbb\345\212\xa8" . self::$_setting["\x6d\141\170\147\x6f\157\144\x74\x69\x6d\145"] . "\344\271\x8b\345\211\215\357\274\x8c\xe6\257\x8f\xe4\xbd\x8d\351\200\x89\xe6\211\213\346\234\x80\xe5\xa4\x9a\345\x85\x81\350\256\270\350\xa2\253" . self::$_setting["\x78\151\x61\157\146\x76\x6f\164\x65\153\145\x79\x61\x63\164"] . '' . self::$_setting["\155\141\x78\147\157\157\x64\156\x75\155"] . '' . self::$_setting["\x78\151\141\157\146\x76\157\164\x65\x6b\x65\171"] . "\xef\274\x8c\350\xb6\205\xe5\207\272\xe6\x97\240\xe6\x95\210"); goto vOR3f; fD6CT: goto VdN9q; goto adtol; MVr64: $virtualclick = rand(1, 10); goto eE2QU; k8zR5: if (!($item["\x6c\157\x63\x6b\151\x6e\147"] == 1)) { goto ae_FU; } goto DpOg5; GQskx: bYmAn: goto r7_kh; JZ9cl: $double = intval(self::$_setting["\x64\157\165\x62\154\145"]); goto iHGHb; JcsFM: return $this->respText("\xe9\xaa\x8c\xe8\xaf\x81\xe7\240\201\xe9\x94\x99\xe8\257\xaf\xe3\x80\202\xa\xe8\xaf\267\xe9\207\215\xe6\x96\xb0\xe5\233\x9e\xe5\244\215\345\233\233\xe4\275\215\xe9\252\x8c\xe8\xaf\201\347\240\x81\xef\xbc\x9a" . $rand . ''); goto Z47yN; m0o45: pdo_query("\x55\120\104\101\x54\105\40" . tablename("\170\151\x61\x6f\x66\137\164\157\x75\160\151\x61\x6f") . "\x20\x53\x45\124\x20\140\147\x6f\x6f\x64\140\40\x3d\x20\x67\157\157\x64\x2b" . $num . "\54\x20\x60\162\145\141\x6c\x67\x6f\157\x64\x60\x20\75\40\x72\x65\x61\154\147\157\x6f\x64\53" . $num . "\54\40\140\x63\154\x69\x63\x6b\x60\40\75\x20\x63\154\151\143\x6b\x2b" . $clicknum . "\54\40\140\x75\160\144\141\164\x65\x64\x5f\x61\x74\140\x20\x3d\x20\47" . time() . "\x27\40\x57\x48\105\x52\105\40\x60\x73\x69\x64\x60\x20\75\40\x27" . $sid . "\x27\x20\101\116\x44\x20\140\151\144\x60\40\75\x20\x27" . $item["\x69\x64"] . "\47"); goto HAOx8; vOR3f: eE1kn: goto PkDRX; by4Wg: pdo_update("\170\x69\141\157\146\x5f\164\157\x75\160\x69\x61\x6f", array("\x64\x6f\x75\x62\x6c\x65\x5f\141\164" => 0, "\x64\157\165\x62\x6c\x65\137\x6e\x75\x6d" => 0), array("\x69\x64" => $item["\x69\144"])); goto sP06e; YTCtE: $num = $num * $doubleitem["\144\157\165\142\x6c\145\x5f\x6e\x75\155"]; goto G8aC8; jHs6w: $this->clearSession(); goto lavK9; VFSjW: if (pdo_insert($this->splittingtable("\170\151\x61\x6f\x66\137\x74\157\x75\x70\x69\x61\x6f\137\154\x6f\147"), array("\x73\x69\144" => $sid, "\x70\x69\x64" => $item["\151\x64"], "\162\x69\144" => $this->getUserinfo("\x72\151\144"), "\164\x79\160\x65" => 5, "\x6e\151\143\x6b\156\x61\x6d\x65" => $this->getUserinfo("\x6e\x69\x63\153\x6e\x61\x6d\x65"), "\x61\x76\141\x74\x61\162" => $this->getUserinfo("\x61\166\x61\x74\x61\162"), "\156\165\155" => $num, "\x6f\160\145\x6e\151\x64" => $_W["\157\x70\145\x6e\151\144"], "\x69\x70" => '', "\165\x6e\x69\161\165\145\x5f\x61\x74" => date("\131\x6d\x64"), "\x63\162\x65\x61\x74\x65\x64\x5f\x61\x74" => time()))) { goto P0A_C; } goto kJIaN; naEq0: if (!($totals >= intval(self::$_setting["\x6c\151\x6d\x69\x74\157\x6e\x65"]))) { goto rKieZ; } goto qSkKA; ACSKj: goto Op3b3; goto FoblN; ZWi1I: $votenum = pdo_fetchcolumn("\x53\x45\x4c\x45\x43\124\40\52\x20\106\x52\x4f\x4d\40" . tablename($this->splittingtable("\x78\x69\x61\x6f\146\137\164\157\x75\x70\x69\x61\157\x5f\154\x6f\x67")) . "\40\x57\x48\105\122\105\40\140\x73\x69\x64\140\x20\75\40\72\x73\x69\144\x20\101\116\x44\x20\x60\160\x69\x64\140\40\75\40\x3a\x70\x69\144\x20\x41\116\104\x20\140\x6f\160\x65\x6e\x69\x64\140\40\x3d\40\72\x6f\x70\145\156\x69\144\x20\101\x4e\104\40\x60\x75\x6e\151\x71\x75\145\x5f\141\x74\140\x20\x3d\x20\72\165\x6e\x69\x71\x75\145\x5f\x61\x74\40\x41\x4e\x44\40\x60\164\171\160\145\x60\x20\x3d\x20\72\164\171\160\x65", array("\x3a\163\151\144" => $sid, "\x3a\160\151\144" => $item["\x69\x64"], "\x3a\x6f\x70\x65\156\x69\144" => $_W["\x6f\160\145\x6e\x69\144"], "\x3a\165\x6e\151\x71\165\x65\137\x61\164" => date("\131\x6d\144"), "\x3a\164\x79\160\x65" => 5)); goto ACSKj; hsyc9: VCgFc: goto KxAth; o4cON: if ($item["\144\x6f\x75\x62\154\x65\137\x61\164"] > time()) { goto YR9yn; } goto f3yH6; fGWhD: VNveN: goto yv2jc; lt020: if (!($item["\x76\x65\x72\x69\146\x79"] == 2)) { goto ABCHd; } goto vHFCI; jncrY: if (!(intval(self::$_setting["\157\x70\145\x6e\166\x69\x72\164\x75\x61\154\143\154\x69\x63\x6b"]) >= 1)) { goto BBZ0N; } goto MVr64; FoblN: XcdWq: goto NPdqO; Pwr2o: Jcr2g: goto DT8ly; LtMJb: goto da3J1; goto UADMO; GblrM: $message = self::$_setting["\x74\x69\x70\x73\154\x69\155\151\x74\x76\157\x74\x65\x6d\x65\163\163\141\x67\x65"]; goto EAWEk; V9eAf: ABCHd: goto k8zR5; sfRyN: xFYAJ: goto XbB7H; bVYfj: $rand = rand(1000, 9999); goto v5bmt; xXL0Q: $this->setProcess("\166\157\164\x65", 2, array("\x64\141\164\x61" => $votedata)); goto JcsFM; mL5Ca: zoTBq: goto f3R93; iHGHb: if (!($double >= 2 && time() >= strtotime(self::$_setting["\x64\x6f\x75\x62\154\145\x73\164\x61\x72\x74"]) && time() <= strtotime(self::$_setting["\144\157\165\x62\154\x65\x65\156\x64"]))) { goto cT3JY; } goto WbXo3; Pf6UB: $totals = pdo_fetchcolumn("\123\105\114\x45\103\x54\40\103\117\x55\x4e\x54\x28\52\51\x20\106\122\x4f\115\x20" . tablename($this->splittingtable("\170\x69\x61\157\146\x5f\x74\157\165\x70\x69\x61\157\x5f\x6c\157\147")) . "\x20\127\110\x45\122\x45\x20\x60\163\x69\x64\x60\x20\x3d\40\72\x73\x69\x64\40\101\116\x44\40\140\160\x69\144\140\40\x3d\x20\x3a\x70\151\x64\x20\x41\x4e\104\x20\x60\157\160\145\x6e\x69\144\x60\x20\x3d\x20\x3a\x6f\x70\x65\156\151\144", array("\x3a\x73\151\144" => $sid, "\72\x70\151\144" => $item["\151\x64"], "\72\x6f\160\x65\x6e\x69\144" => $_W["\157\x70\x65\x6e\151\x64"])); goto naEq0; qSkKA: return $this->respTexttips("\xe6\x9c\xac\346\254\xa1\346\xb4\273\345\x8a\250\346\234\x9f\xe9\x97\xb4\346\x82\250\345\xaf\271\xe9\200\211\xe6\x89\x8b\347\274\226\345\x8f\xb7" . $item["\165\x69\144"] . "\xe5\205\201\350\256\270\346\x9c\200\345\xa4\xa7" . self::$_setting["\170\151\x61\157\146\x76\157\x74\x65\x6b\145\171\x73"] . "\xe6\x95\xb0\350\xbe\276\345\210\xb0\344\xb8\212\351\231\x90\357\xbc\x8c\344\xb8\215\xe8\203\xbd\345\x86\x8d\347\273\247\xe7\273\255\xe7\273\231\x54\141" . self::$_setting["\x78\x69\141\x6f\x66\x76\157\164\145\x6b\145\x79\163"] . ''); goto pMA1A; PQIN8: if (!(time() <= strtotime(self::$_setting["\x6d\141\170\147\157\157\x64\164\151\x6d\145"]) && $item["\147\157\157\144"] >= self::$_setting["\x6d\141\170\x67\x6f\x6f\144\x6e\165\x6d"])) { goto eE1kn; } goto EYMVf; EAWEk: if (!(strpos($message, "\x7b\x75\x69\x64\x7d") !== false)) { goto w7yt1; } goto AbjWV; G8aC8: lq0Bn: goto OwuIb; sP06e: goto lq0Bn; goto SlrsQ; L2q5k: if (!($totals >= self::$_setting["\x6d\141\170\x76\157\164\145\156\165\x6d"])) { goto DB3QO; } goto JkgPu; pMA1A: rKieZ: goto O2ZPh; kJIaN: return $this->respTexttips("\351\x94\231\xe8\xaf\257\357\274\214\346\x97\xa5\xe5\277\x97\xe5\206\231\345\205\245\345\244\xb1\350\xb4\xa5\357\274\x81"); goto M4eLy; Gw5DO: return $this->respUsernews($item["\165\x69\x64"], $item["\156\141\155\145"], $item["\160\151\x63"], $item["\x69\144"], $num); goto WeaTa; uwXKh: $message = "\xe6\202\xa8\344\273\x8a\xe5\244\251\345\xb7\262\xe7\xbb\x8f\347\273\x99\347\274\x96\xe5\x8f\267" . $item["\165\151\144"] . '' . self::$_setting["\170\x69\x61\157\x66\166\x6f\164\145\153\145\x79\x73"] . "\344\272\x86\357\274\214\xe6\230\216\345\xa4\xa9\345\206\x8d\xe6\x9d\245\xe5\x90\xa7"; goto fD6CT; cp2YK: YR9yn: goto MacLa; MacLa: $num = $num * $item["\144\x6f\x75\x62\154\145\137\156\165\155"]; goto LMRBz; DJ7_h: cT3JY: goto o4cON; dmWWB: S1XNB: goto Y_uWj; NPdqO: $votenum = pdo_fetchcolumn("\123\x45\x4c\105\x43\x54\40\52\x20\106\x52\117\x4d\40" . tablename($this->splittingtable("\x78\x69\141\157\146\137\164\157\165\160\x69\x61\x6f\137\154\x6f\147")) . "\40\127\x48\x45\122\x45\x20\140\x73\151\144\x60\x20\x3d\x20\72\163\x69\144\40\x41\x4e\x44\x20\x60\160\x69\x64\x60\x20\75\x20\x3a\x70\x69\x64\40\x41\x4e\104\x20\140\x6f\x70\x65\x6e\x69\144\140\40\75\x20\x3a\157\160\x65\x6e\151\144\40\101\116\104\x20\140\x75\x6e\x69\161\165\145\x5f\x61\x74\x60\40\x3d\40\x3a\165\156\x69\x71\x75\x65\137\141\x74", array("\72\x73\x69\x64" => $sid, "\x3a\160\x69\144" => $item["\151\144"], "\x3a\x6f\160\x65\156\151\144" => $_W["\x6f\x70\x65\x6e\x69\x64"], "\72\x75\x6e\x69\x71\165\145\137\141\x74" => date("\x59\155\x64"))); goto FOsFx; M4eLy: P0A_C: goto YmBxP; KxAth: ae_FU: goto ujAcR; WIZfZ: if (intval(self::$_setting["\162\145\143\157\x72\x64\x76\x6e\x75\x6d"]) >= 1) { goto zoTBq; } goto e0Kkk; WU0q1: w7yt1: goto xqb6I; f3yH6: if (!empty($item["\x64\157\165\142\154\145\x5f\141\164"])) { goto IKES7; } goto bisRJ; f3R93: $totals = pdo_fetchcolumn("\123\105\114\105\x43\x54\40\103\117\125\116\124\x28\x2a\51\40\x46\x52\x4f\115\40" . tablename($this->splittingtable("\170\151\x61\x6f\x66\x5f\x74\157\x75\160\151\x61\x6f\x5f\x6c\x6f\x67")) . "\x20\167\150\x65\x72\x65\40\140\x73\x69\144\x60\40\x3d\x20\47" . $sid . "\x27\40\101\116\104\40\x60\x6f\x70\x65\156\x69\x64\x60\x20\75\40\47" . $_W["\157\x70\145\x6e\x69\144"] . "\x27"); goto VYzKe; xqb6I: VdN9q: goto Vi1D0; j9_Gy: if (!(intval(self::$_setting["\x6c\151\155\x69\x74\x76\157\164\x65"]) < 1)) { goto bYmAn; } goto gkfqp; ASgAD: pdo_update("\x78\x69\x61\x6f\146\137\164\x6f\x75\x70\151\x61\x6f", array("\x6c\x6f\143\153\151\x6e\x67" => "\x30", "\154\x6f\143\153\x69\156\x67\137\x61\x74" => "\x30"), array("\151\144" => $item["\151\144"])); goto zPUiT; jDOkN: if (!empty(self::$_setting["\164\151\160\163\154\151\155\151\x74\x76\157\164\145\155\145\163\163\141\x67\145"])) { goto p6e4E; } goto uwXKh; CDoTI: if ($doubleitem = pdo_fetch("\123\x45\114\x45\x43\x54\x20\52\x20\x46\x52\x4f\x4d\40" . tablename("\x78\151\141\x6f\x66\137\164\157\165\x70\151\141\x6f\x5f\144\x6f\x75\x62\154\145\x6c\x6f\147") . "\x20\x57\110\105\122\x45\40\x60\x73\151\x64\x60\75\72\x73\151\144\x20\101\x4e\x44\x20\140\x70\x69\144\140\75\72\160\151\144\40\x41\116\x44\40\140\144\x6f\165\x62\x6c\145\x5f\141\164\x60\x21\x3d\x27\60\47\x20\x4f\x52\x44\105\x52\40\102\x59\40\x60\x64\x6f\x75\142\154\x65\137\x6e\165\x6d\x60\x20\104\105\x53\103\x20\154\x69\155\x69\164\x20\61", array("\72\163\151\144" => $sid, "\x3a\x70\151\144" => $item["\151\x64"]))) { goto XfBM2; } goto by4Wg; wykT3: ycXNG: goto p2ZVK; adtol: p6e4E: goto GblrM; p2ZVK: return $this->respTexttips("\xe7\xb3\273\xe7\273\237\346\243\200\xe6\xb5\x8b\xe8\xaf\245\xe9\x80\x89\346\x89\213" . self::$_setting["\x78\x69\141\x6f\x66\x76\x6f\x74\x65\153\x65\x79\x73"] . "\xe6\225\xb0\xe6\x8d\256\345\274\x82\xe5\xb8\xb8\357\xbc\214\345\267\262\xe8\207\xaa\345\x8a\250\351\x94\x81\xe5\xae\232\357\xbc\x8c\xe4\xb8\215\xe5\x86\x8d\xe6\216\xa5\345\x8f\x97" . self::$_setting["\170\x69\141\x6f\x66\166\157\164\x65\153\x65\x79\163"] . "\343\x80\x82" . $release); goto hsyc9; x_aBF: $votedata = $xiaofprocess["\144\141\x74\x61"]; goto PSyRv; v5bmt: $votedata["\x72\x61\x6e\x64"] = $rand; goto xXL0Q; UTbR_: pdo_update("\170\x69\x61\x6f\x66\x5f\x74\157\x75\160\151\141\x6f", array("\144\157\165\x62\x6c\145\137\x61\x74" => $doubleitem["\x64\x6f\x75\x62\x6c\x65\137\x61\x74"] + time(), "\144\x6f\x75\x62\154\145\x5f\156\x75\155" => $doubleitem["\144\157\x75\x62\x6c\x65\x5f\x6e\x75\155"]), array("\151\x64" => $item["\x69\x64"])); goto nm1rc; PkDRX: kbg9p: goto qdlek; lavK9: return $this->respText("\xe7\263\273\347\xbb\x9f\xe6\xb2\241\xe6\x9c\211\xe6\x89\276\xe5\210\xb0\xe6\202\250\xe8\xa6\201" . self::$_setting["\x78\151\x61\157\x66\x76\x6f\x74\x65\153\x65\x79\163"] . "\xe7\x9a\x84\xe9\x80\x89\xe6\x89\x8b\347\274\226\xe5\x8f\267\343\200\x82\350\xaf\xb7\351\x87\x8d\346\226\xb0\xe8\xbe\x93\345\x85\xa5\xe3\200\202"); goto Pwr2o; LMRBz: goto V3LvJ; goto erud3; vmTQR: return $this->respTexttips("\350\257\xa5\xe9\x80\x89\xe6\x89\213\344\xbd\x9c\345\223\201\346\255\243\345\234\xa8\345\256\xa1\346\xa0\270\xef\274\214\xe6\x9a\202\344\xb8\x8d\xe6\x8e\245\345\x8f\x97" . self::$_setting["\170\x69\x61\157\x66\166\157\164\145\153\145\171\163"] . ''); goto fGWhD; AbjWV: $message = str_replace("\x7b\165\151\x64\x7d", $item["\x75\151\x64"], $message); goto WU0q1; DNxWk: glbTc: goto GQskx; eE2QU: $clicknum = $clicknum + $virtualclick; goto ZayBE; nm1rc: pdo_update("\x78\151\x61\157\x66\137\164\157\x75\160\151\x61\157\x5f\144\157\165\142\x6c\145\154\x6f\147", array("\144\x6f\x75\142\x6c\x65\x5f\x61\x74" => 0), array("\x69\x64" => $doubleitem["\x69\144"])); goto YTCtE; YmBxP: $clicknum = 1; goto jncrY; yv2jc: w0CWk: goto lt020; DT8ly: if (!(self::$_setting["\x76\x65\162\151\x66\x79"] == 1 && $item["\x76\x65\162\x69\x66\x79"] != 1)) { goto w0CWk; } goto ccR7y; ujAcR: if (!(intval(self::$_setting["\154\151\x6d\151\x74\x6f\156\145"]) >= 1)) { goto Ak6IV; } goto Pf6UB; Vi1D0: return $this->respTexttips($message); goto DNxWk; qdlek: $num = 1; goto JZ9cl; rBmL_: $release = "\350\247\xa3\351\224\x81\346\227\266\xe9\227\264\xef\274\232" . date("\x59\x2d\x6d\x2d\x64\x20\x48\72\151\x3a\x73", $item["\154\157\x63\x6b\151\156\x67\137\141\164"]) . "\343\x80\x82"; goto wykT3; HAOx8: if (!(intval(self::$_setting["\x6f\160\145\156\x63\162\145\x64\x69\x74"]) >= 1 && intval(self::$_setting["\x76\157\164\x65\143\162\x65\x64\151\164"]) >= 1)) { goto qoeUl; } goto CvYvm; bisRJ: goto V3LvJ; goto cp2YK; SlrsQ: XfBM2: goto UTbR_; N43i3: qoeUl: goto Gw5DO; ccR7y: if (!($item["\x76\145\162\151\x66\x79"] == 0)) { goto VNveN; } goto vmTQR; vHFCI: return $this->respTexttips("\xe8\257\xa5\xe9\200\x89\xe6\x89\x8b\xe4\xbd\234\345\x93\201\345\xae\xa1\xe6\240\270\346\x9c\252\xe9\x80\x9a\xe8\277\x87\357\274\x8c\xe4\xb8\215\xe6\216\245\xe5\217\x97" . self::$_setting["\170\151\141\x6f\x66\x76\157\x74\145\x6b\145\x79\x73"] . ''); goto V9eAf; CvYvm: $this->setCredit(self::$_setting["\166\157\x74\145\x63\162\x65\144\151\164"]); goto N43i3; UeHkr: goto uXqc5; goto mL5Ca; j7qu0: if (intval(self::$_setting["\x72\145\x63\x6f\162\x64\166\x6e\165\x6d"]) >= 1) { goto XcdWq; } goto ZWi1I; e0Kkk: $totals = pdo_fetchcolumn("\x53\105\x4c\x45\x43\x54\40\103\x4f\125\116\x54\x28\x2a\51\x20\x46\x52\117\x4d\40" . tablename($this->splittingtable("\x78\x69\x61\157\146\x5f\164\157\x75\x70\x69\141\x6f\x5f\x6c\x6f\147")) . "\x20\167\150\x65\x72\x65\40\140\163\x69\x64\140\x20\75\x20\x27" . $sid . "\47\40\x41\x4e\x44\x20\x60\157\160\x65\156\151\x64\140\x20\x3d\x20\x27" . $_W["\157\x70\x65\x6e\x69\x64"] . "\x27\x20\x41\x4e\x44\x20\140\164\x79\160\145\140\40\x3d\x20\x35\x20"); goto UeHkr; UADMO: } goto KNbJk; xBHrb: global $_W; goto FDK38; vgJcI: $xiaofprocess = $this->getProcess("\166\157\164\x65"); goto jU00H; KNbJk: g5G9r: goto kAm9_; o65Zp: } private function joinAction($content) { goto d_ca0; ZFj3h: nEOS7: goto htWlc; d_ca0: global $_W; goto XOpJa; XOpJa: $sid = self::$_setting["\151\x64"]; goto BvXjv; htWlc: Urtgd: goto hqh9_; CZuxK: switch ($xiaofprocess["\163\x74\145\x70"]) { case 1: goto jBfZf; lIWD7: Ru9BT: goto WIpG0; WMA83: $this->setProcess("\x6a\x6f\x69\156", 3, array("\144\141\164\141" => array("\156\x61\x6d\145" => $content, "\160\150\x6f\x6e\145" => ''))); goto CN0OK; hCAbM: return $this->respText("\350\xbe\x93\xe5\205\xa5\346\x89\213\346\234\xba\xe5\x8f\xb7\347\xa0\x81"); goto mEaXq; hnxUE: return $this->respText("\xe5\220\x8d\xe7\xa7\260\344\xb8\x8d\350\x83\275\344\xb8\272\xe7\xa9\xba\xef\274\201\xe4\xb8\x94\345\xa1\253\345\206\231\xe5\220\216\344\xb8\x8d\345\205\x81\350\256\xb8\xe4\277\xae\346\224\xb9\343\x80\202\xa\350\xaf\xb7\xe9\x87\x8d\346\226\xb0\xe8\276\x93\xe5\205\xa5"); goto DbFRE; WIpG0: $this->setProcess("\152\x6f\151\156", 2, array("\144\141\164\141" => array("\x6e\141\155\145" => $content))); goto hCAbM; CN0OK: return $this->respText("\350\257\267\xe5\x9b\236\345\244\215\xe4\xb8\212\344\xbc\xa0\xe5\x8f\202\350\xb5\x9b\347\232\204\347\x85\xa7\347\x89\x87"); goto LFf15; DbFRE: kjZhs: goto aWJO6; mEaXq: XGvWs: goto SYbio; LFf15: goto XGvWs; goto lIWD7; aWJO6: if (empty(self::$_setting["\152\x6f\151\x6e\160\150\x6f\x6e\145"])) { goto Ru9BT; } goto WMA83; SYbio: goto Urtgd; goto ua4oF; jBfZf: if (!($content == '')) { goto kjZhs; } goto hnxUE; ua4oF: case 2: goto gNSrR; Pq2Rw: goto Urtgd; goto V9dW0; Ncowy: WlIbh: goto t5ctW; nwyex: $this->setProcess("\152\x6f\x69\156", 3, array("\144\141\164\141" => $xiaofprocess["\144\x61\x74\141"])); goto o4ep9; t5ctW: if (!pdo_fetch("\123\x45\x4c\105\x43\124\40\52\40\106\122\x4f\115\40" . tablename("\170\x69\x61\157\x66\137\164\157\165\160\151\x61\157") . "\x20\127\110\105\122\105\40\140\x73\x69\x64\140\40\x3d\x20\72\163\x69\x64\x20\x41\x4e\x44\40\140\160\150\x6f\x6e\x65\140\x20\x3d\x20\72\160\150\x6f\x6e\x65", array("\x3a\x73\x69\144" => $sid, "\x3a\x70\150\157\x6e\145" => $content))) { goto o5CUd; } goto X2r0c; sVJKk: $xiaofprocess["\144\141\x74\x61"]["\160\150\x6f\x6e\145"] = $content; goto nwyex; X2r0c: return $this->respText("\xe9\x94\231\xe8\257\xaf\x2c\344\270\200\xe4\xb8\252\xe6\211\213\346\x9c\xba\345\x8f\xb7\345\x8f\252\xe8\x83\xbd\346\x8a\xa5\345\220\x8d\344\xb8\200\346\254\xa1\xe3\200\202\xa\350\xaf\267\xe9\x87\x8d\xe6\x96\260\350\276\x93\xe5\x85\xa5"); goto mM8_B; o4ep9: return $this->respText("\xe8\257\267\xe5\x9b\236\345\244\x8d\344\xb8\x8a\344\274\240\xe5\x8f\202\350\xb5\233\xe7\x9a\204\347\x85\xa7\347\211\207"); goto Pq2Rw; ybwoN: return $this->respText("\344\xb8\x8d\346\230\257\xe6\255\xa3\xe7\241\xae\347\x9a\204\346\x89\213\346\x9c\272\xe5\x8f\xb7\357\xbc\214\346\x89\213\xe6\234\272\xe5\217\267\345\241\253\345\206\231\345\x90\216\xe4\xb8\x8d\345\x85\x81\xe8\xae\270\xe4\277\xae\xe6\224\xb9\343\200\x82\xa\350\xaf\267\xe9\207\215\xe6\226\xb0\xe8\xbe\x93\xe5\x85\xa5"); goto Ncowy; mM8_B: o5CUd: goto sVJKk; gNSrR: if ($this->isMobile($content)) { goto WlIbh; } goto ybwoN; V9dW0: case 4: goto hWHhK; CyKSy: return $this->respText("\350\xb5\x84\xe6\x96\231\xe9\224\231\xe8\xaf\257\357\274\214\xe8\xaf\267\351\207\x8d\350\xaf\225\xe6\x88\x96\xe8\x81\224\xe7\xb3\xbb\xe6\210\221\xe4\273\254\xe3\x80\x82\xa\xe9\207\215\350\xaf\x95\350\257\xb7\xe5\233\236\xe5\xa4\215\345\220\215\347\xa7\xb0"); goto G0zE2; HO1wH: $insertsql["\x64\157\x75\x62\154\145\x5f\141\x74"] = strtotime("\x2b" . $newjoindouble . "\x20\155\151\x6e\x75\164\x65"); goto eu7sv; sZY_A: load()->classs("\x77\x65\x69\x78\x69\156\x2e\141\x63\x63\157\x75\x6e\164"); goto qhibh; dr3JU: dr0uf: goto Bfa3P; JbKvG: $thumb = $this->imageThumb(reset($xiaofprocess["\144\x61\164\x61"]["\x70\x69\x63\163"]), 240); goto v5R20; zHYaV: g4BFA: goto qscKA; Bfa3P: $insertsql["\x75\x69\x64"] = $maxuid + 1; goto LOLsp; aExME: pdo_query("\x55\x4e\114\117\103\113\40\124\x41\x42\114\x45\x53"); goto QWnGZ; LOLsp: pdo_insert("\x78\x69\141\x6f\x66\x5f\164\157\x75\x70\151\x61\157", $insertsql); goto o0QFi; eu7sv: $insertsql["\144\157\165\142\154\x65\x5f\156\165\x6d"] = 2; goto w68mu; qscKA: if (!(intval(self::$_setting["\x6f\x70\145\156\143\x72\x65\144\151\164"]) >= 1 && intval(self::$_setting["\x6a\x6f\151\x6e\x63\162\x65\x64\151\x74"]) >= 1)) { goto XEMB8; } goto NywDZ; KtQ82: $videourl = $accObj->downloadMedia($xiaofprocess["\x64\x61\x74\141"]["\x76\151\144\145\x6f\163"], true); goto C5SRu; tmh1I: XEMB8: goto ksDZY; w68mu: yVEb4: goto JXibM; C5SRu: if (is_error($videourl)) { goto z17Em; } goto cDyov; cN_pc: z17Em: goto kNTiP; PfRCJ: yqgka: goto cN_pc; s6sMM: goto Urtgd; goto t73c0; hWHhK: if (!(!isset($xiaofprocess["\x64\x61\164\141"]["\160\150\x6f\x6e\x65"]) or !isset($xiaofprocess["\x64\x61\x74\141"]["\156\141\x6d\x65"]) or !isset($xiaofprocess["\x64\x61\x74\x61"]["\160\151\x63\x73"]))) { goto GsQjA; } goto Z0Le5; r_bKW: if (!isset($xiaofprocess["\x64\x61\164\141"]["\166\x69\x64\145\x6f\163"])) { goto AmHso; } goto sZY_A; QWnGZ: foreach ($xiaofprocess["\x64\141\x74\141"]["\x70\151\143\x73"] as $k => $v) { goto ihHzp; ihHzp: $pic = $this->imageThumb($v); goto T33GZ; fIyky: z31PB: goto Hs7rS; T33GZ: pdo_insert("\x78\x69\141\x6f\x66\137\x74\x6f\165\x70\151\141\x6f\x5f\x70\151\143", array("\x73\151\x64" => $sid, "\160\151\x64" => $pid, "\x75\162\x6c" => $pic[0], "\164\x68\x75\x6d\142" => $pic[1], "\143\162\x65\141\164\145\x64\137\x61\x74" => time())); goto fIyky; Hs7rS: } goto zHYaV; XPN0R: $insertsql["\166\151\144\x65\157"] = $videos; goto PfRCJ; KX6Pv: $videos = $this->funcQiniuUpload($videourl, $this->module["\x63\x6f\x6e\146\x69\147"], "\155\x70\x34", "\141\166\x74\150\165\x6d\142\x2f\x6d\x70\x34\57\x73\x2f\63\66\x30\x78\x36\64\60\x2f\141\x75\164\157\x73\143\141\x6c\145\x2f\61\57\166\x62\x2f\x35\61\62\x6b\x2f\x74\x2f" . $videotime . "\57\162\157\164\141\x74\145\57\141\165\x74\x6f"); goto v4242; G0zE2: GsQjA: goto JbKvG; o0QFi: $pid = pdo_insertid(); goto aExME; Z0Le5: $this->setProcess("\x6a\x6f\151\x6e", 1); goto CyKSy; v4242: if (is_error($videos)) { goto yqgka; } goto XPN0R; qhibh: $accObj = WeiXinAccount::create($_W["\141\x63\143\x6f\165\x6e\x74"]["\x6a\x73\141\x75\164\150\x5f\x61\143\x69\144"]); goto KtQ82; ksDZY: return $this->respMynews($maxuid + 1, $thumb[1], $pid); goto s6sMM; naug8: $newjoindouble = intval(self::$_setting["\x6e\x65\x77\152\x6f\x69\156\144\157\x75\142\154\x65"]) * 60; goto HO1wH; NywDZ: $this->setCredit(self::$_setting["\152\x6f\x69\x6e\143\162\145\x64\x69\164"]); goto tmh1I; JXibM: pdo_query("\x4c\117\x43\x4b\x20\x54\x41\102\114\105\123\x20" . tablename("\x78\x69\141\157\146\x5f\164\x6f\165\160\151\x61\x6f") . "\40\x57\x52\x49\124\105"); goto pZD1r; kNTiP: AmHso: goto Ujpte; pZD1r: if ($maxuid = pdo_fetchcolumn("\123\x45\x4c\105\x43\x54\40\x4d\x41\x58\x28\165\x69\144\51\40\106\122\x4f\115\40" . tablename("\170\151\x61\x6f\146\137\164\157\x75\x70\151\x61\x6f") . "\40\x57\x48\x45\122\105\40\140\x73\151\x64\x60\x20\x3d\x20\72\x73\151\144\40\x6c\x69\x6d\x69\x74\x20\x31", array("\x3a\163\x69\144" => $sid))) { goto dr0uf; } goto lTMhz; lTMhz: $maxuid = 0; goto dr3JU; cDyov: $videotime = empty(self::$_setting["\x76\x69\144\145\157\x74\x69\155\145"]) ? 300 : self::$_setting["\166\151\x64\x65\157\164\151\155\x65"]; goto KX6Pv; v5R20: $insertsql = array("\163\151\144" => $sid, "\x69\x70" => sprintf("\x25\x75", ip2long(CLIENT_IP)), "\x6f\x70\145\156\x69\144" => $_W["\157\x70\145\x6e\151\144"], "\156\151\143\153\156\x61\155\x65" => $this->getUserinfo("\156\151\x63\153\156\x61\x6d\145"), "\141\166\141\x74\x61\162" => $this->getUserinfo("\x61\166\x61\x74\x61\x72"), "\160\151\143" => $thumb[1], "\160\x68\x6f\x6e\145" => $xiaofprocess["\144\141\164\x61"]["\160\x68\157\156\x65"], "\156\x61\155\x65" => $xiaofprocess["\144\x61\x74\141"]["\156\141\155\145"], "\143\x72\145\x61\x74\145\x64\x5f\141\x74" => time(), "\x75\x70\x64\141\164\x65\144\x5f\x61\164" => time()); goto r_bKW; Ujpte: if (empty(self::$_setting["\x6e\145\167\x6a\x6f\151\156\x64\157\x75\142\x6c\x65"])) { goto yVEb4; } goto naug8; t73c0: } goto ZFj3h; BvXjv: $xiaofprocess = $this->getProcess("\152\x6f\x69\x6e"); goto CZuxK; hqh9_: } public function respond() { goto S5iBu; q6p7n: pfLHJ: goto Vsysb; Z8jQV: return $this->respIndex(); goto x6uzW; UTv6N: return $this->respText("\xe6\x9c\252\345\xbc\200\345\x90\257\350\xa7\x86\xe9\xa2\x91\345\212\237\350\203\xbd\357\274\x8c\xe8\257\267\xe5\233\236\xe5\244\215\xe4\xbb\273\346\x84\x8f\346\226\x87\xe5\xad\x97\347\xa1\xae\xe5\xae\x9a\xe6\x8f\x90\xe4\xba\xa4\xe6\x8a\245\xe5\220\x8d"); goto HwjUn; JmN0W: mfl9H: goto NvNFE; CtlR2: goto pJfVB; goto XPU6N; CTMjt: return $this->respText("\346\x9c\200\xe5\xa4\x9a\345\205\201\xe8\256\xb8" . $limitpic . "\345\xbc\xa0\357\274\214\345\260\206\345\x8f\252\344\xbd\277\347\x94\xa8\xe5\211\x8d" . $limitpic . "\345\xbc\240\343\200\x82\350\xaf\xb7\xe5\233\236\xe5\xa4\215\344\xb8\x8a\xe4\xbc\xa0\350\247\x86\351\xa2\x91\346\x96\207\xe4\xbb\xb6"); goto JmN0W; jqOY2: $this->setProcess("\152\x6f\151\156", 4, array("\x64\141\x74\141" => $xiaofprocess["\144\x61\x74\x61"])); goto kJUEw; yuQBr: gNKQB: goto tPnos; HcKnf: wIjy1: goto kjwMX; NvNFE: $xiaofprocess["\144\141\164\x61"]["\160\x69\143\x73"][] = $this->message["\x70\151\x63\x75\x72\154"]; goto jqOY2; gg4KX: switch ($ruleitem["\x61\x63\164\x69\157\x6e"]) { case "\64": return $this->respJoin(); goto GGdrE; case "\x30": return $this->respIndex(); goto GGdrE; case "\x31": goto PHIi1; QkHYC: goto GGdrE; goto IYhc3; QulAo: return $this->respTexttips("\xe6\264\273\xe5\x8a\xa8\346\x8a\xa5\xe5\220\x8d\346\x9c\252\xe5\xbc\x80\xe5\xa7\x8b\xef\xbc\214\350\xaf\267\xe5\274\x80\345\xa7\213\345\220\216\xe5\x86\x8d\346\x8a\xa5\xe5\220\215\357\274\214\xe5\274\200\345\247\213\346\227\266\xe9\x97\xb4" . self::$_setting["\152\157\151\156\x73\x74\141\x72\164"]); goto ZzZUi; not7r: if (!(time() >= strtotime(self::$_setting["\152\x6f\x69\x6e\x65\156\144"]))) { goto L3x_t; } goto rYNwj; B84JZ: if (!(time() <= strtotime(self::$_setting["\x6a\157\x69\x6e\x73\x74\x61\162\x74"]))) { goto xNW2P; } goto QulAo; yFMYV: kZwkN: goto B84JZ; rYNwj: return $this->respTexttips("\xe6\xb4\xbb\345\212\xa8\xe5\xb7\262\347\273\223\xe6\235\237\357\274\214\346\225\xac\xe8\xaf\xb7\xe6\234\x9f\xe5\276\205\xe4\xb8\213\xe6\254\241\xe6\xb4\273\xe5\x8a\250"); goto vRO72; vRO72: L3x_t: goto CcftI; wS3wi: $joinname = empty(self::$_setting["\152\157\151\156\156\141\155\x65"]) ? "\xe5\220\215\xe7\xa7\260" : self::$_setting["\152\157\x69\156\156\x61\155\x65"]; goto UqwtK; UqwtK: $str = "\xe6\x8a\245\345\x90\215\xe8\xaf\xb7\345\x9b\x9e\345\244\215\357\xbc\232\xe6\x82\xa8\347\232\x84" . $joinname; goto Pa820; ZzZUi: xNW2P: goto not7r; Q438x: GXvPx: goto wS3wi; OC3bO: $this->beginContext(); goto Q438x; vPQgS: return $this->respUsers("\xe6\202\xa8\xe5\xb7\262\xe5\217\x82\344\270\216\xe6\234\254\346\254\241\xe6\xb4\xbb\xe5\212\250\357\274\201\345\220\x8d\347\xa7\xb0\357\274\232" . $pitem["\x6e\141\x6d\x65"] . "\357\274\214\347\xbc\x96\345\217\267\357\xbc\x9a" . $pitem["\x75\x69\x64"], $pitem["\160\151\143"], $pitem["\x69\144"]); goto yFMYV; Pa820: $this->setProcess("\152\157\x69\156", 1); goto QkHYC; CcftI: if ($this->inContext) { goto GXvPx; } goto OC3bO; PHIi1: if (!($pitem = pdo_fetch("\x53\105\114\x45\103\124\x20\x2a\40\x46\x52\117\115\x20" . tablename("\170\x69\x61\x6f\146\x5f\x74\x6f\165\x70\x69\x61\157") . "\40\x57\110\105\x52\x45\40\140\x73\151\x64\x60\x20\x3d\x20\x3a\x73\x69\x64\40\101\x4e\x44\40\x60\x6f\160\x65\156\x69\x64\140\40\x3d\40\x3a\157\160\x65\156\x69\x64", array("\x3a\x73\151\144" => self::$_setting["\151\x64"], "\72\157\160\x65\156\151\x64" => $_W["\157\160\x65\x6e\x69\144"])))) { goto kZwkN; } goto vPQgS; IYhc3: case "\x32": goto cFamN; cFamN: if (!($retult = $this->voteCheck())) { goto dE38e; } goto bmrRx; Z0seZ: $this->setProcess("\x76\157\164\x65", 1); goto EDXNB; bmrRx: return $retult; goto OpX6o; RUXKc: $str = '' . self::$_setting["\x78\x69\141\157\146\166\157\164\x65\x6b\145\171\163"] . "\xe8\xaf\267\345\233\x9e\xe5\244\x8d\357\xbc\232\xe9\x80\211\xe6\211\213\347\274\226\xe5\x8f\xb7"; goto Z0seZ; EDXNB: goto GGdrE; goto FzJa9; OpX6o: dE38e: goto RUXKc; FzJa9: case "\x33": goto QoPUn; BEPKd: return $this->voteAction($match[1]); goto TSxBK; QoPUn: if (!($retult = $this->voteCheck())) { goto IL2HR; } goto IrkAZ; NwgQv: preg_match("\x23\x28\134\144\x2a\x29\44\43\x69\125\x73", $content, $match); goto BEPKd; g66mr: $this->setProcess("\x76\x6f\164\x65", 1); goto NwgQv; HdvAu: IL2HR: goto g66mr; TSxBK: goto GGdrE; goto r6xYx; IrkAZ: return $retult; goto HdvAu; r6xYx: default: return $this->respIndex(); goto GGdrE; } goto YB0_K; juJgt: $this->getUserinfo(); goto h3Thz; ibavB: aA4Di: goto NFfXV; JijR1: tSP2F: goto q0gpA; wNncl: dO5yw: goto yuQBr; muMIM: nAZh0: goto AAUAQ; S5iBu: global $_W; goto gxk9N; MJXfL: if ($this->message["\x74\171\x70\x65"] == "\x69\x6d\x61\x67\x65" && isset($_SESSION["\170\151\141\x6f\x66\x70\162\x6f\143\x65\x73\x73"])) { goto rczn0; } goto X31Nf; XPU6N: rczn0: goto RAQlt; TFQyc: s2F66: goto Z8jQV; xEbVv: return $this->voteAction($content); goto gyhoe; kJUEw: if ($picsums == $limitpic) { goto NVuI7; } goto nOpPl; AAUAQ: $ruleitem = $this->getRuleitem($content); goto YLGp2; aVPYS: if (!($picsums > $limitpic)) { goto mfl9H; } goto CTMjt; QuqsY: $content = $this->message["\145\x76\145\156\164\x6b\145\x79"]; goto GD2fp; WszR_: $this->clearSession(false); goto Y5s_A; x6uzW: goto yMdVF; goto TkQYh; Y5s_A: $_SESSION["\x78\151\141\x6f\x66\x61\x63\x74\151\x6f\156"] = $this->rule; goto ibavB; YO2sn: if ($this->message["\145\166\145\x6e\x74"] == "\123\103\x41\x4e" or $this->message["\145\166\x65\x6e\x74"] == "\163\165\142\x73\143\162\x69\x62\145") { goto qoDCp; } goto QuqsY; UIsSB: $limitpic = empty(self::$_setting["\154\x69\x6d\x69\164\x70\151\143"]) ? 5 : self::$_setting["\x6c\x69\x6d\x69\x74\160\x69\143"]; goto aVPYS; mEBIR: NVuI7: goto qNmnt; pmW32: $sid = intval($_SESSION["\170\151\x61\157\x66\163\x69\x64"]); goto zyJn2; b9F8E: $this->initSetting($sid); goto NWwWk; YQiZh: HMdj_: goto xEbVv; OWMYD: $content = pdo_fetchcolumn("\x53\x45\114\105\103\x54\x20\140\153\145\171\167\x6f\x72\144\x60\x20\x46\122\x4f\115\x20" . tablename("\x71\162\143\x6f\144\145") . "\x20\127\110\105\x52\x45\x20{$scene_condition}\40\101\116\x44\x20\140\165\156\151\x61\143\x69\144\140\40\75\40\47{$_W["\x75\x6e\151\x61\x63\x69\x64"]}\x27\x20\154\x69\x6d\x69\x74\x20\61"); goto wt5Et; LbENb: if (!empty(self::$_setting["\157\x70\x65\156\166\x69\144\145\x6f"])) { goto ndrXk; } goto DiB9R; xL8O7: return $this->respText("\xe7\xbc\x93\345\255\x98\xe5\267\262\xe6\xb8\205\351\x99\xa4"); goto S3mmG; Kik9D: $xiaofprocess["\144\x61\164\x61"]["\166\151\x64\145\157\163"] = $this->message["\155\x65\x64\151\x61\151\x64"]; goto zGMy3; AFuiD: if (!(isset($xiaofprocess["\163\164\145\x70"]) && ($xiaofprocess["\x73\x74\x65\160"] == 3 or $xiaofprocess["\x73\164\145\160"] == 4))) { goto mLhMJ; } goto REI3_; gyhoe: goto wIjy1; goto nNr0C; GD2fp: goto z1IhN; goto pGMg5; X31Nf: if ($this->message["\164\171\x70\x65"] == "\166\x69\144\145\x6f" && isset($_SESSION["\170\x69\141\x6f\x66\160\162\157\143\145\x73\163"])) { goto SHgEW; } goto nJhr3; QtF7w: $scene_condition = "\x20\140\164\x69\143\153\x65\x74\x60\40\75\x20\47" . $this->message["\164\151\143\x6b\x65\x74"] . "\47"; goto OWMYD; TkQYh: pCWsd: goto Mldbj; NWwWk: $picnums = count($xiaofprocess["\x64\x61\x74\141"]["\x70\x69\x63\x73"]); goto v0V0a; gYI_Z: return $this->respText("\346\x9c\200\345\xa4\232\345\205\x81\350\xae\270" . $limitpic . "\xe5\xbc\xa0\xef\274\x8c\345\275\223\345\x89\x8d\xe4\xb8\212\344\274\xa0\344\xba\206" . $picsums . "\345\xbc\240\xef\xbc\214\346\202\250\xe5\x8f\xaf\xe4\273\xa5\347\xbb\247\xe7\273\255\344\270\x8a\344\274\240\xef\274\214\xe6\210\x96\xe5\233\x9e\xe5\xa4\215\xe4\xb8\212\344\xbc\240\350\xa7\x86\xe9\242\x91\346\x96\x87\xe4\xbb\xb6"); goto PpsqZ; vVHlS: d0BKf: goto gYI_Z; jWmUC: return $this->respIndex(self::$_setting["\x72\145\x70\x6c\171\x74\151\164\154\145"], self::$_setting["\162\x65\160\x6c\171\x63\x6f\156\164\x65\156\164"], self::$_setting["\x72\x65\160\x6c\x79\164\150\x75\155\x62"]); goto z_IvC; BfZ8O: $this->initSetting($ruleitem["\163\151\x64"]); goto juJgt; qNmnt: if (!empty(self::$_setting["\157\160\145\x6e\166\151\x64\145\x6f"])) { goto pfLHJ; } goto Yvrzr; REI3_: $sid = intval($_SESSION["\170\x69\141\x6f\x66\x73\151\x64"]); goto b9F8E; h3Thz: if (!empty($_SESSION["\170\x69\141\157\146\160\162\157\x63\x65\x73\x73"])) { goto pCWsd; } goto X3GJO; tYG_4: return $this->respText("\346\234\x80\345\xa4\232\xe5\205\201\xe8\xae\270" . $limitpic . "\xe5\274\240\xef\xbc\214\xe5\275\x93\345\211\215\344\270\x8a\xe4\xbc\240\344\xba\206" . $picsums . "\345\274\240\357\274\x8c\xe6\x82\xa8\xe5\x8f\xaf\xe4\xbb\245\xe7\273\xa7\347\xbb\255\344\xb8\x8a\xe4\xbc\240\xef\274\x8c\xe6\x88\x96\345\x9b\x9e\xe5\244\215\xe4\xbb\273\xe6\x84\217\xe6\226\x87\xe5\xad\x97\xe7\241\256\345\xae\232\346\217\220\344\xba\244\xe6\x8a\245\345\x90\x8d"); goto U3LFe; Yvrzr: return $this->respText("\xe8\xaf\267\xe5\x9b\x9e\xe5\xa4\x8d\xe4\xbb\xbb\xe6\x84\217\xe6\226\x87\xe5\xad\x97\xe7\241\256\345\256\x9a\xe6\x8a\245\xe5\220\215"); goto kCc9h; zGMy3: $this->setProcess("\x6a\157\x69\x6e", 4, array("\x64\141\x74\x61" => $xiaofprocess["\x64\141\164\x61"])); goto kdXqJ; nOpPl: if (!empty(self::$_setting["\x6f\x70\x65\156\166\151\x64\x65\157"])) { goto d0BKf; } goto tYG_4; HwjUn: goto iL8Ng; goto QKZVL; S3mmG: plu61: goto BfZ8O; lBp1A: goto pJfVB; goto uuKT8; X3GJO: if (!($_SESSION["\170\x69\141\157\x66\x61\x63\164\151\x6f\x6e"] != $this->rule)) { goto aA4Di; } goto WszR_; z_IvC: goto wIjy1; goto YQiZh; Qd2dI: goto gNKQB; goto mEBIR; ydc0L: iL8Ng: goto JijR1; wt5Et: z1IhN: goto muMIM; fzeJc: $xiaofprocess = $this->getProcess("\152\x6f\151\156"); goto KBUf6; nNr0C: IsPPk: goto ymldk; LGR0I: if (empty($this->message["\145\166\145\156\164\153\x65\x79"])) { goto nAZh0; } goto YO2sn; d108G: $this->clearSession(); goto xL8O7; RAQlt: $xiaofprocess = $this->getProcess("\152\157\x69\156"); goto AFuiD; ymldk: return $this->joinAction($content); goto HcKnf; kjwMX: yMdVF: goto CtlR2; PpsqZ: Za2kA: goto Qd2dI; NFfXV: if (!isset($ruleitem["\x61\x63\164\x69\157\x6e"])) { goto s2F66; } goto gg4KX; zyJn2: $this->initSetting($sid); goto LbENb; YLGp2: if (!($content == "\xe9\x80\x80\345\x87\272" or $content == "\161\x75\x69\164")) { goto plu61; } goto d108G; tPnos: mLhMJ: goto lBp1A; Mldbj: $xiaofprocess = iunserializer($_SESSION["\170\x69\x61\x6f\146\160\162\157\143\x65\x73\163"]); goto p8Ndj; kCc9h: goto dO5yw; goto q6p7n; DiB9R: $this->setProcess("\x6a\x6f\x69\x6e", 4); goto UTv6N; F0lHH: eC8TX: goto hUFQ0; KBUf6: if (!(isset($xiaofprocess["\x73\x74\145\160"]) && ($xiaofprocess["\163\164\145\160"] == 3 or $xiaofprocess["\163\x74\x65\160"] == 4))) { goto tSP2F; } goto pmW32; p8Ndj: if (isset($xiaofprocess["\x76\157\x74\x65"])) { goto HMdj_; } goto sjDWs; v0V0a: $picsums = $picnums + 1; goto UIsSB; YB0_K: NKgqb: goto Mx3rl; sjDWs: if (isset($xiaofprocess["\x6a\157\151\x6e"])) { goto IsPPk; } goto jWmUC; q0gpA: pJfVB: goto NdW9b; kdXqJ: return $this->respText("\xe8\257\267\xe5\233\236\xe5\244\215\xe4\273\xbb\346\204\217\346\226\x87\345\255\x97\347\241\xae\345\256\232\346\x8f\x90\xe4\xba\xa4\346\x8a\xa5\345\220\x8d"); goto ydc0L; QKZVL: ndrXk: goto Kik9D; Vsysb: return $this->respText("\350\xaf\xb7\345\x9b\x9e\xe5\xa4\215\xe4\xb8\212\344\274\240\xe8\xa7\206\351\242\221\xe6\x96\207\xe4\xbb\xb6"); goto wNncl; Mx3rl: GGdrE: goto LMk_7; hUFQ0: $content = $this->message["\x63\x6f\156\164\x65\156\x74"]; goto LGR0I; nJhr3: goto pJfVB; goto F0lHH; uuKT8: SHgEW: goto fzeJc; pGMg5: qoDCp: goto QtF7w; U3LFe: goto Za2kA; goto vVHlS; gxk9N: if ($this->message["\x74\171\x70\145"] == "\161\x72" || $this->message["\164\x79\160\x65"] == "\164\145\x78\x74") { goto eC8TX; } goto MJXfL; LMk_7: return $this->respText($str); goto TFQyc; NdW9b: } private function imageThumb($picurl, $width = 500) { goto RxPnl; i98lo: CSrYE: goto jo1xp; t0cNI: $fileinfo = pathinfo($imgpath); goto PZ75k; PZ75k: $newfilebak = $newfile = $fileinfo["\x64\151\162\156\x61\155\x65"] . "\57" . $fileinfo["\146\x69\x6c\x65\x6e\141\x6d\x65"] . "\x2d" . $width . "\x2e" . $fileinfo["\145\170\x74\x65\x6e\x73\x69\157\x6e"]; goto nS4Oa; jo1xp: CB3N9: goto W3oRn; o0jQY: if (empty($_W["\163\x65\x74\x74\151\156\x67"]["\162\x65\x6d\157\x74\145"]["\x74\171\160\145"])) { goto CB3N9; } goto MgsWp; nS4Oa: file_image_thumb(ATTACHMENT_ROOT . "\x2f" . $imgpath, IA_ROOT . "\x2f\141\x74\164\x61\143\x68\x6d\145\x6e\164\57" . $newfile, $width); goto o0jQY; PqW5X: if (!is_error($remotestatus)) { goto CSrYE; } goto cGlPN; W3oRn: return array($imgpath, $newfile); goto enmfY; cGlPN: return array($imgpath, $newfilebak); goto i98lo; MgsWp: $remotestatus = file_remote_upload($newfile); goto PqW5X; kd_mz: $imgrow = ihttp_get($picurl); goto JRij3; JRij3: file_put_contents(ATTACHMENT_ROOT . "\57" . $imgpath, $imgrow["\143\157\156\x74\x65\x6e\164"]); goto t0cNI; FuXLI: $imgpath = $this->_mkdirImgPath(); goto kd_mz; RxPnl: global $_W; goto FuXLI; enmfY: } private function _mkdirImgPath() { goto hrT6v; K1Mir: $_W["\165\x70\154\x6f\x61\x64\x73\145\164\x74\151\x6e\x67"]["\151\155\141\147\145"]["\154\151\155\x69\164"] = $_W["\x63\157\156\146\x69\147"]["\x75\160\x6c\x6f\x61\x64"]["\x69\155\x61\x67\145"]["\x6c\x69\155\151\x74"]; goto WlLqO; WlLqO: $uploadsetting = $_W["\x75\160\x6c\157\141\x64\163\x65\164\164\151\156\x67"]; goto RRmu8; vz1Jx: return $imgpath; goto oi80l; YADdq: mkdirs(ATTACHMENT_ROOT . "\x2f" . $imgpath); goto HbkYp; hrT6v: global $_W; goto HhLXW; B0G_v: load()->func("\x66\x69\154\x65"); goto iCyk4; PpdYC: $imgpath .= $filename; goto vz1Jx; iCyk4: $_W["\x75\160\x6c\157\141\x64\163\x65\164\x74\x69\156\147"] = array(); goto fpgD9; C9NLa: $filename = random(30) . "\x2e\x6a\160\147"; goto E42Ms; HhLXW: $type = "\x69\155\141\147\x65"; goto B0G_v; OZhV9: AYykN: goto PpdYC; RRmu8: $result = array(); goto qbdau; fpgD9: $_W["\x75\160\x6c\157\x61\x64\x73\145\x74\164\x69\x6e\147"]["\x69\155\141\x67\145"]["\x66\157\x6c\144\x65\162"] = "\151\155\x61\147\145\x73\57" . $_W["\x75\156\x69\x61\x63\151\144"]; goto Rxhh0; E42Ms: if (file_exists(ATTACHMENT_ROOT . "\x2f" . $imgpath . $filename)) { goto F1BAl; } goto OZhV9; HbkYp: F1BAl: goto C9NLa; qbdau: $imgpath = "{$uploadsetting[$type]["\x66\x6f\x6c\x64\x65\x72"]}\57" . date("\x59\x2f\x6d\57"); goto YADdq; Rxhh0: $_W["\x75\x70\x6c\x6f\141\x64\x73\145\164\x74\151\156\147"]["\x69\155\141\147\145"]["\145\x78\x74\x65\156\164\x69\157\156\163"] = $_W["\x63\157\156\146\x69\147"]["\165\160\x6c\157\x61\144"]["\x69\155\141\147\145"]["\x65\170\164\145\x6e\164\x69\157\156\163"]; goto K1Mir; oi80l: } private function isMobile($mobile) { goto kpfAg; px7YM: return preg_match("\x23\x5e\x31\x33\133\x5c\144\x5d\x7b\71\x7d\44\174\136\x31\64\133\65\54\x37\135\x7b\x31\x7d\x5c\x64\x7b\x38\x7d\44\x7c\136\61\65\133\x5e\x34\x5d\x7b\x31\x7d\134\x64\173\x38\175\44\174\136\61\x37\133\x30\x2c\x36\x2c\x37\54\70\135\173\x31\x7d\x5c\144\x7b\x38\175\x24\174\136\x31\x38\x5b\x5c\144\135\173\71\175\44\43", $mobile) ? true : false; goto RVCfj; TWpsm: pMRzQ: goto px7YM; kpfAg: if (is_numeric($mobile)) { goto pMRzQ; } goto KPNS7; KPNS7: return false; goto TWpsm; RVCfj: } private function clearSession($endcontext = true) { goto p27vT; Hmxvf: $this->endContext(); goto fqci2; B_SXg: unset($_SESSION["\x78\x69\141\157\146\141\x63\164\151\x6f\156"]); goto Rks0D; fqci2: GDWCX: goto DCDjh; p27vT: unset($_SESSION["\x78\x69\x61\x6f\x66\160\162\157\143\x65\163\163"]); goto B_SXg; Rks0D: if (!($endcontext && $this->inContext)) { goto GDWCX; } goto Hmxvf; DCDjh: } private function getUserinfo($key = null) { goto SZpvC; KxUl0: if ($relationitems = pdo_fetch("\x53\105\114\x45\x43\x54\x20\x2a\x20\x46\x52\x4f\115\40" . tablename($this->splittingtable("\x78\x69\141\x6f\x66\x5f\162\x65\x6c\x61\x74\151\157\x6e")) . "\x20\127\x48\x45\122\105\x20\x60\165\x6e\x69\141\143\151\144\140\x20\75\x20\x3a\x75\x6e\151\141\x63\x69\144\40\101\116\x44\40\140\157\141\x75\164\x68\137\165\156\151\141\x63\x69\x64\140\x20\75\40\x3a\157\x61\x75\x74\150\137\x75\156\x69\141\x63\151\144\40\101\116\x44\40\140\157\x70\145\x6e\151\144\x60\40\75\x20\72\x6f\160\145\x6e\x69\144\40\x6c\x69\155\151\x74\x20\61", array("\x3a\165\x6e\151\x61\143\151\x64" => $_W["\165\156\151\x61\x63\x69\x64"], "\x3a\157\x61\x75\164\x68\x5f\x75\x6e\x69\x61\x63\x69\144" => $oauthacid, "\72\157\x70\145\x6e\151\x64" => $_W["\157\160\x65\x6e\151\144"]))) { goto kD59U; } goto WZsJg; pEPmZ: $accObj = WeixinAccount::create($_W["\x61\143\151\x64"]); goto K4ALK; n9StJ: oQNN0: goto F1zk9; mNMul: return $userinfo[$key]; goto wZ6xm; K4ALK: $access_token = $accObj->fetch_token(); goto BAypH; c9msZ: isset($data["\x6e\151\143\x6b\x6e\x61\155\145"]) && ($row["\x6e\x69\x63\x6b\156\141\x6d\x65"] = stripcslashes($data["\156\151\143\153\x6e\x61\x6d\x65"])); goto EshiI; t0mv5: if (!(isset($_SESSION[$sessionname]) && is_serialized($_SESSION[$sessionname]))) { goto r6WTJ; } goto A_1No; TR4_r: $response = ihttp_get($url); goto nZxOZ; h8P2Z: $oauthacid = $_W["\x75\x6e\x69\x61\143\151\x64"]; goto kPZri; Ojpr9: return false; goto gVFpR; EnjNO: $sql["\157\x61\x75\164\150\137\165\156\151\x61\143\151\144"] = $oauthacid; goto tPZ4_; ahqql: return $userinfo; goto wcs1F; RJ_Ku: kPDbz: goto xdgy8; kBDgG: if (!empty($unisetting["\141\x63\143\x6f\165\156\164"])) { goto gV3S7; } goto tBtgy; PPY3E: $sessionname = "\x78\151\141\x6f\146\165\x73\x65\162\x69\156\x66\x6f\55" . $oauthacid . self::$_setting["\x69\144"]; goto t0mv5; VvqZd: r6WTJ: goto a_UXB; SZpvC: global $_W; goto r329a; jn60I: return is_null($key) ? $row : $row[$key]; goto Xtku4; okmGd: goto WT3Hq; goto F2DLg; wcs1F: goto WT3Hq; goto txsIH; kPZri: dnM0v: goto PPY3E; r329a: $unisetting = pdo_fetch("\x53\105\114\x45\x43\124\x20\x2a\40\106\x52\x4f\115\40" . tablename("\x75\x6e\x69\137\x73\145\164\164\x69\156\x67\163") . "\40\127\110\105\122\105\40\x60\x75\x6e\151\141\143\x69\x64\140\x20\75\x20\72\x75\156\151\x61\x63\x69\144\x20\154\x69\155\151\164\40\61", array("\x3a\165\x6e\x69\x61\143\x69\144" => $_W["\165\x6e\x69\x61\x63\x69\144"])); goto VZIKl; JZQuh: gV3S7: goto J3KVT; nZxOZ: $data = @json_decode($response["\143\157\x6e\x74\x65\x6e\x74"], true); goto iZG3t; a_UXB: $row = array(); goto KxUl0; X4biV: kD59U: goto r4a1p; EZPGC: isset($data["\x75\156\151\x6f\x6e\151\144"]) && ($row["\x75\156\x69\x6f\156\x69\144"] = $data["\x75\156\x69\157\156\151\144"]); goto RJ_Ku; WEIRd: if (isset($userinfo[$key])) { goto qyKSg; } goto okmGd; J3KVT: $oauthacid = $unisetting["\141\143\143\157\x75\156\x74"]; goto pEC30; VZIKl: $unisetting = iunserializer($unisetting["\157\x61\x75\164\x68"]); goto kBDgG; W4z9R: pdo_insert($this->splittingtable("\x78\151\141\157\146\x5f\x72\x65\154\x61\x74\x69\x6f\156"), $sql); goto fzBWH; F1zk9: znlkZ: goto gqfr9; HC2oi: $row["\x61\x76\141\x74\x61\x72"] = $relationitems["\141\166\x61\164\141\162"]; goto FhoKf; tBtgy: if ($_W["\x61\143\143\157\x75\156\x74"]["\x6c\145\x76\x65\x6c"] == 4) { goto E5jty; } goto Ojpr9; gVFpR: goto dnM0v; goto JZQuh; tPZ4_: $sql["\x66\x6f\x6c\x6c\157\167"] = 1; goto W4z9R; pEC30: goto dnM0v; goto ZmXMg; A_1No: $userinfo = iunserializer($_SESSION[$sessionname]); goto pgFxY; nNe6y: if (is_null($key)) { goto vdxN1; } goto WEIRd; txsIH: qyKSg: goto mNMul; pgFxY: if (empty($userinfo["\157\x70\x65\156\151\x64"])) { goto CF2v6; } goto nNe6y; Vz6Mj: $sql = $row; goto MQ9l_; gqfr9: $_SESSION[$sessionname] = iserializer($row); goto jn60I; FTZaX: if (!($_W["\141\143\143\x6f\165\156\164"]["\x6c\145\x76\145\x6c"] >= 2)) { goto kPDbz; } goto mtAhi; EshiI: isset($data["\x68\145\141\144\x69\x6d\147\165\162\x6c"]) && ($row["\141\x76\x61\x74\x61\x72"] = stripcslashes($data["\x68\x65\x61\144\151\155\147\165\162\x6c"])); goto EZPGC; mtAhi: load()->func("\x63\x6f\x6d\155\x75\156\151\x63\x61\x74\151\x6f\156"); goto pEPmZ; iZG3t: CBhtn: goto c9msZ; r4a1p: $row["\x72\151\144"] = $relationitems["\x69\x64"]; goto feX0B; FhoKf: $row["\165\156\151\157\156\x69\x64"] = $relationitems["\x75\156\151\x6f\x6e\x69\x64"]; goto PqsF9; Sj3U4: goto znlkZ; goto X4biV; F2DLg: vdxN1: goto ahqql; Nntp1: $row["\156\151\x63\x6b\156\141\x6d\145"] = $relationitems["\156\x69\143\x6b\156\x61\155\x65"]; goto HC2oi; Pd2YZ: $url = "\150\164\x74\160\x73\x3a\x2f\x2f\141\160\151\x2e\x77\x65\151\170\x69\x6e\56\161\x71\56\143\157\x6d\57\143\147\151\55\142\151\156\x2f\x75\x73\145\162\57\x69\x6e\146\157\x3f\141\143\143\145\163\x73\137\x74\x6f\153\x65\x6e\75" . $access_token . "\46\x6f\x70\x65\x6e\x69\x64\x3d" . $_W["\157\x70\x65\x6e\151\x64"] . "\x26\154\x61\x6e\x67\x3d\172\x68\137\x43\x4e"; goto TR4_r; fzBWH: $row["\x72\x69\x64"] = pdo_insertid(); goto Sj3U4; ZmXMg: E5jty: goto h8P2Z; MQ9l_: $sql["\x75\156\x69\x61\x63\x69\144"] = $_W["\165\156\x69\x61\x63\x69\144"]; goto EnjNO; wZ6xm: WT3Hq: goto ce7Rh; BAypH: if (is_null($access_token)) { goto CBhtn; } goto Pd2YZ; PqsF9: if (!($relationitems["\x66\x6f\154\x6c\x6f\167"] != 1)) { goto oQNN0; } goto rkv7O; rkv7O: pdo_update($this->splittingtable("\x78\151\141\157\x66\137\162\145\x6c\x61\164\x69\x6f\x6e"), array("\x66\x6f\154\x6c\x6f\167" => 1), array("\x69\x64" => $relationitems["\x69\x64"])); goto n9StJ; feX0B: $row["\x6f\160\145\156\x69\144"] = $relationitems["\157\160\145\156\x69\x64"]; goto Nntp1; ce7Rh: CF2v6: goto VvqZd; WZsJg: $row = array("\x6e\151\x63\x6b\x6e\x61\x6d\145" => '', "\141\166\x61\x74\x61\x72" => '', "\165\156\x69\157\x6e\x69\144" => ''); goto FTZaX; xdgy8: $row["\x6f\x70\x65\x6e\x69\x64"] = $_W["\157\160\x65\x6e\151\144"]; goto Vz6Mj; Xtku4: } private function respIndex() { goto kmWUn; j1vVZ: $this->clearSession(); goto KJoM_; WdM3l: $replythumb = empty(self::$_setting["\162\x65\160\x6c\171\x74\x68\x75\155\142"]) ? self::$_setting["\x74\150\x75\x6d\142"][0] : self::$_setting["\162\x65\160\x6c\171\164\150\x75\x6d\142"]; goto xoOSv; kmWUn: $replytitle = empty(self::$_setting["\162\145\x70\154\171\x74\x69\164\x6c\145"]) ? self::$_setting["\x74\151\x74\154\145"] : self::$_setting["\162\145\160\154\x79\164\x69\x74\x6c\145"]; goto B1pc4; xoOSv: $url = $this->appUrl("\x69\156\x64\145\x78"); goto j1vVZ; B1pc4: $replycontent = empty(self::$_setting["\162\x65\160\x6c\x79\x63\x6f\156\164\145\x6e\164"]) ? "\xe7\202\xb9\xe5\x87\xbb\350\xbf\x9b\345\x85\xa5\xe6\xb4\273\xe5\x8a\xa8\xe9\xa6\226\xe9\241\xb5\343\200\x82" : self::$_setting["\x72\145\160\x6c\171\x63\157\x6e\x74\145\156\x74"]; goto WdM3l; KJoM_: return $this->respNews(array("\x74\151\x74\x6c\x65" => $replytitle, "\144\x65\x73\143\162\x69\160\164\x69\157\156" => $replycontent, "\160\x69\143\x75\x72\x6c" => tomedia($replythumb), "\165\162\154" => $url)); goto OmeCS; OmeCS: } private function respJoin() { goto wP5cc; ihIPL: $replythumb = empty(self::$_setting["\162\x65\x70\x6c\171\x74\150\165\x6d\x62"]) ? self::$_setting["\164\150\x75\x6d\x62"][0] : self::$_setting["\x72\x65\160\154\x79\x74\150\165\x6d\142"]; goto IH8za; e2CF3: $replycontent = "\xe7\x82\xb9\xe5\x87\273\xe8\xbf\x9b\345\x85\xa5\xe6\x8a\245\xe5\220\215\343\200\x82"; goto ihIPL; z4nWl: $this->clearSession(); goto ra_8y; wP5cc: $replytitle = "\xe6\xac\242\xe8\277\x8e\xe5\x8f\x82\xe4\270\216" . self::$_setting["\x74\151\164\x6c\145"] . "\xe6\xb4\273\345\x8a\250\xef\xbc\201"; goto e2CF3; IH8za: $url = $this->appUrl("\x6a\157\151\x6e"); goto z4nWl; ra_8y: return $this->respNews(array("\x74\151\x74\154\145" => $replytitle, "\x64\145\x73\x63\162\x69\160\x74\x69\x6f\156" => $replycontent, "\x70\151\143\165\162\154" => tomedia($replythumb), "\x75\x72\x6c" => $url)); goto HZKHr; HZKHr: } private function respUsernews($uid, $name, $replythumb, $pid, $num = 1) { goto bDT8X; owfX3: return $this->respNews($newsdata); goto lM9qv; oZZ6V: $newsdata[] = array("\164\151\x74\154\x65" => "\xe6\x81\xad\xe5\x96\234\xe6\202\xa8\xe6\x88\220\xe5\x8a\x9f\344\xb8\xba\347\274\x96\345\x8f\xb7" . $uid . '' . $name . '' . self::$_setting["\x78\151\x61\x6f\146\166\x6f\164\145\x6b\145\x79\141\143\164"] . "\xe4\272\206" . $num . '' . self::$_setting["\x78\x69\x61\157\x66\166\157\x74\x65\x6b\145\x79"] . '', "\x64\x65\x73\x63\162\x69\160\x74\x69\157\156" => self::$_setting["\x74\x69\164\154\145"], "\x70\151\143\165\162\x6c" => tomedia($replythumb), "\x75\x72\154" => $this->appUrl("\163\150\x6f\x77", "\170\x69\141\157\146\137\164\x6f\x75\160\151\x61\x6f", "\x26\x69\x64\75" . $pid . '')); goto CvDE1; CvDE1: $replythumb = empty(self::$_setting["\162\x65\x70\x6c\x79\164\150\165\155\x62"]) ? self::$_setting["\x74\x68\165\x6d\142"][0] : self::$_setting["\x72\x65\160\x6c\x79\164\x68\x75\x6d\142"]; goto sQ8uU; XXgNm: $this->clearSession(); goto owfX3; bDT8X: $newsdata = array(); goto oZZ6V; sQ8uU: $newsdata[] = array("\164\151\x74\x6c\145" => self::$_setting["\164\x69\x74\x6c\x65"], "\x64\x65\x73\143\162\151\x70\164\x69\x6f\x6e" => self::$_setting["\164\x69\164\154\145"], "\x70\x69\x63\x75\162\x6c" => tomedia($replythumb), "\x75\x72\154" => $this->appUrl("\151\156\x64\x65\170")); goto XXgNm; lM9qv: } private function respMynews($uid, $replythumb, $pid) { goto p807A; HtP5W: $newsdata[] = array("\164\x69\x74\154\145" => self::$_setting["\x74\151\x74\154\145"], "\x64\x65\163\143\162\x69\x70\x74\151\x6f\156" => self::$_setting["\164\x69\x74\x6c\x65"], "\160\151\143\165\162\154" => tomedia($replythumb), "\x75\x72\x6c" => $this->appUrl("\151\156\144\x65\170")); goto RM0Cd; Nb25U: $replythumb = empty(self::$_setting["\162\x65\x70\154\171\x74\150\x75\155\x62"]) ? self::$_setting["\x74\150\165\x6d\x62"][0] : self::$_setting["\x72\x65\x70\x6c\171\x74\x68\x75\x6d\x62"]; goto HtP5W; p807A: $newsdata = array(); goto noFuy; RM0Cd: $this->clearSession(); goto geAVH; geAVH: return $this->respNews($newsdata); goto BjKrR; noFuy: $newsdata[] = array("\164\151\164\154\145" => "\xe6\x81\255\xe5\x96\x9c\xef\274\x8c\346\212\245\xe5\220\x8d\xe6\210\x90\345\212\237\357\274\201\xe6\202\250\xe7\x9a\x84\xe5\x8f\x82\xe8\265\233\xe7\xbc\226\xe5\217\267\xe4\xb8\272" . $uid . '', "\x64\145\x73\x63\x72\x69\160\x74\x69\x6f\156" => self::$_setting["\x74\151\164\x6c\145"], "\x70\151\143\x75\x72\x6c" => tomedia($replythumb), "\x75\162\x6c" => $this->appUrl("\163\150\x6f\x77", "\170\151\x61\x6f\146\x5f\164\157\165\x70\151\141\x6f", "\46\151\x64\x3d" . $pid . '')); goto Nb25U; BjKrR: } private function respUsers($title, $replythumb, $pid) { goto KtCSN; VkC9T: $this->clearSession(); goto upOpo; KtCSN: $newsdata = array(); goto g_2QH; MDp0e: $replythumb = empty(self::$_setting["\162\x65\160\x6c\171\x74\x68\x75\155\x62"]) ? self::$_setting["\x74\x68\x75\x6d\x62"][0] : self::$_setting["\162\x65\160\154\171\164\150\x75\x6d\x62"]; goto O4pPs; g_2QH: $newsdata[] = array("\x74\x69\164\x6c\x65" => $title, "\144\145\163\x63\x72\x69\x70\164\151\x6f\156" => self::$_setting["\164\151\x74\154\145"], "\160\151\143\x75\162\154" => tomedia($replythumb), "\165\x72\x6c" => $this->appUrl("\x73\150\157\167", "\170\151\x61\x6f\146\x5f\164\x6f\165\160\x69\141\157", "\46\151\x64\75" . $pid . '')); goto MDp0e; upOpo: return $this->respNews($newsdata); goto xJYmj; O4pPs: $newsdata[] = array("\164\x69\x74\x6c\145" => self::$_setting["\x74\x69\164\x6c\145"], "\144\145\163\143\162\x69\160\x74\151\157\x6e" => self::$_setting["\164\x69\x74\154\145"], "\x70\151\143\165\162\x6c" => tomedia($replythumb), "\x75\162\x6c" => $this->appUrl("\151\x6e\144\145\x78")); goto VkC9T; xJYmj: } private function respTexttips($content, $clearsession = true) { goto MFYTx; MFYTx: if (!$clearsession) { goto Y9W28; } goto eFoIA; HEDzE: return $this->respText($content); goto VKdXh; eFoIA: $this->clearSession(); goto t4LZ6; t4LZ6: Y9W28: goto HEDzE; VKdXh: } protected function setCredit($creditval) { goto n1f8U; JSx3c: if (empty(self::$_setting["\163\171\x6e\143\x63\x72\145\144\x69\164"])) { goto Sq0l6; } goto nelFi; l9FZE: return true; goto HGXdd; nfILb: return $result; goto f_2Q_; n1f8U: global $_W; goto r58Q6; rWLVA: n4QNA: goto oF0um; r58Q6: $creditval = floatval($creditval); goto tTAwU; f_2Q_: goto n4QNA; goto zTuai; tTAwU: if (!empty($creditval)) { goto G_TEd; } goto N181R; AGjvF: if (!pdo_update($this->splittingtable("\x78\151\x61\x6f\x66\x5f\x72\145\x6c\x61\x74\151\157\x6e"), array("\143\x72\x65\x64\x69\x74" => $creditresult), array("\151\x64" => $rid))) { goto HG7UF; } goto l9FZE; HGXdd: HG7UF: goto gJo0Z; knwkA: if ($creditval > 0 || $creditresult >= 0) { goto sDoeM; } goto YjRgC; YjRgC: return false; goto y3UNg; y3UNg: goto NCvnr; goto P18gp; nelFi: load()->model("\x6d\143"); goto gToGz; qj4mC: if (!($credit = $this->getCredit())) { goto cRFOB; } goto gSUYb; TiCXH: cRFOB: goto rWLVA; gSUYb: $creditresult = $credit + $creditval; goto knwkA; r0KIV: $rid = $this->getUserinfo("\162\x69\x64"); goto qj4mC; H6jf_: G_TEd: goto JSx3c; P18gp: sDoeM: goto AGjvF; oF0um: return false; goto S_rRE; N181R: return true; goto H6jf_; gToGz: $result = mc_credit_update($_W["\x6d\145\x6d\142\x65\162"]["\165\151\144"], "\143\162\x65\x64\151\x74\x31", $creditval, array(1, self::$_setting["\x74\151\x74\x6c\x65"] . "\346\264\273\345\x8a\250\347\xa7\257\xe5\210\206", "\x78\151\x61\157\x66\137\164\x6f\165\x70\x69\141\157")); goto nfILb; gJo0Z: NCvnr: goto TiCXH; zTuai: Sq0l6: goto r0KIV; S_rRE: } protected function getCredit() { goto zSTCS; Rj51S: if (!($rid = $this->getUserinfo("\x72\151\x64"))) { goto m76cG; } goto IgCB3; uetq6: $credit = mc_credit_fetch($_W["\155\x65\155\x62\145\162"]["\165\x69\x64"]); goto yUpAM; rT08n: YN9JB: goto qpfoR; glZx2: m76cG: goto rT08n; iFYCt: if (empty(self::$_setting["\x73\171\156\143\x63\x72\x65\144\151\164"])) { goto k225h; } goto uetq6; AowRT: k225h: goto Rj51S; zSTCS: global $_W; goto iFYCt; IgCB3: return pdo_fetchcolumn("\x53\x45\x4c\105\x43\x54\x20\x60\143\x72\145\x64\x69\164\x60\40\x46\122\x4f\x4d\x20" . tablename($this->splittingtable("\170\x69\141\157\146\x5f\x72\x65\154\x61\x74\151\157\156")) . "\40\x57\110\x45\x52\105\x20\x60\x69\x64\x60\40\x3d\40" . $rid . "\x20\x6c\x69\x6d\x69\x74\40\x31"); goto glZx2; yUpAM: return $credit["\x63\x72\145\x64\x69\164\x31"]; goto LJzN4; qpfoR: return false; goto TnqRR; LJzN4: goto YN9JB; goto AowRT; TnqRR: } protected function splittingtable($table) { goto bT0JS; bT0JS: if (empty(self::$_setting["\163\160\154\x69\164\164\151\x6e\147\164\141\x62\x6c\x65"])) { goto wnd5y; } goto bcnn9; Fif3B: return $table; goto aZHyS; bcnn9: $table .= "\x5f" . self::$_setting["\x69\144"]; goto VfCNs; VfCNs: wnd5y: goto Fif3B; aZHyS: } protected function funcQiniuUpload($file, $parameter = array(), $type = "\x69\x6d\x67", $persistent = null) { goto DCM4Y; TvP5w: return "\150\x74\164\x70\x3a\57\57{$parameter["\161\x69\156\151\165\144\x6f\155\141\151\x6e"]}\57{$file}"; goto UZNRy; JEtrH: mu0nu: goto MuUq5; beLND: goto ggotL; goto nKY7k; dEXLk: ggotL: goto ffRn4; lrx0u: goto mu0nu; goto daSJA; q3HqM: hQYT7: goto cAcYY; uKXw1: if (empty($persistent)) { goto KkSX5; } goto fQ217; MuUq5: isset($nfile) && ($file = $nfile); goto dxTsu; cAcYY: @unlink($filePath); goto JEtrH; yz3tX: goto mu0nu; goto q3HqM; TmFKs: if (is_file($file)) { goto nsNen; } goto DBtYM; dvIdZ: KkSX5: goto e3f9E; DBtYM: if (is_file($filePath)) { goto hQYT7; } goto lrx0u; tDr9b: $nfile = random(30) . "\x2e" . $type; goto Z1Txt; DEsUf: if (empty($err)) { goto SEz30; } goto VhlXw; DLzR_: empty($parameter["\161\151\x6e\x69\165\160\x69\160\x65\x6c\151\156\x65"]) or $policy["\x70\145\162\163\x69\x73\x74\145\x6e\x74\x50\151\160\x65\154\x69\156\x65"] = $parameter["\161\x69\x6e\x69\165\160\151\x70\145\x6c\x69\156\x65"]; goto dvIdZ; W4Xv1: @unlink($file); goto yz3tX; PexW4: if (!($type != "\151\155\x67")) { goto Ja77P; } goto tDr9b; fQ217: $savekey = Qiniu\base64_urlSafeEncode($parameter["\x71\x69\156\151\x75\x7a\157\x6e\145"] . "\72" . $nfile); goto lpjoW; q8sP9: $auth = new Qiniu\Auth($parameter["\161\x69\156\151\165\141\153"], $parameter["\161\x69\x6e\151\x75\x73\153"]); goto FSS3T; e3f9E: $config = new Qiniu\Config(); goto UEU0J; VhlXw: if (!($err->code() == 614)) { goto fIiJA; } goto TvP5w; l0xyN: $policy = array("\163\x63\x6f\160\x65" => $parameter["\x71\151\156\x69\x75\x7a\157\x6e\x65"] . "\72" . $file); goto uKXw1; DCM4Y: require_once IA_ROOT . "\x2f\x66\x72\141\155\145\167\x6f\162\153\57\154\x69\142\162\x61\162\171\57\x71\x69\156\151\165\x2f\x61\x75\164\157\x6c\157\141\144\56\x70\150\160"; goto q8sP9; DXua9: list($ret, $err) = $uploadMgr->putFile($token, $file, $filePath); goto DEsUf; Z1Txt: Ja77P: goto l0xyN; daSJA: nsNen: goto W4Xv1; UEU0J: $token = $auth->uploadToken($parameter["\x71\x69\x6e\151\x75\172\x6f\x6e\145"], $file, 3600, $policy); goto l_AGC; UZNRy: fIiJA: goto BZpyj; dxTsu: return "\x68\x74\164\x70\72\57\57{$parameter["\x71\x69\x6e\151\x75\x64\x6f\x6d\x61\151\156"]}\x2f{$file}"; goto dEXLk; FSS3T: $filePath = ATTACHMENT_ROOT . $file; goto PexW4; nKY7k: SEz30: goto TmFKs; l_AGC: $uploadMgr = new Qiniu\Storage\UploadManager($config); goto DXua9; lpjoW: $policy["\160\145\162\163\151\x73\x74\145\x6e\x74\117\x70\163"] = $persistent . "\174\x73\141\166\x65\141\x73\57" . $savekey; goto DLzR_; BZpyj: return error(-1, $err->message()); goto beLND; ffRn4: } private function appUrl($do, $m = "\170\151\x61\157\x66\x5f\164\157\x75\160\151\141\x6f", $parameter = '') { goto ccXVt; DVaa4: $userinfo["\x6f\x70\x65\156\x69\x64"] = $_W["\x6f\x70\145\156\151\144"]; goto O9Ucl; ejowl: XtDOt: goto nd6tc; XPo7D: if (!empty(self::$_setting["\142\x69\x6e\x64\144\157\x6d\141\x69\x6e"])) { goto XtDOt; } goto Aj5x0; nZ9od: if (!strexists($domain, "\52")) { goto TGdXU; } goto OYZm9; O9Ucl: $openid = urlencode(base64_encode(authcode(iserializer($userinfo), "\105\x4e\103\117\x44\x45", md5($host . "\x78\151\x39\141\157\x66\x68\x61\150\141" . $_W["\x75\156\151\141\143\x69\144"] . $_W["\143\x6f\156\146\151\x67"]["\163\x65\164\164\x69\x6e\147"]["\x61\165\x74\150\153\x65\x79"]), 43200))); goto p5MUJ; faHH9: ZTJUL: goto P80Y0; qx4zz: goto ZTJUL; goto ejowl; p5MUJ: return $domain . "\x61\144\144\157\156\163\x2f\x78\x69\x61\157\146\x5f\x74\x6f\165\160\x69\141\157\x2f\x69\156\x64\145\x78\56\x70\150\x70\x3f\143\75\145\x6e\164\x72\171\x26\144\157\x3d" . $do . "\x26\x6d\75" . $m . "\x26\151\x3d" . $_W["\x75\x6e\151\141\143\151\x64"] . "\46\163\x69\144\x3d" . $_SESSION["\170\151\141\x6f\x66\x73\151\144"] . "\46\170\151\141\157\x66\157\x70\145\156\x69\144\x3d" . $openid . $parameter . "\46\x77\x78\162\145\x66\x3d\x6d\x70\56\x77\x65\x69\170\x69\x6e\56\161\161\x2e\143\x6f\x6d\43\167\145\143\150\141\164\137\162\x65\x64\151\162\x65\143\x74"; goto N1VEk; oExp3: $userinfo["\x72\x69\x64"] = $this->getUserinfo("\162\151\x64"); goto DVaa4; b6aHQ: TGdXU: goto faHH9; HZyQL: $domain = str_replace("\52", $randstr, $domain); goto b6aHQ; ccXVt: global $_W, $_GPC; goto XPo7D; nd6tc: $domain = self::$_setting["\142\x69\x6e\144\x64\x6f\155\141\151\156"][array_rand(self::$_setting["\142\x69\156\x64\144\x6f\155\141\151\156"])]; goto nZ9od; P80Y0: $host = parse_url($domain, PHP_URL_HOST); goto oExp3; OYZm9: $randstr = strtolower(random(6)); goto HZyQL; Aj5x0: $domain = $_W["\x73\x69\x74\x65\162\157\x6f\x74"]; goto qx4zz; N1VEk: } }