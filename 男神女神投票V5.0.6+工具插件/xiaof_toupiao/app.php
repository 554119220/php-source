<?php
 defined("\111\116\137\111\x41") or exit("\101\x63\143\145\x73\x73\x20\x44\x65\156\x69\x65\144"); class Xiaof_toupiaoModule extends Xiaof_toupiaoModuleSite { public function __construct($var) { foreach (get_object_vars($var) as $k => $v) { $this->{$k} = $v; NjD26: } bmxA0: } public function doMobileUploadimage() { goto b8tk3; JPBNV: if (!($_W["\x63\x6f\156\x74\141\x69\156\x65\x72"] !== "\167\x65\x63\150\141\164")) { goto mO5c2; } goto LHvL2; I9oOO: if (!($i < $s)) { goto mAh1h; } goto io6_1; K5s9L: $imgurl = array(); goto QsLOD; RfOBz: mAh1h: goto z1V2t; LHvL2: exit(json_encode(error(101, "\350\257\267\xe5\234\250\346\x82\250\xe7\x9a\204\345\xbe\256\344\xbf\241\xe9\x87\214\xe4\xb8\212\344\274\240"))); goto j6OYo; JQJ3L: if (empty($_W["\x73\145\164\164\151\x6e\147"]["\162\x65\x6d\157\164\145"][$_W["\x75\156\151\x61\143\x69\144"]]["\x74\171\160\145"])) { goto myWx6; } goto InEj0; x8EH7: UqOpN: goto UKvKy; VDby3: $files["\164\171\160\x65"] = $_FILES["\x69\x6d\x61\x67\145\x66\x69\x6c\145"]["\164\x79\x70\x65"][$i]; goto f3RGp; BjYth: $i++; goto n0mUq; wqKp8: Q0Otg: goto BjYth; F9E09: $imgurl[] = $upload["\x70\141\x74\150"]; goto wqKp8; XYiKO: $files["\145\x72\x72\157\x72"] = $_FILES["\151\155\x61\x67\145\146\x69\154\145"]["\x65\162\x72\x6f\162"][$i]; goto UQaM0; UQaM0: $files["\163\151\x7a\x65"] = $_FILES["\x69\155\x61\x67\145\x66\151\x6c\145"]["\x73\x69\x7a\x65"][$i]; goto cDKjA; IpbrM: if (!(!is_error($result) && $result !== false)) { goto UqOpN; } goto jhs1L; n0mUq: goto P9ZTL; goto RfOBz; f3RGp: $files["\164\155\x70\137\156\141\x6d\x65"] = $_FILES["\x69\x6d\141\x67\x65\146\x69\154\145"]["\164\155\160\x5f\156\141\x6d\x65"][$i]; goto XYiKO; pkUpm: exit(json_encode(error(-1, $upload["\155\145\163\163\141\x67\145"]))); goto RQsV0; io6_1: $files = array(); goto Msrva; yuX_i: P9ZTL: goto I9oOO; j6OYo: mO5c2: goto HXGvf; cDKjA: $upload = file_upload($files); goto GjbzX; QsLOD: $i = 0; goto yuX_i; HXGvf: load()->func("\x66\x69\154\145"); goto gTyvv; RQsV0: f4Wvj: goto F9E09; GjbzX: if (is_error($upload)) { goto z7FMT; } goto JQJ3L; DvakW: $result = file_remote_upload($upload["\x70\141\164\x68"]); goto IpbrM; Msrva: $files["\x6e\141\x6d\x65"] = $_FILES["\x69\x6d\141\147\145\x66\151\154\x65"]["\x6e\141\x6d\145"][$i]; goto VDby3; UKvKy: goto f4Wvj; goto yYnit; b8tk3: global $_W, $_GPC; goto JPBNV; jhs1L: file_delete($upload["\x70\141\164\x68"]); goto x8EH7; Zh18g: myWx6: goto DvakW; gTyvv: $s = count($_FILES["\x69\x6d\141\147\145\x66\151\154\x65"]["\x6e\x61\x6d\x65"]); goto K5s9L; InEj0: $_W["\x73\x65\164\164\151\156\147"]["\162\x65\x6d\157\164\145"] = $_W["\163\x65\164\x74\x69\x6e\x67"]["\x72\145\x6d\x6f\164\x65"][$_W["\165\156\x69\141\143\x69\144"]]; goto Zh18g; yYnit: z7FMT: goto pkUpm; z1V2t: exit(json_encode(error(0, $imgurl))); goto N0UqJ; N0UqJ: } public function doMobilePaycheck() { goto caMTa; nbPWf: o0KYX: goto j9NB8; ST32D: $giving = $setting["\x70\x72\157\x70\145\x72\x74\171"][$payinfo["\x70\141\171\147\x69\x76\x69\156\147"]["\147\x69\x64"]]; goto K7D7t; dJnWp: EysNz: goto jPQxf; ONgAz: message("\346\212\245\xe5\x90\x8d\350\264\271\xe7\x94\250\345\267\262\346\224\xaf\344\xbb\x98\357\xbc\214\346\227\240\xe9\x9c\200\xe9\207\x8d\xe5\244\215\346\x94\xaf\344\273\230"); goto y6ocs; CY2RE: $giving = $setting["\x67\x69\x76\151\156\x67"][$payinfo["\x70\141\171\147\151\166\x69\156\147"]["\147\x69\144"]]; goto rl3sT; rl3sT: goto bZfAo; goto kGjuM; kGjuM: nROfR: goto ST32D; nmNFL: Dda7e: goto tIoAp; icTJL: MlQNo: goto Ebr6W; A8Kha: if (empty($setting["\x70\x61\x79\164\x79\160\145"])) { goto J5jex; } goto wghFS; HmFSp: J52xO: goto qBj0A; Qp3Ax: message("\346\224\257\344\273\230\345\217\202\xe6\225\xb0\xe6\x97\240\xe6\x95\x88"); goto rA4dr; t11UL: da54e: goto ayxsx; jPQxf: if (!empty($rid)) { goto Dda7e; } goto tSImH; bNG3q: $fee = floatval($payinfo["\x66\x65\x65"]); goto t6aN0; tSImH: message("\346\x94\257\344\xbb\230\xe5\244\xb1\xe8\264\245\54\xe6\xb2\xa1\xe6\x9c\211\xe6\211\276\xe5\x88\xb0\xe7\x94\250\346\x88\xb7\xe4\277\241\xe6\201\257"); goto nmNFL; bLDRf: $actions = 0; goto zezQH; cyUXn: X0RbW: goto bLDRf; kadhI: message("\xe6\x94\257\xe4\xbb\x98\345\xa4\261\xe8\264\xa5\54\xe6\xb2\241\346\x9c\x89\xe6\x89\xbe\345\x88\xb0\xe5\217\x82\xe4\xb8\216\xe7\232\204\xe6\xb4\273\xe5\212\xa8"); goto HmFSp; UWwkW: if (!empty($myid)) { goto Cpd2m; } goto yh42h; yyTjP: pf0UG: goto b5pp5; i03II: $fee = floatval($giving["\142\x75\x79\x63\162\145\144\151\164"]); goto VTQqS; gJNXJ: goto asv7H; goto t11UL; cwa1I: goto bZfAo; goto NqLuY; GrYbt: if ($payinfo["\x70\x61\x79\x67\151\x76\151\156\x67"]["\164\x79\160\x65"] == 2) { goto nROfR; } goto Z0HPc; qT0hL: avcjP: goto k0zqb; K7D7t: bZfAo: goto i03II; hcNe4: y_Yo9: goto yCulV; q61sf: J5jex: goto FdTzj; vV0xd: if ($joinitems = pdo_fetch("\123\x45\x4c\x45\x43\x54\x20\x2a\x20\106\x52\x4f\115\40" . tablename("\x78\151\x61\157\146\137\164\x6f\x75\160\x69\141\157") . "\40\127\x48\105\x52\x45\x20\x60\x69\144\x60\40\x3d\x20\72\151\144", array("\x3a\x69\144" => $myid))) { goto da54e; } goto npgWm; kHDta: Cpd2m: goto vV0xd; npgWm: message("\xe6\x94\257\344\273\230\345\xa4\xb1\350\264\245\54\346\262\241\346\x9c\211\346\211\xbe\345\210\260\xe6\212\245\xe5\220\x8d\xe4\277\241\xe6\201\257\x31"); goto gJNXJ; b5pp5: $actions = 2; goto eLVIu; YntPt: message("\346\x94\257\344\xbb\230\345\xa4\xb1\xe8\xb4\245\x2c\xe6\xb2\xa1\xe6\x9c\211\xe6\263\250\xe5\206\x8c\344\270\272\344\xbc\x9a\345\x91\230\xef\274\x81"); goto qT0hL; l_2aL: szqp1: goto P_B78; wghFS: $oauth_acid = $_W["\x75\x6e\x69\141\143\151\144"]; goto cHXLi; ZOldS: message("\345\210\233\xe5\xbb\272\xe8\xae\242\345\215\x95\345\244\xb1\350\264\xa5\xef\xbc\x8c\350\xaf\267\xe9\207\215\350\257\225\xef\xbc\201", self::appUrl("\151\156\144\145\170"), "\x65\162\162\x6f\162"); goto nbPWf; zImmj: $data = iserializer($payinfo["\160\141\171\147\151\x76\x69\156\147"]); goto glmpa; P_B78: $pid = isset($payinfo["\x70\141\x79\x67\151\166\151\x6e\x67"]["\160\x69\x64"]) ? $payinfo["\160\x61\x79\x67\x69\166\151\x6e\x67"]["\x70\x69\144"] : 0; goto QaKSp; MfmSJ: header("\x6c\x6f\143\x61\x74\x69\x6f\x6e\72" . $siteroot . "\141\x70\160\x2f\x69\x6e\144\145\x78\x2e\160\150\x70\77\x63\75\145\156\164\x72\171\x26\144\157\75\x70\141\171\46\155\x3d\x78\151\141\157\146\137\x74\157\165\x70\151\141\x6f\x26\151\75{$oauth_acid}\x26\x73\151\144\75{$_GPC["\163\151\x64"]}\x26\x6f\162\144\x65\162\151\x64\x3d{$orderid}\x26\157\144\157\155\x61\151\156\75" . urlencode($_W["\163\x69\164\x65\162\x6f\157\164"]) . "\46\x77\x78\x72\145\146\75\x6d\x70\x2e\x77\x65\151\170\x69\x6e\x2e\x71\161\x2e\143\157\x6d\43\167\145\143\150\141\x74\137\162\x65\144\151\x72\145\x63\164"); goto Q1cGp; vPd39: asv7H: goto ZYOvH; glmpa: if ($payinfo["\x70\x61\171\147\x69\166\151\x6e\x67"]["\164\171\x70\x65"] == 1) { goto uNNNN; } goto GrYbt; Z0HPc: message("\346\x94\xaf\xe4\273\230\xe5\x8f\202\xe6\225\260\351\224\x99\xe8\257\xaf\xef\xbc\201"); goto cwa1I; JBSMd: if (!(!empty($setting["\163\x79\156\143\143\x72\x65\144\151\x74"]) && empty($uid))) { goto avcjP; } goto YntPt; Ebr6W: $payinfo = authcode(base64_decode(urldecode($_GPC["\x70\141\171\151\156\x66\x6f"])), "\x44\105\x43\117\104\x45", md5($_W["\x75\156\x69\x61\x63\x69\144"] . $_W["\143\157\x6e\146\151\x67"]["\x73\145\164\164\151\x6e\147"]["\141\165\x74\x68\153\x65\x79"] . "\x78\151\x61\x6f\x66" . CLIENT_IP)); goto FIAym; Q1cGp: exit; goto A6yWc; eNxn5: message("\346\224\257\344\xbb\x98\xe5\244\xb1\350\xb4\xa5\54\xe6\x94\xaf\xe4\273\x98\xe9\x87\x91\351\242\235\345\x92\214\xe8\xae\242\345\x8d\x95\351\x87\x91\xe9\242\235\344\xb8\x8d\347\xac\246\xef\xbc\x81"); goto yyTjP; eLVIu: $credit = 0; goto qUjMO; Y7JgQ: isset($payinfo["\x70\141\171\x67\x69\166\151\156\147"]["\156\x75\155"]) && ($chargerecord["\x6e\165\155"] = $payinfo["\160\x61\171\x67\151\x76\x69\x6e\147"]["\156\165\x6d"]); goto N1gAx; Jx3Yg: $chargerecord = array("\x61\x63\x74\151\x6f\156\163" => $actions, "\162\151\144" => $rid, "\x70\x69\144" => $pid, "\162\145\154\141\x74\151\157\156\151\144" => $relationid, "\x75\151\144" => $uid, "\x73\151\144" => $setting["\x69\x64"], "\x6f\160\145\x6e\151\144" => $openid, "\x6f\x61\x75\164\x68\137\141\x63\151\x64" => $_SESSION["\157\x61\165\164\150\137\x61\x63\151\x64"], "\157\141\x75\x74\x68\x5f\157\160\145\x6e\151\x64" => $_SESSION["\x6f\x61\165\164\150\x5f\157\160\x65\x6e\x69\x64"], "\165\156\x69\141\143\x69\144" => $_W["\165\x6e\151\141\x63\151\144"], "\x6e\x69\x63\153\156\141\155\145" => parent::getUserinfo("\156\151\143\153\x6e\x61\x6d\x65"), "\x61\x76\141\x74\x61\x72" => parent::getUserinfo("\141\x76\141\164\141\162"), "\151\160" => sprintf("\x25\x75", ip2long(CLIENT_IP)), "\x74\x69\144" => $tid, "\x66\145\145" => $fee, "\143\x72\x65\144\151\164" => $credit, "\x64\141\x74\x61" => $data, "\163\164\x61\164\x75\x73" => 0, "\x63\162\x65\141\x74\x65\x5f\141\164" => TIMESTAMP); goto Y7JgQ; j9NB8: $orderid = pdo_insertid(); goto A8Kha; GTM_Y: $credit = 0; goto zImmj; DtscB: if ($setting = parent::getSetting()) { goto J52xO; } goto kadhI; rA4dr: ABKJP: goto V08W8; JR8Lg: UkQUR: goto JBSMd; uVBFL: tdAfI: goto iX51r; caMTa: global $_W, $_GPC; goto DtscB; CSknM: $relationid = parent::getUserinfo("\162\145\154\141\164\x69\x6f\156\151\144"); goto ccnbv; CIEx_: $credit = $fee * $data; goto G8U_j; fOAq2: if (isset($payinfo["\x70\141\171\x67\151\166\151\156\147"]["\141\x63\164\x69\x6f\x6e"])) { goto y_Yo9; } goto OHwQw; FIAym: if (!empty($payinfo)) { goto ABKJP; } goto Qp3Ax; ZYOvH: $payinfo["\160\x61\x79\147\151\x76\x69\x6e\x67"]["\x70\151\x64"] = $myid; goto c8vsB; qUjMO: $myid = self::checkjoin(); goto UWwkW; L9gk8: goto szqp1; goto uVBFL; CQu4h: empty($setting["\x70\141\171\x64\x6f\155\x61\151\x6e"]) && ($setting["\x70\141\171\x64\157\155\x61\x69\x6e"] = $this->module["\x63\157\156\x66\x69\x67"]["\x70\141\x79\144\157\x6d\x61\x69\156"]); goto PN1Ga; G8U_j: goto szqp1; goto hcNe4; ccnbv: $uid = $this->mcOpenid2uid(); goto AXnBl; N1gAx: if (pdo_insert("\x78\x69\141\x6f\146\x5f\164\x6f\x75\x70\x69\x61\x6f\137\157\162\x64\x65\x72", $chargerecord)) { goto o0KYX; } goto ZOldS; YhVBI: Ds0Sy: goto CQu4h; AXnBl: $openid = parent::getUserinfo("\x6f\x70\145\x6e\x69\x64"); goto bNG3q; zezQH: if (empty($payinfo["\x70\141\x79\147\151\166\x69\156\x67"])) { goto tdAfI; } goto fOAq2; V08W8: $payinfo = iunserializer($payinfo); goto ULMm0; QaKSp: $tid = date("\131\155\144\x48\x69") . random(8, 1); goto Jx3Yg; ayxsx: if (empty($joinitems["\x65\x6e\x74\162\x79\146\145\145"])) { goto mfQMi; } goto ONgAz; B_qC2: $openid = $_W["\x6f\x70\145\x6e\x69\x64"]; goto cyUXn; haSb3: message("\xe6\x94\257\xe4\xbb\x98\345\xa4\xb1\350\xb4\xa5\54\xe6\262\xa1\346\x9c\211\xe8\xae\276\347\275\xae\xe7\247\257\xe5\210\x86\xe6\257\x94\344\xbe\x8b\xef\274\201"); goto JR8Lg; yh42h: message("\346\224\xaf\344\273\230\345\244\261\350\xb4\245\x2c\xe6\262\241\346\x9c\211\xe6\211\276\xe5\210\xb0\346\x8a\xa5\xe5\220\215\344\277\xa1\346\x81\xaf"); goto kHDta; qBj0A: if (!empty($_GPC["\160\141\171\151\156\x66\x6f"])) { goto MlQNo; } goto U0xNw; PN1Ga: $siteroot = empty($setting["\160\x61\171\144\157\x6d\x61\x69\156"]) ? $_W["\163\151\x74\x65\162\x6f\157\x74"] : $setting["\x70\x61\171\x64\157\155\141\151\156"]; goto MfmSJ; y6ocs: mfQMi: goto vPd39; ULMm0: $rid = parent::getUserinfo("\x72\x69\144"); goto CSknM; cHXLi: goto Ds0Sy; goto q61sf; qLj7z: message("\xe6\x94\257\344\273\230\351\x94\231\xe8\xaf\xaf\x2c\40\351\207\x91\351\242\235\345\xb0\217\xe4\272\x8e\60"); goto dJnWp; t6aN0: if (!($fee <= 0)) { goto EysNz; } goto qLj7z; NqLuY: uNNNN: goto CY2RE; U0xNw: message("\346\x94\xaf\344\xbb\230\345\217\202\346\225\260\xe9\224\231\350\257\xaf"); goto icTJL; OHwQw: $actions = 1; goto GTM_Y; yCulV: if (!($setting["\x6a\x6f\151\156\146\x65\x65"] != $fee)) { goto pf0UG; } goto eNxn5; VTQqS: $fee = isset($payinfo["\x70\141\171\147\x69\x76\151\x6e\x67"]["\x6e\x75\x6d"]) ? $fee * $payinfo["\160\x61\171\147\151\x76\x69\x6e\x67"]["\156\165\x6d"] : $fee; goto L9gk8; c8vsB: $data = iserializer(array("\x70\151\144" => $myid, "\x66\145\145" => $fee)); goto l_2aL; FdTzj: $oauth_acid = empty($_SESSION["\x6f\x61\x75\x74\150\137\x61\x63\151\x64"]) ? $_W["\165\x6e\x69\141\143\x69\x64"] : $_SESSION["\157\x61\165\164\x68\x5f\x61\x63\151\144"]; goto YhVBI; iX51r: if (!empty($setting["\x70\x61\171\x63\150\x65\143\x6b\143\x72\145\x64\x69\x74"])) { goto UkQUR; } goto haSb3; tIoAp: if (!empty($openid)) { goto X0RbW; } goto B_qC2; k0zqb: $data = intval($setting["\160\141\x79\143\x68\x65\143\x6b\x63\x72\x65\x64\151\164"]); goto CIEx_; A6yWc: } public function doMobilePay() { goto TSW7e; UrS7i: C6OXq: goto EJEVY; sSaKc: rQPB5: goto D6bFA; OziBZ: WXkXE: goto TH5Sx; TSW7e: global $_W, $_GPC; goto hgVZU; TA3HR: if (!($params["\146\145\145"] <= 0)) { goto VcsSc; } goto Sm2t0; shIcN: wd3KS: goto MWkb5; D6bFA: if ($order = pdo_fetch("\x53\105\x4c\105\x43\124\x20\x2a\40\106\122\x4f\x4d\40" . tablename("\170\151\x61\x6f\146\137\x74\157\x75\x70\x69\x61\x6f\137\157\x72\144\145\162") . "\40\x57\x48\x45\122\x45\x20\x69\x64\40\75\40\72\151\x64\40\154\151\155\151\164\40\x31", array("\x3a\151\144" => intval($_GPC["\x6f\162\x64\145\x72\151\x64"])))) { goto i2EyI; } goto kv6G0; WpE0D: $params["\x6d\x6f\144\165\x6c\145"] = $this->module["\156\x61\155\x65"]; goto TA3HR; hsxF0: exit; goto RP13i; koO9O: if (!empty($log)) { goto FdUdK; } goto k6tSu; UBYMl: isset($_GPC["\x6f\x64\157\155\141\151\156"]) && ($_SESSION["\x6f\x64\x6f\155\x61\x69\156"] = $_GPC["\x6f\x64\157\155\x61\151\156"]); goto EYwSM; I14FQ: message("\346\x94\257\344\xbb\x98\345\x8f\202\346\225\260\xe9\x94\x99\xe8\257\xaf"); goto sSaKc; uG7De: VcsSc: goto LIb41; k6tSu: $log = array("\165\156\x69\141\x63\151\x64" => $_W["\x75\156\151\141\x63\x69\x64"], "\x61\143\x69\x64" => $_W["\141\x63\x69\x64"], "\x6f\x70\x65\156\x69\x64" => $_W["\x6d\x65\155\142\145\x72"]["\x75\151\x64"], "\155\x6f\144\165\x6c\145" => $this->module["\156\141\155\x65"], "\164\x69\x64" => $params["\x74\151\144"], "\146\145\x65" => $params["\x66\x65\145"], "\x63\141\x72\144\137\x66\145\145" => $params["\x66\145\145"], "\x73\x74\x61\x74\x75\163" => "\60", "\151\x73\x5f\165\x73\145\143\x61\162\x64" => "\x30"); goto RFT4K; EYwSM: if (empty($setting["\x77\145\x63\x68\141\164\160\141\171"])) { goto wd3KS; } goto dDqca; RP13i: goto C6OXq; goto shIcN; RFT4K: pdo_insert("\x63\157\x72\x65\x5f\x70\x61\171\154\157\x67", $log); goto dr0on; gdPRX: message("\350\xbf\231\344\270\252\350\xae\242\345\215\225\xe5\267\xb2\xe7\273\217\xe6\224\xaf\xe4\273\x98\346\x88\220\xe5\212\237\x2c\40\xe4\xb8\x8d\xe9\x9c\200\xe8\xa6\x81\xe9\x87\x8d\xe5\244\215\xe6\224\xaf\xe4\xbb\230\x2e"); goto OziBZ; sSZBX: KNJ5H: goto WpE0D; hgVZU: if ($setting = parent::getSetting()) { goto GeIC_; } goto dY_2u; v69IF: $params = array("\164\x69\x64" => $order["\164\151\x64"], "\157\162\x64\x65\x72\163\x6e" => $order["\164\x69\144"], "\164\x69\x74\x6c\145" => $title, "\x66\x65\x65" => $order["\146\145\145"]); goto UBYMl; a57ms: eKAT0: goto KxxZn; YsOfI: GeIC_: goto TOaoF; GN9fb: i2EyI: goto lvkjd; ErrHY: message("\xe8\256\xa2\345\215\225\345\xb7\xb2\347\273\x8f\346\224\xaf\xe4\273\230"); goto a57ms; MWkb5: $this->pay($params); goto UrS7i; KxxZn: $title = empty($order["\141\x63\164\151\157\x6e\x73"]) ? "\346\xb4\xbb\xe5\212\250\347\xa7\257\345\210\x86\345\x85\x85\345\x80\274" : "\346\xb4\xbb\345\x8a\250\xe7\xa4\274\xe7\x89\251\xe8\xb4\255\344\271\260"; goto gksG7; EJEVY: zEOrN: goto mCGMH; TOaoF: if (!empty($_GPC["\157\162\144\x65\x72\x69\x64"])) { goto rQPB5; } goto I14FQ; r9pc3: header("\x6c\157\x63\141\x74\151\x6f\x6e\72" . url("\x6d\x63\57\x63\x61\x73\150\57\167\145\x63\150\141\x74", array("\x70\141\x72\x61\155\x73" => $payparams))); goto hsxF0; Sm2t0: message("\346\x94\257\xe4\xbb\230\351\224\231\xe8\257\257\x2c\40\xe9\207\x91\xe9\xa2\235\345\260\217\xe4\xba\216\x30"); goto uG7De; lvkjd: if (empty($order["\x73\164\x61\164\165\163"])) { goto eKAT0; } goto ErrHY; gksG7: $order["\141\143\164\151\x6f\156\x73"] == 2 && ($title = "\346\x8a\xa5\xe5\x90\x8d\xe8\264\271\347\224\250\346\224\xaf\xe4\273\x98"); goto v69IF; FFtBx: goto zEOrN; goto GN9fb; dY_2u: message("\xe6\224\xaf\344\273\x98\xe5\244\xb1\350\264\xa5\54\xe6\262\xa1\xe6\x9c\x89\xe6\211\xbe\345\210\260\xe5\217\x82\xe4\xb8\216\xe7\x9a\204\xe6\xb4\xbb\xe5\x8a\xa8"); goto YsOfI; dr0on: FdUdK: goto gfcmU; dDqca: if (!($_W["\143\157\x6e\x74\x61\151\156\145\162"] !== "\x77\x65\143\150\x61\164")) { goto KNJ5H; } goto pEeEE; pEeEE: message("\xe5\xbe\xae\xe4\xbf\xa1\346\x94\xaf\xe4\xbb\230\xe5\x8f\252\xe8\x83\xbd\xe5\234\250\xe5\276\256\344\277\xa1\xe9\207\214\344\xbd\277\xe7\x94\xa8"); goto sSZBX; kv6G0: message("\350\xae\xa2\345\215\x95\344\270\x8d\345\xad\230\xe5\x9c\250"); goto FFtBx; gfcmU: if (!($log["\163\164\141\x74\x75\163"] == "\x31")) { goto WXkXE; } goto gdPRX; TH5Sx: $payparams = base64_encode(json_encode($params)); goto r9pc3; LIb41: $log = pdo_get("\x63\157\x72\145\x5f\160\x61\x79\x6c\157\147", array("\165\x6e\151\x61\143\151\x64" => $_W["\165\156\x69\x61\x63\x69\x64"], "\x6d\x6f\x64\165\x6c\145" => $params["\155\157\x64\x75\x6c\145"], "\164\x69\x64" => $params["\x74\x69\144"])); goto koO9O; mCGMH: } public function doMobileGetPoster() { $setting = parent::getSetting(); $this->Xiaof->funcDrawPoster("\346\xbc\x94\xe7\xa4\272", 0, MODULE_ROOT . "\57\162\145\x73\x6f\165\x72\x63\x65\x73\57\x69\x6d\141\x67\x65\57\160\x6f\x73\x74\x65\x72\160\151\x63\x2e\x6a\160\x67", self::appUrl("\x67\145\x74\161\162\143\x6f\144\x65", "\x78\151\x61\x6f\x66\x5f\x74\x6f\x75\160\151\x61\x6f", "\x26\165\162\x6c\x3d" . urlencode($this->appUrl("\x69\x6e\144\145\170")) . ''), $setting, true); } public function doMobileGetqrcode() { goto NUU0G; D1dSS: exit; goto hKYlq; UiCSJ: QRcode::png($url, false, $errorCorrectionLevel, $matrixPointSize, 2); goto D1dSS; NUU0G: global $_GPC; goto WkB_6; E0EGj: require IA_ROOT . "\57\x66\162\x61\155\145\167\157\162\153\x2f\154\151\142\x72\141\x72\171\57\161\x72\x63\157\144\x65\x2f\160\150\x70\x71\x72\x63\x6f\x64\x65\56\160\150\160"; goto n9WF5; WkB_6: $url = urldecode($_GPC["\x75\x72\x6c"]); goto E0EGj; SWlDZ: $matrixPointSize = "\64"; goto UiCSJ; n9WF5: $errorCorrectionLevel = "\114"; goto SWlDZ; hKYlq: } public function doMobileToken() { goto LXy_P; m_kSa: $filelimit = empty($setting["\x76\151\144\x65\x6f\146\x69\154\145\x73\x69\172\145"]) ? 200 : $setting["\x76\x69\144\x65\157\146\151\154\145\x73\x69\172\x65"]; goto R11Lw; GiJAu: exit; goto u3qIo; YogCk: require_once IA_ROOT . "\57\x66\x72\x61\x6d\x65\x77\157\x72\x6b\x2f\x6c\151\x62\162\x61\162\x79\57\x71\x69\156\x69\165\57\141\165\164\x6f\x6c\x6f\x61\144\56\160\150\x70"; goto fcg9W; J6bFk: $policy["\x70\x65\162\x73\x69\163\x74\145\156\x74\x4f\x70\163"] = "\x61\x76\164\150\x75\155\142\x2f\x6d\x70\x34\x2f\x73\57\x37\x32\x30\x78\61\62\70\x30\57\141\165\164\157\163\143\141\x6c\x65\57\61\x2f\x76\142\57\x35\61\62\x6b\x2f\x74\x2f" . $videotime . "\x2f\x72\157\x74\x61\x74\x65\57\141\165\164\157\x7c\163\141\x76\145\141\163\57" . $savekey; goto UyMkn; LXy_P: $setting = parent::getSetting(); goto YogCk; UyMkn: empty($this->module["\143\157\156\146\151\147"]["\x71\151\x6e\151\x75\x70\x69\160\x65\154\x69\x6e\145"]) or $policy["\x70\145\162\163\x69\163\164\145\156\x74\x50\x69\160\145\154\x69\156\x65"] = $this->module["\x63\x6f\x6e\x66\151\x67"]["\x71\151\x6e\151\165\x70\x69\x70\145\x6c\151\156\x65"]; goto jILSk; R11Lw: $videotime = empty($setting["\166\151\x64\x65\x6f\164\151\155\145"]) ? 300 : $setting["\166\151\x64\x65\157\x74\151\x6d\x65"]; goto Y30EW; CQCQS: $nfile = random(30) . "\x2e\x6d\160\64"; goto gSqeA; jILSk: $_SESSION["\161\x69\156\x69\x75\153\x65\171"] = $nfile; goto g2LGu; USi9N: $savekey = Qiniu\base64_urlSafeEncode($this->module["\x63\157\x6e\146\x69\147"]["\x71\x69\156\151\165\x7a\157\156\x65"] . "\72" . $nfile); goto SG27L; SG27L: $policy["\144\145\141\x64\154\151\x6e\145"] = TIMESTAMP + 300; goto m_kSa; eWWM1: $policy["\162\145\164\x75\162\x6e\102\157\144\x79"] = json_encode(array("\x6b\145\x79" => "\44\x28\x6b\145\x79\x29")); goto J6bFk; g2LGu: echo $auth->uploadToken($this->module["\143\157\156\146\x69\x67"]["\161\x69\156\151\x75\172\157\156\145"], null, 3600, $policy); goto GiJAu; Y30EW: $policy["\146\x73\x69\x7a\145\x4c\x69\x6d\x69\164"] = $filelimit * 1048576; goto IvI42; IvI42: $policy["\x6d\x69\x6d\145\114\x69\x6d\x69\x74"] = "\x76\151\144\x65\x6f\57\52"; goto eWWM1; gSqeA: $policy = array(); goto USi9N; fcg9W: $auth = new Qiniu\Auth($this->module["\x63\x6f\156\x66\x69\147"]["\161\x69\x6e\x69\165\141\x6b"], $this->module["\x63\157\156\x66\x69\x67"]["\161\x69\156\151\165\x73\x6b"]); goto CQCQS; u3qIo: } public function doMobileVerification() { goto FX6OK; gkIN7: fH20P: goto A8cxh; RC4C7: message("\xe8\xaf\xb7\xe5\x9c\250\xe6\x82\xa8\345\276\xae\xe4\xbf\xa1\351\x87\x8c\346\x89\x93\xe5\xbc\x80\346\234\254\351\241\265\xe9\235\242"); goto Xoeav; U9vTk: foreach ($list as &$row) { goto KtGqg; rQVR2: $row["\x70\151\x63"] = empty($row["\160\151\x63"]) ? MODULE_URL . "\x74\145\155\x70\x6c\141\x74\x65\57\155\157\x62\x69\154\145\57\160\x69\143\x74\x75\x72\x65\57\x74\x70\172\x71\x2e\x6a\x70\147" : tomedia($row["\160\151\x63"]); goto pHDAw; pHDAw: OSby7: goto k0BGA; KtGqg: $row["\160\x69\143"] = $setting["\160\x72\151\172\x65"][$row["\x70\x72\151\x7a\145\151\x64"]]["\x70\151\143"]; goto rQVR2; k0BGA: } goto uPNTt; m94Rb: $verificationuserinfo["\165\x73\x65\162\x6e\x61\155\145"] = $verificationuser["\165\x73\145\162\x6e\141\155\145"]; goto eKwe8; vxowy: if ($setting = parent::getSetting()) { goto lHHJt; } goto JLDiU; Xk_tH: QCSvr: goto poyxo; oUIjR: vRcMn: goto b7fIj; g1hyd: pLuhY: goto Q5msU; uPNTt: EoT0Y: goto mTbmD; NsmRB: if (isset($_GPC["\144\162\x61\x77\x64\141\x74\x61"])) { goto vRcMn; } goto FXsME; rffIQ: if (!($drawdata["\x74"] <= TIMESTAMP - 300)) { goto UZHGP; } goto V6YRd; FX6OK: global $_GPC, $_W; goto BLL64; FXsME: message("\xe5\267\262\xe5\xae\214\xe6\210\x90", self::appUrl("\x76\145\162\x69\146\x69\143\x61\x74\151\157\156")); goto wQSgp; poyxo: bqL_o: goto yXO3w; BkJtI: include $this->template($setting["\x74\145\x6d\x70\x6c\141\164\145"] . "\x76\x65\162\151\146\x69\x63\141\164\x69\x6f\156"); goto GNyaG; smpXt: message("\347\262\x89\xe4\xb8\x9d\345\x8f\x82\xe6\225\260\xe9\x94\231\350\257\xaf\xef\xbc\x8c\350\xaf\267\345\210\267\xe6\x96\260\351\x87\x8d\346\x96\260\xe7\224\x9f\xe6\x88\220\xe6\xa0\xb8\xe9\224\x80\344\272\214\xe7\273\xb4\xe7\xa0\x81", self::appUrl("\166\145\162\x69\x66\151\x63\141\x74\151\157\x6e")); goto zkBLG; JLDiU: message("\xe6\x9c\252\xe6\211\xbe\345\x88\260\346\xb4\273\345\x8a\250"); goto QISNW; ynAiR: message("\346\x9c\xaa\345\xbc\200\345\220\xaf\xe4\xba\x8c\xe7\xbb\xb4\347\240\201\xe6\240\xb8\351\x94\x80"); goto l_3pR; BLL64: if (!($_W["\143\157\x6e\164\141\x69\x6e\x65\162"] != "\167\145\x63\150\141\164")) { goto XklTM; } goto RC4C7; lkPxl: $avatar = self::getUserinfo("\x61\x76\141\164\x61\162"); goto eKiC6; Xoeav: XklTM: goto vxowy; l3Nps: P7nwG: goto O9cyp; wQSgp: goto bqL_o; goto oUIjR; Q5msU: ZAajR: goto Xk_tH; sI0JM: if (isset($_GPC["\151\x64"])) { goto g0pwR; } goto lkPxl; l_3pR: SEPrh: goto cBmRJ; Jnknf: message("\346\240\270\351\x94\200\346\210\x90\345\212\x9f", self::appUrl("\166\x65\x72\x69\146\151\x63\141\x74\x69\157\x6e")); goto g1hyd; LNuNv: Wks6x: goto Ccx4L; WOmNO: $verificationuserinfo = array(); goto gkIN7; O9cyp: $list = pdo_fetchall("\x53\105\114\x45\103\124\x20\x2a\40\106\122\117\115\x20" . tablename("\x78\x69\x61\157\x66\x5f\x74\x6f\165\x70\x69\141\157\x5f\144\162\141\x77") . "\40\127\x48\x45\x52\105\x20\x60\163\x69\144\x60\40\75\40\47" . $setting["\x69\144"] . "\x27\x20\101\116\x44\x20\x60\x72\x69\x64\140\x20\x3d\40\x27" . $drawdata["\162\151\144"] . "\x27\x20\101\116\104\x20\140\x61\164\x74\x72\x60\x20\x3d\40\x27\x31\x27\40\x61\156\144\40\x60\x75\x73\x65\x73\x60\x20\75\40\x27\x32\x27\x20\117\x52\x44\105\122\40\x42\x59\40\140\151\144\x60\40\104\105\123\103"); goto sI0JM; AjGtd: if (!isset($_SESSION["\166\145\162\151\x66\151\x63\141\x74\x69\157\156\x75\x73\x65\162\x73"])) { goto axDfP; } goto jxhNB; A8cxh: bPYZl: goto eLnYQ; jhtLn: $token = md5(CLIENT_IP . $verificationuser["\163\141\x6c\164"] . $verificationuser["\151\144"] . $_SERVER["\x48\x54\124\120\x5f\125\123\105\x52\x5f\x41\107\105\x4e\x54"]); goto m94Rb; scpVU: if ($verificationuser = pdo_fetch("\x53\x45\114\x45\x43\124\40\52\x20\x46\122\x4f\x4d\40" . tablename("\170\151\141\157\x66\137\164\x6f\165\160\151\141\157\x5f\x76\145\x72\x69\146\x69\143\141\164\x69\157\156\165\x73\145\x72") . "\x20\x57\x48\105\x52\105\x20\x60\x69\144\x60\40\x3d\x20\72\x69\144\x20\x6c\151\155\x69\164\x20\x31", array("\72\x69\x64" => $verificationuserinfo["\x76\151\144"]))) { goto ZoapP; } goto p9rB7; LyCVW: message("\346\240\xb8\351\224\200\xe7\x94\250\xe6\210\267\351\x94\231\xe8\257\xaf"); goto LNuNv; DDeky: $relationcondition = "\x20\x60\162\151\x64\x60\x20\75\x20\72\162\151\x64\x20\101\x4e\x44\x20\140\165\x6e\151\x61\x63\151\144\140\x20\x3d\40\72\165\156\x69\x61\143\x69\x64\x20\x41\116\x44\x20\140\157\141\x75\164\x68\137\x6f\160\x65\156\151\x64\x60\x20\75\40\72\157\x61\165\164\x68\x5f\x6f\160\145\156\x69\144\40\x4f\122\104\105\122\40\x42\131\40\x60\x69\144\x60\x20\x44\x45\123\103\40"; goto iikAr; wIiED: if ($rid = self::getUserinfo("\x72\x69\144")) { goto Wks6x; } goto LyCVW; bvkld: if ($relationitems = pdo_fetch("\123\105\x4c\105\103\x54\x20\52\40\106\122\117\115\40" . tablename(self::splittingtable("\x78\x69\141\157\x66\137\162\145\x6c\x61\164\x69\157\x6e")) . "\40\x57\x48\x45\122\x45\40" . $relationcondition . "\x20\x6c\x69\x6d\x69\164\x20\61", $relationpars)) { goto P7nwG; } goto smpXt; QUK84: message("\xe5\x8f\202\346\225\xb0\xe9\224\231\xe8\xaf\xaf\357\274\x8c\350\xaf\267\345\x88\xb7\346\226\260\xe9\x87\215\xe6\x96\xb0\xe7\224\237\346\210\x90\xe6\240\xb8\351\224\x80\xe4\272\x8c\xe7\xbb\264\347\240\201", self::appUrl("\x76\145\162\151\146\151\x63\141\164\151\157\x6e")); goto DGpfG; jxhNB: $verificationuserinfo = iunserializer($_SESSION["\166\145\162\151\x66\x69\143\141\164\x69\x6f\x6e\x75\163\x65\162\x73"]); goto scpVU; GNYDM: UZHGP: goto DDeky; GNyaG: goto pLuhY; goto Nk_nd; QISNW: lHHJt: goto wIiED; eKiC6: $nickname = self::getUserinfo("\156\151\143\x6b\x6e\141\x6d\145"); goto U9vTk; f3TGF: Zna6G: goto rffIQ; iikAr: $relationpars = array("\x3a\x72\x69\144" => $drawdata["\x72\x69\144"], "\x3a\x75\x6e\151\x61\143\151\x64" => $_W["\165\156\151\141\x63\x69\x64"], "\72\x6f\141\165\164\x68\x5f\157\160\145\156\151\x64" => $drawdata["\157\160\145\156\151\144"]); goto bvkld; b7fIj: $drawdata = authcode(base64_decode(urldecode($_GPC["\144\x72\x61\x77\144\141\164\x61"])), "\104\105\103\x4f\x44\x45", md5($_W["\165\x6e\151\x61\x63\x69\144"] . $_W["\x63\x6f\156\146\151\x67"]["\x73\145\164\x74\151\x6e\x67"]["\141\165\x74\x68\x6b\x65\171"] . "\x78\x69\x61\157\146\166\145\x72\151\x66\x69\143\x61\x74\151\x6f\156" . $setting["\151\144"])); goto RHjpz; Py9Yl: ZoapP: goto jhtLn; mTbmD: $verificationurl = self::appUrl("\x76\145\162\151\146\x69\143\x61\164\151\157\156", "\x78\x69\x61\x6f\146\x5f\x74\x6f\165\x70\x69\141\157", "\x26\x64\162\141\x77\x64\x61\x74\141\x3d" . $_GPC["\144\x72\141\167\144\141\x74\x61"] . "\x26\x69\x64\75" . $verificationuserinfo["\166\x69\144"]); goto BkJtI; V6YRd: message("\xe4\272\x8c\xe7\273\xb4\xe7\xa0\x81\xe5\xb7\262\xe8\277\207\xe6\234\x9f\xef\274\214\350\xaf\267\345\210\xb7\xe6\x96\xb0\351\207\215\346\x96\xb0\xe7\x94\237\346\x88\220\xe6\240\xb8\351\x94\x80\344\xba\x8c\347\273\264\xe7\240\x81"); goto GNYDM; eKwe8: if (!($verificationuserinfo["\x74\x6f\153\145\156"] !== $token)) { goto fH20P; } goto ifAWK; eLnYQ: axDfP: goto NsmRB; lH4_e: WCnRl: goto Jnknf; DGpfG: goto QCSvr; goto f3TGF; ifAWK: unset($_SESSION["\166\x65\x72\x69\146\x69\x63\141\164\x69\x6f\x6e\x75\x73\x65\x72\163"]); goto WOmNO; cBmRJ: $verificationuserinfo = array(); goto AjGtd; Ccx4L: if (!empty($setting["\x6f\x70\145\156\x64\x72\x61\x77\141\144\155\x69\x6e"])) { goto SEPrh; } goto ynAiR; p9rB7: $verificationuserinfo = array(); goto pAtfL; Nk_nd: g0pwR: goto sfVgL; sfVgL: foreach ($list as $row) { pdo_update("\170\x69\x61\157\x66\x5f\x74\157\165\x70\x69\141\157\x5f\x64\162\141\x77", array("\x75\x73\x65\x73" => "\x31", "\x76\165\x73\x65\x72\156\x61\x6d\145" => $verificationuserinfo["\165\x73\x65\162\x6e\141\155\145"], "\142\x64\145\154\145\164\145\137\141\164" => time()), array("\x69\x64" => $row["\x69\x64"])); qK2pL: } goto lH4_e; pAtfL: goto bPYZl; goto Py9Yl; RHjpz: if ($drawdata = iunserializer($drawdata)) { goto Zna6G; } goto QUK84; zkBLG: goto ZAajR; goto l3Nps; yXO3w: } public function doMobileVerificationlogin() { goto EecfF; IwJmk: if ($setting = parent::getSetting()) { goto Ht1O8; } goto DGPGy; iqC_d: if ($password === $verificationuser["\160\x61\x73\x73\167\157\162\144"]) { goto ykQGr; } goto ad6y6; Qb_MB: goto cBcmg; goto PwVYc; znutD: exit(json_encode(error(102, "\347\231\xbb\351\x99\x86\345\xa4\xb1\xe8\xb4\245"))); goto lRIiD; uxH79: exit(json_encode(error(102, "\347\x99\xbb\351\x99\206\xe5\217\x82\xe6\x95\260\351\224\231\350\257\xaf"))); goto sTcdQ; Fvzhz: $verificationuserinfo["\166\151\144"] = $verificationuser["\151\x64"]; goto sHU3R; jl14N: if ($rid = self::getUserinfo("\x72\x69\144")) { goto ITnc9; } goto QyOHJ; sm_yg: $_SESSION["\x76\x65\162\151\x66\151\x63\141\x74\x69\x6f\x6e\165\163\x65\x72\x73"] = iserializer($verificationuserinfo); goto Rskjv; er2tm: eapfa: goto xcYYL; aMcit: ITnc9: goto QVxfc; JTb2v: Wz4YV: goto IwJmk; OUw6u: Ht1O8: goto jl14N; zI8Te: $password = md5(md5($_GPC["\x70\x61\x73\163\167\157\162\x64"] . $verificationuser["\x73\x61\154\x74"] . $_W["\x63\x6f\156\x66\151\147"]["\163\145\x74\x74\151\x6e\147"]["\141\x75\x74\x68\x6b\x65\x79"])); goto iqC_d; lRIiD: goto lOANN; goto JnUYG; h9m1c: XRcux: goto er2tm; sTcdQ: VPpGs: goto tNw6i; sHU3R: $verificationuserinfo["\x74\157\x6b\x65\156"] = md5(CLIENT_IP . $verificationuser["\163\141\x6c\164"] . $verificationuser["\151\144"] . $_SERVER["\x48\x54\x54\x50\x5f\x55\x53\x45\x52\x5f\101\x47\x45\116\124"]); goto sm_yg; dpVJP: cBcmg: goto fX0wf; fX0wf: lOANN: goto xApHw; xcYYL: if ($verificationuser = pdo_fetch("\x53\x45\x4c\x45\x43\124\x20\x2a\40\106\122\117\x4d\x20" . tablename("\170\151\x61\x6f\146\x5f\x74\157\165\x70\151\x61\157\x5f\x76\145\162\151\x66\151\143\141\164\151\157\156\165\x73\x65\162") . "\x20\127\110\x45\122\105\x20\140\x75\163\x65\162\156\141\155\145\x60\40\75\x20\x3a\x75\x73\x65\162\x6e\x61\x6d\x65\40\x6c\151\155\x69\164\40\x31", array("\72\x75\163\145\162\156\141\x6d\x65" => $_GPC["\165\163\145\162\x6e\141\x6d\x65"]))) { goto w1Q2R; } goto y9Uxh; QlDXX: if (!($errorcount = pdo_fetchcolumn("\123\x45\114\105\x43\124\40\x63\157\165\x6e\x74\x28\52\51\x20\x46\x52\x4f\115\x20" . tablename("\x78\x69\141\x6f\x66\137\x74\157\165\160\151\141\x6f\x5f\x76\x65\x72\x69\146\x69\143\141\164\x69\x6f\156\165\x73\x65\x72\x6c\x6f\147") . "\40\x57\x48\105\122\x45\40\x60\162\x69\144\140\40\x3d\x20\72\x72\151\144\40\x41\x4e\x44\x20\x60\163\x74\x61\x74\165\x73\x60\x20\75\40\47\61\x27\40\x41\x4e\x44\x20\140\x63\162\145\141\x74\145\137\141\164\140\x20\x3e\75\x20\x27" . $upt . "\47", array("\72\162\151\144" => $rid)))) { goto eapfa; } goto gMWsk; NfoUm: $verificationuserinfo = array(); goto Fvzhz; ad6y6: pdo_insert("\170\151\x61\x6f\x66\137\x74\157\165\160\x69\141\x6f\x5f\x76\x65\162\x69\x66\x69\143\x61\x74\151\157\156\x75\x73\x65\x72\x6c\x6f\x67", array("\165\151\x64" => $verificationuser["\151\x64"], "\162\151\x64" => $rid, "\x6f\160\x65\x6e\151\x64" => self::getUserinfo("\157\x70\145\156\151\x64"), "\x6e\151\143\x6b\x6e\x61\x6d\145" => self::getUserinfo("\156\x69\143\153\156\141\x6d\x65"), "\141\x76\x61\x74\x61\162" => self::getUserinfo("\x61\x76\141\x74\141\162"), "\151\x70" => CLIENT_IP, "\x73\164\x61\x74\x75\x73" => 1, "\143\162\x65\141\x74\x65\x5f\x61\x74" => TIMESTAMP)); goto FLefd; DGPGy: exit(json_encode(error(102, "\xe6\234\252\346\211\276\xe5\x88\260\346\264\273\345\212\xa8"))); goto OUw6u; oFntS: $upt = TIMESTAMP - 3600; goto QlDXX; gUHLK: exit(json_encode(error(102, "\346\x82\xa8\344\270\x80\345\260\x8f\346\x97\xb6\xe5\206\x85\xe7\231\xbb\xe9\231\x86\xe9\224\x99\xe8\xaf\257\350\xb6\205\xe8\277\x87\65\xe6\254\xa1\xef\274\214\xe5\xb7\xb2\xe7\xa6\x81\346\255\xa2\xe7\x99\xbb\351\x99\206\357\274\x8c\xe7\250\215\345\x90\x8e\xe9\207\215\350\257\x95"))); goto h9m1c; gMWsk: if (!($errorcount >= 5)) { goto XRcux; } goto gUHLK; tNw6i: if (!empty($setting["\x6f\160\x65\156\144\x72\141\167\141\144\155\x69\x6e"])) { goto a__Li; } goto tkV83; FLefd: exit(json_encode(error(102, "\xe7\231\xbb\xe9\231\x86\xe5\244\261\350\xb4\245"))); goto Qb_MB; y9Uxh: pdo_insert("\x78\151\x61\157\146\x5f\164\157\165\x70\151\141\157\x5f\166\145\x72\x69\146\x69\143\141\164\x69\157\x6e\x75\163\x65\162\x6c\x6f\x67", array("\x75\151\x64" => 0, "\x72\151\x64" => $rid, "\157\160\x65\156\x69\x64" => self::getUserinfo("\x6f\160\145\x6e\151\144"), "\156\x69\143\x6b\156\141\155\145" => self::getUserinfo("\156\x69\x63\x6b\x6e\141\x6d\145"), "\141\166\x61\x74\x61\x72" => self::getUserinfo("\x61\166\141\x74\141\x72"), "\x69\160" => CLIENT_IP, "\163\164\141\x74\165\x73" => 1, "\143\162\x65\141\164\145\x5f\x61\164" => TIMESTAMP)); goto znutD; QyOHJ: exit(json_encode(error(102, "\346\240\xb8\351\x94\x80\347\x94\250\346\210\xb7\xe9\224\231\350\257\257"))); goto aMcit; D8lhh: a__Li: goto oFntS; PwVYc: ykQGr: goto NfoUm; QVxfc: if (!(empty($_GPC["\x75\x73\145\x72\156\141\x6d\145"]) or empty($_GPC["\x70\x61\x73\x73\x77\x6f\x72\x64"]))) { goto VPpGs; } goto uxH79; Rskjv: pdo_insert("\170\x69\x61\x6f\x66\137\x74\157\165\160\x69\141\157\x5f\166\145\x72\151\x66\151\x63\141\164\x69\x6f\156\x75\163\x65\162\154\157\x67", array("\165\x69\144" => $verificationuser["\151\144"], "\x72\151\x64" => $rid, "\x6f\160\x65\156\x69\144" => self::getUserinfo("\157\160\x65\x6e\x69\144"), "\x6e\x69\x63\x6b\156\141\155\x65" => self::getUserinfo("\156\151\x63\153\156\141\x6d\x65"), "\x61\x76\141\164\141\x72" => self::getUserinfo("\141\166\x61\x74\x61\x72"), "\151\160" => CLIENT_IP, "\163\x74\141\x74\x75\x73" => 0, "\x63\162\x65\141\164\145\x5f\x61\x74" => TIMESTAMP)); goto fQAXC; btkAO: exit(json_encode(error(102, "\xe8\xaf\xb7\345\234\xa8\xe6\202\250\345\xbe\256\344\277\xa1\351\207\x8c\346\211\x93\xe5\274\x80\xe6\234\254\351\xa1\265\351\x9d\xa2"))); goto JTb2v; fQAXC: exit(json_encode(error(0, "\xe7\x99\273\xe9\x99\206\xe6\x88\220\xe5\212\x9f"))); goto dpVJP; EecfF: global $_GPC, $_W; goto FUrWt; JnUYG: w1Q2R: goto zI8Te; FUrWt: if (!($_W["\x63\157\156\x74\x61\x69\x6e\145\162"] != "\167\145\143\x68\141\x74")) { goto Wz4YV; } goto btkAO; tkV83: exit(json_encode(error(102, "\346\x9c\xaa\xe5\274\x80\345\x90\xaf\344\272\214\xe7\273\264\xe7\240\x81\346\xa0\xb8\351\224\200"))); goto D8lhh; xApHw: } public function doMobileAjaxsearch() { goto z8fEf; s4Tfu: gJZmy: goto ozEG4; c3FuV: goto CVr3L; goto gyHAA; RsjoT: echo json_encode(error(0, $lists)); goto tx_1W; lp3r2: if (!($_W["\143\x6f\156\164\141\x69\x6e\x65\x72"] != "\167\145\143\150\x61\x74")) { goto gJZmy; } goto dFPPI; dTkfB: YEwLM: goto RsjoT; tGxRH: $condition .= "\40\x41\x4e\x44\x20\50\x60\165\x69\x64\140\x3d\x3a\165\x69\x64\40\117\122\40\140\156\x61\x6d\145\x60\x3d\72\156\x61\x6d\x65\x29\40"; goto AUFkb; Maloa: $lists = pdo_fetchall("\123\105\114\x45\103\124\40\140\151\144\140\54\140\156\141\x6d\x65\140\x2c\x60\165\151\144\x60\54\140\x70\151\x63\140\x20\x46\x52\117\x4d\x20" . tablename("\x78\151\x61\x6f\x66\x5f\x74\x6f\x75\x70\x69\141\157") . $condition . "\x20\117\122\104\x45\x52\40\x42\131\40\x60\151\144\x60\40\104\x45\x53\x43\40\x4c\111\115\x49\x54\40\x38", $pars); goto WZFvK; gyHAA: T3jbA: goto tGxRH; QWj3e: cnBqE: goto YedDJ; z8fEf: global $_GPC, $_W; goto lp3r2; XGTPb: if (empty($this->module["\143\157\x6e\x66\x69\147"]["\x66\x75\172\x7a\x79\x73\x65\x61\x72\143\150"])) { goto T3jbA; } goto oMQ6E; tx_1W: exit; goto mGwHi; uPqRh: $pars["\72\156\x61\155\145"] = "\45" . $_GPC["\153\x65\171"] . "\45"; goto c3FuV; ozEG4: if ($setting = parent::getSetting()) { goto cnBqE; } goto UzVy2; YedDJ: $condition = "\x20\x57\110\105\122\105\40\x60\x73\x69\144\x60\x3d\72\x73\x69\x64"; goto ZrADp; a0vmU: CVr3L: goto F3V6I; WZFvK: foreach ($lists as &$uservalue) { $uservalue["\x70\x69\x63"] = tomedia($uservalue["\x70\x69\143"]); J1QnL: } goto dTkfB; oMQ6E: $condition .= "\40\101\116\104\40\50\140\165\x69\144\140\x3d\72\165\x69\144\x20\117\122\x20\x60\156\x61\x6d\145\140\x20\x6c\x69\153\145\x20\72\x6e\x61\155\145\51\x20"; goto uPqRh; F3V6I: $pars["\72\x75\x69\144"] = $_GPC["\153\145\x79"]; goto Maloa; dFPPI: exit(json_encode(error(-1, "\350\xaf\xb7\345\234\250\xe6\x82\250\xe5\xbe\256\344\xbf\xa1\351\207\214\xe6\211\223\345\xbc\x80\xe6\220\x9c\347\xb4\xa2"))); goto s4Tfu; AUFkb: $pars["\72\x6e\141\x6d\x65"] = $_GPC["\153\145\171"]; goto a0vmU; ZrADp: $pars = array("\x3a\163\x69\x64" => $setting["\x69\x64"]); goto XGTPb; UzVy2: exit(json_encode(error(-1, "\xe6\234\252\346\211\xbe\345\210\260\xe6\xb4\xbb\345\212\250"))); goto QWj3e; mGwHi: } public function doMobileAjaxgivinglog() { goto sjLbD; k8i7l: if (!($givinglog = pdo_fetchall("\123\x45\114\x45\103\124\x20\52\x20\106\122\x4f\115\40" . tablename("\170\x69\x61\x6f\x66\x5f\x74\157\165\x70\151\x61\x6f\x5f\x67\x69\166\x69\156\147") . "\40\127\110\x45\122\x45\x20\140\163\151\x64\x60\40\75\x20\x3a\163\151\x64\x20\x41\x4e\x44\40\x60\x70\x69\x64\x60\40\75\40\72\160\x69\x64\x20\x4f\122\x44\105\x52\x20\x42\131\40\x60\165\x73\145\x5f\x61\164\x60\40\104\x45\x53\103\x20\154\x69\x6d\151\164\x20" . ($pindex - 1) * $psize . "\54" . $psize, array("\72\x73\x69\x64" => $setting["\x69\144"], "\x3a\x70\151\144" => intval($_GPC["\x70\x69\x64"]))))) { goto w4j6I; } goto COlhQ; Z3R4A: exit(json_encode(error(0, $html))); goto LU8w9; hpP7j: exit(json_encode(error(-1, "\xe6\234\xaa\346\x89\xbe\345\x88\xb0\xe6\xb4\xbb\xe5\x8a\250"))); goto x9e2Z; dQOsZ: Wekkc: goto J5g2m; HBOrv: w4j6I: goto XQHct; x9e2Z: C1Bnt: goto jkHxA; XCXAN: $pindex = max(2, intval($_GPC["\x70\x61\147\x65"])); goto elRxQ; XQHct: if (!empty($html)) { goto sX763; } goto TZWEV; COlhQ: foreach ($givinglog as $givingitem) { goto eO6FY; eO6FY: $givingdata = iunserializer($givingitem["\144\x61\164\141"]); goto KAk92; Inkn8: $html .= "\x3c\141\x20\150\162\x65\x66\x3d\x22\152\141\166\x61\x73\143\x72\x69\x70\164\72\x76\x6f\x69\x64\x28\60\51\x3b\x22\x20\143\154\x61\163\x73\75\42\x77\145\x75\x69\55\x6d\145\144\151\141\55\142\x6f\170\x20\167\x65\x75\151\x2d\x6d\x65\x64\151\141\55\x62\x6f\x78\x5f\141\160\x70\x6d\x73\x67\x20\x67\x69\x76\151\x6e\147\x2d\x6c\157\147\55\x6c\151\163\x74\42\x3e\12\x9\x9\11\11\x3c\x64\x69\x76\40\x63\x6c\141\x73\x73\x3d\42\x77\x65\x75\x69\55\x6d\145\144\x69\141\55\x62\157\170\137\137\150\144\42\76\xa\x9\11\x9\x9\11\74\151\155\147\x20\x63\154\x61\163\163\75\42\x77\145\165\x69\55\155\x65\x64\151\x61\x2d\x62\157\170\x5f\137\x74\x68\x75\155\142\x22\40\163\162\143\75\42" . $givingitem["\141\x76\141\164\x61\x72"] . "\42\x3e\12\x9\11\x9\11\x3c\x2f\x64\x69\x76\76\12\11\x9\x9\11\x3c\x64\x69\166\40\143\x6c\x61\x73\163\x3d\42\x67\x69\166\151\x6e\x67\x2d\154\157\147\55\151\156\146\157\x22\76\xa\x9\11\11\x9\x9\x3c\150\64\40\x63\x6c\141\163\163\75\42\167\145\165\151\x2d\x6d\145\x64\x69\x61\55\x62\157\170\x5f\137\x74\151\x74\x6c\145\42\76" . $givingitem["\156\x69\143\x6b\x6e\141\155\145"] . "\74\x2f\150\x34\76\xa\11\x9\11\11\x9\74\160\x20\143\154\141\163\x73\75\42\x77\x65\165\x69\x2d\x6d\x65\x64\x69\141\55\142\157\170\x5f\x5f\144\145\x73\x63\x22\76" . date("\155\x2d\x64\40\x48\x3a\x69", $givingitem["\165\x73\x65\x5f\x61\164"]) . "\40\350\265\xa0\351\200\x81\xe7\244\274\347\x89\251\x3c\163\160\x61\156\40\x63\154\141\x73\163\x3d\42\147\151\x76\151\156\x67\55\154\157\147\x2d\156\141\x6d\145\x22\76" . $givingitem["\147\151\166\151\156\x67\x5f\156\x61\x6d\145"] . "\74\57\163\160\x61\x6e\x3e\74\x2f\x70\x3e\xa\x9\x9\x9\11\74\x2f\144\x69\x76\76\xa\11\x9\11\11\74\x64\x69\166\40\x63\154\141\163\x73\x3d\x22\x67\x69\x76\151\156\147\x2d\154\157\147\x2d\x70\151\x63\163\x22\76\xa\11\11\11\x9\11\74\x73\160\x61\x6e\x20\x63\x6c\141\163\x73\75\42\x67\x69\x76\151\x6e\x67\55\154\x6f\x67\x2d\160\x69\143\x22\76\x3c\151\x6d\x67\x20\x73\162\x63\75\42" . tomedia($givingdata["\x70\x69\143"]) . "\42\x3e\x3c\57\163\x70\x61\156\76\74\163\160\x61\x6e\40\x63\x6c\x61\163\x73\x3d\42\x67\151\166\x69\x6e\x67\x2d\154\157\147\x2d\156\x75\155\x22\x3e" . $givinglognum . "\74\57\163\160\x61\x6e\x3e\12\x9\x9\11\11\x3c\57\x64\151\x76\x3e\xa\11\x9\11\74\57\141\76"; goto FbMgZ; KAk92: $givinglognum = $setting["\147\151\x76\x69\156\x67\163\145\154\145\143\164\x6e\165\155"] >= 1 ? "\40\170\40" . $givingitem["\147\x69\x76\151\156\x67\x6e\x75\155"] : ''; goto Inkn8; FbMgZ: GnXSu: goto FefXg; FefXg: } goto rmJjW; ThhHH: if (!($_W["\x63\157\156\164\x61\x69\156\x65\x72"] != "\167\x65\x63\150\141\164")) { goto Wekkc; } goto fhRTK; TZWEV: exit(json_encode(error(1, "\x3c\x70\x20\143\x6c\x61\x73\x73\x3d\42\147\157\x76\x69\x6e\x67\55\x6c\157\147\x74\151\160\x73\42\76\xe6\262\241\346\x9c\211\346\x9b\264\345\244\232\xe4\272\206\x3c\x2f\160\x3e"))); goto j3ruf; sjLbD: global $_GPC, $_W; goto ThhHH; rmJjW: deLyO: goto HBOrv; J5g2m: if ($setting = parent::getSetting()) { goto C1Bnt; } goto hpP7j; jkHxA: $html = ''; goto XCXAN; elRxQ: $psize = 6; goto k8i7l; j3ruf: sX763: goto Z3R4A; fhRTK: exit(json_encode(error(-1, "\350\xaf\267\xe5\x9c\250\xe6\202\250\xe5\xbe\256\xe4\277\xa1\xe9\207\x8c\346\x89\223\345\274\x80"))); goto dQOsZ; LU8w9: } public function doMobileGetcaptcha() { goto Ey2YR; qjcu_: $captcha->build(150, 40); goto tyht4; BvoaJ: $_SESSION["\137\x5f\143\157\x64\x65"] = $hash; goto zS5nX; OONuT: load()->classs("\167\x65\x73\x65\163\x73\151\x6f\156"); goto qsHh1; Ey2YR: global $_W; goto y4A9m; zS5nX: $captcha->output(); goto eSQf2; XzkJp: load()->classs("\x63\x61\160\164\143\150\x61"); goto OONuT; hCwvL: isetcookie("\137\137\x63\x6f\x64\x65", $hash); goto BvoaJ; tyht4: $hash = md5(strtolower($captcha->phrase) . $_W["\143\157\x6e\x66\x69\x67"]["\163\145\x74\164\151\156\x67"]["\x61\x75\164\x68\x6b\145\x79"]); goto hCwvL; mTxIU: $captcha = new Captcha(); goto qjcu_; y4A9m: error_reporting(0); goto XzkJp; qsHh1: isset($_SESSION) or WeSession::start($_W["\165\156\151\x61\x63\151\x64"], CLIENT_IP); goto mTxIU; eSQf2: } }