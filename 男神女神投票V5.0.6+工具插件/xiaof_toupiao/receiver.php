<?php
 defined("\x49\x4e\137\111\x41") or exit("\101\x63\143\x65\163\163\x20\x44\x65\x6e\x69\145\144"); class Xiaof_toupiaoModuleReceiver extends WeModuleReceiver { public function receive() { goto WzWmo; EqQn1: $processor = new Xiaof_toupiaoModuleProcessor(); goto TJ1Nw; HuJbu: U2Yla: goto XwsaQ; YgFug: foreach ($unfollowsid as $v) { goto ui4Pn; AVHYx: pdo_update($this->splittingtable("\x78\151\141\157\146\x5f\162\145\x6c\x61\x74\x69\157\x6e", $setting), $sql, array("\165\x6e\151\141\x63\x69\144" => $_W["\165\x6e\x69\141\x63\151\x64"], "\157\x70\145\x6e\151\144" => $this->message["\146\162\157\x6d"])); goto f24Vv; uvN0I: KC6nG: goto CSl1b; ui4Pn: $setting = iunserializer($v["\x64\141\164\x61"]); goto uLgHT; v420s: e30ow: goto tPYS0; uLgHT: $setting["\151\144"] = $v["\x73\151\144"]; goto Yrx5m; qBLSJ: foreach ($unlog as $value) { goto f9Npk; f9Npk: if (!isset($unpid[$value["\160\151\x64"]])) { goto esSXV; } goto Nf5XB; vTfyf: pdo_query("\125\120\104\x41\x54\105\40" . tablename($this->splittingtable("\x78\x69\141\157\146\x5f\x74\x6f\x75\x70\151\141\x6f\137\154\157\x67", $setting)) . "\40\x53\105\124\40\140\166\x61\154\x69\144\140\40\75\x20\x27\x32\47\x20\127\x48\105\x52\105\x20\140\151\x64\140\x20\x3d\x20\47" . $value["\x69\144"] . "\47"); goto DPZsi; DPZsi: KIp5D: goto sBkRZ; THk9p: OkN_L: goto vTfyf; Nf5XB: $unpid[$value["\x70\151\x64"]] = $unpid[$value["\160\151\144"]] + $value["\x6e\165\155"]; goto XFGlO; ISG1W: $unpid[$value["\x70\151\x64"]] = $value["\x6e\165\x6d"]; goto THk9p; XFGlO: goto OkN_L; goto mBnH5; mBnH5: esSXV: goto ISG1W; sBkRZ: } goto B7p_7; E7NF3: foreach ($unpid as $k => $value) { goto geD9b; twJAt: pdo_query("\125\x50\104\x41\124\x45\40" . tablename("\170\151\141\157\x66\x5f\164\x6f\x75\x70\x69\x61\157") . "\40\x53\x45\x54\40" . $condition . "\40\x57\x48\105\x52\x45\40\x60\x69\144\140\x20\75\x20\x27" . $k . "\47"); goto wrg16; wrg16: zDcys: goto pjRX8; geD9b: $condition = "\x60\x67\157\x6f\x64\x60\x20\75\40\147\x6f\x6f\144\55" . $value . "\x20\54\x60\162\x65\x61\154\x67\157\157\x64\x60\x20\x3d\40\x72\x65\x61\154\147\157\x6f\144\x2d" . $value; goto twJAt; pjRX8: } goto lCzQD; B7p_7: CinAv: goto E7NF3; f24Vv: fQWev: goto bLhWt; lCzQD: JRXvJ: goto uvN0I; H8ZX9: $sql["\x66\x6f\154\x6c\157\167"] = 0; goto AVHYx; YM8ki: if (!pdo_tableexists($this->splittingtable("\x78\151\x61\x6f\x66\x5f\x72\145\154\x61\164\151\157\156", $setting))) { goto fQWev; } goto H8ZX9; ErD7C: $unlog = pdo_fetchall("\123\105\x4c\x45\x43\124\40\52\40\x46\x52\x4f\x4d\x20" . tablename($this->splittingtable("\170\151\x61\157\x66\137\x74\x6f\x75\160\151\141\x6f\x5f\x6c\157\x67", $setting)) . "\x20\127\110\x45\x52\x45\x20\x20\x60\x73\x69\x64\x60\40\x3d\40\47" . $v["\x73\x69\x64"] . "\x27\40\101\116\104\x20\140\x76\141\x6c\x69\144\x60\x20\75\40\47\61\x27\x20\x41\116\x44\x20\x60\x6f\160\x65\x6e\151\144\x60\x20\x3d\40\x27" . $this->message["\x66\x72\157\x6d"] . "\x27"); goto A1YzV; CSl1b: if (empty($setting["\163\x70\154\151\164\x74\151\x6e\147\x74\141\142\154\x65"])) { goto CP3yZ; } goto YM8ki; pGDJv: Cz8ij: goto v420s; bLhWt: CP3yZ: goto pGDJv; A1YzV: $unpid = array(); goto qBLSJ; w5Zt7: if (!($v["\x75\x6e\x66\157\x6c\154\157\167"] == 1)) { goto KC6nG; } goto ErD7C; Yrx5m: if (!(strtotime($setting["\145\x6e\144"]) > time())) { goto Cz8ij; } goto w5Zt7; tPYS0: } goto PX3a5; duY7N: $sids = array_unique($sids); goto pJzn4; uf6eT: VzJs5: goto HuJbu; pJzn4: $unfollowsid = pdo_fetchall("\x53\x45\x4c\105\x43\124\x20\x60\x69\144\140\x20\x61\x73\40\x73\151\144\54\x20\x60\x64\141\x74\141\140\54\x20\x60\x75\156\x66\157\154\154\x6f\167\140\40\106\122\117\x4d\40" . tablename("\170\151\x61\157\x66\x5f\x74\x6f\165\160\x69\x61\157\x5f\163\x65\x74\x74\151\x6e\x67") . "\40\127\110\x45\122\105\40\x60\151\x64\x60\40\151\x6e\40\50\47" . implode("\x27\x2c\47", $sids) . "\x27\51"); goto YgFug; YReQG: q7tPB: goto duY7N; KaHzt: $type = $this->message["\164\171\160\x65"]; goto vv91R; mCBWX: $sids = $unsids = array(); goto EiHTL; tlWHC: $bindacidlists = pdo_fetchall("\123\x45\x4c\105\103\124\x20\140\x73\x69\x64\x60\40\x46\122\x4f\115\40" . tablename("\x78\151\141\157\x66\137\164\157\x75\160\x69\141\157\137\x61\x63\151\144") . "\x20\127\110\105\x52\x45\40\140\x61\143\151\144\x60\x20\x3d\x20\x3a\141\x63\x69\x64", array("\x3a\x61\143\x69\144" => $_W["\x75\156\x69\141\143\x69\x64"])); goto PIMDo; PIMDo: foreach ($bindacidlists as $v) { $sids[] = $v["\163\x69\144"]; zaROT: } goto YReQG; WzWmo: global $_W; goto KaHzt; PX3a5: d0jJ0: goto dQ6cA; a5cAP: WAKBz: goto tlWHC; D2kPr: XeCJr: goto jHwZF; TJ1Nw: if (!$this->module["\x63\x6f\x6e\x66\x69\x67"]["\x61\x63\x74\151\166\x69\164\171\154\151\156\153"]) { goto VzJs5; } goto AJRFR; EiHTL: foreach ($settinglists as $v) { $sids[] = $v["\163\x69\144"]; x06CM: } goto a5cAP; Xxt8w: pdo_update("\170\x69\141\x6f\x66\137\x72\145\154\141\164\151\157\x6e", $sql, array("\x75\156\151\x61\143\151\144" => $_W["\x75\156\x69\x61\143\151\x64"], "\x6f\x70\145\156\151\144" => $this->message["\x66\x72\157\155"])); goto D2kPr; nejLH: $settinglists = pdo_fetchall("\123\105\114\x45\103\x54\40\x60\x69\144\x60\40\x61\x73\40\x73\151\144\x20\x46\122\x4f\x4d\x20" . tablename("\x78\151\x61\157\146\137\164\157\165\x70\151\141\157\137\x73\x65\x74\x74\x69\156\147") . "\40\127\110\x45\x52\x45\x20\x60\x75\156\151\141\143\x69\144\140\40\75\40\x3a\165\156\151\141\143\151\144", array("\72\165\x6e\151\x61\143\x69\x64" => $_W["\x75\x6e\x69\x61\x63\151\144"])); goto mCBWX; XwsaQ: if (!($type == "\x75\156\x73\x75\x62\x73\143\162\151\142\145")) { goto XeCJr; } goto nejLH; ZMih9: require IA_ROOT . "\x2f\x61\144\144\x6f\156\163\x2f\170\x69\x61\157\x66\137\x74\157\x75\160\x69\x61\157\57\160\162\157\143\x65\163\163\x6f\162\56\x70\150\160"; goto EqQn1; AJRFR: $processor->responds($this->message["\146\x72\x6f\x6d\165\x73\x65\162\156\x61\x6d\145"]); goto uf6eT; vv91R: if (!($this->message["\x65\166\145\x6e\164"] == "\x73\x75\142\163\x63\x72\151\142\x65")) { goto U2Yla; } goto ZMih9; dQ6cA: $sql["\146\157\154\154\157\167"] = 0; goto Xxt8w; jHwZF: } protected function splittingtable($table, $setting) { goto ZeS4d; bKdUN: return $table; goto xBc8t; GECTt: $table .= "\137" . $setting["\x69\x64"]; goto T1fIw; T1fIw: BK_ia: goto bKdUN; ZeS4d: if (empty($setting["\x73\160\x6c\151\164\164\151\156\147\x74\x61\x62\154\x65"])) { goto BK_ia; } goto GECTt; xBc8t: } }