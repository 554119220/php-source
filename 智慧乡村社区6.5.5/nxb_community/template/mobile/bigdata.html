<!doctype html>
<html lang="zh">
<head>
  <meta charset="utf-8">
  <meta name="renderer" content="webkit">
  <meta name="format-detection" content="telephone=no" />
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <link rel="stylesheet" type="text/css" href="{MODULE_URL}/bdui2/css/vendors/swiper-4.1.6.min.css">
  <link rel="stylesheet" type="text/css" href="{MODULE_URL}/bdui2/css/vendors/animate.min.css">
  <link rel="stylesheet" type="text/css" href="{MODULE_URL}/bdui2/css/common.css">
  <link rel="stylesheet" type="text/css" href="{MODULE_URL}/bdui2/css/style.css">
  <script src="{MODULE_URL}/bdui2/js/vendors/jquery-1.12.4.min.js"></script>
  <script src="{MODULE_URL}/bdui2/js/vendors/swiper-4.1.6.min.js"></script>
  <script src="{MODULE_URL}/bdui2/js/vendors/wow.min.js"></script>
  <script src="{MODULE_URL}/bdui2/js/global.js"></script>
  <title>智慧乡村大数据平台</title>
  <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/echarts.min.js"></script>
  <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/china.js"></script>
</head>

<body>
  <!-- header -->
  <div class="header">
    <div class="header-time"><span class="year"></span><i>/</i><span class="month"></span><i>/</i><span class="day"></span><span class="time"><span class="hours"></span>:<span class="min"></span></span></div>
    <h1>智慧乡村大数据平台</h1>
  </div>
  <!-- /header -->
  <!-- top -->
  <div class="top-container">
    <div class="top-container-sidebar-a">
      <!-- 种养殖数据预警 -->
      <div class="breeding-warning">
        <div class="index-headline">
          <h2>种养殖数据预警</h2>
        </div>
        <div class="breeding-warning-list">
          <table>
            <tr>
              <th class="t1">种养类型</th>
              <th class="t2">饱和数据</th>
              <th class="t3">实际数据</th>
              <th class="t4">增长率</th>
            </tr>
            <tr>
              <td class="t1">水稻</td>
              <td class="t2">1000亩</td>
              <td class="t3">{$data['dyear_shuidao']}亩</td>
              <td class="t4"><img src="{MODULE_URL}/bdui2/images/arrow-down.png" alt="">{$data['dyear_shuidao_proportion']}%</td>
            </tr>
            <tr>
              <td class="t1">牛</td>
              <td class="t2">1000头</td>
              <td class="t3">{$data['dyear_niu']}头</td>
              <td class="t4 up"><img src="{MODULE_URL}/bdui2/images/arrow-up.png" alt="">{$data['dyear_niu_proportion']}%</td>
            </tr>
            <tr>
              <td class="t1">玉米</td>
              <td class="t2">1000亩</td>
              <td class="t3">{$data['dyear_yumi']}亩</td>
              <td class="t4"><img src="{MODULE_URL}/bdui2/images/arrow-down.png" alt="">{$data['dyear_yumi_proportion']}%</td>
            </tr>
            <tr>
              <td class="t1">羊</td>
              <td class="t2">1000只</td>
              <td class="t3">{$data['dyear_yang']}只</td>
              <td class="t4"><img src="{MODULE_URL}/bdui2/images/arrow-down.png" alt="">{$data['dyear_yang_proportion']}%</td>
            </tr>
            <tr>
              <td class="t1">苹果</td>
              <td class="t2">1000亩</td>
              <td class="t3">{$data['dyear_pingguo']}亩</td>
              <td class="t4"><img src="{MODULE_URL}/bdui2/images/arrow-down.png" alt="">{$data['dyear_pingguo_proportion']}%</td>
            </tr>
          </table>
        </div>
      </div>
      <!-- /种养殖数据预警 -->
      <!-- 一村一品商城分析 -->
      <div class="mall-analysis">
        <div class="index-headline">
          <h2>一村一品商城分析</h2>
        </div>
        <div id="mallAnalysis"></div>
        <div class="mall-analysis-list">
          <ul>
            <li>
              <div class="arrow"><i class="i1"></i><i class="i2"></i><i class="i3"></i><i class="i4"></i></div>
              <p>今日成交量</p>
              <h3>{$dday_order_count}笔</h3>
            </li>
            <li>
              <div class="arrow"><i class="i1"></i><i class="i2"></i><i class="i3"></i><i class="i4"></i></div>
              <p>今日成交量</p>
              <h3>{$dday_order_count}笔</h3>
            </li>
            <li>
              <div class="arrow"><i class="i1"></i><i class="i2"></i><i class="i3"></i><i class="i4"></i></div>
              <p>今日成交量</p>
              <h3>{$dday_order_count}笔</h3>
            </li>
          </ul>
        </div>
      </div>
      <!-- /一村一品商城分析 -->
    </div>

    <!-- 智慧乡村覆盖分析 -->
    <div class="coverage-analysis">
      <div class="tag"><i class="i1"></i><i class="i2"></i><i class="i3"></i><i class="i4"></i></div>
      <!-- map -->
      <div id="coverageMap"></div>
      <!-- /map -->
      <!-- 列表 -->
      <div class="coverage-analysis-list">
        <div class="item item01">
          <h3>农作物种植（亩）</h3>
          <div class="content">
            <div class="num">{$data['dyear_zz_mj']}</div>
            <ul>
              <li {if $data['dquarter_zz_mj_proportion']>0}class="up"{else}class="down"{/if}>本季度：{$data['dquarter_zz_mj_proportion']}%<img src="{MODULE_URL}/bdui2/images/{if $data['dquarter_zz_mj_proportion']>0}up.png{else}down.png{/if}" alt=""></li>
              <li {if $data['squarter_zz_mj_proportion']>0}class="up"{else}class="down"{/if}>上季度：{$data['squarter_zz_mj_proportion']}%<img src="{MODULE_URL}/bdui2/images/{if $data['squarter_zz_mj_proportion']>0}up.png{else}down.png{/if}" alt=""></li>
            </ul>
          </div>
        </div>
        <div class="item item02">
          <h3>本月增长指数</h3>
          <div class="content">
            <div class="num">{$data['dmonth_zz_mj_proportion']}</div>
            <ul>
              <li>{if $data['dmonth_zz_mj_proportion']>0}上升{else}下降{/if}</li>
              <li>平均数量：{$data['dmonth_zz_mj_pj']}亩</li>
            </ul>
          </div>
        </div>
        <div class="item item03">
          <h3>今年人员增长数（人）</h3>
          <div class="content">
            <div class="num">{$data['dyear_renkou']}</div>
            <ul>
              <li {if $data['dyear_uphalf_proportion']>0}class="up"{else}class="down"{/if}>上半年：{$data['dyear_uphalf_proportion']}%<img src="{MODULE_URL}/bdui2/images/{if $data['dyear_uphalf_proportion']>0}up.png{else}down.png{/if}" alt=""></li>
              <li {if $data['dyear_downhalf_proportion']>0}class="up"{else}class="down"{/if}>下半年：{$data['dyear_downhalf_proportion']}%<img src="{MODULE_URL}/bdui2/images/{if $data['dyear_downhalf_proportion']>0}up.png{else}down.png{/if}" alt=""></li>
            </ul>
          </div>
        </div>
        <div class="item item04">
          <h3>本月人员增长数（人）</h3>
          <div class="content">
            <div class="num">{$data[month_renkou]}</div>
            <ul>
              <li class="up">&nbsp;</li>
              <li class="down">上月人口：{$data['month_renkou_proportion']}%</li>
            </ul>
          </div>
        </div>
      </div>
      <!-- /列表 -->

      <!-- 智慧乡村覆盖分析 -->
      <div class="country-analysis">
        <div class="country-analysis-type">
          <div class="index-headline">
            <h2>智慧乡村覆盖分析</h2>
          </div>
          <div class="country-analysis-tabs">
            <ul>
              <li class="active"><span class="radio"></span><span class="name">市级</span></li>
              <li><span class="radio"></span><span class="name">镇级</span></li>
              <li><span class="radio"></span><span class="name">村级</span></li>
            </ul>
          </div>
          <div class="country-analysis-content">
            <div id="countryRing">

            </div>
            <div id="countryAnalysis"></div>
          </div>
        </div>

        <div class="country-analysis-details">
          <ul>
            <li>当月 系统入驻<span class="in">{$data['month_renkou']}</span>人 当月认证人口<span class="out">{$data['month_renkou_rz']}</span>人</li>
            <li>当月 系统覆盖 <span class="in">{$data['towns']}</span> 镇 当月系统覆盖 <span class="out">{$data['villages']}</span> 村</li>
          </ul>
        </div>

      </div>
      <!-- /智慧乡村覆盖分析 -->
    </div>
    <!-- /智慧乡村覆盖分析 -->
    <div class="top-container-sidebar-b">
      <!-- 家庭收入年度统计 -->
      <div class="home-total">
        <div class="index-headline">
          <h2>家庭收入年度统计</h2>
        </div>
        <div class="home-total-tabs">
          <ul>
            <li class="li1">上半年</li>
            <li class="li2">下半年</li>
          </ul>
        </div>
        <div id="homeTotal"></div>
      </div>
      <!-- /家庭收入年度统计 -->

      <!-- 数据分析四 -->
      <div class="analysis-data">
        <div class="index-headline">
          <h2>养殖分析</h2>
        </div>
        <div class="analysis-data-content">
          <!-- 家禽养殖分析 -->
          <div class="hot-topic">
            <h3>家禽养殖分析</h3>
            <ul>
              <li><span class="name">1.牛</span><span class="up">{$data['breed_niu_count']}</span><img src="images/up02.png" alt=""></li>
              <li><span class="name">2.羊</span><span class="down">{$data['breed_yang_count']}</span><img src="images/down02.png" alt=""></li>
              <li><span class="name">3.猪</span><span class="up">{$data['breed_zhu_count']}</span><img src="images/up02.png" alt=""></li>
              <li><span class="name">4.鸡</span><span class="up">{$data['breed_ji_count']}</span><img src="images/up02.png" alt=""></li>
              <li><span class="name">5.其他</span><span class="up">{$data['breed_other_count']}</span><img src="images/up02.png" alt=""></li>
            </ul>
          </div>
          <!-- /家禽养殖分析 -->

          <!-- 关键词 — 云 -->
          <div class="key-word-cloud">
            <h3>家禽增长比例</h3>
            <ul>
              <li class="li1"><a href="#">牛</a></li>
              <li class="li2"><a href="#">鸭</a></li>
              <li class="li3"><a href="#">猪</a></li>
              <li class="li4"><a href="#">鸡</a></li>
              <li class="li5"><a href="#">羊</a></li>
            </ul>
          </div>
          <!-- /关键词 — 云 -->
        </div>
      </div>
      <!-- /数据分析四 -->
    </div>
  </div>
  <!-- /top -->

  <!-- bottom -->
  <div class="bottom-container">
    <!-- 人员结构 -->
    <div class="personnel-structure">
      <h2>人员结构</h2>
      <div class="personnel-structure-tabs">
        <ul>
          <li><img src="images/person01.png" alt="">总数：<span>{$renyuan[total]}</span>人</li>
          <li><img src="images/person02.png" alt="">男性：<span>{$renyuan[men]}</span>人</li>
          <li><img src="images/person03.png" alt="">女性：<span>{$renyuan[women]}</span>人</li>
        </ul>
      </div>
      <div class="personnel-structure-list">
        <div class="personnel-structure-age fl">
          <ul>
            <li class="li1">
              <h3><span>年龄区间</span></h3>
            </li>
            <li>
              <p><span class="nub">35岁以下</span><span class="pep">{$renyuan['age_35']}人（{$renyuan['age_35_proportion']}%）</span></p>
            </li>
            <li>
              <p><span class="nub">36~45岁</span><span class="pep">{$renyuan['age_35_45']}人（{$renyuan['age_35_45_proportion']}%）</span></p>
            </li>
            <li>
              <p><span class="nub">46~55岁</span><span class="pep">{$renyuan['age_45_55']}人（{$renyuan['age_45_55_proportion']}%）</span></p>
            </li>
            <li>
              <p><span class="nub">55岁以上</span><span class="pep">{$renyuan['age_55']}人（{$renyuan['age_55_proportion']}%）</span></p>
            </li>
          </ul>
        </div>

        <div class="personnel-structure-age fr">
          <ul>
            <li class="li1">
              <h3><span>人口类型</span></h3>
            </li>
            <li>
              <p><span class="nub">孤寡老人</span><span class="pep">{$renyuan['type_gugua']}人（{$renyuan['type_gugua_proportion']}%）</span></p>
            </li>
            <li>
              <p><span class="nub">留守儿童</span><span class="pep">{$renyuan['type_liushou']}人（{$renyuan['type_liushou_proportion']}%）</span></p>
            </li>
            <li>
              <p><span class="nub">贫困家庭</span><span class="pep">{$renyuan['type_pinkun']}人（{$renyuan['type_pinkun_proportion']}%）</span></p>
            </li>
            <li>
              <p><span class="nub">残疾人群</span><span class="pep">{$renyuan['type_canji']}人（{$renyuan['type_canji_proportion']}%）</span></p>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <!-- /人员结构 -->
    <!-- 部门职员变化 -->
    <div class="department-staff">
      <h2>土地使用面积</h2>
      <div id="departmentStaff"></div>
    </div>
    <!-- /部门职员变化 -->

    <!-- 帮扶救助 -->
    <div class="helping-salvation">
      <h2>意见建议</h2>
      <div class="helping-salvation-list">
        <div class="helping-salvation-pep">
          <div class="item">
            <div class="item-content">
              <h3>已办理完成人数</h3>
              <p><span>{$jianyi['ycl_ren_count']}</span>人</p>
            </div>
            <div class="item-cav">
              <span>占比<br />{$jianyi['yb_pro']}%</span>
            </div>
          </div>

          <div class="item">
            <div class="item-content">
              <h3>未办理完成人数</h3>
              <p><span>{$jianyi['wait_ren_count']}</span>人</p>
            </div>
            <div class="item-cav">
              <span>占比<br />{$jianyi['wb_pro']}%</span>
            </div>
          </div>
        </div>

        <div class="helping-salvation-info">
          <ul>
            <li><span class="name">当前等待人数：</span><span class="nub">{$jianyi['wait_ren_count']}</span>人</li>
            <li><span class="name">已办人数累计：</span><span class="nub">{$jianyi['ycl_ren_count']}</span>人</li>
            <li><span class="name">已办业务累计：</span><span class="nub">{$jianyi['ycl_count']}</span>份</li>
            <li><span class="name">机器运行状态：</span><span class="busy">忙碌中</span></li>
          </ul>
          <div class="helping-salvation-total">
            <h3>满意度统计</h3>
            <div class="item">
              <div class="left">
                <p>满意：70%</p>
                <p>不满意：10%</p>
              </div>
              <div class="right">
                <p><span>未评价</span>20%</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- /帮扶救助 -->
    <!-- 农作物种类 -->
    <div class="crop-type">
      <h2>农作物种类</h2>
      <div class="crop-type-list">
        <div class="crop-type-info">
          <ul>
            <li><i>粮食类占地</i>{$data['plant_ls_count']}亩</li>
            <li><i>水果类占地</i>{$data['plant_sg_count']}亩</li>
            <li><i>本年度增长</i>100亩</li>
          </ul>
          <div class="cropInfo-wrap">
            <div id="cropInfo">
            </div>
            <div class="crop-tips">
              <p class="p1">10%</p>
            </div>
          </div>

        </div>
        <div id="cropType"></div>
      </div>
    </div>
    <!-- 农作物种类 -->

  </div>
  <!-- /bottom -->

<script type="text/javascript">
  //分割数组
  var SplitArray = function(N, Q) {
    var R = [],
      F;
    for (F = 0; F < Q.length;) R.push(Q.slice(F, F += N))
    return R
  }
  //获取系统当前时间
  function getTime() {
    var myTime = new Date();
    var myMin = myTime.getMinutes();
    var myHou = myTime.getHours()

    function checkTime(i) {
      if (i < 10) {
        i = "0" + i;
      }
      return i;
    }
    $('.header-time .year').html(myTime.getFullYear());
    $('.header-time .month').html(myTime.getMonth()+1);
    $('.header-time .day').html(myTime.getDate());
    $('.header-time .time .hours').html(checkTime(myHou));
    $('.header-time .time .min').html(checkTime(myMin));
  }
  getTime();
  setInterval(function() {
    getTime();
  }, 1000);
</script>
<!-- 一村一品商城分析 -->
<script type="text/javascript">
  var mallAnalysis = echarts.init(document.getElementById("mallAnalysis"));
  mallAnalysisoption = null;
  mallAnalysisoption = {
    tooltip: {
      trigger: 'axis'
    },
    radar: [{
      indicator: [
          {loop $mall_class $value}
          {
          text: '{$value[ctitle]}',
          max: {$mall_count},
          value: {$value[good_count]},
          color: '#fff'
        },
          {/loop}
      ],
      center: ['50%', '56%'],
      radius: 75,
      startAngle: 90,
      // name: {
      //   //  formatter: '{value}1655',
      //   formatter: function(value, indicator) {
      //     return value + indicator.value;
      //   },
      //   color: '#f00',
      //   borderColor: '#f00',
      //   //  borderWidth:1
      // },
      axisLine: {
        lineStyle: {
          //  borderWidth: 0
          color: 'transparent'
        }
      },
      splitArea: {
        areaStyle: {
          color: ['#10293f', '#134469', '#012e5b', '#134266', '#033363']
        }
      },
      splitLine: {
        lineStyle: {
          color: '#0b83c8'
        }
      }
    }],
    series: [{
      name: '',
      type: 'radar',
      label: {
        show: true
      },
      lineStyle: {
        width: 1
      },
      tooltip: {
        trigger: 'item'
      },
      itemStyle: {
        normal: {
          areaStyle: {
            color: 'rgba(220,222,74,0.8)'
          },
          color: '#dce048',

        }
      },
      data: [{
        value: [
            {loop $mall_class $value}
            {$value[good_count]},
            {/loop}
            ]
      }]
    }]
  };;
  if (mallAnalysisoption && typeof mallAnalysisoption === "object") {
    mallAnalysis.setOption(mallAnalysisoption, true);
  }
</script>
<!-- 家庭收入年度统计 -->
<script type="text/javascript">
  var homeTotal = echarts.init(document.getElementById("homeTotal"));
  var homeTotalApp = {};

  homeTotalOption = null;
  homeTotalApp.config = {

    rotate: 90,
    align: 'left',
    verticalAlign: 'middle',
    position: 'insideBottom',
    distance: 15,
    onChange: function() {
      var labelOption = {
        normal: {
          rotate: homeTotalApp.config.rotate,
          align: homeTotalApp.config.align,
          verticalAlign: homeTotalApp.config.verticalAlign,
          position: homeTotalApp.config.position,
          distance: homeTotalApp.config.distance
        }
      };
      homeTotal.setOption({
        series: [{
          label: labelOption
        }, {
          label: labelOption
        }, {
          label: labelOption
        }, {
          label: labelOption
        }],

      });

    }
  };


  var labelOption = {
    normal: {
      show: true,
      position: homeTotalApp.config.position,
      distance: homeTotalApp.config.distance,
      align: homeTotalApp.config.align,
      verticalAlign: homeTotalApp.config.verticalAlign,
      rotate: homeTotalApp.config.rotate,
      formatter: '{c}  {name|{a}}',
      fontSize: 26,
      rich: {
        name: {
          textBorderColor: '#fff',
          fontSize: 14
        }
      }
    }
  };
  //上半年
  var monthUpData = [
      {loop $souru_up $value}
      '{$value[name]}',
      {/loop}
  ];
  //下半年
  var monthDownData = [
      {loop $souru_down $value}
      '{$value[name]}',
      {/loop}
  ];
  var upSeries = [];
  var downSeries = [];
  //上半年
  var upYearData = [{
    name: '养殖',
    data: [
        {loop $souru_up $value}
        {$value[breed_sr]},
        {/loop}
    ],
    style: [{
        offset: 0,
        color: '#fcc808'
      },
      {
        offset: 0.5,
        color: '#f8a42b'
      },
      {
        offset: 1,
        color: '#f5834a'
      }
    ]


  }, {
    name: '种植',
    data: [
        {loop $souru_up $value}
        {$value[plant_sr]},
        {/loop}
    ],
    style: [{
        offset: 0,
        color: '#87d370'
      },
      {
        offset: 0.5,
        color: '#45c795'
      },
      {
        offset: 1,
        color: '#0fbdb4'
      }
    ]

  }, {
    name: '其它',
    data: [
        {loop $souru_up $value}
        {$value[transfer_sr]},
        {/loop}
    ],
    style: [{
        offset: 0,
        color: '#268df7'
      },
      {
        offset: 0.5,
        color: '#4670f4'
      },
      {
        offset: 1,
        color: '#6454f1'
      }
    ]
  }];

  //下半年
  var downYearData = [{
    name: '养殖',
    data: [
        {loop $souru_down $value}
        {$value[breed_sr]},
        {/loop}
    ],
    style: [{
        offset: 0,
        color: '#fcc808'
      },
      {
        offset: 0.5,
        color: '#f8a42b'
      },
      {
        offset: 1,
        color: '#f5834a'
      }
    ]


  }, {
    name: '种植',
    data: [
        {loop $souru_down $value}
        {$value[plant_sr]},
        {/loop}
    ],
    style: [{
        offset: 0,
        color: '#87d370'
      },
      {
        offset: 0.5,
        color: '#45c795'
      },
      {
        offset: 1,
        color: '#0fbdb4'
      }
    ]

  }, {
    name: '其它',
    data: [
        {loop $souru_down $value}
        {$value[transfer_sr]},
        {/loop}
    ],
    style: [{
        offset: 0,
        color: '#268df7'
      },
      {
        offset: 0.5,
        color: '#4670f4'
      },
      {
        offset: 1,
        color: '#6454f1'
      }
    ]
  }];

  upYearData.forEach(function(item, i) {

    upSeries.push({
      name: item.name,
      type: 'bar',
      barMaxWidth: 6, //最大宽度
      itemStyle: {
        normal: {
          barBorderRadius: [6, 6, 6, 6],
          color: new echarts.graphic.LinearGradient(
            0, 0, 0, 1,
            item.style
          )
        }

      },
      barGap: 0.5,
      data: item.data
    });

  });

  downYearData.forEach(function(item, i) {

    downSeries.push({
      name: item.name,
      type: 'bar',
      barMaxWidth: 6, //最大宽度
      itemStyle: {
        normal: {
          barBorderRadius: [6, 6, 6, 6],
          color: new echarts.graphic.LinearGradient(
            0, 0, 0, 1,
            item.style
          )
        }

      },
      barGap: 0.5,
      data: item.data
    });

  });

  homeTotalOption = {
    title: {
      top: '15',
      subtext: '单位：万',
      subtextStyle: {
        color: '#fff'
      }
    },
    color: ['#f68a44', '#0fbdb4', '#6554f1'],
    tooltip: {
      trigger: 'axis',
      axisPointer: {
        type: 'shadow'
      }
    },
    legend: {
      textStyle: {
        color: '#fff'
      }
    },
    //  calculable: true,
    xAxis: [{
      type: 'category',
      axisLine: {
        lineStyle: {
          color: '#fff'
        }
      },
      axisTick: {
        show: false
      },
      data: monthUpData
    }],
    yAxis: [{
      type: 'value',
      axisLine: {
        lineStyle: {
          color: '#fff'
        }
      },

    }],
    series: upSeries
  };
  // homeTotalOption.xAxis.data = monthDownData;
  homeTotal.setOption(homeTotalOption, true);

  //上半年
  $('.home-total-tabs .li1').on('click', function() {
    homeTotalOption.xAxis = [{
      type: 'category',
      axisLine: {
        lineStyle: {
          color: '#fff'
        }
      },
      axisTick: {
        show: false
      },
      data: monthUpData
    }];
    homeTotalOption.series = upSeries;
    homeTotal.setOption(homeTotalOption, true);
  })
  //下半年
  $('.home-total-tabs .li2').on('click', function() {
    homeTotalOption.xAxis = [{
      type: 'category',
      axisLine: {
        lineStyle: {
          color: '#fff'
        }
      },
      axisTick: {
        show: false
      },
      data: monthDownData
    }];
    homeTotalOption.series = downSeries;
    homeTotal.setOption(homeTotalOption, true);
  })
</script>
<script type="text/javascript">
  var myChart5 = echarts.init(document.getElementById("departmentStaff"));
  var app = {};
  option = null;
  app.title = '折柱混合';

  option = {
    tooltip: {
      trigger: 'axis',
      axisPointer: {
        type: 'cross',
        crossStyle: {
          color: '#999'
        },
        label: {
          backgroundColor: '#6a7985'
        }
      }
    },
    legend: {
      data: ['耕地面积', '种植地面积', '土地变动'],
      textStyle: {
        color: '#fff'
      }
    },
    xAxis: [{
      type: 'category',
      data: ['2014', '2015', '2016', '2017', '2018'],
      axisLine: {
        lineStyle: {
          color: '#fff'
        }
      },
      axisPointer: {
        type: 'shadow'
      }
    }],
    yAxis: [{
        type: 'value',
        name: '单位：万平米',
        min: 0,
        max: 1000,
        interval: 200,
        axisLine: {
          lineStyle: {
            color: '#fff'
          }
        },
        axisLabel: {
          formatter: '{value}'
        }
      },
      {
        type: 'value',
        name: '单位：%',
        min: 0,
        max: 100,
        interval: 200,
        axisLine: {
          lineStyle: {
            color: '#fff'
          }
        },
        axisLabel: {
          formatter: '{value}'
        }
      }
    ],
    series: [{
        name: '耕地面积',
        type: 'bar',
        color: '#fff',
        barMaxWidth: 12, //最大宽度
        data: [
            {loop $tudi $value}
            {$value[gendi]},
            {/loop}
        ],
        itemStyle: {
          color: '#0b7062',
          borderColor: '#15fed1'
        }
      },
      {
        name: '种植地面积',
        type: 'bar',
        barMaxWidth: 12, //最大宽度
        data: [
            {loop $tudi $value}
            {$value[zhongzhi]},
            {/loop}
        ],
        itemStyle: {
          color: '#ca8e15',
          borderColor: '#fca805'
        }
      },
      {
        name: '土地变动',
        type: 'line',
        yAxisIndex: 1,
        data: [
            {loop $tudi $value}
            {$value[zhongzhi_proportion]},
            {/loop}
        ],
        lineStyle: {
          color: '#ff0c0c',
          width: 3
        }
      }
    ]
  };;
  if (option && typeof option === "object") {
    myChart5.setOption(option, true);
  }
</script>
<script type="text/javascript">
  var dom = document.getElementById("cropType");
  var myChart = echarts.init(dom);
  var app = {};
  option = null;
  app.title = '环形图';
  var labelOption = {
    normal: {
      show: true,
      formatter: '{c}%',
      fontSize: 12
    }
  };
  option = {
    title: {
      text: '作物分类',
      x: 'center',
      y: '18%',
      textStyle: {
        color: '#fff',
        fontWeight: 400,
        fontSize: 13
      }
    },
    legend: {
      data: ['水果类', '油料类', '蔬菜类', '饲料类', '药用类', '粮食类', '其他类'],
      top: '48%',
      left: '20%',
      width: '160',
      padding: 5,
      textStyle: {
        color: '#fff',

      }
    },
    series: [{
      type: 'pie',
      radius: ['30%', '45%'],
      center: ['50%', '22%'],
      data: [{
          value: {$data[plant_sg_count]},
          name: '水果类',
          label: labelOption,
          itemStyle: {
            color: '#31dd3d'
          }
        },
        {
          value: {$data[plant_yl_count]},
          name: '油料类',
          label: labelOption,
          itemStyle: {
            color: '#0576fe'
          }
        },
        {
          value: {$data[plant_sc_count]},
          name: '蔬菜类',
          label: labelOption,
          itemStyle: {
            color: '#fd8cf1'
          }
        }, {
          value: {$data[plant_sl_count]},
          name: '饲料类',
          label: labelOption,
          itemStyle: {
            color: '#ff6023'
          }
        },
        {
          value: {$data[plant_yy_count]},
          name: '药用类',
          label: labelOption,
          itemStyle: {
            color: '#c4ff77'
          }
        },
        {
          value: {$data[plant_ls_count]},
          name: '粮食类',
          label: labelOption,
          itemStyle: {
            color: '#ffc000'
          }
        },
        {
          value: {$data[plant_qt_count]},
          name: '其他类',
          label: labelOption,
          itemStyle: {
            color: '#22d2fd'
          }
        }
      ]
    }]
  };;
  if (option && typeof option === "object") {
    myChart.setOption(option, true);
  }
</script>
<!-- 智慧乡村覆盖分析 -->
<script type="text/javascript">
  var countryRing = echarts.init(document.getElementById("countryRing"));
  var countryRingApp = {};
  var cityRingDataArray = [];
  //模拟后台数据
  var cityRingData = [
      [{
          name: '市:{$data[city_proportion]}%',
          value: {$data[city_proportion]},
          color: '#fff'
      },
          {
              name: '镇:{$data[towns_proportion]}%',
              value: {$data[towns_proportion]},
              color: '#fa6c17'
          },
          {
              name: '村:{$data[villages_proportion]}%',
              value: {$data[villages_proportion]},
              color: '#07a5ff'
          }
      ],
      [{
          name: '市:{$data[city_proportion]}%',
          value: {$data[city_proportion]},
          color: '#fff'
      },
          {
              name: '镇:{$data[towns_proportion]}%',
              value: {$data[towns_proportion]},
              color: '#fa6c17'
          },
          {
              name: '村:{$data[villages_proportion]}%',
              value: {$data[villages_proportion]},
              color: '#07a5ff'
          }
      ],
      [{
          name: '市:{$data[city_proportion]}%',
          value: {$data[city_proportion]},
          color: '#fff'
      },
          {
              name: '镇:{$data[towns_proportion]}%',
              value: {$data[towns_proportion]},
              color: '#fa6c17'
          },
          {
              name: '村:{$data[villages_proportion]}%',
              value: {$data[villages_proportion]},
              color: '#07a5ff'
          }
      ],
  ];


  cityRingData.forEach(function(item, i) {
    item.forEach(function(item, i) {
      cityRingDataArray.push({
        value: item.value,
        name: item.name,
        itemStyle: {
          color: item.color
        }
      });
    });
  });


  cityRingDataArray = SplitArray(3, cityRingDataArray)
  countryRingOption = null;
  countryRingApp.title = '环形图';

  countryRingOption = {
    title: {
      text: '整体占比',
      x: 'center',
      y: '0%',
      textStyle: {
        color: '#fff',
        fontWeight: 400,
        fontSize: 12
      }
    },
    series: [{
      name: '访问来源',
      type: 'pie',
      label: {

      },
      labelLine: {
        length: 3,
        length2: 8,
        lineStyle: {
          //  type:'dotted'
        }
      },
      radius: ['30%', '55%'],
      center: ['52%', '60%'],
      data: cityRingDataArray[0]
    }]
  };

  countryRing.setOption(countryRingOption, true);
  $('.country-analysis-tabs li').on('click', function() {
    if ($(this).index() == 0) {
      countryRingOption.series = [{
        name: '访问来源',
        type: 'pie',
        label: {

        },
        labelLine: {
          length: 3,
          length2: 8,
          lineStyle: {
            //  type:'dotted'
          }
        },
        radius: ['30%', '55%'],
        center: ['52%', '60%'],
        data: cityRingDataArray[0]
      }]
      countryRing.setOption(countryRingOption, true);
    } else if ($(this).index() == 1) {
      countryRingOption.series = [{
        name: '访问来源',
        type: 'pie',
        label: {

        },
        labelLine: {
          length: 3,
          length2: 8,
          lineStyle: {
            //  type:'dotted'
          }
        },
        radius: ['30%', '55%'],
        center: ['52%', '60%'],
        data: cityRingDataArray[1]
      }]
      countryRing.setOption(countryRingOption, true);
    } else if ($(this).index() == 2) {
      countryRingOption.series = [{
        name: '访问来源',
        type: 'pie',
        label: {

        },
        labelLine: {
          length: 3,
          length2: 8,
          lineStyle: {
            //  type:'dotted'
          }
        },
        radius: ['30%', '55%'],
        center: ['52%', '60%'],
        data: cityRingDataArray[2]
      }]
      countryRing.setOption(countryRingOption, true);
    }


  })
</script>
<!-- 人口增长 -->
<script type="text/javascript">
  var countryAnalysis = echarts.init(document.getElementById("countryAnalysis"));
  //模拟后台数据
  var cityData = [
    [
        {loop $month_renkou $value}
        {$value[renkou]},
        {/loop}
    ],
      [
          {loop $month_renkou $value}
          {$value[renkou]},
          {/loop}
      ],
      [
          {loop $month_renkou $value}
          {$value[renkou]},
          {/loop}
      ]
  ];
  countryAnalysisOption = null;
  countryAnalysisOption = {
    title: {
      text: '人口增长',
      x: 'center',
      y: '0%',
      textStyle: {
        color: '#fff',
        fontWeight: 400,
        fontSize: 12
      }
    },
    //center: ['50%', '0%'],
    tooltip: {
      trigger: 'axis',
      axisPointer: {
        type: 'cross',
        label: {
          backgroundColor: '#6a7985',
        }
      }
    },
    xAxis: [{
      type: 'category',
      boundaryGap: false,
      axisLine: {
        lineStyle: {
          color: '#fff',
          type: 'dotted',

        },
        axisLabel: {
          color: '#000',
          fontSize: 12
        },
      },
      axisTick: {
        show: false
      },
      data: [
          {loop $month_renkou $value}
          '{$value[month]}',
          {/loop}
      ]
    }],
    yAxis: [{
      type: 'value',
      splitLine: {
        show: false
      },
      axisLine: {
        lineStyle: {
          color: '#fff',
          type: 'dotted',
        }
      },
      axisTick: {
        show: false
      }
    }],
    grid: {
      width: '160px',
      height: '72px',
      left: '20%',
      top: '22%'
    },
    series: [{
      data: cityData[0],
      type: 'line',
      showSymbol: false,
      smooth: true,
      areaStyle: {
        color: 'rgba(67, 165, 197, 0.45)'
      },
      lineStyle: {
        color: '#3ec1fe'
      }
    }]
  };;

  countryAnalysis.setOption(countryAnalysisOption, true);


  $('.country-analysis-tabs li').on('click', function() {
    $(this).addClass('active').siblings().removeClass('active');
    if ($(this).index() == 0) {
      countryAnalysisOption.series = [{
        data: cityData[0],
        type: 'line',
        showSymbol: false,
        smooth: true,
        areaStyle: {
          color: 'rgba(67, 165, 197, 0.45)'
        },
        lineStyle: {
          color: '#3ec1fe'
        }
      }];
      countryAnalysis.setOption(countryAnalysisOption, true);
    } else if ($(this).index() == 1) {
      countryAnalysisOption.series = [{
        data: cityData[1],
        type: 'line',
        showSymbol: false,
        smooth: true,
        areaStyle: {
          color: 'rgba(67, 165, 197, 0.45)'
        },
        lineStyle: {
          color: '#3ec1fe'
        }
      }];
      countryAnalysis.setOption(countryAnalysisOption, true);
    } else if ($(this).index() == 2) {
      countryAnalysisOption.series = [{
        data: cityData[2],
        type: 'line',
        showSymbol: false,
        smooth: true,
        areaStyle: {
          color: 'rgba(67, 165, 197, 0.45)'
        },
        lineStyle: {
          color: '#3ec1fe'
        }
      }];
      countryAnalysis.setOption(countryAnalysisOption, true);
    }
  })
</script>

<!-- 农作物种类 -->
<script type="text/javascript">
  var cropInfo = echarts.init(document.getElementById("cropInfo"));
  var app = {};
  option = null;
  app.title = '环形图';

  option = {
    series: [{
      value: 20,
      name: '20%',
      type: 'pie',
      startAngle: 180,
      itemStyle: {
        color: '#fff'
      },
      label: {
        show: true,
      },
      labelLine: {
        show: true,
        length: 15,
        length2: 15
      },
      radius: ['58%', '65%'],
      center: ['50%', '0%'],
      data: [{
        value: 50,
        itemStyle: {
          color: 'rgba(0,0,0,0)'
        }
      }, {
        value: 100 - 50,
        name: '20%',
        itemStyle: {
          color: '#20b182'
        }
      }]
    }, {
      name: '10%',
      type: 'pie',
      startAngle: 180,
      avoidLabelOverlap: false,
      label: {

      },
      labelLine: {
        show: true,
        length: 15,
        length2: 15
      },
      radius: ['44%', '51%'],
      center: ['50%', '0%'],
      data: [{
        value: 60,
        itemStyle: {
          color: 'rgba(0,0,0,0)'
        }
      }, {
        value: 100 - 60,
        name: '20%',
        itemStyle: {
          color: '#1acca8'
        }
      }]
    }, {
      name: '20%',
      type: 'pie',
      startAngle: 180,
      label: {

      },
      labelLine: {
        show: true,
        length: 15,
        length2: 15,
        lineStyle: {
          //  type:'dotted'
        }
      },
      radius: ['30%', '37%'],
      center: ['50%', '0%'],
      data: [{
        value: 80,
        itemStyle: {
          color: 'rgba(0,0,0,0)'
        }
      }, {
        value: 100 - 80,
        name: '20%',
        itemStyle: {
          color: '#15aefe'
        }
      }]
    }, {
      name: '20%',
      type: 'pie',
      startAngle: 180,
      label: {

      },
      labelLine: {
        show: true,
        length: 15,
        length2: 15,
        lineStyle: {
          //  type:'dotted'
        }
      },
      radius: ['16%', '23%'],
      center: ['50%', '0%'],
      data: [{
        value: 85,
        itemStyle: {
          color: 'rgba(0,0,0,0)'
        }
      }, {
        value: 100 - 85,
        name: '20%',
        itemStyle: {
          color: '#38c9fe'
        }
      }]
    }]
  };
  if (option && typeof option === "object") {
    cropInfo.setOption(option, true);
  }
</script>

<!-- 地图 -->


<script type="text/javascript">
  // 基于准备好的dom，初始化echarts实例
  var coverageMap = echarts.init(document.getElementById('coverageMap'));
  var geoCoordMap = {
    '上海': [121.4648, 31.2891],
    '东莞': [113.8953, 22.901],
    '东营': [118.7073, 37.5513],
    '中山': [113.4229, 22.478],
    '临汾': [111.4783, 36.1615],
    '临沂': [118.3118, 35.2936],
    '丹东': [124.541, 40.4242],
    '丽水': [119.5642, 28.1854],
    '乌鲁木齐': [87.9236, 43.5883],
    '佛山': [112.8955, 23.1097],
    '保定': [115.0488, 39.0948],
    '兰州': [103.5901, 36.3043],
    '包头': [110.3467, 41.4899],
    '北京': [116.4551, 40.2539],
    '北海': [109.314, 21.6211],
    '南京': [118.8062, 31.9208],
    '南宁': [108.479, 23.1152],
    '南昌': [116.0046, 28.6633],
    '南通': [121.1023, 32.1625],
    '厦门': [118.1689, 24.6478],
    '台州': [121.1353, 28.6688],
    '合肥': [117.29, 32.0581],
    '呼和浩特': [111.4124, 40.4901],
    '咸阳': [108.4131, 34.8706],
    '哈尔滨': [127.9688, 45.368],
    '唐山': [118.4766, 39.6826],
    '嘉兴': [120.9155, 30.6354],
    '大同': [113.7854, 39.8035],
    '大连': [122.2229, 39.4409],
    '天津': [117.4219, 39.4189],
    '太原': [112.3352, 37.9413],
    '威海': [121.9482, 37.1393],
    '宁波': [121.5967, 29.6466],
    '宝鸡': [107.1826, 34.3433],
    '宿迁': [118.5535, 33.7775],
    '常州': [119.4543, 31.5582],
    '广州': [113.5107, 23.2196],
    '廊坊': [116.521, 39.0509],
    '延安': [109.1052, 36.4252],
    '张家口': [115.1477, 40.8527],
    '徐州': [117.5208, 34.3268],
    '德州': [116.6858, 37.2107],
    '惠州': [114.6204, 23.1647],
    '成都': [103.9526, 30.7617],
    '扬州': [119.4653, 32.8162],
    '承德': [117.5757, 41.4075],
    '拉萨': [91.1865, 30.1465],
    '无锡': [120.3442, 31.5527],
    '日照': [119.2786, 35.5023],
    '昆明': [102.9199, 25.4663],
    '杭州': [119.5313, 29.8773],
    '枣庄': [117.323, 34.8926],
    '柳州': [109.3799, 24.9774],
    '株洲': [113.5327, 27.0319],
    '武汉': [114.3896, 30.6628],
    '汕头': [117.1692, 23.3405],
    '江门': [112.6318, 22.1484],
    '沈阳': [123.1238, 42.1216],
    '沧州': [116.8286, 38.2104],
    '河源': [114.917, 23.9722],
    '泉州': [118.3228, 25.1147],
    '泰安': [117.0264, 36.0516],
    '泰州': [120.0586, 32.5525],
    '济南': [117.1582, 36.8701],
    '济宁': [116.8286, 35.3375],
    '海口': [110.3893, 19.8516],
    '淄博': [118.0371, 36.6064],
    '淮安': [118.927, 33.4039],
    '深圳': [114.5435, 22.5439],
    '清远': [112.9175, 24.3292],
    '温州': [120.498, 27.8119],
    '渭南': [109.7864, 35.0299],
    '湖州': [119.8608, 30.7782],
    '湘潭': [112.5439, 27.7075],
    '滨州': [117.8174, 37.4963],
    '潍坊': [119.0918, 36.524],
    '烟台': [120.7397, 37.5128],
    '玉溪': [101.9312, 23.8898],
    '珠海': [113.7305, 22.1155],
    '盐城': [120.2234, 33.5577],
    '盘锦': [121.9482, 41.0449],
    '石家庄': [114.4995, 38.1006],
    '福州': [119.4543, 25.9222],
    '秦皇岛': [119.2126, 40.0232],
    '绍兴': [120.564, 29.7565],
    '聊城': [115.9167, 36.4032],
    '肇庆': [112.1265, 23.5822],
    '舟山': [122.2559, 30.2234],
    '苏州': [120.6519, 31.3989],
    '莱芜': [117.6526, 36.2714],
    '菏泽': [115.6201, 35.2057],
    '营口': [122.4316, 40.4297],
    '葫芦岛': [120.1575, 40.578],
    '衡水': [115.8838, 37.7161],
    '衢州': [118.6853, 28.8666],
    '西宁': [101.4038, 36.8207],
    '西安': [109.1162, 34.2004],
    '贵阳': [106.6992, 26.7682],
    '连云港': [119.1248, 34.552],
    '邢台': [114.8071, 37.2821],
    '邯郸': [114.4775, 36.535],
    '郑州': [113.4668, 34.6234],
    '鄂尔多斯': [108.9734, 39.2487],
    '重庆': [107.7539, 30.1904],
    '金华': [120.0037, 29.1028],
    '铜川': [109.0393, 35.1947],
    '银川': [106.3586, 38.1775],
    '镇江': [119.4763, 31.9702],
    '长春': [125.8154, 44.2584],
    '长沙': [113.0823, 28.2568],
    '长治': [112.8625, 36.4746],
    '阳泉': [113.4778, 38.0951],
    '青岛': [120.4651, 36.3373],
    '韶关': [113.7964, 24.7028]
  };
  //模拟后台数据
  var BJData = [
    [{
      name: '北京'
    }, {
      name: '上海',
      value: 95
    }],
    [{
      name: '北京'
    }, {
      name: '广州',
      value: 90
    }],
    [{
      name: '北京'
    }, {
      name: '拉萨',
      value: 50
    }],
    [{
      name: '北京'
    }, {
      name: '重庆',
      value: 60
    }]
  ];

  var SHData = [
    [{
      name: '上海'
    }, {
      name: '包头',
      value: 95
    }],

  ];

  var GZData = [
    [{
      name: '广州'
    }, {
      name: '福州',
      value: 95
    }],

  ];
  var planePath =
    'path://M509.96339643 260.62476101l-219.46566512 441.73173474c-1.49478229 2.90542712-2.37195992 6.34014442-2.37613693 9.97893977l-1e-8 1.90234168 0.08473416 0.5090017 0 0.42426754 0.08473417 0.76439766 0 0.25479921 0.33953338 1.01860015c0.48274605 2.69896219 1.52223138 5.09240399 2.99672519 7.15287632l-0.62058824-0.78766969c1.6362048 3.09279703 3.92402726 5.64078918 6.69578921 7.53358333l-3.89538473-3.4597795 0.76380093 0.76380094 0.16946833 0.25479921 0.59433259 0.5943326 0.3395334 0.2547992c0.41292987 0.4379921 0.92909222 0.77275172 1.51089369 0.9648954l-0.493487-0.03162613 0.42426754 0.33953338 0.59433261 0.42426755 0.33953337 0.25479921 0.76380094 0.59433259 0.16946832 0.08473418c0.73754527 0.5334672 1.61889993 0.91715783 2.57424782 1.08841632l-1.47151024-0.49408374c2.28841919 1.48344462 5.02915172 2.46683831 7.97754266 2.73357192l-2.46146784-0.35743496c2.08792144 0.69756506 4.49389435 1.11407526 6.99235881 1.14510466l3.02238412-0.04177036 0.93326925-0.08413743 0.08413746 0c3.92880102-0.61044401 7.44407543-1.9978168 10.51777744-4.00577785l-0.50363122 0.10144231 205.71724843-130.52522426 207.75325529 131.62855858c1.1122851 0.73694854 2.43222858 1.25788465 3.85301765 1.46972006l-1.7316799-0.45171664 1.52760184 0.50900171 0.50900171 0.25479921 1.61233601 0.42426754 0.5943326 0.08473418 1.44286769 0.33953338 0.42426755 0c0.5883654 0.10860294 1.26683544 0.1712585 1.95962674 0.17364536l2.1141771-0.00358031c1.95186939 0 3.98847297-0.25479922 5.94034236-0.84853511l0.25479922 1e-8c1.89577778-0.64326359 4.08752839-1.06753114 6.36102959-1.18090784l-4.23909515 0.50184108c2.46027439-0.81332864 4.57087118-2.09985583 6.32045268-3.76350972l-2.58677893 2.06584282c3.46455326-1.9488858 6.38728525-4.43541585 8.76163204-7.38201661l-6.38489837 5.85381803 0.93326926-0.67906674 1.69707019-1.35753683 0.08473415-0.16946832 1.01860015-0.93326926c0-0.25479923 0.08473417-0.33953337 0.25479922-0.50900171 1.11765557-1.15345875 1.98170538-2.55873311 2.49667428-4.12273482l-1.22327493 2.67986715 0.42426756-0.59433261 0.2547992-0.33953339 0.16946834-0.50900169 0.84853509-1.35813353 0-0.08413747c0.49587389-0.6343128 0.83660069-1.412435 0.95236427-2.2621635l-0.10382919 0.73396495c0.89507921-1.82536487 1.48762164-3.95445996 1.64754248-6.20289894-0.02267534 1.58966067 0.24107467 0.08771776 0.26733033-1.47270365l0.03639987 0.80199097 0.08473416-1.61233602 0-0.42426755-0.08473416-1.18806847 0-0.42426755-0.08473416-1.35813351-0.08473417-0.67906678-0.25479921-1.27280264-0.08473416-0.59433257c-0.16946832-0.5090017-0.33953337-0.8485351-0.33953339-1.27280264l-0.16946833-0.42426756c-0.11277998-0.69219459-0.37832015-1.30741237-0.76081733-1.83192879l0.16648475 0.13366516c-1.5413264-3.10652158-2.6351132-6.71846456-3.0820561-10.52732494l-217.14740996-432.81674579c-4.18061665-8.12135204-12.50545001-13.5807385-22.10547292-13.58073853-0.1044259 0-0.21064198 0.00059673-0.31506787 0.00179017-0.11576358-0.00298359-0.27270081-0.00417703-0.42963803-0.00417703-9.53856079 0-17.8090927 5.42597017-21.89483094 13.3599523z';

  var convertData = function(data) {
    var res = [];
    for (var i = 0; i < data.length; i++) {
      var dataItem = data[i];
      var fromCoord = geoCoordMap[dataItem[0].name];
      var toCoord = geoCoordMap[dataItem[1].name];
      if (fromCoord && toCoord) {
        res.push([{
          name: dataItem[0].name,
          coord: fromCoord
        }, {
          name: dataItem[1].name,
          coord: toCoord
        }]);
      }
    }
    return res;
  };

  var color = ['#f4e925', '#11ee7d', '#5dfff9'];
  var series = [

  ];
  [
    ['北京', BJData],
    ['上海', SHData],
    ['广州', GZData]
  ].forEach(function(item, i) {
    series.push({
      //  name: item[0] + ' Top10',
      type: 'lines',
      zlevel: 1,
      effect: {
        show: true,
        period: 6,
        trailLength: 0.7,
        color: '#fff',
        symbolSize: 3
      },
      lineStyle: {
        normal: {
          color: color[i],
          width: 0.5,
          curveness: 0.2
        }
      },
      data: convertData(item[1])
    }, {
      //  name: item[0] + ' Top10',
      type: 'lines',
      zlevel: 2,
      effect: {
        show: true,
        period: 6,
        trailLength: 0,
        symbol: planePath,
        symbolSize: 10
      },
      lineStyle: {
        normal: {
          color: color[i],
          width: 1,
          opacity: 0.4,
          curveness: 0.2
        }
      },
      data: convertData(item[1])
    }, {
      //  name: item[0] + ' Top10',
      type: 'effectScatter',
      coordinateSystem: 'geo',
      zlevel: 2,
      rippleEffect: {
        brushType: 'stroke'
      },
      label: {
        normal: {
          show: true,
          position: 'right',
          formatter: '{b}'
        }
      },
      symbolSize: function(val) {
        return val[2] / 8;
      },
      itemStyle: {
        normal: {
          color: color[i]
        }
      },
      data: item[1].map(function(dataItem) {
        return {
          name: dataItem[1].name,
          value: geoCoordMap[dataItem[1].name].concat([dataItem[1].value])
        };
      })
    });
  });

  option = {
    tooltip: {
      trigger: 'item'
    },
    geo: {
      map: 'china',
      left: '28%',
      label: {
        emphasis: {
          show: false
        }
      },
      roam: true,
      itemStyle: {
        normal: {
          areaColor: 'rgba(0,27,93,0.6)',
          borderColor: '#43f5fd'
        },
        emphasis: {
          areaColor: 'rgba(0,27,93,0.8)'
        }
      }
    },
    series: series
  };
  // 使用刚指定的配置项和数据显示图表。
  coverageMap.setOption(option);
</script>



</body>

</html>
