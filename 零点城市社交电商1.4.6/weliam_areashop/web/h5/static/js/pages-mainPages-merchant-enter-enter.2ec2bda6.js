(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mainPages-merchant-enter-enter"],{"02d0":function(t,e,a){"use strict";a.r(e);var i=a("3d44"),s=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,function(){return i[t]})}(r);e["default"]=s.a},"1cf2":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,'.from-input-style[data-v-12b50e82]{color:#333}.from-inputPlader-style[data-v-12b50e82]{font-size:%?24?%;color:#ccc}.from-bg-style[data-v-12b50e82]{height:%?84?%;line-height:%?84?%;-webkit-border-radius:%?10?%;border-radius:%?10?%;background-color:#fafafa}.from-left[data-v-12b50e82]{padding:0 %?32?% 0 %?22?%}.enter-bg[data-v-12b50e82]{width:100%;height:%?340?%;background-repeat:no-repeat;background-size:100% %?340?%}.form-main[data-v-12b50e82]{margin-top:%?-140?%}.form-content .form-title .form-title-left[data-v-12b50e82]{margin-left:%?16?%}.form-content .form-title .form-title-left[data-v-12b50e82]:after{content:" ";position:absolute;left:0;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);width:%?8?%;height:%?26?%;-webkit-border-radius:%?4?%;border-radius:%?4?%;background-color:#ffd940}.form-content .form-title uni-text[data-v-12b50e82]{margin-left:%?14?%;font-size:%?22?%}.merchant-address-right .address-icon[data-v-12b50e82]{position:absolute;right:%?20?%;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);font-size:%?24?%!important}.merchant-xx-address[data-v-12b50e82]{-webkit-border-radius:%?10?%;border-radius:%?10?%;background-color:#fafafa;height:%?200?%!important}.xx-address-from-left[data-v-12b50e82]{padding:%?30?% %?32?% 0 %?22?%}.merchant-xx-address-right[data-v-12b50e82]{position:absolute;left:24.5%;top:16%}.merchant-xx-address-right uni-textarea[data-v-12b50e82]{cursor:auto;width:%?400?%!important;height:%?200?%!important;display:block;overflow:hidden;font-size:%?24?%}.imglist-items[data-v-12b50e82]{position:relative;margin-right:%?19?%;margin-bottom:%?19?%}.imglist-items .items-img[data-v-12b50e82]{width:%?156?%;height:%?156?%;-webkit-border-radius:%?10?%;border-radius:%?10?%}.imglist-items .close[data-v-12b50e82]{position:absolute;right:-5%;top:-5%;width:%?32?%;height:%?32?%;line-height:%?32?%;color:#fff;font-size:%?24?%!important;background:rgba(0,0,0,.5);-webkit-border-radius:50%;border-radius:50%;z-index:2}.add-images[data-v-12b50e82]{display:block;width:%?156?%;height:%?156?%}.formBtn uni-button[data-v-12b50e82]{height:%?84?%;line-height:%?84?%;-webkit-border-radius:%?42?%;border-radius:%?42?%;background-color:#ffd940}.applyStatus .applyStatus-logo[data-v-12b50e82]{display:block;width:%?324?%;height:%?324?%;margin:%?156?% auto %?78?%}.applyStatusBtn[data-v-12b50e82]{width:%?300?%;height:%?80?%;line-height:%?80?%;background:#ffd940;-webkit-border-radius:%?40?%;border-radius:%?40?%;margin:%?60?% auto 0}',""])},"3d40":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isPage?a("v-uni-view",[0===t.data["status"]||1===t.data["status"]?[a("v-uni-view",{staticClass:"enter-bg",style:{"background-image":"url("+t.imageRoot+"39.png)"}}),a("v-uni-view",{staticClass:"form-main m-left-right-30 p-r"},[a("v-uni-form",{on:{submit:function(e){e=t.$handleEvent(e),t.formSubmit(e)}}},[a("v-uni-view",{staticClass:"form-content b-f bor-radius-10upx padding-all-box36"},[a("v-uni-view",{staticClass:"form-title dis-flex flex-x-between flex-y-center p-r m-btm30"},[a("v-uni-view",{staticClass:"f-28 col-3 form-title-left"},[t._v("请填写店铺信息")]),t.data["kf_wxid"]||t.data["kf_phone"]?a("v-uni-view",{staticClass:"f-24 col-3 form-title-right"},[t._v("直接联系客服"),a("v-uni-text",{staticClass:"iconfont icon-right"})],1):t._e()],1),a("v-uni-view",{staticClass:"from-bg-style merchant-name dis-flex flex-y-center m-btm20"},[a("v-uni-view",{staticClass:"merchant-name-left from-left f-24 col-3"},[t._v("商家名称")]),a("v-uni-view",{staticClass:"merchant-name-right"},[a("v-uni-input",{staticClass:"from-input-style  f-24",attrs:{type:"text",value:t.data["data"]&&1===t.data["status"]?t.data["data"]["merchantName"]:"",placeholder:"请输入商家名称",name:"merchantName","placeholder-class":"from-inputPlader-style",disabled:t.formdisabled}})],1)],1),a("v-uni-view",{staticClass:"from-bg-style merchant-user-name dis-flex flex-y-center m-btm20"},[a("v-uni-view",{staticClass:"merchant-user-name-left from-left f-24 col-3"},[t._v("商家姓名")]),a("v-uni-view",{staticClass:"merchant-user-name-right"},[a("v-uni-input",{staticClass:"from-input-style  f-24",attrs:{type:"text",value:t.data["data"]&&1===t.data["status"]?t.data["data"]["userName"]:"",placeholder:"请输入真实姓名",name:"userName","placeholder-class":"from-inputPlader-style",disabled:t.formdisabled}})],1)],1),a("v-uni-view",{staticClass:"from-bg-style merchant-mobile dis-flex flex-y-center m-btm20"},[a("v-uni-view",{staticClass:"merchant-mobile-left from-left f-24 col-3"},[t._v("手机号码")]),a("v-uni-view",{staticClass:"merchant-mobile-right"},[a("v-uni-input",{staticClass:"from-input-style f-24",attrs:{type:"number",value:t.data["data"]&&1===t.data["status"]?t.data["data"]["merchantMobile"]:"",placeholder:"请输入手机号码",name:"merchantMobile","placeholder-class":"from-inputPlader-style",disabled:t.formdisabled}})],1)],1),"1"===t.data["businessForm"]["region"]?[a("v-uni-view",{staticClass:"from-bg-style merchant-address dis-flex flex-y-center m-btm20 p-r",on:{click:function(e){e=t.$handleEvent(e),t.showpicker(e)}}},[a("v-uni-view",{staticClass:"merchant-address-left from-left f-24 col-3"},[t._v("所在地区")]),a("v-uni-view",{staticClass:"merchant-address-right dis-flex flex-y-center"},[t.data["data"]["region"]&&1===t.data["status"]?[a("v-uni-view",{staticClass:"address-cont-box f-24"},[t._v(t._s(t.data["data"]["region"]))])]:[a("v-uni-view",{staticClass:"address-cont-box"},[t.region?a("v-uni-view",{staticClass:"f-24"},[t._v(t._s(t.region[0])+t._s(t.region[1])+t._s(t.region[2]))]):a("v-uni-view",{staticClass:"f-24 col-c"},[t._v("选择省、市、区")])],1),a("v-uni-view",{staticClass:"iconfont icon-right address-icon",class:t.region?"col-3":"col-c"})]],2)],1)]:t._e(),"1"===t.data["businessForm"]["address"]?[a("v-uni-view",{staticClass:" merchant-xx-address p-r"},[a("v-uni-view",{staticClass:"merchant-xx-address-left xx-address-from-left f-24 col-3"},[t._v("详细地址")]),a("v-uni-view",{staticClass:"merchant-xx-address-right"},[a("v-uni-textarea",{attrs:{disabled:t.formdisabled,name:"detailadress",value:t.data["data"]&&1===t.data["status"]?t.data["data"]["detailadress"]:"",placeholder:"请输入详细地址",maxlength:"100","placeholder-style":"color:#cccccc"}})],1)],1)]:t._e(),"1"===t.data["businessForm"]["quaimg"]?[a("v-uni-view",{staticClass:"store-uploading m-btm40"},[a("v-uni-view",{staticClass:"uploading-title f-24 col-3 m-top-btm20"},[t._v("商家资质")]),a("v-uni-view",{staticClass:"uploading-imgaes"},[a("v-uni-view",{staticClass:"up-images-list dis-flex flex-warp"},[t.data["data"]["merchantImage"]["length"]>0&&1===t.data["status"]?t._l(t.data["data"]["merchantImage"],function(t,e){return a("v-uni-view",{key:e,staticClass:"imglist-items"},[a("v-uni-image",{staticClass:"items-img",attrs:{src:t,mode:""}})],1)}):[t._l(t.chooseImgArr,function(e,i){return a("v-uni-view",{key:i,staticClass:"imglist-items"},[a("v-uni-image",{staticClass:"items-img",attrs:{src:e,mode:""}}),a("v-uni-view",{staticClass:"close iconfont icon-close t-c",on:{click:function(e){e=t.$handleEvent(e),t.clearimg(i)}}})],1)}),a("v-uni-image",{staticClass:"add-images",attrs:{src:"../../../../static/images/addimag.png",mode:""},on:{click:function(e){e=t.$handleEvent(e),t.addimg(e)}}})]],2)],1)],1)]:t._e(),a("v-uni-view",{staticClass:"formBtn"},[a("v-uni-button",{staticClass:"f-28 col-3",attrs:{formType:"submit",disabled:t.formdisabled}},[t._v(t._s(t.formdisabled?"提交审核中...":"立即申请"))])],1)],2)],1)],1)]:t._e(),2===t.data["status"]||3===t.data["status"]?[a("v-uni-view",{staticClass:"applyStatus"},[a("v-uni-image",{staticClass:"applyStatus-logo",attrs:{src:2===t.data["status"]?t.applyStatusImage["stutas_1"]:t.applyStatusImage["stutas_2"],mode:""}}),a("v-uni-view",{staticClass:"applyStatus-detail t-c"},[a("v-uni-view",{staticClass:"f-36 col-3 m-btm20"},[t._v(t._s(2===t.data["status"]?t.applyStatusText["stutas_1"]["title"]:t.applyStatusText["stutas_2"]["title"]))]),a("v-uni-view",{staticClass:"f-24 col-9"},[t._v(t._s(2===t.data["status"]?t.applyStatusText["stutas_1"]["text"]:t.applyStatusText["stutas_2"]["text"]))])],1),a("v-uni-view",{staticClass:"applyStatusBtn t-c col-3 f-30",on:{click:function(e){e=t.$handleEvent(e),t.applySkip(t.data["status"])}}},[t._v(t._s(2===t.data["status"]?t.applyStatusbtn["stutas_1"]:t.applyStatusbtn["stutas_2"]))])],1)]:t._e(),a("CityPicker",{ref:"mpvueCityPicker",attrs:{themeColor:t.themeColor,pickerValueDefault:t.cityPickerValueDefault},on:{onConfirm:function(e){e=t.$handleEvent(e),t.onConfirm(e)}}})],2):t._e()},s=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return s})},"3d44":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(a("deda")),s=r(a("8968"));function r(t){return t&&t.__esModule?t:{default:t}}function n(t){return d(t)||l(t)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function l(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function d(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},i=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),i.forEach(function(e){c(t,e,a[e])})}return t}function c(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var f={data:function(){return{data:{},isPage:!1,region:null,code:null,formData:[],chooseImgArr:[],themeColor:"#007AFF",cityPickerValueDefault:[0,0,0],formdisabled:!0,applyStatusImage:{stutas_1:"https://devwe7.weliam.cn/addons/weliam_areashop/web/assets/store/img/default/we/40.png",stutas_2:"https://devwe7.weliam.cn/addons/weliam_areashop/web/assets/store/img/default/we/41.png"},applyStatusText:{stutas_1:{title:"恭喜您，入驻成功",text:"您可以在手机端管理您的店铺"},stutas_2:{title:"很抱歉，申请未通过",text:"您没有资格入驻商铺，请联系商家"}},applyStatusbtn:{stutas_1:"管理店铺",stutas_2:"修改申请信息"}}},components:{CityPicker:s.default},computed:{},onLoad:function(t){},onShow:function(){},mounted:function(){this.getEnterDetail()},methods:{getEnterDetail:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0",e=this;i.default._post_form("Live/getBusinessSetting",{enterType:t,user_id:i.default.getUserId()},function(a){e.setData(a),0===a["data"]["status"]&&(e.formdisabled=!1),"0"===t&&a["data"]["reason"]&&(e.applyStatusText["stutas_2"]["text"]=a["data"]["reason"]),e.isPage=!0},!1,function(){})},formSubmit:function(t){var e=this,a=t.detail.value;if(1!==e.code&&(a.region=e.code.join(",")),i.default.saveFormId(t.detail.formId),!e.validation(a))return i.default.showError(e.error),!1;i.default.showError("是否提交信息",function(t){if(t.confirm)if(e.setData({formdisabled:!0}),uni.showLoading({title:"提交中..."}),e["chooseImgArr"]["length"]>0){var s=[],r=e["chooseImgArr"].map(function(t){return i.default._upLoad(t)});Promise.all(r).then(function(t){var i=t.map(function(t){return t.file_id});s.push(i),Object.assign(a,{merchantImage:s[0]}),e.formDataUrl(a)})}else e.formDataUrl(a)},!0)},formDataUrl:function(t){i.default._post_form("Live/addBusinessLive",u({},t,{user_id:i.default.getUserId()}),function(t){1===t.code&&i.default.showSuccess("提交成功")},!1,function(){uni.hideLoading()})},validation:function(t){if(""===t.merchantName)return this.error="商家名称不能为空",!1;if(""===t.userName)return this.error="姓名不能为空",!1;if(t.merchantMobile.length<1)return this.error="手机号不能为空",!1;if(11!==t.merchantMobile.length)return this.error="手机号长度有误",!1;var e=/^1[3|4|5|6|7|8|9][0-9]{9}$/;return e.test(t.merchantMobile)?"1"!==this.data["businessForm"]["region"]||this.region?"1"!==this.data["businessForm"]["address"]||""!==t.detailadress||(this.error="详细地址不能为空",!1):(this.error="省市区不能空",!1):(this.error="手机号不符合要求",!1)},addimg:function(){var t=this;uni.chooseImage({count:9,sizeType:["original","compressed"],sourceType:["album"],success:function(e){if(t.formData.length<9)for(var a=0;a<e.tempFilePaths.length;a++)t.chooseImgArr.push(e.tempFilePaths[a]);else i.default.showError("最多上传九张图")}})},clearimg:function(t){var e=this,a=e.chooseImgArr;a.splice(t,1),e.chooseImgArr=a},applySkip:function(t){var e=this;switch(t){case 2:i.default.navigationTo({url:"pages/subPages/business/index"});break;case 3:e.getEnterDetail("1");break}},showpicker:function(){1===this.data["status"]||this.formdisabled||this.$refs.mpvueCityPicker.show()},onConfirm:function(t){var e=t.label.split("-");this.region=n(e),this.code=t.cityCode.map(function(t){return t+""})}}};e.default=f},5337:function(t,e,a){"use strict";var i=a("8469"),s=a.n(i);s.a},8469:function(t,e,a){var i=a("1cf2");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("4f06").default;s("5951aa3f",i,!0,{sourceMap:!1,shadowMode:!1})},9736:function(t,e,a){"use strict";a.r(e);var i=a("3d40"),s=a("02d0");for(var r in s)"default"!==r&&function(t){a.d(e,t,function(){return s[t]})}(r);a("5337");var n=a("2877"),o=Object(n["a"])(s["default"],i["a"],i["b"],!1,null,"12b50e82",null);e["default"]=o.exports}}]);