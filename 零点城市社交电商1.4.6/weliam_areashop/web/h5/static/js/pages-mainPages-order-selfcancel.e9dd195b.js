(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mainPages-order-selfcancel"],{"0bff":function(t,e,i){"use strict";i.r(e);var a=i("11b6"),n=i("6baa");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("a20e");var s=i("2877"),r=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"70b95166",null);e["default"]=r.exports},"11b6":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[t.isshow?i("v-uni-view",{staticClass:"container p-left-right-30"},[i("v-uni-view",{staticClass:"goodsItem-box m-top-btm20 b-f bor-radius-10"},t._l(t.orderDatadetail.goods,function(e,a){return i("v-uni-view",{key:a,staticClass:"goods-item dis-flex flex-y-center m-btm20"},[i("v-uni-view",{staticClass:"goods-left bor-radius-10",style:"background-image:url("+e.image.file_path+")"}),i("v-uni-view",{staticClass:"goods-right flex-box"},[i("v-uni-view",{staticClass:"goods-title col-3 f-28"},[t._v(t._s(e.goods_name))]),i("v-uni-view",{staticClass:"goods-title col-9 f-24"},[t._v("规格："+t._s(e.goods_attr?e.goods_attr:"无"))])],1)],1)}),1),i("v-uni-form",{on:{submit:function(e){e=t.$handleEvent(e),t.formSubmit(e)}}},[i("v-uni-view",{staticClass:"cancel-list b-f bor-radius-10 m-btm20"},[i("v-uni-view",{staticClass:"cancel-title"},[i("v-uni-view",{staticClass:"right-text f-28 col-3"},[t._v(t._s(3===t.express_type?"核销码":"自提码"))])],1),i("v-uni-view",{staticClass:"cancel-list-box"},[i("v-uni-checkbox-group",{attrs:{name:3===t.express_type?"vercode_id":"selfcode_id"},on:{change:function(e){e=t.$handleEvent(e),t.checkboxChange(e)}}},[3===t.express_type?t._l(t.vercodeList,function(e,a){return a<t.openmore?i("v-uni-label",{key:a},[i("v-uni-view",{staticClass:"cancel-list-item dis-flex flex-x-between f-24 col-3"},[i("v-uni-view",{staticClass:"list-item-left"},[i("v-uni-checkbox",{staticClass:"checkbox",attrs:{value:e.vercode_id}})],1),i("v-uni-view",{staticClass:"list-item-right"},[t._v(t._s(e.code))])],1)],1):t._e()}):t._e(),2===t.express_type?[i("v-uni-label",[i("v-uni-view",{staticClass:"cancel-list-item dis-flex flex-x-between f-24 col-3"},[i("v-uni-view",{staticClass:"list-item-left"},[i("v-uni-checkbox",{staticClass:"checkbox",attrs:{value:t.orderDatadetail.store["code"]}})],1),i("v-uni-view",{staticClass:"list-item-right"},[t._v(t._s(t.orderDatadetail.store["code"]))])],1)],1)]:t._e()],2),3===t.express_type&&t.orderDatadetail.vercode&&t.orderDatadetail.vercode.length>3?[i("v-uni-view",{staticClass:"more f-24 col-9",on:{click:function(e){e=t.$handleEvent(e),t.more(e)}}},[t._v(t._s(t.ismore?"已显示全部核销码":"查看更多")),i("v-uni-text",{staticClass:"more-icon iconfont",class:t.ismore?"icon-fold":"icon-unfold"})],1)]:t._e()],2)],1),"store"!==t.option.order_type&&2!==t.express_type?[i("v-uni-view",{staticClass:"pasword-cancel bor-radius-10 b-f m-btm20"},[i("v-uni-view",{staticClass:"col-3 f-28 m-btm40 pasword-sale-title"},[t._v("请输入店员密码核销")]),i("v-uni-view",{staticClass:"cancel-input dis-flex flex-x-between",on:{click:function(e){e=t.$handleEvent(e),t.inputFocus(e)}}},[i("v-uni-view",{staticClass:"input-item col-3"},[t._v(t._s(t.password_val_1?t.password_val_1:""))]),i("v-uni-view",{staticClass:"input-item col-3"},[t._v(t._s(t.password_val_2?t.password_val_2:""))]),i("v-uni-view",{staticClass:"input-item col-3"},[t._v(t._s(t.password_val_3?t.password_val_3:""))]),i("v-uni-view",{staticClass:"input-item col-3"},[t._v(t._s(t.password_val_4?t.password_val_4:""))]),i("v-uni-input",{attrs:{type:"number",maxlength:"4",focus:t.focus,name:"password"},on:{blur:function(e){e=t.$handleEvent(e),t.inputBlur(e)},input:function(e){e=t.$handleEvent(e),t.cancelImport(e)}}})],1)],1)]:t._e(),i("v-uni-view",{staticClass:"sub-btn f-28 col-3"},[t._v(t._s(3===t.express_type?"自助核销":"确认自提")),i("v-uni-button",{attrs:{formType:"submit",disabled:t.isbtndisabled}})],1)],2)],1):t._e(),i("page-loading",{ref:"loading"})],1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},"24aa":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".item-content[data-v-1eb260af]{width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:%?26?% 0}.item-img-box[data-v-1eb260af]{width:%?170?%;height:%?170?%;margin-right:%?20?%;border-radius:%?10?%;background:no-repeat;background-size:cover;background-position:50%}\n\n/* \t.item-img-box image {\n\tdisplay: block;\n} */.refund-btn[data-v-1eb260af]{\n\t/* \tposition: absolute;\n\tright: 0;\n\tbottom: 66upx; */}.btn-default[data-v-1eb260af]{border-radius:4px;border:%?1?% solid #ccc;padding:%?4?% %?16?%;font-size:%?24?%;color:#555}",""])},"2bb6":function(t,e,i){"use strict";i.r(e);var a=i("6bf5"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},"4f07":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(i("deda")),n=o(i("aabe"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},a=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),a.forEach(function(e){r(t,e,i[e])})}return t}function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var l={data:function(){return{option:{order_id:null,order_type:null},orderDatadetail:{},ismore:!1,password_val_1:null,password_val_2:null,password_val_3:null,password_val_4:null,moreNum:null,isshow:!1,isbtndisabled:!1,vercodeList:[],focus:!1,user_id:null,express_type:null}},components:{ListGoodsItem:n.default},computed:{openmore:function(){var t=this,e=this.vercodeList;return!t.ismore&&e?e.length<3?this.moreNum=e.length:this.moreNum=3:t.ismore&&e&&e.length>3?this.moreNum=e.length:void 0}},onLoad:function(t){this.user_id=uni.getStorageSync("user_id"),this.getOrdercancelDetail(t.order_id),console.log(t.order_type),this.option.order_type=t.order_type},onShow:function(){},mounted:function(){},methods:{checkboxChange:function(t){},formSubmit:function(t){var e=this,i={};if(i=t.detail.value,3===e.express_type){if(0===i.vercode_id.length)return a.default.showError("请选择核销码"),!1;if(i.password&&i.password.length<4)return a.default.showError("请输入四位正确密码"),!1}else if(0===i.selfcode_id.length)return a.default.showError("请选择自提码"),!1;a.default.showError("请确认审核",function(t){"showModal:ok"===t.errMsg&&!0===t.confirm&&e.submitcancel(i)},!0)},inputFocus:function(){this.focus=!0},inputBlur:function(){this.focus=!1},cancelImport:function(t){var e=t.detail.value,i=t.detail.cursor;if(e)switch(i){case 1:this.password_val_1===e.charAt(0)?this.password_val_2="":this.password_val_1=e.charAt(0);break;case 2:this.password_val_2===e.charAt(1)?this.password_val_3="":this.password_val_2=e.charAt(1);break;case 3:this.password_val_3===e.charAt(2)?this.password_val_4="":this.password_val_3=e.charAt(2);break;case 4:this.password_val_4=e.charAt(3);break}else e||(this.password_val_1="")},getOrdercancelDetail:function(t){a.default.showLoading();var e=this;a.default._post_form("user.order/detail",{order_id:t},function(t){if(console.log(t),1===t.code){var i=t.data,a=[];i.vercode.map(function(t){0===t.check_status&&a.push(t)}),e.setData({express_type:t.data.express_type,orderDatadetail:t.data,isshow:!0,vercodeList:a})}else 0===t.code&&uni.navigateBack({delta:1})},!1,function(){a.default.hideLoading()})},more:function(){this.ismore=!this.ismore},submitcancel:function(t){uni.showLoading({});var e=this,i=3===e.express_type?"user.order/checkBySelf":"merchant.index/checkCode",n=s({user_id:e.user_id},t),o=s({check_type:"2"},t);e.isbtndisabled=!0,a.default._post_form(i,3===e.express_type?n:o,function(t){console.log(t),1===t.code&&a.default.showSuccess(3===e.express_type?"核销成功":"自提成功",function(){uni.navigateBack({delta:1})})},!1,function(){uni.hideLoading()})}}};e.default=l},"6baa":function(t,e,i){"use strict";i.r(e);var a=i("4f07"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},"6bf5":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("deda"));function n(t){return t&&t.__esModule?t:{default:t}}var o={data:function(){return{}},props:{goodsData:Object,refund:{type:Number,default:-1}},components:{},computed:{},beforeCreate:function(){},onLoad:function(t){},onShow:function(){},mounted:function(){},methods:{onApplyRefund:function(t){a.default.navigationTo({url:"pages/mainPages/order/refund/apply/apply?order_goods_id="+t})}}};e.default=o},"75d2":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"item-content dis-flex flex-dir-row b-f p-r"},[i("v-uni-view",{staticClass:"item-img-box",style:{"background-image":" url("+(t.goodsData.image?t.goodsData.image.file_path?t.goodsData.image.file_path:t.goodsData.image[0].file_path:"")+")"}}),i("v-uni-view",{staticClass:"item-info dis-flex flex-dir-column flex-x-between flex-box"},[i("v-uni-view",{staticClass:"f-28 twolist-hidden"},[t._v(t._s(t.goodsData.goods_name))]),i("v-uni-view",{staticClass:"dis-flex flex-x-between flex-y-center"},[i("v-uni-view",{staticClass:"f-24 col-9"},[t.goodsData.goods_attr?[t._v("规格:"+t._s(t.goodsData.goods_attr))]:t._e()],2),-1!==t.refund?i("v-uni-view",{staticClass:"refund-btn dis-flex flex-x-end"},[2===t.refund||3===t.refund?i("v-uni-text",{staticClass:"f-26 col-7"},[t._v(t._s(2===t.refund?"已申请售后":"已完成售后"))]):1===t.refund?i("v-uni-view",{staticClass:"btn-default",on:{click:function(e){e.stopPropagation(),e=t.$handleEvent(e),t.onApplyRefund(t.goodsData.order_goods_id)}}},[t._v("申请售后")]):1===t.refund?i("v-uni-view",{staticClass:"f-26 col-7"},[t._v("申请售后")]):t._e()],1):t._e()],1),i("v-uni-view",{staticClass:"dis-flex flex-row flex-x-between"},[i("v-uni-view",{staticClass:"col-3 f-28 price-font-family"},[t._v("¥"+t._s(t.goodsData.goods_price))]),i("v-uni-view",{staticClass:"col-9 f-28"},[t._v("×"+t._s(t.goodsData.total_num))])],1)],1)],1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},"9d81":function(t,e,i){"use strict";var a=i("ebf6"),n=i.n(a);n.a},a20e:function(t,e,i){"use strict";var a=i("b110"),n=i.n(a);n.a},aabe:function(t,e,i){"use strict";i.r(e);var a=i("75d2"),n=i("2bb6");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("9d81");var s=i("2877"),r=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"1eb260af",null);e["default"]=r.exports},b110:function(t,e,i){var a=i("c39b");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("1353400e",a,!0,{sourceMap:!1,shadowMode:!1})},c39b:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'.goodsItem-box[data-v-70b95166]{padding:%?50?% %?24?%}.goodsItem-box .goods-left[data-v-70b95166]{width:%?124?%;height:%?124?%;background-size:%?124?% %?124?%;background-position:50%;background-repeat:no-repeat;margin-right:%?24?%}.cancel-list[data-v-70b95166]{padding:0 %?24?%}.cancel-list .cancel-title[data-v-70b95166]{height:%?100?%;line-height:%?100?%;border-bottom:1px solid #eee;position:relative}.right-text[data-v-70b95166]{display:inline-block;\n\t/* border-left: 2px solid #FED83F; */padding-left:%?26?%;height:%?28?%;line-height:%?28?%}.cancel-list-item[data-v-70b95166]{height:%?80?%;line-height:%?80?%;border-bottom:1px solid #eee}\n\n/* checkbox样式重置 */\n\n\n\n.refund-check-item .checkbox[data-v-70b95166] .uni-checkbox-input{width:%?30?%;height:%?30?%}.refund-check-item .checkbox[data-v-70b95166] .uni-checkbox-input.uni-checkbox-input-checked{border-color:#ffd940!important;background:#ffd940!important}.refund-check-item .checkbox[data-v-70b95166] .uni-checkbox-input.uni-checkbox-input-checked:before{border-radius:50%;width:%?30?%;height:%?30?%;line-height:%?30?%;text-align:center;font-size:%?24?%;color:#000;background:rgba(0,0,0,0);-webkit-transform:translate(-50%,-50%) scale(1);-ms-transform:translate(-50%,-50%) scale(1);transform:translate(-50%,-50%) scale(1)}\n\n.more[data-v-70b95166]{text-align:center;height:%?90?%;line-height:%?90?%}.more .more-icon[data-v-70b95166]{font-size:%?22?%!important;margin-left:%?10?%}.pasword-cancel[data-v-70b95166]{padding:%?40?% %?26?%}.cancel-input[data-v-70b95166]{position:relative}.cancel-input .input-item[data-v-70b95166]{width:%?120?%;height:%?80?%;border-radius:%?10?%;position:relative;z-index:2;background:#eee}.cancel-input uni-input[data-v-70b95166]{position:absolute;height:%?80?%;left:0;top:0;right:0;bottom:0;opacity:0;color:rgba(0,0,0,0);z-index:1}.cancel-input .input-item[data-v-70b95166]{text-align:center;line-height:%?80?%;font-size:%?52?%}.sub-btn[data-v-70b95166]{background-color:#ffd940;height:%?90?%;line-height:%?90?%;text-align:center;border-radius:%?45?%;position:relative}.sub-btn uni-button[data-v-70b95166]{position:absolute;left:0;right:0;top:0;bottom:0;opacity:0}.cancel-title[data-v-70b95166]:after{content:" ";position:absolute;top:54%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);left:0;bottom:%?8?%;width:%?8?%;height:%?30?%;background:#ffd940;border-radius:%?20?%}.pasword-sale-title[data-v-70b95166]{position:relative;padding-left:%?26?%}.pasword-sale-title[data-v-70b95166]:after{content:" ";position:absolute;top:54%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);left:0;bottom:%?8?%;width:%?8?%;height:%?30?%;background:#ffd940;border-radius:%?20?%}\n\n/* \n.input-write {\n\tposition: absolute;\n\ttop: 50%;\n\ttransform: translateY(-50%);\n\twidth: 80upx;\n\theight: 2upx;\n\tbackground-color: #f2f2f2;\n}\n\n.input-write-1 {\n\tleft: 15%;\n}\n\n.input-write-2 {\n\tleft: 44%;\n}\n\n.input-write-3 {\n\tleft: 73%;\n} */',""])},ebf6:function(t,e,i){var a=i("24aa");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("003480d4",a,!0,{sourceMap:!1,shadowMode:!1})}}]);