(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-subPages-drawlotter-index-index"],{"1cfc":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isData?a("v-uni-view",[a("v-uni-view",{staticClass:"activity-header",style:{"background-image":"url("+t.data["image"][0]["file_path"]+")"}},[a("v-uni-view",{staticClass:"activity-like t-c f-24"},[a("v-uni-text",{staticClass:"iconfont icon-like"}),t._v(t._s(t.data["luck_like"])+"人喜欢")],1)],1),a("v-uni-view",{staticClass:"activity-content padding-box-all b-f m-btm20"},[a("v-uni-view",{staticClass:"activity-title f-32 col-3 twolist-hidden dis-flex flex-y-center"},[a("v-uni-text",[t.data["luck_tag"]["length"]>0?a("v-uni-text",{staticClass:"title-label"},[t._v(t._s(t.data["luck_tag"]))]):t._e(),t._v(t._s(t.data["luck_title"]))],1)],1),a("v-uni-view",{staticClass:"activity-price f-28 m-top-btm40"},[t._v("价值 ¥"),a("v-uni-text",{staticClass:"f-40"},[t._v(t._s(t.data["luck_price"]))])],1),a("v-uni-view",{staticClass:"activity-rule dis-flex flex-x-between m-btm50"},[1===t.data["luck_mode"]?[a("v-uni-view",{staticClass:"col-9 f-24"},[t._v(t._s(t.data["luck_begin_time"])+"自动开奖")])]:t._e(),2===t.data["luck_mode"]?[a("v-uni-view",{staticClass:"col-9 f-24"},[t._v("人数满"+t._s(t.data["luck_begin_number"])+"人自动开奖")])]:t._e(),3===t.data["luck_mode"]?[a("v-uni-view",{staticClass:"col-9 f-24"},[t._v("手动开奖")])]:t._e(),a("v-uni-view",{staticClass:"col-9 f-24"},[t._v("中奖数："+t._s(t.data["luck_count"])+"份")])],2),a("v-uni-view",{staticClass:"draw-content b-f bor-radius-20upx"},[1!==t.data["luck_state"]?[a("v-uni-view",{staticClass:"dis-flex flex-x-between"},[3===t.data["luck_state"]?[a("v-uni-view",{staticClass:"f-24 col-3"},[t._v("距离抽奖开始："),a("v-uni-text",{staticClass:"draw-settime col-f"},[t._v(t._s(t.timeobj.hh))]),t._v(":"),a("v-uni-text",{staticClass:"draw-settime col-f"},[t._v(t._s(t.timeobj.mm))]),t._v(":"),a("v-uni-text",{staticClass:"draw-settime col-f"},[t._v(t._s(t.timeobj.ss))])],1)]:t._e(),2===t.data["luck_state"]?[a("v-uni-view",{staticClass:"f-24 col-3"},[t._v("抽奖活动进行中")])]:t._e(),1!==t.data["luck_state"]?[a("v-uni-view",{staticClass:"f-24 col-3"},[t._v("最多还能获取"+t._s(t.data["surplus_num"])+"次抽奖机会")])]:t._e()],2),a("v-uni-view",{staticClass:"draw-btn-content"},[3===t.data["luck_state"]?a("v-uni-view",{staticClass:"btn-style notbtn t-c f-28 col-f"},[t._v("未开始")]):t._e(),2===t.data["luck_state"]&&0===t.data["code"]["length"]?a("v-uni-view",{staticClass:"btn-style starbtn-bg"},[a("v-uni-view",{staticClass:"starbtn f-28 t-c col-f",on:{click:function(e){e=t.$handleEvent(e),t.stardraw(t.luck_id)}}},[t._v("开始抽奖")])],1):t._e(),2===t.data["luck_state"]&&t.data["code"]["length"]>0?a("v-uni-view",{staticClass:"btn-style starbtn-bg"},[a("v-uni-view",{staticClass:"starbtn f-28 t-c col-f"},[t._v("等待开奖")])],1):t._e(),2===t.data["luck_state"]&&t.data["code"]["length"]>0?a("v-uni-view",{staticClass:"wincode-content"},[a("v-uni-view",{staticClass:"wincode-title col-9 f-24 t-c"},[t._v("我的中奖码 共"+t._s(t.data["code"]["length"])+"个")]),a("v-uni-view",{staticClass:"wincode dis-flex flex-warp"},[t._l(t.data["code"],function(e,i){return[a("v-uni-view",{key:i+"_0",staticClass:"wincode-style f-28 t-c goods-price-FE504F m-btm20"},[t._v(t._s(e["luck_code"]))])]})],2),a("v-uni-view",{staticClass:"get-more-wincode f-24 col-f t-c"},[t._v("获取更多抽奖码"),a("v-uni-button",{attrs:{"open-type":"share"}})],1)],1):t._e()],1)]:t._e(),1===t.data["luck_state"]?[a("v-uni-view",{staticClass:"activity-win p-top-20"},[t.data.my_luck_code?a("v-uni-view",{staticClass:"activity-tip dis-flex flex-x-center"},[a("v-uni-image",{staticClass:"prize-img",attrs:{mode:"widthFix",src:t.imageRoot+"38.png"}}),a("v-uni-text",[t._v("恭喜，你中奖啦！获奖幸运码:"),a("v-uni-text",{staticClass:"prize-icon"},[t._v(t._s(t.data.my_luck_code))])],1),a("v-uni-view",{staticClass:"prize-btn",on:{click:function(e){e=t.$handleEvent(e),t.toDetail(t.luck_id)}}},[t._v("查看我的奖品")])],1):t._e(),a("v-uni-view",{staticClass:"activity-win-title-style p-r"},[a("v-uni-view",{staticClass:"f-30 col-3 t-c"},[t._v("中奖名单")])],1),1===t.data["luck_state"]&&0===t.data["code"]["length"]?a("v-uni-view",{staticClass:"f-24 col-9 t-c m-btm20"},[t._v("活动已开奖,暂无中奖名单")]):t._e(),a("v-uni-view",{staticClass:"win-list dis-flex flex-warp flex-x-center"},[t._l(t.data["code"],function(e,i){return[a("v-uni-view",{key:i+"_0",staticClass:"win-list-item m-btm90"},[a("v-uni-view",{staticClass:"item-avatar-name dis-flex flex-y-center flex-x-center"},[a("v-uni-image",{attrs:{src:e["avatarUrl"],mode:""}}),a("v-uni-view",{staticClass:"f-24 col-3",staticStyle:{"white-space":"nowrap",width:"100%",overflow:"hidden","text-overflow":"ellipsis","text-align":"center"}},[t._v(t._s(e["nickName"]))])],1),a("v-uni-view",{staticClass:"win-code f-24 t-c"},[t._v(t._s(e["luck_code"]))])],1)]})],2)],1)]:t._e(),[a("v-uni-view",{staticClass:"draw-btn-content"},[t.data["my_code"]&&t.data["my_code"]["length"]>0?a("v-uni-view",{staticClass:"wincode-content"},[a("v-uni-view",{staticClass:"wincode-title col-9 f-24 t-c"},[t._v("我的抽奖码 共"+t._s(t.data["my_code"]["length"])+"个")]),a("v-uni-view",{staticClass:"wincode dis-flex flex-warp"},[t._l(t.data["my_code"],function(e,i){return[a("v-uni-view",{key:i+"_0",staticClass:"wincode-style f-28 t-c goods-price-FE504F m-btm20"},[t._v(t._s(e["luck_code"]))])]})],2)],1):t._e()],1)],t.data["goods"]&&t.data["goods"][0]&&t.data["goods"]["length"]>0?[a("v-uni-view",{staticClass:"goods-buy-price t-c f-24 col-3"},[t._v("您还可以"),a("v-uni-text",{staticClass:"goods-price-FE504F"},[t._v("¥"+t._s(t.data["goods"][0]["goods"]["goods_price"]))]),t._v("直接购买，为您节省"),a("v-uni-text",{staticClass:"goods-price-FE504F"},[t._v("¥"+t._s(t.data["goods"][0]["goods"]["diff_price"]))])],1),a("v-uni-view",{staticClass:"goods dis-flex padding-box-all bor-radius-10upx m-top30 p-r",on:{click:function(e){e=t.$handleEvent(e),t.skip_goods(t.data["goods"][0]["goods_id"])}}},[a("v-uni-view",{staticClass:"goods-left bor-radius-10upx",style:{"background-image":"url("+t.data["goods"][0]["goods"]["image"][0]["file_path"]+")"}}),a("v-uni-view",{staticClass:"goods-right dis-flex flex-dir-column flex-x-between"},[a("v-uni-view",{staticClass:"twolist-hidden f-28 col-3"},[t._v(t._s(t.data["goods"][0]["goods"]["goods_name"]))]),a("v-uni-view",{staticClass:"goods-price-FE504F f-24"},[t._v("¥"),a("v-uni-text",{staticClass:"f-28"},[t._v(t._s(t.data["goods"][0]["goods"]["goods_price"]))])],1),a("v-uni-view",{staticClass:"col-9 f-24"},[t._v("¥"+t._s(t.data["goods"][0]["goods"]["line_price"]))])],1),a("v-uni-view",{staticClass:"buy-btn t-c f-24 col-3"},[t._v("购买")])],1)]:t._e(),a("v-uni-view",{staticClass:"goods-already p-top-bom-40"},[a("v-uni-view",{staticClass:"goods-already-user onelist-hidden"},[t._l(t.data["user"]["user"],function(e,i){return a("v-uni-image",{key:i,staticClass:"user-avatar",style:{"z-index":2*t.data["user"]["user"]["length"]-i},attrs:{src:e.avatarUrl}})}),a("v-uni-view",{staticClass:"user-avatar user-more f-24"},[t._v("···")])],2),a("v-uni-view",{staticClass:"f-24 col-9 t-c"},[t._v("已有"+t._s(t.data["user"]["count"])+"人抽奖"),a("v-uni-text",{staticClass:"already-moreall",on:{click:function(e){e=t.$handleEvent(e),t.skip_drawMorenum(e)}}},[t._v("查看更多")]),a("v-uni-text",{staticClass:"already-moreall-right iconfont icon-right"})],1)],1)],2)],1),a("v-uni-view",{staticClass:"activity-sku b-f m-btm20"},[a("v-uni-view",{staticClass:"activity-title-style p-r"},[a("v-uni-view",{staticClass:"f-30 col-3 t-c"},[t._v("抽奖规则")])],1),a("v-uni-view",{staticClass:"activity-sku-tab dis-flex flex-x-between p-r"},[t._l(t.drawflow,function(e,i){return a("v-uni-view",{key:i,staticClass:"activity-sku-tab-item t-c"},[a("v-uni-image",{attrs:{src:e.flowimage,mode:""}}),a("v-uni-view",{staticClass:"f-24 col-9"},[t._v(t._s(e.title))])],1)}),a("v-uni-view",{staticClass:"drawflow-fgx drawflow-left-fgx"},[a("v-uni-image",{attrs:{src:"/static/images/draw/draw_fgx.png",mode:""}})],1),a("v-uni-view",{staticClass:"drawflow-fgx drawflow-right-fgx"},[a("v-uni-image",{attrs:{src:"/static/images/draw/draw_fgx.png",mode:""}})],1)],2)],1),a("v-uni-view",{staticClass:"activity-darw b-f m-btm20"},[a("v-uni-view",{staticClass:"activity-darw-title-style p-r"},[a("v-uni-view",{staticClass:"f-30 col-3 t-c"},[t._v("奖品提供方")])],1),a("v-uni-view",{staticClass:"darw-store-list"},[a("v-uni-view",{staticClass:"store-list"},[t._l(t.data["prize"],function(e,i){return i<=t.store_number?[a("v-uni-view",{key:i+"_0",staticClass:"store-list-item dis-flex flex-y-center flex-x-between"},[a("v-uni-view",{staticClass:"store-left dis-flex flex-y-center"},[a("v-uni-view",{staticClass:"store-logo",style:{"background-image":"url("+e["business"]["logo"]["file_path"]+")"}}),a("v-uni-view",{staticClass:"store-detail"},[a("v-uni-view",{staticClass:"store-title f-28 col-3"},[t._v(t._s(e["business"]["name"]))]),a("v-uni-view",{staticClass:"store-inor f-24 col-9 onelist-hidden"},[t._v(t._s(e["business"]["describe"]))])],1)],1),a("v-uni-view",{staticClass:"store-right f-24 col-9",on:{click:function(a){a=t.$handleEvent(a),t.skip_store(e["business_id"],e["prize_id"])}}},[t._v("进店看看"),a("v-uni-text",{staticClass:"iconfont icon-right store-right-icon"})],1)],1)]:t._e()})],2),t.data["prize"]["length"]>1?a("v-uni-view",{staticClass:"store-all-more",on:{click:function(e){e=t.$handleEvent(e),t.moreStoreList(e)}}},[a("v-uni-view",{staticClass:"f-24 col-9 t-c"},[t._v(t._s(t.data["prize"]["length"]===t.store_number?"收起":"查看更多"))]),a("v-uni-view",{staticClass:"iconfont t-c store-more-icon",class:t.data["prize"]["length"]===t.store_number?"icon-fold":"icon-unfold"})],1):t._e()],1)],1),a("v-uni-view",{staticClass:"b-f activity-detail"},[a("v-uni-view",{staticClass:"activity-detail-title-style p-r m-btm20"},[a("v-uni-view",{staticClass:"f-30 col-3 t-c"},[t._v("活动详情")])],1),a("v-uni-view",{staticClass:"padding-box-all"},[a("wx-parse",{attrs:{content:t.luckexplain}})],1)],1),a("v-uni-view",{staticStyle:{height:"106upx"}}),a("v-uni-form",{attrs:{"report-submit":""},on:{submit:function(e){e=t.$handleEvent(e),t.saveFormId(e)}}},[a("v-uni-view",{staticClass:"goods-footer dis-flex flex-dir-row flex-y-center border-line border-top"},[a("v-uni-view",{staticClass:"goods-footer-item dis-flex flex-dir-column flex-x-center p-r",on:{click:function(e){e=t.$handleEvent(e),t.footerNav("home")}}},[a("v-uni-button",{staticClass:"btn-normal report-btn",attrs:{"form-type":"submit"}}),a("v-uni-image",{attrs:{src:"/static/images/goods/home.png"}}),a("v-uni-view",{staticClass:"goods-footer-item-text"},[t._v("首页")])],1),a("v-uni-view",{staticClass:"goods-footer-item dis-flex flex-dir-column flex-x-center p-r",on:{click:function(e){e=t.$handleEvent(e),t.footerNav("order")}}},[a("v-uni-button",{staticClass:"btn-normal report-btn",attrs:{"form-type":"submit"}}),a("v-uni-image",{attrs:{src:"/static/images/goods/flow.png"}}),a("v-uni-view",{staticClass:"goods-footer-item-text"},[t._v("订单")])],1),a("v-uni-view",{staticClass:"goods-footer-item dis-flex flex-dir-column flex-x-center"},[a("v-uni-button",{attrs:{"open-type":"contact","form-type":"submit"},on:{click:function(e){e=t.$handleEvent(e),t.contactBtn(e)}}}),a("v-uni-image",{attrs:{src:"/static/images/goods/kefu.png"}}),a("v-uni-view",{staticClass:"goods-footer-item-text"},[t._v("客服")])],1),a("v-uni-view",{staticClass:"goods-footer-item dis-flex flex-dir-column flex-y-center"},[a("v-uni-view",{staticClass:"groups-footer-btn dis-flex flex-dir-row"},[a("v-uni-view",{staticClass:"go-buy dis-flex flex-dir-column flex-y-center flex-x-center p-r",on:{click:function(e){e=t.$handleEvent(e),t.skip_drawOrder(e)}}},[a("v-uni-text",[t._v("我的抽奖")])],1),a("v-uni-view",{staticClass:"p-r go-groups groups-start dis-flex flex-dir-column flex-y-center flex-x-center",on:{click:function(e){e=t.$handleEvent(e),t.$refs.shareView.shareswich()}}},[a("v-uni-text",[t._v("邀请好友抽奖")])],1)],1)],1)],1)],1),1===t.data["luck_fission"]?a("popup-view",{attrs:{show:t.shadeContact,type:"center"},on:{clickmask:function(e){e=t.$handleEvent(e),t.showContact=!1}}},[a("v-uni-view",{staticClass:"shade-box"},[a("v-uni-view",{staticClass:"invite-bg p-r m-btm20",style:{"background-image":"url("+t.imageRoot+"36.png)"}},[a("v-uni-view",{staticClass:"invite-textbox f-24 col-3"},[t._v("已成功参与活动，每邀请一位好友可以获得"+t._s(t.data["luck_give_number"])+"枚抽奖码，最多可获得"+t._s(t.data["luck_code_max"])+"枚抽奖码，增加中奖几率！")])],1),a("v-uni-view",{staticClass:"invite-btn t-c f-28 col-3 f-w p-r m-btm20",style:{"background-image":"url("+t.imageRoot+"37.png)"}},[t._v("立即获取更多抽奖码"),a("v-uni-button",{attrs:{"open-type":"share"},on:{click:function(e){e=t.$handleEvent(e),t.getMoreCode(e)}}})],1),a("v-uni-view",{staticClass:"shade-close t-c"},[a("v-uni-text",{staticClass:"iconfont icon-roundclose shade-close-icon",on:{click:function(e){e=t.$handleEvent(e),t.footerNav("shade")}}})],1)],1)],1):t._e(),a("page-loading",{ref:"loading"}),a("ShareView",{ref:"shareView",attrs:{pid:t.luck_id,"activity-data":t.activityData,"share-data":t.shareData,postertype:"luck"}})],1):t._e()},o=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return o})},2980:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{}},props:{show:{type:Boolean,default:!1},overlay:{type:Boolean,default:!0},showOverlay:{type:Boolean,default:!0},type:{type:String,default:"center"},modelData:{type:Object,default:function(){}}},components:{},computed:{},mounted:function(){},methods:{handleMaskClick:function(){this.$emit("clickmask")}}};e.default=i},"2be8":function(t,e,a){"use strict";a.r(e);var i=a("befe"),o=a("c4a8");for(var n in o)"default"!==n&&function(t){a.d(e,t,function(){return o[t]})}(n);a("e32a");var s=a("2877"),r=Object(s["a"])(o["default"],i["a"],i["b"],!1,null,"7d20cc56",null);e["default"]=r.exports},"32a8":function(t,e,a){var i=a("6840");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("4f06").default;o("6ff63f62",i,!0,{sourceMap:!1,shadowMode:!1})},"40f4":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=d(a("deda")),o=d(a("daa1")),n=d(a("2be8")),s=d(a("7f37")),r=d(a("e666"));function d(t){return t&&t.__esModule?t:{default:t}}var c={data:function(){return{luck_id:null,main_user_id:null,data:{},timeobj:{},shadeContact:!1,store_number:0,isData:!1,drawflow:[{title:"获取抽奖码",flowimage:"/static/images/draw/getdraw.png"},{title:"等待开奖结果",flowimage:"/static/images/draw/loadingdraw.png"},{title:"已获取开奖码",flowimage:"/static/images/draw/getwin.png"}],activityData:null,shareData:null}},onLoad:function(t){var e=this,a=i.default.getSceneData(t),o=a.a,n=o||(t.luck_id||t.a);console.log(t,a,n,"scene,l,_this.activityData"),e.activityData={luck_id:n},i.default.showLoading();var s=t.main_user_id?t.main_user_id:"";s&&e.drawshare(n,s),e.setData({luck_id:n})},onShow:function(){var t=uni.getStorageSync("token"),e=this.luck_id;t?this.getluckdetail(e):(console.log("doLogin"),i.default.doLogin())},components:{wxParse:o.default,PopupView:n.default,ShareView:s.default},computed:{luckexplain:function(){return this.data.luck_explain},luckStarTime:function(){return this.data.luck_start_time}},mounted:function(){},methods:{setShareData:function(t){var e={luck_id:t.luck_id,referee_id:this.globalSaveRefereeId,i:i.default.getUniacid()};jWeixin.ready(function(){console.log(t,e,"urlQuery"),r.default.wxShare({title:t.luck_title,desc:t.luck_explain,link:"".concat(i.default.siteInfo.siteroot,"addons/weliam_areashop/web/h5/#/pages/subPages/drawlotter/index/index?").concat(i.default.urlEncode(e)),imgUrl:t.image[0].file_path})})},getluckdetail:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=this,o={luck_id:t};console.log(o,"getluckdetail-params"),1===e&&(o.refresh=e),i.default._post_form("luck.luck/LuckDetail",o,function(t){if(console.log(t),t["data"]["goods"]["length"]>0){var e=Number(t["data"]["goods"][0]["goods"]["line_price"])-Number(t["data"]["goods"][0]["goods"]["goods_price"]);t["data"]["goods"][0]["goods"]["diff_price"]=e}a.setData(t),3===t["data"]["luck_state"]&&a.setEndTime(),"4"===a.appClientType&&a.setShareData(t["data"]),a.activityData={luck_id:t["data"]["luck_id"]},a.isData=!0},function(t){console.log(t),0===t.data.code&&uni.navigateBack({delta:1})},function(){i.default.hideLoading()})},setEndTime:function(){var t=this,e=1e3*t.luckStarTime,a=(new Date).getTime(),i=t.data.luck_state,o=parseInt((e-a)/1e3);if(3!==i)return!1;if(!(o>0))return t.getluckdetail(t.luck_id,1),clearTimeout(setTimeout(t.setEndTime,1e3)),!1;var n=parseInt(o/60/60/24*24),s=parseInt(o/60%60),r=parseInt(o%60),d={hh:n<10?"0"+"".concat(n):n,mm:s<10?"0"+"".concat(s):s,ss:r<10?"0"+"".concat(r):r};t.$nextTick(function(){t.timeobj=d}),setTimeout(t.setEndTime,1e3)},drawRequest:function(t){var e=this,a=this;uni.showLoading({}),i.default._post_form("luck.luck/EnjoyLuck",t,function(t){1===t.code&&(2===t.data&&(e.shadeContact=!0),i.default.showSuccess("参与抽奖成功"),a.getluckdetail(a.luck_id))},!1,function(){uni.hideLoading()})},stardraw:function(t){var e=this,a={luck_id:t};2===e.data.luck_mode&&(a.refresh=1),3===e.data.luck_crowd?i.default.getLocation().then(function(t){a.lat=t.latitude,a.lng=t.longitude,e.drawRequest(a)}):e.drawRequest(a)},drawshare:function(t,e){i.default._post_form("luck.luck/shareLuck",{luck_id:t,main_user_id:e},function(t){console.log("分享成功")})},contactBtn:function(){i.default.navigationTo({url:"pages/mainPages/user/service"})},toDetail:function(t){i.default.navigationTo({url:"pages/subPages/drawlotter/detail/detail?luck_id=".concat(t)})},footerNav:function(t){var e="";switch(t){case"home":e="pages/mainPages/index/index";break;case"order":e="pages/mainPages/order/index";break;case"shade":return void(this.shadeContact=!1)}i.default.navigationTo({url:e})},moreStoreList:function(){var t=this,e=t.store_number,a=t.data.prize.length;0===e?t.setData({store_number:a}):e===a&&t.setData({store_number:0})},skip_goods:function(t){i.default.navigationTo({url:"pages/mainPages/goods/index/index?goods_id=".concat(t)})},skip_store:function(t,e){i.default.navigationTo({url:"pages/mainPages/store/list?bus_id=".concat(t,"&prize_id=").concat(e)})},skip_drawOrder:function(){i.default.navigationTo({url:"pages/subPages/drawlotter/drawlotterlist/drawlotterlist"})},skip_drawMorenum:function(){i.default.navigationTo({url:"pages/subPages/drawlotter/record/record?luck_id=".concat(this.luck_id)})},getMoreCode:function(){"4"===this.appClientType&&(this.$refs.shareView.shareswich(),this.$refs.shareView.shareImg=!0)}},onShareAppMessage:function(t){var e=this,a=e.data.luck_id,i=uni.getStorageSync("userInfo");return t.from,{title:"".concat(i.nickName,"邀请您参与抽奖~"),imageUrl:e.data.image[0].file_path,path:"/pages/subPages/drawlotter/index/index?luck_id=".concat(a,"&main_user_id=").concat(i.user_id,"&referee_id=").concat(this.globalSaveRefereeId)}}};e.default=c},"47b5":function(t,e,a){"use strict";a.r(e);var i=a("40f4"),o=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e["default"]=o.a},"562e":function(t,e,a){"use strict";a.r(e);var i=a("1cfc"),o=a("47b5");for(var n in o)"default"!==n&&function(t){a.d(e,t,function(){return o[t]})}(n);a("8899");var s=a("2877"),r=Object(s["a"])(o["default"],i["a"],i["b"],!1,null,"a56535dc",null);e["default"]=r.exports},6840:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".pop[data-v-7d20cc56]{visibility:hidden}.pop--show[data-v-7d20cc56]{visibility:visible}.pop__mask[data-v-7d20cc56]{position:fixed;top:0;left:0;right:0;bottom:0;z-index:100;background:rgba(0,0,0,.5);display:none}.pop__mask--hide[data-v-7d20cc56]{background:0 0}.pop__container[data-v-7d20cc56]{position:fixed;left:50%;top:50%;-webkit-transform:translate3d(-50%,-50%,0);transform:translate3d(-50%,-50%,0);-webkit-transform-origin:center;-ms-transform-origin:center;transform-origin:center;-webkit-transition:all .3s ease;-o-transition:all .3s ease;transition:all .3s ease;z-index:200;opacity:0}.pop--show .pop__container[data-v-7d20cc56]{opacity:1}.pop--show .pop__mask[data-v-7d20cc56]{display:block}.pop--left .pop__container[data-v-7d20cc56]{left:0;top:50%;-webkit-transform:translate3d(-100%,-50%,0);transform:translate3d(-100%,-50%,0)}.pop--show.pop--left .pop__container[data-v-7d20cc56]{-webkit-transform:translate3d(0,-50%,0);transform:translate3d(0,-50%,0)}.pop--right .pop__container[data-v-7d20cc56]{right:0;top:50%;left:auto;-webkit-transform:translate3d(100%,-50%,0);transform:translate3d(100%,-50%,0)}.pop--show.pop--right .pop__container[data-v-7d20cc56]{-webkit-transform:translate3d(0,-50%,0);transform:translate3d(0,-50%,0)}.pop--bottom .pop__container[data-v-7d20cc56]{top:auto;left:50%;bottom:0;-webkit-transform:translate3d(-50%,100%,0);transform:translate3d(-50%,100%,0)}.pop--show.pop--bottom .pop__container[data-v-7d20cc56]{-webkit-transform:translate3d(-50%,0,0);transform:translate3d(-50%,0,0)}.pop--top .pop__container[data-v-7d20cc56]{top:0;left:50%;-webkit-transform:translate3d(-50%,-100%,0);transform:translate3d(-50%,-100%,0)}.pop--show.pop--top .pop__container[data-v-7d20cc56]{-webkit-transform:translate3d(-50%,0,0);transform:translate3d(-50%,0,0)}",""])},7020:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".share-Masking[data-v-184296d8]{position:fixed;z-index:200;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:rgba(7,17,27,.65)}.share-content[data-v-184296d8]{position:fixed;top:0;left:0;right:0;bottom:0;z-index:201}.to-share[data-v-184296d8]{position:fixed!important;z-index:1009;right:%?10?%;top:0;overflow:auto;width:%?500?%;height:%?380?%}.share-Main[data-v-184296d8]{width:100%;height:%?170?%;position:fixed;left:0;right:0;bottom:0;z-index:902;background-color:#fff\n\t/* transform: translateY(100%); */}.share-Close[data-v-184296d8]{position:absolute;left:0;right:0;bottom:0;width:100%;height:%?100?%;line-height:%?100?%;font-size:%?28?%;text-align:center;background-color:#fafafa;color:#999}.share-Box[data-v-184296d8]{display:-webkit-box;\n\t/* 老版本语法: safari, iOs, Android browser, older WebKit browsers. */display:-moz-box;\n\t/* 老版本语法: Firefox (buggy) */display:-ms-flexbox;\n\t/* 混合版本语法: IE 10 */display:-webkit-flex;\n\t/* 新版本语法: Chrome 21+ */display:flex;\n\t/* 新版本语法: Opera 12.1, Firefox 22+ */position:absolute;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;left:0;right:0;top:0;bottom:0}.share-item[data-v-184296d8]{display:-webkit-box;\n\t/* 老版本语法: safari, iOs, Android browser, older WebKit browsers. */display:-moz-box;\n\t/* 老版本语法: Firefox (buggy) */display:-ms-flexbox;\n\t/* 混合版本语法: IE 10 */display:-webkit-flex;\n\t/* 新版本语法: Chrome 21+ */display:flex;\n\t/* 新版本语法: Opera 12.1, Firefox 22+ */position:relative;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;width:50%;height:100%}.share-item uni-image[data-v-184296d8]{width:%?50?%;height:%?50?%;margin-bottom:%?10?%}.share-item uni-text[data-v-184296d8]{font-size:%?28?%}.share-submit[data-v-184296d8]{position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;width:100%;height:100%;z-index:10}.isshare[data-v-184296d8]{-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);-webkit-transition:-webkit-transform .25s;transition:-webkit-transform .25s;-o-transition:transform .25s;transition:transform .25s;transition:transform .25s,-webkit-transform .25s}.isshareFlase[data-v-184296d8]{-webkit-transform:translateY(100%);-ms-transform:translateY(100%);transform:translateY(100%);-webkit-transition:-webkit-transform .25s;transition:-webkit-transform .25s;-o-transition:transform .25s;transition:transform .25s;transition:transform .25s,-webkit-transform .25s}\n\n/* 商品海报 */.poster-box[data-v-184296d8]{width:100%;height:-webkit-calc(100vh - %?170?%);height:calc(100vh - %?170?%)}.poster-image[data-v-184296d8]{position:fixed;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);width:72vw}.image-load[data-v-184296d8]{position:absolute;top:50%;left:50%;margin:%?-30?% 0 0 %?-30?%;width:%?60?%;height:%?60?%;display:inline-block;padding:0;-webkit-border-radius:100%;border-radius:100%;border:%?4?% solid;border-top-color:#ffd940;border-bottom-color:rgba(0,0,0,.2);border-left-color:#ffd940;border-right-color:rgba(0,0,0,.2);-webkit-animation:loader-data-v-184296d8 1s ease-in-out infinite;animation:loader-data-v-184296d8 1s ease-in-out infinite}@-webkit-keyframes loader-data-v-184296d8{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes loader-data-v-184296d8{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.poster-item[data-v-184296d8]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.setting-btn[data-v-184296d8]{position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;z-index:1}",""])},"7f37":function(t,e,a){"use strict";a.r(e);var i=a("fcc8"),o=a("fa6f");for(var n in o)"default"!==n&&function(t){a.d(e,t,function(){return o[t]})}(n);a("f433");var s=a("2877"),r=Object(s["a"])(o["default"],i["a"],i["b"],!1,null,"184296d8",null);e["default"]=r.exports},"80f4":function(t,e,a){var i=a("a006");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("4f06").default;o("135594aa",i,!0,{sourceMap:!1,shadowMode:!1})},8899:function(t,e,a){"use strict";var i=a("80f4"),o=a.n(i);o.a},a006:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,'/**\r\n * 活动头部\r\n */uni-page-body[data-v-a56535dc]{overflow-x:hidden!important}.activity-header[data-v-a56535dc]{position:relative;width:100%;height:%?422?%;background-repeat:no-repeat;background-size:100% %?422?%;background-position:50%;overflow-x:hidden}.activity-content[data-v-a56535dc]{overflow-x:hidden}.activity-like[data-v-a56535dc]{position:absolute;right:%?30?%;top:%?40?%;width:%?200?%;height:%?50?%;line-height:%?50?%;background:hsla(0,0%,100%,.8);-webkit-border-radius:%?24?%;border-radius:%?24?%;color:#fe504f}.activity-like uni-text[data-v-a56535dc]{margin-right:%?8?%;font-size:%?26?%;vertical-align:top}.activity-sku-tab .activity-sku-tab-item>uni-image[data-v-a56535dc]{width:%?100?%;height:%?100?%;display:block;margin:0 auto}.drawflow-fgx[data-v-a56535dc]{position:absolute;width:%?100?%;height:%?100?%}.drawflow-left-fgx[data-v-a56535dc]{left:20%}.drawflow-right-fgx[data-v-a56535dc]{right:20%}.drawflow-fgx>uni-image[data-v-a56535dc]{width:100%;height:100%}\r\n\r\n/**\r\n * 活动标题\r\n */.activity-title[data-v-a56535dc]{line-height:1.3em;letter-spacing:%?0.5?%}.title-label[data-v-a56535dc]{vertical-align:middle;white-space:nowrap;font-size:%?20?%;background-color:#fed840;padding:%?3?% %?10?%;margin-right:%?16?%}\r\n\r\n/**\r\n * 活动价值\r\n */.activity-price[data-v-a56535dc]{color:#fe504f}\r\n\r\n/**\r\n * 开奖按钮到时候及内容\r\n */.draw-content[data-v-a56535dc]{-webkit-box-shadow:0 %?2?% %?16?% 0 hsla(0,0%,80%,.8);box-shadow:0 %?2?% %?16?% 0 hsla(0,0%,80%,.8);padding:%?40?% %?30?% 0}.bor-radius-20upx[data-v-a56535dc]{-webkit-border-radius:%?20?%;border-radius:%?20?%}\r\n\r\n/**\r\n * 倒计时样式\r\n */.draw-settime[data-v-a56535dc]{height:%?30?%;line-height:%?30?%;padding:%?2?% %?4?%;-webkit-border-radius:%?4?%;border-radius:%?4?%;background-color:#000}\r\n\r\n/**\r\n * 按钮公共样式\r\n */.draw-btn-content .btn-style[data-v-a56535dc]{position:relative;width:%?240?%;height:%?240?%;line-height:%?240?%;-webkit-border-radius:50%;border-radius:50%;margin:%?60?% auto}\r\n\r\n/**\r\n * 按钮未开始样式\r\n */.draw-btn-content .notbtn[data-v-a56535dc]{background-color:#ccc}\r\n\r\n/**\r\n * 按钮开始及等待开奖\r\n */.draw-btn-content .starbtn-bg[data-v-a56535dc]{background-color:#fe504f!important}.draw-btn-content .starbtn[data-v-a56535dc]{position:absolute;left:50%;top:50%;width:%?210?%;height:%?210?%;line-height:%?210?%;-webkit-border-radius:50%;border-radius:50%;border:2px solid #fff;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background-color:#fe504f}.goods-price-FE504F[data-v-a56535dc]{color:#fe504f}\r\n\r\n/**\r\n * 中奖码部分内容\r\n */.wincode-title[data-v-a56535dc]{position:relative}.wincode-title[data-v-a56535dc]:before{content:" ";position:absolute;right:10%;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);width:%?134?%;height:%?2?%;border-bottom:1px dashed #f0f0f0}.wincode-title[data-v-a56535dc]:after{content:" ";position:absolute;left:10%;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);width:%?134?%;height:%?2?%;border-bottom:1px dashed #f0f0f0}.wincode[data-v-a56535dc]{width:77%;margin:%?30?% auto;padding:0 23%}.wincode-style[data-v-a56535dc]{width:%?150?%;height:%?56?%;line-height:%?56?%;border:1px solid #fe504f;-webkit-border-radius:%?30?%;border-radius:%?30?%;margin-right:%?36?%}.get-more-wincode[data-v-a56535dc]{position:relative;width:%?246?%;height:%?58?%;line-height:%?58?%;background:#fe504f;-webkit-border-radius:%?30?%;border-radius:%?30?%;margin:0 auto %?36?%}.get-more-wincode uni-button[data-v-a56535dc]{position:absolute;left:0;right:0;top:0;bottom:0;opacity:0}\r\n\r\n/**\r\n * 商品详情\r\n */.goods[data-v-a56535dc]{border:1px solid #f0f0f0}.goods .goods-left[data-v-a56535dc]{width:%?150?%;height:%?150?%;background-repeat:no-repeat;background-size:cover;background-position:50%;margin-right:%?30?%;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.goods .buy-btn[data-v-a56535dc]{position:absolute;right:%?30?%;bottom:%?30?%;width:%?120?%;height:%?56?%;line-height:%?56?%;background:#ffd940;-webkit-box-shadow:0 %?2?% %?12?% 0 #ffd940;box-shadow:0 %?2?% %?12?% 0 #ffd940;-webkit-border-radius:%?30?%;border-radius:%?30?%}\r\n\r\n/**\r\n * 抽奖人头像\r\n */.goods-already-user[data-v-a56535dc]{text-align:center;margin-top:%?15?%;height:%?68?%}.goods-already-user .user-avatar[data-v-a56535dc]{width:%?55?%;height:%?55?%;-webkit-border-radius:%?55?%;border-radius:%?55?%;display:inline-block;margin-right:%?-12?%;position:relative;vertical-align:top}.goods-already-user .user-avatar.user-more[data-v-a56535dc]{background:#f2f2f2;color:#bbb;text-align:center;line-height:%?50?%;z-index:1}.already-moreall[data-v-a56535dc]{color:#fbaa5b!important;margin-left:%?36?%}.already-moreall-right[data-v-a56535dc]{color:#fbaa5b!important;font-size:%?24?%!important}\r\n\r\n/**\r\n * 抽奖规则\r\n */.activity-sku[data-v-a56535dc]{padding:%?60?% %?40?% %?40?%}.activity-sku .activity-title-style[data-v-a56535dc]{width:%?140?%;height:%?12?%;background-color:#ffd940;margin:0 auto %?30?%}.activity-sku .activity-title-style uni-view[data-v-a56535dc]{position:absolute;left:0;right:0;top:%?-26?%}\r\n\r\n/**\r\n * 中奖名单\r\n */.activity-win[data-v-a56535dc]{\r\n\t/* padding-top: 60upx 0; */}.activity-tip[data-v-a56535dc]{font-size:%?30?%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;text-align:center;margin-bottom:%?80?%}.activity-tip .prize-icon[data-v-a56535dc]{color:#fe504f}.activity-win .activity-win-title-style[data-v-a56535dc]{width:%?140?%;height:%?12?%;background-color:#ffd940;margin:0 auto %?40?%}.activity-win .activity-win-title-style uni-view[data-v-a56535dc]{position:absolute;left:0;right:0;top:%?-26?%}.prize-img[data-v-a56535dc]{width:100px;margin:0 auto %?10?%;height:100px}.prize-btn[data-v-a56535dc]{color:#fff;padding:%?10?% %?40?%;width:%?220?%;margin:%?25?% auto 0;-webkit-border-radius:%?60?%;border-radius:%?60?%;background:#fe504f;text-align:center;font-size:14px}.item-avatar-name[data-v-a56535dc]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.item-avatar-name>uni-image[data-v-a56535dc]{display:block;width:%?60?%;height:%?60?%;-webkit-border-radius:50%;border-radius:50%;margin-right:%?12?%}.win-list-item[data-v-a56535dc]{width:25%}.win-list-item .win-code[data-v-a56535dc]{color:#fe504f}\r\n\r\n/**\r\n * 奖品提供方\r\n */.activity-darw[data-v-a56535dc]{padding:%?60?% 0}.activity-darw .activity-darw-title-style[data-v-a56535dc]{width:%?164?%;height:%?12?%;background-color:#ffd940;margin:0 auto %?40?%}.activity-darw .activity-darw-title-style uni-view[data-v-a56535dc]{position:absolute;left:0;right:0;top:%?-26?%}.store-list-item[data-v-a56535dc]{margin:0 %?30?%;padding:%?50?% 0;border-bottom:1px solid #f0f0f0}.store-list[data-v-a56535dc] :last-child{border:none!important}.store-left .store-logo[data-v-a56535dc]{width:%?62?%;height:%?62?%;-webkit-border-radius:50%;border-radius:50%;background-repeat:no-repeat;background-size:cover;margin-right:%?18?%}.store-left .store-detail .store-inor[data-v-a56535dc]{width:%?400?%}.store-right .store-right-icon[data-v-a56535dc]{font-size:%?24?%!important;color:#999}.store-all-more .store-more-icon[data-v-a56535dc]{font-size:%?24?%!important;color:#999}\r\n\r\n/**\r\n * 活动详情\r\n */.activity-detail[data-v-a56535dc]{padding:%?50?% 0 %?40?%!important}.activity-detail .activity-detail-title-style[data-v-a56535dc]{width:%?140?%;height:%?12?%;background-color:#ffd940;margin:0 auto %?20?%}.activity-detail .activity-detail-title-style uni-view[data-v-a56535dc]{position:absolute;left:0;right:0;top:%?-26?%}\r\n\r\n/* 底部菜单 */.goods-footer[data-v-a56535dc]{background:#fff;text-align:center;height:%?106?%;position:fixed;left:0;right:0;bottom:0;z-index:30}.goods-footer-item[data-v-a56535dc]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-box-sizing:border-box;box-sizing:border-box;height:%?106?%;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;position:relative}.goods-footer-item>uni-button[data-v-a56535dc]{position:absolute;top:0;right:0;left:0;bottom:0;opacity:0;z-index:8}.goods-footer-item uni-image[data-v-a56535dc]{width:%?50?%;height:%?50?%;display:inline-block;margin:0 %?20?%}.goods-footer-item .goods-footer-item-text[data-v-a56535dc]{font-size:%?24?%;line-height:1.5em;color:#333;text-align:center}.goods-footer .groups-footer-btn[data-v-a56535dc]{width:%?352?%;height:%?80?%;line-height:%?80?%;text-align:center;-webkit-border-radius:%?50?%;border-radius:%?50?%;color:#fff;background:#fe504f;font-size:%?28?%;font-weight:700;margin:%?17?% %?30?% 0 0}.goods-footer .groups-footer-btn .go-buy[data-v-a56535dc]{width:40%;font-size:%?24?%;color:#333;-webkit-border-radius:%?36?% 0 0 %?36?%;border-radius:%?36?% 0 0 %?36?%;background-color:#ffd940}.goods-footer .groups-footer-btn .go-buy.has_stock[data-v-a56535dc]{color:#999;background:#eee}.goods-footer .groups-footer-btn .go-groups[data-v-a56535dc]{background:#fe504f;-webkit-border-radius:0 %?36?% %?36?% 0;border-radius:0 %?36?% %?36?% 0;width:60%;font-size:%?24?%;color:#fff}.goods-footer .groups-footer-btn .go-groups.groups-start uni-button[data-v-a56535dc]{position:absolute;left:0;right:0;top:0;bottom:0;opacity:0}.goods-footer .groups-footer-btn .go-groups.groups-end[data-v-a56535dc]{color:#333;background:#ffd940}.goods-footer .groups-footer-btn .go-buy uni-text[data-v-a56535dc],.goods-footer .groups-footer-btn .go-groups uni-text[data-v-a56535dc]{line-height:1}.buy-button-box .buy-button.no-stock[data-v-a56535dc]{color:rgba(0,0,0,.6);background:#dedede}\r\n\r\n/**\r\n * 遮罩\r\n */.shade-box[data-v-a56535dc]{margin-top:%?-200?%}.invite-bg[data-v-a56535dc]{width:%?626?%;height:%?600?%;background-size:%?626?% %?600?%;background-repeat:no-repeat}.invite-textbox[data-v-a56535dc]{position:absolute;left:52%;top:65%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);width:%?400?%;padding:%?30?% %?40?%;\r\n\t/* height: 200upx; */background:-webkit-gradient(linear,left top,left bottom,from(#ffeb7a),to(#ffda44));background:-webkit-linear-gradient(#ffeb7a,#ffda44);background:-o-linear-gradient(#ffeb7a,#ffda44);background:linear-gradient(#ffeb7a,#ffda44);-webkit-border-radius:%?20?%;border-radius:%?20?%;line-height:%?36?%}.invite-btn[data-v-a56535dc]{width:%?354?%;height:%?100?%;line-height:%?100?%;background-size:%?354?% %?100?%;background-repeat:no-repeat;margin:0 auto}.invite-btn uni-button[data-v-a56535dc]{position:absolute;left:0;right:0;top:0;bottom:0;opacity:0}.shade-close-icon[data-v-a56535dc]{font-size:%?44?%!important;color:#fff!important}',""])},befe:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"page"},[a("v-uni-view",{staticClass:"pop",class:["pop--"+t.type,{"pop--show":t.show}]},[t.overlay?a("v-uni-view",{staticClass:"pop__mask",class:{"pop__mask--hide":!t.showOverlay},on:{click:function(e){e=t.$handleEvent(e),t.handleMaskClick(e)}}}):t._e(),a("v-uni-view",{staticClass:"pop__container"},[t._t("default")],2)],1)],1)},o=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return o})},c4a8:function(t,e,a){"use strict";a.r(e);var i=a("2980"),o=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e["default"]=o.a},d132:function(t,e,a){var i=a("7020");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("4f06").default;o("5089df6e",i,!0,{sourceMap:!1,shadowMode:!1})},e32a:function(t,e,a){"use strict";var i=a("32a8"),o=a.n(i);o.a},f433:function(t,e,a){"use strict";var i=a("d132"),o=a.n(i);o.a},fa6f:function(t,e,a){"use strict";a.r(e);var i=a("fe53"),o=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e["default"]=o.a},fcc8:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[t.isShare?a("v-uni-view",{staticClass:"share-Masking",on:{click:function(e){e=t.$handleEvent(e),t.shareswich(e)}}}):t._e(),a("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:t.shareImg,expression:"shareImg"}],staticClass:"to-share",attrs:{src:"/static/h5/share.png",mode:"widthFix"}}),a("v-uni-view",{staticClass:"share-content",class:t.isShare?"isshare":"isshareFlase"},[a("v-uni-view",{staticClass:"poster-box",on:{click:function(e){e=t.$handleEvent(e),t.shareswich(e)}}},["goods"===t.postertype?[a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!t.posterShow,expression:"!posterShow"}],staticClass:"image-load"}),a("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:t.posterShow,expression:"posterShow"}],staticClass:"poster-image p-r",style:{height:t.imgHeight+"px",top:t.imgTop+"px"},attrs:{src:t.posterImages},on:{load:function(e){e=t.$handleEvent(e),t.posterLoad(e)}}})]:t._e()],2),a("v-uni-view",{staticClass:"share-Main"},[a("v-uni-view",{staticClass:"share-Box"},[a("v-uni-view",{staticClass:"share-item"},[a("v-uni-view",{staticClass:"share-submit",on:{click:function(e){e=t.$handleEvent(e),t.shareBtn(e)}}}),a("v-uni-image",{attrs:{src:"/static/images/share/share.png",mode:"aspectFill"}}),a("v-uni-text",[t._v("分享给朋友")])],1),a("v-uni-view",{staticClass:"share-item",on:{click:function(e){e=t.$handleEvent(e),t.navigationTo("poster")}}},[t.openSetting?a("v-uni-button",{staticClass:"btn-normal setting-btn",attrs:{"open-type":"openSetting"},on:{opensetting:function(e){e=t.$handleEvent(e),t.onSetting(e)}}}):t._e(),a("v-uni-view",{staticClass:"dis-flex poster-item t-c flex-x-center flex-y-center"},[a("v-uni-image",{staticClass:"img-haibao",attrs:{src:"/static/images/share/download.png",mode:"aspectFill"}}),a("v-uni-text",[t._v(t._s("goods"===t.postertype?"保存":"生成")+"海报")])],1)],1),t.isGoodsRecommend?[a("v-uni-view",{staticClass:"share-item",on:{click:function(e){e=t.$handleEvent(e),t.goodsRecommend(e)}}},[a("v-uni-image",{attrs:{src:"/static/images/share/good.png",mode:"aspectFill"}}),a("v-uni-text",[t._v("好物推荐")])],1)]:t._e()],2)],1)],1)],1)},o=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return o})},fe53:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o=s(a("deda")),n=s(a("e666"));function s(t){return t&&t.__esModule?t:{default:t}}function r(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},i=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),i.forEach(function(e){d(t,e,a[e])})}return t}function d(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var c=(i={data:function(){return{isShare:!1,shareImg:!1,configData:null,posterImages:"",posterShow:!1,imgTop:0,imgHeight:0,openSetting:!1}},mounted:function(){"4"===this.appClientType&&this.wxApiCallback()},computed:{navHeaght:function(){if(this.$store.state.systemInfo){var t=this.$store.state.systemInfo.statusBarHeight;return t+uni.upx2px(120)}},isGoodsRecommend:function(){var t=o.default.getClientType(),e="pages/mainPages/goods/index/index";if("2"===t){var a=o.default.getCurrentPage();return a.__route__===e}if("4"===t)return this.__page__.route===e},clientType:function(){return o.default.getClientType()}},props:{pid:{type:Number,default:null},shareData:{type:Object,default:function(){}},postertype:{type:String,default:null},requesttype:{type:String,default:null},activityData:{type:Object,default:function(){}}},watch:{isShare:function(t){t&&"goods"===this.postertype&&this.getGoodsPoster(this.pid)},activityData:function(t){console.log("activityData",t)}}},d(i,"mounted",function(){console.log(this.activityData)}),d(i,"methods",{wxApiCallback:function(){var t=this;jWeixin.ready(function(){var e=n.default.configData;e.url=decodeURIComponent(e.url),t.configData={appid:e.appId,timestamp:e.timestamp,noncestr:e.nonceStr,signature:e.signature,url:e.url},t.isReady=!0})},shareswich:function(){this.isShare=!this.isShare,this.shareImg=!1},navigationTo:function(t){var e=this,a={pid:e.pid,postertype:e.postertype,requesttype:e.requesttype},i=e.activityData;"poster"===t&&("goods"===e.postertype?"3"===this.appClientType||"4"===this.appClientType?o.default.showSuccess("请长按图片以保存"):uni.getImageInfo({src:this.posterImages,success:function(t){uni.saveImageToPhotosAlbum({filePath:t.path,success:function(){uni.hideLoading(),o.default.showSuccess("保存成功")},complete:function(t){console.log(t),uni.hideLoading(),"saveImageToPhotosAlbum:fail:auth denied"!==t.errMsg&&"saveImageToPhotosAlbum:fail auth deny"!==t.errMsg||(o.default.showError("获取权限失败,请重试"),e.openSetting=!0)}})}}):(i&&(a=Object.assign(a,i)),a=e.$util.removeEmpty(a),o.default.navigationTo({url:"pages/mainPages/poster/poster?"+o.default.urlEncode(a)})))},shareBtn:function(){this.shareImg=!0},updateShareGoods:function(){var t=this,e=t.pid,a=t.activityData,i=t.clientType,n="";return console.log(t.activityData),a=t.$util.removeEmpty(a),"2"===i?(console.log(a,o.default.urlEncode(a)),n="pages/mainPages/goods/index/index?"+o.default.urlEncode(a)):"4"===i&&(n=o.default.siteInfo.siteroot+"addons/weliam_areashop/web/h5/#/pages/mainPages/goods/index/index?"+o.default.urlEncode(a)),new Promise(function(t,a){uni.showLoading({title:"加载中..."}),o.default._get("Goods/shareGoodThingCircle",{goods_id:e,path:n},function(e){var a=e.data.product_list;delete a[0]["src_wxapp_path"],"4"===i&&(console.log(n),e.data.product_list[0].src_h5_path=n),t(e)})})},goodsRecommend:function(){var t=this,e=t.clientType;t.updateShareGoods().then(function(a){var i=a.data.product_list[0];if(uni.hideLoading(),"2"===e)1===a.code?wx.openBusinessView?wx.openBusinessView({businessType:"friendGoodsRecommend",extraData:{product:{item_code:i.item_code,title:i.title,image_list:i.image_list}},success:function(t){console.log(t)},fail:function(t){console.log(t)}}):o.default.showError("微信版本过低,请更新至最新版本"):(console.log("fail",res),o.default.showError(res.data.errmsg,function(){o.default.hideLoading(),fail&&fail(res)}));else if("4"===e){var s=t.configData,r=i,d="jsCheck=".concat(encodeURIComponent(JSON.stringify(s)),"&product=").concat(encodeURIComponent(JSON.stringify(r)));console.log(s),console.log(i),n.default.wxGoodsCircle(d,function(t){console.log(JSON.stringify(t))},function(t){console.log(t)})}})},getGoodsPoster:function(t){var e=this,a=this.$util.removeEmpty(this.activityData);t&&o.default._post_form("goods/getQrcode",r({},a),function(t){1===t.code&&(e.posterImages=t.data)})},posterLoad:function(t){var e=t.detail,a=uni.getSystemInfoSync(),i=a.windowWidth,o=a.windowHeight,n=e.height/e.width,s=n*i*.72,r=(o-uni.upx2px(170)-s)/2;this.imgTop=r,this.imgHeight=s,this.posterShow=!0},onSetting:function(t){console.log(t);var e=t.detail.authSetting,a="scope.writePhotosAlbum";e[a]&&(this.openSetting=!1)}}),i);e.default=c}}]);