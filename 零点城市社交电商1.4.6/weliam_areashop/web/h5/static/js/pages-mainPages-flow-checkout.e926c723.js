(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mainPages-flow-checkout"],{"0912":function(e,t,o){t=e.exports=o("2350")(!1),t.push([e.i,".item-content[data-v-0fc11489]{width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:%?26?% 0}.item-img-box[data-v-0fc11489]{position:relative;width:%?170?%;height:%?170?%;margin-right:%?20?%;border-radius:%?6?%;background:no-repeat;background-size:cover;background-position:50%}.item-img-box .group-num[data-v-0fc11489]{position:absolute;top:0;left:0;font-size:%?24?%;line-height:%?38?%;color:#fff;width:%?76?%;height:%?38?%;background:-webkit-gradient(linear,left top,right top,from(#fe504f),to(#fe854f));background:-o-linear-gradient(left,#fe504f,#fe854f);background:linear-gradient(90deg,#fe504f,#fe854f);-webkit-box-shadow:0 %?2?% %?10?% 0 rgba(254,80,79,.54);box-shadow:0 %?2?% %?10?% 0 rgba(254,80,79,.54);border-radius:%?10?% 0 %?6?% 0;z-index:2;text-align:center}\n\n/* \t.item-img-box image {\n\tdisplay: block;\n} */.refund-btn[data-v-0fc11489]{\n\t/* \tposition: absolute;\n\tright: 0;\n\tbottom: 66upx; */}.btn-default[data-v-0fc11489]{border-radius:4px;border:%?1?% solid #ccc;padding:%?4?% %?16?%;font-size:%?24?%;color:#555}.item-content .price-font-family uni-text[data-v-0fc11489]{display:inline-block;width:%?90?%;height:%?36?%;line-height:%?36?%;color:#ecdbbd;background-color:#333;border-radius:%?8?%;margin-left:%?16?%}",""])},"17f4":function(e,t,o){"use strict";var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-uni-view",{staticClass:"item-content dis-flex flex-dir-row b-f p-r"},[o("v-uni-view",{staticClass:"item-img-box",style:{"background-image":" url("+(e.goodsData.image?e.goodsData.image.file_path?e.goodsData.image.file_path:e.goodsData.image[0].file_path:"")+")"}},[-1!=e.groupNumber?o("v-uni-view",{staticClass:"group-num"},[e._v(e._s(e.groupNumber)+"人团")]):e._e()],1),o("v-uni-view",{staticClass:"item-info dis-flex flex-dir-column flex-x-between flex-box"},[o("v-uni-view",{staticClass:"f-28 twolist-hidden"},[e._v(e._s(e.goodsData.goods_name))]),o("v-uni-view",{staticClass:"dis-flex flex-x-between flex-y-center"},[o("v-uni-view",{staticClass:"f-24 col-9"},[e.goodsData.goods_attr?[e._v("规格:"+e._s(e.goodsData.goods_attr))]:e._e()],2),-1!==e.refund?o("v-uni-view",{staticClass:"refund-btn dis-flex flex-x-end"},[2===e.refund||3===e.refund?o("v-uni-text",{staticClass:"f-26 col-7"},[e._v(e._s(2===e.refund?"已申请售后":"已完成售后"))]):1===e.refund?o("v-uni-view",{staticClass:"btn-default",on:{click:function(t){t.stopPropagation(),t=e.$handleEvent(t),e.onApplyRefund(e.goodsData.order_goods_id)}}},[e._v("申请售后")]):1===e.refund?o("v-uni-view",{staticClass:"f-26 col-7"},[e._v("申请售后")]):e._e()],1):e._e()],1),o("v-uni-view",{staticClass:"dis-flex flex-row flex-x-between"},[o("v-uni-view",{staticClass:"col-3 f-28 price-font-family"},[e._v("¥"+e._s(e.goodsData.goods_price)),e.goodscard?o("v-uni-text",{staticClass:"f-22 t-c"},[e._v("会员价")]):e._e()],1),o("v-uni-view",{staticClass:"col-9 f-28"},[e._v("×"+e._s(e.goodsData.total_num))])],1)],1)],1)},r=[];o.d(t,"a",function(){return a}),o.d(t,"b",function(){return r})},"2b14":function(e,t,o){t=e.exports=o("2350")(!1),t.push([e.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* 快捷导航 */.shortcut[data-v-405af8ee]{position:fixed;right:12px;bottom:%?250?%;width:%?76?%;line-height:1;z-index:5;border-radius:50%}\n\n/* 导航菜单元素 */.nav-item[data-v-405af8ee]{position:absolute;bottom:0;padding:0;width:%?76?%;height:%?76?%;line-height:%?76?%;color:#fff;background:rgba(0,0,0,.4);border-radius:50%!important;text-align:center;-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);opacity:0}.nav-item uni-text[data-v-405af8ee]{font-size:%?40?%}\n\n/* 导航开关 */.nav-item__switch[data-v-405af8ee]{opacity:1}.shortcut_click_show[data-v-405af8ee]{margin-bottom:0;background:#fe504f}\n\n/* 显示动画 */.show_80[data-v-405af8ee]{bottom:%?384?%;-webkit-animation:show_80-data-v-405af8ee .3s forwards;animation:show_80-data-v-405af8ee .3s forwards}.show_60[data-v-405af8ee]{bottom:%?288?%;-webkit-animation:show_60-data-v-405af8ee .3s forwards;animation:show_60-data-v-405af8ee .3s forwards}.show_40[data-v-405af8ee]{bottom:%?192?%;-webkit-animation:show_40-data-v-405af8ee .3s forwards;animation:show_40-data-v-405af8ee .3s forwards}.show_20[data-v-405af8ee]{bottom:%?96?%;-webkit-animation:show_20-data-v-405af8ee .3s forwards;animation:show_20-data-v-405af8ee .3s forwards}@-webkit-keyframes show_20-data-v-405af8ee{0%{bottom:0;-webkit-transform:rotate(0deg);transform:rotate(0deg);opacity:0}to{bottom:%?96?%;-webkit-transform:rotate(1turn);transform:rotate(1turn);opacity:1}}@keyframes show_20-data-v-405af8ee{0%{bottom:0;-webkit-transform:rotate(0deg);transform:rotate(0deg);opacity:0}to{bottom:%?96?%;-webkit-transform:rotate(1turn);transform:rotate(1turn);opacity:1}}@-webkit-keyframes show_40-data-v-405af8ee{0%{bottom:0;-webkit-transform:rotate(0deg);transform:rotate(0deg);opacity:0}to{bottom:%?192?%;-webkit-transform:rotate(1turn);transform:rotate(1turn);opacity:1}}@keyframes show_40-data-v-405af8ee{0%{bottom:0;-webkit-transform:rotate(0deg);transform:rotate(0deg);opacity:0}to{bottom:%?192?%;-webkit-transform:rotate(1turn);transform:rotate(1turn);opacity:1}}@-webkit-keyframes show_60-data-v-405af8ee{0%{bottom:0;-webkit-transform:rotate(0deg);transform:rotate(0deg);opacity:0}to{bottom:%?288?%;-webkit-transform:rotate(1turn);transform:rotate(1turn);opacity:1}}@keyframes show_60-data-v-405af8ee{0%{bottom:0;-webkit-transform:rotate(0deg);transform:rotate(0deg);opacity:0}to{bottom:%?288?%;-webkit-transform:rotate(1turn);transform:rotate(1turn);opacity:1}}@-webkit-keyframes show_80-data-v-405af8ee{0%{bottom:0;-webkit-transform:rotate(0deg);transform:rotate(0deg);opacity:0}to{bottom:%?384?%;-webkit-transform:rotate(1turn);transform:rotate(1turn);opacity:1}}@keyframes show_80-data-v-405af8ee{0%{bottom:0;-webkit-transform:rotate(0deg);transform:rotate(0deg);opacity:0}to{bottom:%?384?%;-webkit-transform:rotate(1turn);transform:rotate(1turn);opacity:1}}\n\n/* 隐藏动画 */.hide_80[data-v-405af8ee]{bottom:0;-webkit-animation:hide_80-data-v-405af8ee .3s;animation:hide_80-data-v-405af8ee .3s;opacity:0}.hide_60[data-v-405af8ee]{bottom:0;-webkit-animation:hide_60-data-v-405af8ee .3s;animation:hide_60-data-v-405af8ee .3s;opacity:0}.hide_40[data-v-405af8ee]{bottom:0;-webkit-animation:hide_40-data-v-405af8ee .3s;animation:hide_40-data-v-405af8ee .3s;opacity:0}.hide_20[data-v-405af8ee]{bottom:0;-webkit-animation:hide_20-data-v-405af8ee .3s;animation:hide_20-data-v-405af8ee .3s;opacity:0}@-webkit-keyframes hide_20-data-v-405af8ee{0%{bottom:%?96?%;-webkit-transform:rotate(1turn);transform:rotate(1turn);opacity:1}to{bottom:0;-webkit-transform:rotate(0deg);transform:rotate(0deg);opacity:0}}@keyframes hide_20-data-v-405af8ee{0%{bottom:%?96?%;-webkit-transform:rotate(1turn);transform:rotate(1turn);opacity:1}to{bottom:0;-webkit-transform:rotate(0deg);transform:rotate(0deg);opacity:0}}@-webkit-keyframes hide_40-data-v-405af8ee{0%{bottom:%?192?%;-webkit-transform:rotate(1turn);transform:rotate(1turn);opacity:1}to{bottom:0;-webkit-transform:rotate(0deg);transform:rotate(0deg);opacity:0}}@keyframes hide_40-data-v-405af8ee{0%{bottom:%?192?%;-webkit-transform:rotate(1turn);transform:rotate(1turn);opacity:1}to{bottom:0;-webkit-transform:rotate(0deg);transform:rotate(0deg);opacity:0}}@-webkit-keyframes hide_60-data-v-405af8ee{0%{bottom:%?288?%;-webkit-transform:rotate(1turn);transform:rotate(1turn);opacity:1}to{bottom:0;-webkit-transform:rotate(0deg);transform:rotate(0deg);opacity:0}}@keyframes hide_60-data-v-405af8ee{0%{bottom:%?288?%;-webkit-transform:rotate(1turn);transform:rotate(1turn);opacity:1}to{bottom:0;-webkit-transform:rotate(0deg);transform:rotate(0deg);opacity:0}}@-webkit-keyframes hide_80-data-v-405af8ee{0%{bottom:%?384?%;-webkit-transform:rotate(1turn);transform:rotate(1turn);opacity:1}to{bottom:0;-webkit-transform:rotate(0deg);transform:rotate(0deg);opacity:0}}@keyframes hide_80-data-v-405af8ee{0%{bottom:%?384?%;-webkit-transform:rotate(1turn);transform:rotate(1turn);opacity:1}to{bottom:0;-webkit-transform:rotate(0deg);transform:rotate(0deg);opacity:0}}",""])},"2bb6":function(e,t,o){"use strict";o.r(t);var a=o("6bf5"),r=o.n(a);for(var i in a)"default"!==i&&function(e){o.d(t,e,function(){return a[e]})}(i);t["default"]=r.a},"33bc":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAP1BMVEUAAADs273v37/v2r/r2r3s2r3s27zs273r273s2rzs27zs3L3r27vs3Lzs27zs2r3v37/s273s2r3t273s2728oryuAAAAFHRSTlMAwBAw0GDw74Cgr5BAULCfIODfcKiVrbgAAAE9SURBVEjHvZRtc4MgEIQBAVHRqLn//1tLOp1s73jNTKfPpwT3THb3VP0v+6oLrLGmf1CFR1m/UZWtpHfUwOX6SGBkYpqpyTxxvYG+NnEyvaUu1iiw0gC2WkC3jicN8kQBg7g80H645qYPmI0K9BFB6fdnnbCFNNMxRLfCFfXCFtP/rbr4wOm53p9y4GDFZFsbxZOiVZQxB+4x4bjk4DGzg0MWpbGp2Ehz8a+33FjjcbJ+3/LnwE/YZCQAAfvT0hJu8GInsKvEQoktv/TGSePJl5WGXf5OgrHTeyMCWRRj4dGpGIXhRQls4T0XZKC1F4fLsriYHuHCOAwj0MbEbfhPQs9wrPE1D7Q1EQJrH1TDZYHWOXK9bsjhlBXQxFxc79t6hIsCukTiG93HiQL6BGzhIAsKGGSDfpAphEn9DV/se1ucfFhMAAAAAABJRU5ErkJggg=="},5445:function(e,t,o){"use strict";o.r(t);var a=o("b7ad"),r=o.n(a);for(var i in a)"default"!==i&&function(e){o.d(t,e,function(){return a[e]})}(i);t["default"]=r.a},"58a9":function(e,t,o){"use strict";var a=o("d5f9"),r=o.n(a);r.a},"66de":function(e,t,o){"use strict";var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-uni-view",[o("v-uni-view",{staticClass:"container p-bottom"},["20"===e.options.transport_type&&2===e.navList.length?[o("page-nav-bar",{attrs:{"nav-list":e.navList,current:"express"},on:{navItemClick:function(t){t=e.$handleEvent(t),e.expressTypeChange(t)}}})]:e._e(),"express"===e.expressType?o("v-uni-view",{on:{click:function(t){t=e.$handleEvent(t),e.selectAddress(!!e.address&&e.address.address_id)}}},[e.address?o("v-uni-view",[o("v-uni-view",{staticClass:"b-f"},[o("v-uni-view",{staticClass:"flow-checkout-header dis-flex flex-y-center"},[o("v-uni-view",{staticClass:"flow-header-left"},[o("v-uni-view",{staticClass:"flow-checkout-address f-28"},[1===e.address.default?o("v-uni-text",[e._v("默认地址")]):e._e(),e._v(e._s(e.address.region.province)+" "+e._s(e.address.region.city)+" "+e._s(e.address.region.region))],1),o("v-uni-view",{staticClass:"flow-checkout-address-detail f-32"},[e._v(e._s(e.address.detail))]),o("v-uni-view",{staticClass:"flow-checkout-admin f-28 col-6"},[o("v-uni-text",[e._v(e._s(e.address.name))]),o("v-uni-text",[e._v(e._s(e.address.phone))])],1)],1),o("v-uni-view",{staticClass:"flow-header-right pr-12"},[o("v-uni-text",{staticClass:"iconfont icon-jinrujiantou1 user-orderJtou"})],1)],1)],1)],1):o("v-uni-view",[o("v-uni-view",{staticClass:"store-info dis-flex flex-x-center"},[o("v-uni-view",{staticClass:"choose-store"},[e._v("选择地址")])],1)],1)],1):e._e(),"self"===e.expressType?o("v-uni-view",{staticClass:"self-container"},["20"===e.options.transport_type?o("v-uni-view",{staticClass:"store-info dis-flex"},[e.store?[o("v-uni-view",{staticClass:"store-detail dis-flex flex-dir-row flex-y-center fle",on:{click:function(t){t=e.$handleEvent(t),e.storeSelect(e.store.id)}}},[o("v-uni-view",{staticClass:"iconfont icon-location"}),o("v-uni-view",{staticClass:"store-content"},[o("v-uni-view",{staticClass:"store-user f-28 col-3"},[e._v(e._s(e.store.name)+" "+e._s(e.store.mobile))]),o("v-uni-view",{staticClass:"store-address f-26 col-9"},[e._v(e._s(e.store.address))])],1)],1)]:[o("v-uni-view",{staticClass:"choose-store",on:{click:function(t){t=e.$handleEvent(t),e.storeSelect()}}},[e._v("选择门店")])]],2):e._e(),o("v-uni-view",{staticClass:"self-userinfo m-top20"},[o("v-uni-view",{staticClass:"input-item dis-flex flex-y-center border-line border-bottom"},[o("v-uni-view",{staticClass:"input-label"},[e._v("姓名")]),o("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入联系人姓名"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),o("v-uni-view",{staticClass:"input-item dis-flex flex-y-center border-line border-bottom"},[o("v-uni-view",{staticClass:"input-label"},[e._v("电话")]),o("v-uni-input",{staticClass:"input",attrs:{type:"number",placeholder:"请输入联系人电话"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1)],1)],1):e._e(),o("v-uni-view",{staticClass:"m-top20 b-f"},[e._l(e.goods_list,function(t,a){return o("v-uni-view",{key:a,staticClass:"checkout_list"},[o("v-uni-navigator",{attrs:{url:"../goods/index/index?goods_id="+t.goods_id}},[o("list-goods-item",{attrs:{"goods-data":t,"group-number":e.group_join_num,goodscard:"1"===e.options.order_type&&e.member_info&&(e.cardId||e.member_info.is_member)&&1===t.is_member_price?1:0}})],1)],1)}),o("v-uni-view",{staticClass:"order-flow-num-box b-f padding-box border-line border-top flow-border-none"},[o("v-uni-text",[e._v("共"+e._s(e.order_total_num)+"件商品，合计：")]),o("v-uni-text",{staticClass:"flow-money col-m price-font-family"},[e._v("￥"+e._s(e.cardId?e.member_order_total_price:e.order_total_price))])],1)],2),"member_goods"===e.goods_type&&e.member_info&&1!==e.member_info.is_member?o("v-uni-view",{staticClass:"member b-f m-top20"},[o("v-uni-view",{staticClass:"member-header dis-flex"},[o("v-uni-view",{staticClass:"header-left dis-flex flex-y-center"},[o("v-uni-view",{staticClass:"left-member-logo"}),o("v-uni-view",{staticClass:"left-member-title f-24"},[e._v(e._s(e.member_data.card_title?e.member_data.card_title:"会员卡"))])],1),o("v-uni-view",{staticClass:"header-right f-24 t-c col-3"},[e._v("现在勾选开卡，本单再减"),o("v-uni-text",[e._v("¥"+e._s(e.coupon_price))])],1)],1),o("v-uni-view",{staticClass:"member-list"},[o("v-uni-scroll-view",{attrs:{"scroll-y":"true"}},[e._l(e.cardList,function(t,a){return a<=e.member_number?[o("v-uni-view",{key:a+"_0",staticClass:"member-list-items border-line border-bottom",on:{click:function(o){o=e.$handleEvent(o),e.select_card(t.card_id,t.card_price)}}},[o("v-uni-view",{staticClass:"member-name-nowprice dis-flex flex-x-between m-btm10"},[o("v-uni-view",{staticClass:"col-3 f-32"},[e._v(e._s(t.card_title))]),o("v-uni-view",{staticClass:"member-nowprice f-28 f-w"},[e._v("¥"+e._s(t.card_price))])],1),o("v-uni-view",{staticClass:"member-date-oldprice dis-flex flex-x-between"},[t.coupon?[o("v-uni-view",{staticClass:"col-9 f-24"},[e._v("赠:"+e._s(t.coupon.name)+e._s(t.coupon_number)+"张")])]:[o("v-uni-view",{staticClass:"col-9 f-24"},[e._v("有效期："+e._s(2===t.card_type?t.card_time_date["start_time"]+"至"+t.card_time_date["end_time"]:t.card_time_date+"天"))])],o("v-uni-view",{staticClass:"col-9 f-24",staticStyle:{"text-decoration":"line-through"}},[e._v("¥"+e._s(t.card_marking_price))])],2),o("v-uni-view",{staticClass:"select-logo"},[o("v-uni-image",{attrs:{src:t.card_id===e.cardId?"/static/images/member/selectmember.png":"/static/images/member/not-selectmember.png",mode:""}})],1)],1)]:e._e()})],2),e.cardList.length>1?o("v-uni-view",{staticClass:"member-list-more t-c f-28 col-3 p-top-bom-10",on:{click:function(t){t=e.$handleEvent(t),e.moreCardList(t)}}},[e._v(e._s(e.cardList.length===e.member_number?"收起":"全部")),o("v-uni-text",{staticClass:"iconfont more-icon",class:e.cardList.length===e.member_number?"icon-fold":"icon-unfold"})],1):e._e()],1)],1):e._e(),o("v-uni-view",{staticClass:"flow-all-money b-f m-top20"},[o("v-uni-view",{staticClass:"dis-flex flow-all-list border-line border-bottom flow-border-none"},[o("v-uni-text",{staticClass:"flex-five"},[e._v("商品总金额:")]),o("v-uni-view",{staticClass:"flex-five t-r"},[o("v-uni-text",{staticClass:"col-m price-font-family"},[e._v("￥"+e._s(e.cardId?e.member_order_total_price:e.order_total_price))])],1)],1),e.is_group_discount?o("v-uni-view",{staticClass:"dis-flex flow-all-list border-line border-bottom flow-border-none"},[o("v-uni-text",{staticClass:"flex-five"},[e._v("团长优惠:")]),o("v-uni-view",{staticClass:"flex-five t-r"},[o("v-uni-text",{staticClass:"col-m price-font-family"},[e._v("-￥"+e._s(e.is_group_discount))])],1)],1):e._e(),e.options.activityId?e._e():o("v-uni-view",{staticClass:"dis-flex flow-all-list border-line border-bottom flow-border-none"},[o("v-uni-text",{staticClass:"flex-five"},[e._v("优惠券：")]),o("v-uni-view",{staticClass:"flex-five t-r"},[o("v-uni-view",{on:{click:function(t){t=e.$handleEvent(t),e.togglePopupCoupon(t)}}},[e.coupon_list.length>0?[e.selectCoupon&&e.selectCoupon.user_coupon_id?o("v-uni-text",{staticClass:"col-m"},[e._v("-￥"+e._s(e.selectCoupon.cut_price)+e._s(30===e.selectCoupon.coupon_type?"运费":""))]):o("v-uni-text",{staticClass:"col-m"},[e._v("有"+e._s(e.coupon_list.length)+"张优惠券可用")]),o("v-uni-text",{staticClass:"iconfont icon-xiangyoujiantou user-orderJtou"})]:o("v-uni-text",{staticClass:"col-9"},[e._v("无优惠券可用")])],2)],1)],1),"express"===e.expressType?o("v-uni-view",{staticClass:"dis-flex flow-all-list border-line border-bottom flow-border-none"},[o("v-uni-text",{staticClass:"flex-five"},[e._v("配送费用：")]),o("v-uni-view",{staticClass:"flex-five t-r"},[e.address?o("v-uni-view",[1===e.intra_region?o("v-uni-text",{staticClass:"col-m price-font-family"},[e._v("+￥"+e._s(e.express_price_calc))]):o("v-uni-text",{staticClass:"col-9"},[e._v("不在配送范围")])],1):o("v-uni-view",[o("v-uni-text",{staticClass:"col-9"},[e._v("请先选择配送地址")])],1)],1)],1):e._e(),"member_goods"===e.goods_type&&e.cardId?o("v-uni-view",{staticClass:"dis-flex flow-all-list border-line border-bottom flow-border-none"},[o("v-uni-text",{staticClass:"flex-five"},[e._v("会员卡费用:")]),o("v-uni-view",{staticClass:"flex-five t-r"},[o("v-uni-text",{staticClass:"col-m price-font-family"},[e._v("+￥"+e._s(e.card_price))])],1)],1):e._e()],1),o("v-uni-view",{staticClass:"flow-all-money b-f m-top20"},[o("v-uni-view",{staticClass:"ipt-wrapper dis-flex flow-all-list border-line border-bottom flow-border-none col-9"},[o("v-uni-input",{attrs:{placeholder:"选填：买家留言（50字以内）",value:e.remark,"placeholder-style":"color:#999999"},on:{input:function(t){t=e.$handleEvent(t),e.bindRemark(t)}}})],1)],1),o("v-uni-view",{staticClass:"flow-fixed-footer b-f m-top10"},[o("v-uni-view",{staticClass:"dis-flex chackout-box"},[o("v-uni-view",{staticClass:" chackout-left pl-12 col-3 f-28"},[e._v("实付款："),o("v-uni-text",{staticClass:"col-m price-font-family f-36"},[e._v("￥"+e._s(e.actual_pay_price>0?e.actual_pay_price:"express"===e.expressType?e.order_pay_price:e.order_total_price))])],1),o("v-uni-view",{staticClass:"chackout-right",on:{click:function(t){t=e.$handleEvent(t),e.submitOrder(t)}}},[o("v-uni-text",{staticClass:"flow-btn f-32"},[e._v("提交订单")])],1)],1)],1),o("popup-view",{attrs:{show:e.showBottomPopup,type:"bottom"},on:{clickmask:function(t){t=e.$handleEvent(t),e.togglePopupCoupon(t)}}},[o("v-uni-view",{staticClass:"popup__coupon"},[o("page-nav-bar",{attrs:{"nav-list":e.couponTypeList,current:e.couponType},on:{navItemClick:function(t){t=e.$handleEvent(t),e.couponTypeChange(t)}}}),o("v-uni-scroll-view",{staticClass:"coupon-list",style:{height:e.couponswiperHeight+"px"},attrs:{"scroll-y":"true"}},[o("coupon-sheet",{ref:"coupon",attrs:{coupontype:e.couponType,"coupon-list":"is_use"===e.couponType?e.coupon_list:e.coupon_list_no,iscouponChecked:1},on:{radioChange:function(t){t=e.$handleEvent(t),e.selectCouponTap(t)}}})],1),o("v-uni-view",{staticClass:"footer-fixed f-30"},[o("v-uni-view",{staticClass:"order-bt",staticStyle:{width:"100%"},on:{click:function(t){t=e.$handleEvent(t),e.doNotCouponTap(t)}}},[e._v("不使用优惠券")])],1)],1)],1),o("order-pay",{ref:"orderPay",on:{clickMask:function(t){t=e.$handleEvent(t),e.onToggleList(t)},payChange:function(t){t=e.$handleEvent(t),e.payTypeChange(t)},orderReady:function(t){t=e.$handleEvent(t),e.payOrderReady(t)},paySuccess:function(t){t=e.$handleEvent(t),e.paySuccess(t)},payFail:function(t){t=e.$handleEvent(t),e.payFail(t)}}})],2),o("page-loading",{ref:"loading"})],1)},r=[];o.d(t,"a",function(){return a}),o.d(t,"b",function(){return r})},"6bf5":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(o("deda"));function r(e){return e&&e.__esModule?e:{default:e}}var i={data:function(){return{}},props:{goodsData:Object,refund:{type:Number,default:-1},groupNumber:{type:Number,default:-1},goodscard:{type:Number,default:0}},components:{},computed:{},beforeCreate:function(){},onLoad:function(e){},onShow:function(){},mounted:function(){},methods:{onApplyRefund:function(e){a.default.navigationTo({url:"pages/mainPages/order/refund/apply/apply?order_goods_id="+e})}}};t.default=i},7155:function(e,t,o){var a=o("b041");t=e.exports=o("2350")(!1),t.push([e.i,'@charset "UTF-8";.flow-all-money .ipt-wrapper uni-input[data-v-2c8410c6]{width:100%;height:%?60?%;line-height:%?60?%;padding-left:%?20?%;border-radius:%?10?%;background-color:#f2f2f2}.checkout_list[data-v-2c8410c6]{padding:0 %?30?% 0 %?30?%;background:#fff}.flow-shopList[data-v-2c8410c6]{padding:0}.checkout_list .flow-shopList[data-v-2c8410c6]{border-bottom:%?1?% solid #eee}.checkout_list .flow-shopList[data-v-2c8410c6]:last-child{border-bottom:0}.flow-header-left[data-v-2c8410c6]{width:100%;padding:0 %?30?%}.flow-checkout-address uni-text[data-v-2c8410c6]{font-size:%?20?%;line-height:1.5em;display:inline-block;margin-right:%?15?%;color:#ffd940;padding:0 %?10?%;border:%?1?% solid #ffd940;border-radius:%?8?%}.flow-checkout-address-detail[data-v-2c8410c6]{color:#333;font-weight:700;margin:%?12?% 0}.flow-num-box.b-f.padding-box[data-v-2c8410c6]{padding:%?20?% %?30?%}\n\n/* 优惠券选择 */.popup__coupon[data-v-2c8410c6]{width:100vw;height:100vh;background:#f0f0f0\n\t/* box-sizing: border-box; */\n\t/* padding: 15px 15px 60px 15px; */}.popup__coupon .coupon__do_not .control[data-v-2c8410c6]{width:90%;height:%?62?%;margin-bottom:%?24?%;color:#888;border:%?1?% solid #e3e3e3;border-radius:%?10?%}.popup__coupon .coupon__title[data-v-2c8410c6]{text-align:center;margin-bottom:%?20?%}.popup__coupon .coupon-list[data-v-2c8410c6]{height:calc(100vh - %?96?% %?-140?%)}.popup__coupon .coupon-list .coupon-item[data-v-2c8410c6]{position:relative;overflow:hidden;margin-bottom:%?22?%}.popup__coupon .coupon-list .coupon-item .item-wrapper[data-v-2c8410c6]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;background:#fff;border-radius:%?8?%;color:#fff;height:%?170?%;overflow:hidden}.popup__coupon .coupon-list .coupon-item .item-wrapper .coupon-type[data-v-2c8410c6]{position:absolute;top:0;right:0;z-index:10;width:%?128?%;padding:3px 0;background:#a771ff;font-size:%?20?%;text-align:center;color:#fff;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);-webkit-transform-origin:%?64?% %?64?%;-ms-transform-origin:%?64?% %?64?%;transform-origin:%?64?% %?64?%}.popup__coupon .coupon-list .coupon-item .item-wrapper.color__blue[data-v-2c8410c6]{background:-o-linear-gradient(215deg,#57bdbf,#2f9de2);background:linear-gradient(-125deg,#57bdbf,#2f9de2)}.popup__coupon .coupon-list .coupon-item .item-wrapper.color__red[data-v-2c8410c6]{background:-o-linear-gradient(218deg,#ff6d6d,#ff3636);background:linear-gradient(-128deg,#ff6d6d,#ff3636)}.popup__coupon .coupon-list .coupon-item .item-wrapper.color__violet[data-v-2c8410c6]{background:-o-linear-gradient(203deg,#ef86ff,#b66ff5);background:linear-gradient(-113deg,#ef86ff,#b66ff5)}.popup__coupon .coupon-list .coupon-item .item-wrapper.color__violet .coupon-type[data-v-2c8410c6]{background:#55b5ff}.popup__coupon .coupon-list .coupon-item .item-wrapper.color__yellow[data-v-2c8410c6]{background:-o-linear-gradient(231deg,#f7d059,#fdb054);background:linear-gradient(-141deg,#f7d059,#fdb054)}.popup__coupon .coupon-list .coupon-item .item-wrapper .tip[data-v-2c8410c6]{position:relative;-webkit-box-flex:0;-webkit-flex:0 0 32%;-ms-flex:0 0 32%;flex:0 0 32%;text-align:center;border-radius:8px 0 0 8px}.popup__coupon .coupon-list .coupon-item .item-wrapper .tip .money[data-v-2c8410c6]{font-weight:700;font-size:%?46?%}.popup__coupon .coupon-list .coupon-item .item-wrapper .tip .pay-line[data-v-2c8410c6]{font-size:%?22?%}.popup__coupon .coupon-list .coupon-item .item-wrapper .split-line[data-v-2c8410c6]{position:relative;-webkit-box-flex:0;-webkit-flex:0 0 0;-ms-flex:0 0 0px;flex:0 0 0;border-left:%?4?% solid #fff;margin:0 5px 0 3px;background:#fff}.popup__coupon .coupon-list .coupon-item .item-wrapper .split-line[data-v-2c8410c6]:after,.popup__coupon .coupon-list .coupon-item .item-wrapper .split-line[data-v-2c8410c6]:before{content:"";position:absolute;width:12px;height:6px;background:#fff;left:-7px;z-index:1}.popup__coupon .coupon-list .coupon-item .item-wrapper .split-line[data-v-2c8410c6]:before{border-radius:0 0 8px 8px;top:0}.popup__coupon .coupon-list .coupon-item .item-wrapper .split-line[data-v-2c8410c6]:after{border-radius:8px 8px 0 0;bottom:0}.popup__coupon .coupon-list .coupon-item .item-wrapper .content[data-v-2c8410c6]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;padding:%?30?% %?20?%;border-radius:8px 0 0 8px}.popup__coupon .coupon-list .coupon-item .item-wrapper .content .title[data-v-2c8410c6]{font-size:%?34?%}.popup__coupon .coupon-list .coupon-item .item-wrapper .content .bottom .time[data-v-2c8410c6]{font-size:%?24?%;line-height:%?24?%}.popup__coupon .coupon-list .coupon-item .item-wrapper .content .bottom .state[data-v-2c8410c6]{height:%?46?%;width:%?122?%;line-height:%?92?%;text-align:center;color:#fff;font-size:%?26?%}\n\n/* 样式调整 */.flow-checkout-header[data-v-2c8410c6]{background:#fff}\n\n/* 门店自提样式 */.store-info[data-v-2c8410c6]{background:#fff}.choose-store[data-v-2c8410c6]{font-size:%?28?%;color:#333;padding:%?20?% %?50?%;margin:%?20?% auto;border:%?1?% dashed #eee}.self-userinfo[data-v-2c8410c6]{padding:0 %?30?%;background:#fff}.store-detail[data-v-2c8410c6]{padding:%?20?% 0;margin-left:%?40?%}.store-detail .iconfont.icon-location[data-v-2c8410c6]{font-size:%?40?%;margin-right:%?20?%}.store-detail .store-content[data-v-2c8410c6]{line-height:1em}.store-content .store-address[data-v-2c8410c6]{margin-top:%?12?%}.self-userinfo .input-item[data-v-2c8410c6]{font-size:%?28?%;height:%?90?%;line-height:%?90?%}.self-userinfo .input-item[data-v-2c8410c6]:last-child{border:0}.self-userinfo .input-item .input-label[data-v-2c8410c6]{width:4.2em;margin-right:%?20?%}.self-userinfo .input-item .input[data-v-2c8410c6]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}\n\n/**\n * 边框none\n */.flow-border-none[data-v-2c8410c6]{border:none!important}.flow-border-none[data-v-2c8410c6]:last-child:after{border:none!important}.member-header .header-left[data-v-2c8410c6]{padding:0 %?20?% 0 %?30?%;height:%?44?%;background-size:%?160?%,%?44?%;background-color:#000}.header-left .left-member-logo[data-v-2c8410c6]{width:%?22?%;height:%?22?%;background-image:url('+a(o("33bc"))+");background-size:%?22?% %?22?%;background-repeat:no-repeat;margin-right:%?10?%}.member-header .header-right[data-v-2c8410c6]{width:%?376?%;height:%?44?%;line-height:%?44?%;background:-webkit-gradient(linear,left top,right top,from(#e7cfac),to(#f1e0ce));background:-o-linear-gradient(left,#e7cfac,#f1e0ce);background:linear-gradient(90deg,#e7cfac,#f1e0ce);border-radius:0 0 %?20?% 0}.header-left .left-member-title[data-v-2c8410c6]{color:#c0b39e}.member-header .header-right uni-text[data-v-2c8410c6]{color:#f04c4c}.member-nowprice[data-v-2c8410c6]{color:#f04c4c}.member-list .member-list-items[data-v-2c8410c6]{position:relative;padding:%?20?% %?110?% %?20?% %?30?%\n\t/* border-bottom: 1px solid #EEEEEE; */}.member-list .member-list-items .select-logo[data-v-2c8410c6]{position:absolute;right:%?30?%;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)}.member-list .member-list-items .select-logo uni-image[data-v-2c8410c6]{width:%?36?%;height:%?36?%}.order-flow-num-box[data-v-2c8410c6]{font-size:%?28?%;color:#333;padding:%?28?% 0;text-align:right;border-top:%?1?% solid #eee;margin:0 %?30?%}.more-icon[data-v-2c8410c6]{font-size:%?26?%!important;vertical-align:middle;margin-left:%?6?%}",""])},"782e":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=l(o("c6b3")),r=l(o("2be8")),i=l(o("014d")),n=l(o("0ae2")),s=l(o("d08d")),c=l(o("aabe")),d=l(o("deda")),u=l(o("e666"));function l(e){return e&&e.__esModule?e:{default:e}}var p={data:function(){return{nav_select:!1,options:{},address:null,store:null,exist_address:!1,goods:{},groups:{},goods_list:[],order_pay_price:"",express_price:0,express_price_calc:0,intra_region:0,addressOrStore:"",rule_success:!1,error_msg:null,order_total_num:"",order_total_price:"",member_order_total_price:"",member_order_pay_price:"",coupon_list:[],coupon_list_no:[],selectCoupon:null,actual_pay_price:null,remark:"",hasError:!1,error:"",showBottomPopup:!1,expressType:"express",navList:[],couponType:"is_use",couponList:[],couponTypeList:[{id:"is_use",title:"可用优惠券"},{id:"not_use",title:"不可用优惠券"}],creatOrderData:{},name:"",phone:"",couponswiperHeight:0,payType:"",isSubmit:!1,payOrderId:null,cardList:null,coupon_price:null,isgoods_card:null,cardId:null,card_price:null,goods_type:null,member_info:null,member_number:0,member_data:null}},computed:{$groups:function(){return this.groups||{}},is_group_type:function(){return"2"==this.options.order_type},is_commander:function(){return this.is_group_type&&this.$groups.is_commander||-1},group_join_num:function(){return this.is_group_type&&this.$groups.join_num||-1},group_discount:function(){return this.is_group_type&&this.$groups.commander_discount||-1},is_group_commander:function(){return this.is_group_type&&this.$groups.is_commander_discount||-1},is_group_discount:function(){return 1===this.is_group_commander&&-1!==this.is_commander&&this.group_discount}},components:{shortcut:a.default,PopupView:r.default,OrderPay:i.default,PageNavBar:n.default,CouponSheet:s.default,ListGoodsItem:c.default},onLoad:function(e){var t=uni.getStorageSync("isReload"),o=d.default.getClientType();1!==t&&"4"===o&&(uni.setStorageSync("isReload",1),location.reload()),d.default.showLoading(),this.setSwiperHeight(),this.options=e,this.expressType="10"==e.transport_type?"self":1==e.is_express?"express":"self",this.goods_type=e.goods_type,this.paychannel=e.paychannel?e.paychannel:null,this.getOrderCard(e.goods_id,e.goods_sku_id,e.goods_num),u.default.wxRegister(this.wxApiCallback,"pay")},onShow:function(){this.getOrderData();d.default.getClientType();var e=this.isSubmit&&"alipay"===this.payType;e&&this.orderStatusInquiry(this.payOrderId)},onUnload:function(){this.$store.commit("addressData",null),this.$store.commit("storeData",null),uni.removeStorageSync("isReload")},methods:{wxApiCallback:function(){},setExpressList:function(e,t){var o=this.options,a={self:{id:"self",title:"上门自提"},express:{id:"express",title:"快递配送"}},r=o.transport_type,i=o.is_express,n=o.is_zt,s=[];console.log(o),"20"===r&&("1"===i&&"10"===e&&s.push(a.express),"1"===n&&"1"===t&&s.push(a.self),this.navList=s)},getOrderData:function(){var e=this,t=e.options,o=e.expressType,a=e.$store.state.addressData,r=e.$store.state.storeData,i=function(t){if(1!==t.code)return d.default.showError(t.msg),!1;t.data.has_error&&(e.hasError=!0,e.error=t.data.error_msg,d.default.showError(e.error)),e.setExpressList(t.data.express_state,t.data.self_state),t.data.address=a||t.data.address,t.data.store=r;var o=t.data.user_info;e.name=o.name,e.phone=o.mobile,e.setData(t.data),e.selectCoupon&&e.selectCouponTap(e.selectCoupon,!1),e.express_price=Number(t.data.express_price).toFixed(2),e.express_price_calc=Number(t.data.express_price).toFixed(2),d.default.hideLoading()};if("cart"===t.order_type)d.default._get("order/cart",{cart_ids:t.cart_ids},function(e){i(e)});else{t.order_type;d.default._get("order/buyNow",{goods_id:t.goods_id,goods_num:t.goods_num,group_id:t.group_id,goods_sku_id:t.goods_sku_id,groups_group_id:t.groups_group_id||"",addressOrStore:"express"===o?a?a.address_id:"":r?r.id:"",activityId:t.activityId||"",order_type:"3"===t.order_type?3:null,goods_type:e.goods_type||""},function(o){var a=o,r=a.data,n=r.order_total_price,s=r.groups,c=s.is_commander_discount,d=s.commander_discount,u=s.is_commander;if("2"==t.order_type&&1===u){if(n&&"string"===typeof n&&1===c&&d){var l=(100*Number(n)-100*d)/100;a.data.order_pay_price=Number(n)>.01?"".concat(l>0?l:.01):"0.01"}e.$is_commander=!0}i(a)})}},getGoodsAttr:function(e,t){e.goods_list.length>0&&e.goods_list.map(function(e){20===e.spec_type&&e.sku.map(function(o){o.spec_sku_id===t&&(e.goods_attr=o.title)})})},setSwiperHeight:function(){var e=uni.getSystemInfoSync(),t=e.windowHeight-120;this.setData({couponswiperHeight:t})},expressTypeChange:function(e){this.expressType=e.id},moreCardList:function(){var e=this,t=e.member_number,o=e.cardList.length;0===t?e.setData({member_number:o}):t===o&&e.setData({member_number:0})},select_card:function(e,t){var o=this,a=o.cardId,r=o.options,i=o.expressType,n=o.$store.state.addressData,s=o.$store.state.storeData,c={goods_id:r.goods_id,goods_num:r.goods_num,goods_sku_id:r.goods_sku_id,groups_group_id:r.groups_group_id||"",addressOrStore:"express"===i?n?n.address_id:"":s?s.id:"",activityId:r.activityId||"",order_type:r.order_type};a===e?(o.getOrderData(),o.cardId=null,o.card_price=null):a!==e&&(o.cardId=e,o.card_price=t,Object.assign(c,{memberType:"4",memberCard:e,coupon_price:o.coupon_price}),d.default._get("order/buyNow",c,function(e){o.cardId?(o.setData({goods_list:e.data.goods_list,member_order_total_price:e.data.member_order_total_price,member_order_pay_price:e.data.member_order_pay_price,order_total_price:Number(e.data.order_total_price)+Number(t),order_pay_price:Number(e.data.order_pay_price)+Number(t),coupon_list:e.data.coupon_list}),o.selectCoupon&&(o.setData({actual_pay_price:Number(e.data.member_order_pay_price)+Number(o.card_price)-Number(o.selectCoupon.reduce_price)}),o.selectCouponTap(o.selectCoupon,!1))):o.selectCoupon&&o.setData({actual_pay_price:Number(o.actualPayPrice>.01?o.actualPayPrice:"0.01")+Number(o.express_price)+Number(o.card_price)})}))},selectAddress:function(e){d.default.navigationTo({url:"pages/mainPages/address/"+(this.exist_address?"index?from=flow&choose_id="+e:"create")})},getOrderCard:function(e,t,o){var a=this;d.default._post_form("member.Member/getOrderCard",{goods_id:e,goods_sku_id:t,num:o},function(e){a.setData(e.data)})},payTypeChange:function(e){this.payType=e.value,console.log("当前选择支付方式:",e.value)},orderStatusInquiry:function(e){var t=this,o=d.default.getUniacid();uni.showModal({title:"温馨提示",content:"请确认当前支付是否已完成",cancelText:"未完成",confirmText:"已完成",success:function(a){a.confirm?(console.log("用户已完成支付"),d.default._get("user.order/detail",{order_id:e},function(a){var r=a.data,i=r.pay_status.value;20===i?uni.redirectTo({url:"/pages/mainPages/flow/success?goods_id=".concat(t.goods_list[0].goods_id,"&order_id=").concat(e,"&pay_price=").concat(t.actual_pay_price>0?t.actual_pay_price:t.order_pay_price,"&i=").concat(o)}):uni.redirectTo({url:"/pages/mainPages/order/index?type=payment&i="+o})})):a.cancel&&(console.log("用户未完成支付"),uni.redirectTo({url:"/pages/mainPages/order/index?type=payment&i="+o}))}})},payOrderReady:function(e){console.log(e),uni.hideLoading();var t=this,o=d.default.getClientType(),a=this.payType,r=e.result.data.order_id;"4"===o&&"alipay"===a&&(t.isSubmit=!0,t.payOrderId=r)},paySuccess:function(e){console.log("paySuccess",e);var t=d.default.getUniacid(),o="/pages/mainPages/flow/success?goods_id=".concat(this.goods_list[0].goods_id,"&order_id=").concat(e.order.order_id,"&pay_price=").concat(this.actual_pay_price>0?this.actual_pay_price:this.order_pay_price);o+="&i="+t,uni.redirectTo({url:o})},payFail:function(e){console.log("payFail",e);var t=this.$store.state.clientType,o=d.default.getUniacid(),a="/pages/mainPages/order/index?type=payment",r=null;if("2"===t){var i="requestPayment:fail cancel"===e.errMsg;r=i?"订单未支付":e.err_desc}else"4"===t?(a+="&i="+o,r="chooseWXPay:cancel"===e.errMsg?"订单未支付":"支付失败"):"7"===t?r="6001"===e.resultCode?"订单未支付":"支付失败":"8"===t?r="支付失败":"9"===t&&(r=e.response.sub_msg);d.default.showError(r,function(){uni.redirectTo({url:a})})},couponTypeChange:function(e){this.couponType=e.id},couponChange:function(e){console.log("当前优惠券:",e)},submitOrder:function(){var e=this,t=e.options,o=e.expressType,a=(e.$store.state,"10"===t.transport_type||("express"===o?e.address:e.store)),r={condition:[e.hasError,!a,"self"===o&&!(e.name&&e.phone),"express"===o&&1!==e.intra_region,"express"===o&&1!==e.rule_success],errMsg:[e.error,"请选择".concat("express"===o?"收货地址":"收货门店"),"请填写完整提货人信息","当前地址不在配送范围内,请重新选择","运费计算错误"]},i=e.$store.state.storeData;if(console.log(t),r.condition.includes(!0)){var n=r.condition.findIndex(function(e){return!0===e});return console.log(n),d.default.showError(r.errMsg[n]),!1}if("cart"!==t.order_type){var s={pay_from:"checkout",goods_id:t.goods_id,group_id:t.group_id||"",goods_num:t.goods_num,goods_sku_id:t.goods_sku_id,goods_sku_title:e.goods_list[0].goods_attr||"",groups_group_id:t.groups_group_id||"",coupon_id:e.selectCoupon?e.selectCoupon.user_coupon_id:"",remark:e.remark,express_type:"express"===o?1:2,addressOrStore:"express"===o?a?a.address_id:"":i?i.id:"",activityId:t.activityId||"",userId:d.default.getUserId(),userDeaerID:e.$store.state.refereeId,goodsNum:t.goods_num,spec_id:t.goods_sku_id,order_type:t.order_type};if("buy_member"===t.goods_type&&Object.assign(s,{memberType:"3"}),"member_goods"===t.goods_type&&(1===e.member_info.is_member&&Object.assign(s,{goods_type:"member_goods"}),e.cardId&&Object.assign(s,{memberType:"4",memberCard:e.cardId,sum_pay_price:e.actual_pay_price>0?e.actual_pay_price:"express"===e.expressType?e.order_pay_price:e.order_total_price})),"self"===o){var c=/^1[3|4|5|7|8|9][0-9]{9}$/;if(!c.test(e.phone))return d.default.showError("请填写正确的联系电话"),!1;Object.assign(s,{user_name:e.name,phone:e.phone})}else console.log(a),Object.assign(s,{user_name:a.name,phone:a.phone});return e.$store.commit("orderPay",s),void e.onToggleList()}d.default._post_form("order/cart",{cart_ids:t.cart_ids,coupon_id:e.selectCoupon.user_coupon_id,remark:e.remark},function(e){console.log("success"),callback(e)},function(e){console.log("fail")},function(){console.log("complete"),uni.hideLoading()})},storeSelect:function(e){console.log(e);var t=this.goods_list[0].bus_id,o="pages/mainPages/store/list?bus_id="+t+"&bustypeid=1";d.default.navigationTo({url:e?o+"&store_id="+e:o})},bindRemark:function(e){this.setData({remark:e.detail.value})},togglePopupCoupon:function(){this.coupon_list.length>0&&(this.showBottomPopup=!this.showBottomPopup)},selectCouponTap:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];console.log(e);var o=Number(e.reduce_price),a=Number(this.express_price).toFixed(2),r=null,i=null;if(30===e.coupon_type)e.cut_price=o,i=a>o?Number(a-o):0,r=Number(this.order_total_price)+i,this.express_price_calc=Number(i).toFixed(2);else{var n=this.bcsub(e);r="member_goods"===this.goods_type?Number(n>.01?n:"0.01")+Number(this.express_price)+Number(this.card_price):Number(n>.01?n:"0.01")+Number(this.express_price),this.express_price_calc=a}this.setData({selectCoupon:e,actual_pay_price:r.toFixed(2)}),t&&this.togglePopupCoupon()},doNotCouponTap:function(){this.setData({selectCoupon:null,actual_pay_price:"member_goods"===this.goods_type?null:this.order_pay_price}),this.$refs.coupon.currentindex=-1,this.togglePopupCoupon()},bcsub:function(e){var t=e.coupon_type,o="member_goods"===this.goods_type?Number(this.member_order_total_price):this.$is_commander&&-1!==this.is_group_discount?(100*Number(this.order_total_price)-100*this.is_group_discount)/100>.01?(100*Number(this.order_total_price)-100*this.is_group_discount)/100:.01:Number(this.order_total_price);if(10===t||40===t)return e.cut_price=Number(e.reduce_price),(o-Number(e.reduce_price)).toFixed(2);if(20===t){var a=Number(e.discount),r=o*(1-.1*a),i=o*a*.1;return 1===e.max_price_type&&Number(r)>Number(e.max_price)&&(r=Number(e.max_price),i=o-Number(e.max_price)),e.cut_price=r.toFixed(2),console.log("discount_price",i),i}},onToggleList:function(){this.$refs.orderPay.onToggleList()}}};t.default=p},"9a14":function(e,t,o){"use strict";var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-uni-view",{staticClass:"shortcut"},[o("v-uni-form",{attrs:{"report-submit":"true"},on:{submit:function(t){t=e.$handleEvent(t),e._onTargetPage(t,0)}}},[o("v-uni-button",{staticClass:"nav-item btn-normal",class:[e.isShow?"show_60":e.transparent?"":"hide_60"],attrs:{formType:"submit"}},[o("v-uni-text",{staticClass:"iconfont icon-home"})],1)],1),o("v-uni-form",{attrs:{"report-submit":"true"},on:{submit:function(t){t=e.$handleEvent(t),e._onTargetPage(t,1)}}},[o("v-uni-button",{staticClass:"nav-item btn-normal",class:[e.isShow?"show_40":e.transparent?"":"hide_40"],attrs:{formType:"submit","data-index":"1"}},[o("v-uni-text",{staticClass:"iconfont icon-searchlist"})],1)],1),o("v-uni-form",{attrs:{"report-submit":"true"},on:{submit:function(t){t=e.$handleEvent(t),e._onTargetPage(t,3)}}},[o("v-uni-button",{staticClass:"nav-item btn-normal",class:[e.isShow?"show_20":e.transparent?"":"hide_20"],attrs:{formType:"submit","data-index":"3"}},[o("v-uni-text",{staticClass:"iconfont icon-profile"})],1)],1),o("v-uni-form",{attrs:{"report-submit":"true"},on:{submit:function(t){t=e.$handleEvent(t),e._onToggleShow(t)}}},[o("v-uni-button",{staticClass:"nav-item nav-item__switch btn-normal",class:[e.isShow?"shortcut_click_show":""],attrs:{formType:"submit"}},[o("v-uni-text",{staticClass:"iconfont icon-cascades"})],1)],1)],1)},r=[];o.d(t,"a",function(){return a}),o.d(t,"b",function(){return r})},"9f51":function(e,t,o){var a=o("2b14");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=o("4f06").default;r("087d9996",a,!0,{sourceMap:!1,shadowMode:!1})},a0c1:function(e,t,o){"use strict";o.r(t);var a=o("782e"),r=o.n(a);for(var i in a)"default"!==i&&function(e){o.d(t,e,function(){return a[e]})}(i);t["default"]=r.a},aabe:function(e,t,o){"use strict";o.r(t);var a=o("17f4"),r=o("2bb6");for(var i in r)"default"!==i&&function(e){o.d(t,e,function(){return r[e]})}(i);o("58a9");var n=o("2877"),s=Object(n["a"])(r["default"],a["a"],a["b"],!1,null,"0fc11489",null);t["default"]=s.exports},b041:function(e,t){e.exports=function(e){return"string"!==typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},b7ad:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(o("deda"));function r(e){return e&&e.__esModule?e:{default:e}}var i={data:function(){return{isShow:!1,transparent:!0}},props:{title:{type:String,default:"弹窗标题"}},onLoad:function(){},methods:{_onToggleShow:function(e){a.default.saveFormId(e.detail.formId),this.setData({isShow:!this.isShow,transparent:!1})},_onTargetPage:function(e,t){var o=a.default.getTabBarLinks();a.default.saveFormId(e.detail.formId),a.default.navigationTo({url:o[t]})}}};t.default=i},be1c:function(e,t,o){var a=o("7155");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=o("4f06").default;r("04c7e058",a,!0,{sourceMap:!1,shadowMode:!1})},c147:function(e,t,o){"use strict";var a=o("be1c"),r=o.n(a);r.a},c6b3:function(e,t,o){"use strict";o.r(t);var a=o("9a14"),r=o("5445");for(var i in r)"default"!==i&&function(e){o.d(t,e,function(){return r[e]})}(i);o("e3fd");var n=o("2877"),s=Object(n["a"])(r["default"],a["a"],a["b"],!1,null,"405af8ee",null);t["default"]=s.exports},d0dc:function(e,t,o){"use strict";o.r(t);var a=o("66de"),r=o("a0c1");for(var i in r)"default"!==i&&function(e){o.d(t,e,function(){return r[e]})}(i);o("c147");var n=o("2877"),s=Object(n["a"])(r["default"],a["a"],a["b"],!1,null,"2c8410c6",null);t["default"]=s.exports},d5f9:function(e,t,o){var a=o("0912");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=o("4f06").default;r("45034a5b",a,!0,{sourceMap:!1,shadowMode:!1})},e3fd:function(e,t,o){"use strict";var a=o("9f51"),r=o.n(a);r.a}}]);