(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mainPages-goods-spread"],{"005a":function(t,e,a){var i=a("7ddd");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("4f06").default;o("e4b73b72",i,!0,{sourceMap:!1,shadowMode:!1})},"10fe":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"pages-header",class:{fixed:"1"===t.pos}},[a("v-uni-view",{staticClass:"pages-header-info p-r"},[t._t("user")],2),t.contentShow?a("v-uni-view",{staticClass:"pages-header-content"},[t._t("content")],2):t._e()],1)],1)},o=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return o})},"79af":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,'.pages-header[data-v-0e6f97a1]{padding:%?20?% %?30?%;\n\t/* background: #FFFFFF;  */position:relative;overflow:hidden}.pages-header.fixed[data-v-0e6f97a1]{position:fixed;top:0;\n\ttop:44px;\n\tleft:0;right:0;z-index:30}.pages-header[data-v-0e6f97a1]:before{content:" ";width:400vw;height:%?600?%;background:#ffd940;-webkit-border-radius:60%;border-radius:60%;position:absolute;left:-155vw;bottom:25%;z-index:1}.pages-header-info[data-v-0e6f97a1]{z-index:20}.pages-header-content[data-v-0e6f97a1]{-webkit-box-shadow:0 %?2?% %?10?% 0 hsla(0,0%,66.7%,.35);box-shadow:0 %?2?% %?10?% 0 hsla(0,0%,66.7%,.35);min-height:%?100?%;-webkit-border-radius:%?20?%;border-radius:%?20?%;background:#fff;position:relative;z-index:20}',""])},"7a57":function(t,e,a){"use strict";a.r(e);var i=a("f134"),o=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e["default"]=o.a},"7ddd":function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,".spread-content[data-v-8b6a4af4]{padding:%?10?% %?30?% %?30?%}.spread-title[data-v-8b6a4af4]{line-height:3em}.title-icon[data-v-8b6a4af4]{display:inline-block;width:0;height:0;border:%?10?% solid;border-color:rgba(0,0,0,0) #ffd940 #ffd940 rgba(0,0,0,0);margin-left:%?12?%;vertical-align:bottom;position:relative;bottom:1em}.spread-text[data-v-8b6a4af4]{padding:%?30?%;background-color:#f6f6f6;text-indent:%?4?%;letter-spacing:%?4?%;line-height:1.6em}.semicolon[data-v-8b6a4af4]{display:inline-block;width:%?72?%;height:%?72?%;vertical-align:bottom;margin:%?-20?% %?12?% 0 %?-10?%}.semicolon.rotate[data-v-8b6a4af4]{-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg);margin:%?-10?% 0}.spread-btn[data-v-8b6a4af4]{margin:%?40?% auto %?10?%;width:%?300?%;height:%?70?%;line-height:%?70?%;-webkit-border-radius:%?6?%;border-radius:%?6?%;border:%?1?% solid #ccc}.spread-btn .iconfont[data-v-8b6a4af4]{display:inline-block!important;line-height:2em;margin-right:%?12?%}.spread-imgs-box[data-v-8b6a4af4]{margin:%?20?% %?30?%;-webkit-border-radius:%?20?%;border-radius:%?20?%}.spread-imgs-box .spread-btn[data-v-8b6a4af4]{background:#ffd940;border:0}.spread-img[data-v-8b6a4af4]{-webkit-box-sizing:border-box;box-sizing:border-box;display:inline-block;width:31%;padding-top:31%;margin:0 1.16%;background-repeat:no-repeat;background-size:100%;background-position:50%}.image-load[data-v-8b6a4af4]{position:absolute;top:50%;left:50%;margin:%?-15?% 0 0 %?-15?%;width:%?30?%;height:%?30?%;display:inline-block;padding:0;-webkit-border-radius:100%;border-radius:100%;border:%?2?% solid;border-top-color:#ffd940;border-bottom-color:rgba(0,0,0,.1);border-left-color:#ffd940;border-right-color:rgba(0,0,0,.1);-webkit-animation:loader-data-v-8b6a4af4 1s ease-in-out infinite;animation:loader-data-v-8b6a4af4 1s ease-in-out infinite}@-webkit-keyframes loader-data-v-8b6a4af4{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes loader-data-v-8b6a4af4{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.setting-btn[data-v-8b6a4af4]{position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;z-index:10}",""])},8165:function(t,e,a){"use strict";a.r(e);var i=a("ac85"),o=a("7a57");for(var n in o)"default"!==n&&function(t){a.d(e,t,function(){return o[t]})}(n);a("bb5a");var r=a("2877"),s=Object(r["a"])(o["default"],i["a"],i["b"],!1,null,"8b6a4af4",null);e["default"]=s.exports},8516:function(t,e,a){"use strict";var i=a("eea0"),o=a.n(i);o.a},ac85:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("page-Header",[a("template",{attrs:{slot:"content"},slot:"content"},[a("v-uni-view",{staticClass:"spread-content"},[a("v-uni-view",{staticClass:"spread-title f-30 col-3"},[t._v("商品推广文案"),a("v-uni-view",{staticClass:"title-icon"})],1),a("v-uni-view",{staticClass:"spread-text f-26 col-6"},[a("v-uni-image",{staticClass:"semicolon",attrs:{src:"/static/images/semicolon.png"}}),t._v(t._s(t.extension_text?t.extension_text:"暂无推广文案")),a("v-uni-image",{staticClass:"semicolon rotate",attrs:{src:"/static/images/semicolon.png"}})],1),a("v-uni-view",{staticClass:"spread-btn f-26 col-9 t-c dis-flex flex-y-center flex-x-center",on:{click:function(e){e=t.$handleEvent(e),t.copyText(e)}}},[a("v-uni-view",{staticClass:"iconfont icon-text"}),t._v("复制发圈文案")],1)],1)],1)],2),a("v-uni-view",{staticClass:"spread-content b-f spread-imgs-box"},[a("v-uni-view",{staticClass:"spread-title f-30 col-3"},[t._v("商品推广图片"),a("v-uni-view",{staticClass:"title-icon"})],1),a("v-uni-view",{staticClass:"spread-imgs"},[t._l(t.extension_img,function(e,i){return[a("v-uni-view",{key:i+"_0",staticClass:"spread-img p-r",style:{"background-image":"url("+e+")","background-color":""===e?"#F6F6F6":""},on:{click:function(e){e=t.$handleEvent(e),t.previewImage(i)}}},[""===e?a("v-uni-view",{staticClass:"image-load"}):t._e()],1)]})],2)],1),a("page-loading",{ref:"loading"})],1)},o=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return o})},bb5a:function(t,e,a){"use strict";var i=a("005a"),o=a.n(i);o.a},ddf4:function(t,e,a){"use strict";a.r(e);var i=a("f93f"),o=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e["default"]=o.a},eea0:function(t,e,a){var i=a("79af");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("4f06").default;o("66bad848",i,!0,{sourceMap:!1,shadowMode:!1})},f10c:function(t,e,a){"use strict";a.r(e);var i=a("10fe"),o=a("ddf4");for(var n in o)"default"!==n&&function(t){a.d(e,t,function(){return o[t]})}(n);a("8516");var r=a("2877"),s=Object(r["a"])(o["default"],i["a"],i["b"],!1,null,"0e6f97a1",null);e["default"]=s.exports},f134:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("deda")),o=n(a("f10c"));function n(t){return t&&t.__esModule?t:{default:t}}function r(t){return c(t)||d(t)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function d(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function c(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}var u={data:function(){return{extension_img:[""],extension_text:"",goods_id:"",openSetting:!1}},components:{PageHeader:o.default},computed:{},onLoad:function(t){this.goods_id=t.goods_id,this.getPoster(t.goods_id),this.getCommodity(t.goods_id)},methods:{getPoster:function(t){var e=this;i.default._post_form("goods/getQrcode",{goods_id:t},function(t){e.extension_img.splice(0,1,t.data)},!1,function(){})},getCommodity:function(t){var e=this;i.default._get("goods/commodityPromotion",{goods_id:t},function(t){var a,o=t.data,n=o.extension_img,s=o.extension_text;i.default.hideLoading();(a=e.extension_img).splice.apply(a,[1,8].concat(r(n))),e.extension_text=s,uni.stopPullDownRefresh()})},copyText:function(){if(this.extension_text){var t=document.createElement("input");t.value=this.extension_text,document.body.appendChild(t),t.select(),document.execCommand("Copy"),t.className="oInput",t.style.display="none",uni.showToast({title:"复制成功"})}else uni.showToast({icon:"none",title:"暂无推广文案"})},saveSpreadImg:function(){var t=this,e=t.openSetting,a=t.extension_img,o=[];e||(uni.showLoading({title:"保存中..."}),o=a.map(function(t,e){return new Promise(function(e,a){setTimeout(function(){uni.getImageInfo({src:t,success:function(t){e(t.path)}})},100)})}),Promise.all(o).then(function(e){var a=e[0],o=e.slice(1);uni.saveImageToPhotosAlbum({filePath:a,success:function(){o.map(function(t){setTimeout(function(){uni.saveImageToPhotosAlbum({filePath:t,success:function(){uni.hideLoading(),console.log("save success",t),i.default.showSuccess("已保存")}})},200)})},complete:function(e){uni.hideLoading(),"saveImageToPhotosAlbum:fail:auth denied"!==e.errMsg&&"saveImageToPhotosAlbum:fail auth deny"!==e.errMsg||(i.default.showError("获取权限失败,请重试"),t.openSetting=!0)}})}))},onSetting:function(t){console.log(t);var e=t.detail.authSetting,a="scope.writePhotosAlbum";e[a]&&(this.openSetting=!1)},previewImage:function(t){var e=this.extension_img;e.length>0&&uni.previewImage({urls:e,current:t})}},onPullDownRefresh:function(){this.getPoster(this.goods_id),this.getCommodity(this.goods_id)}};e.default=u},f93f:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{pos:{type:String,default:"2"},contentShow:{type:Boolean,default:!0}}};e.default=i}}]);