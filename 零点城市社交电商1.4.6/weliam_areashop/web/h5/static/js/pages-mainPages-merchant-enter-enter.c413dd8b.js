(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mainPages-merchant-enter-enter"],{"02d0":function(t,a,e){"use strict";e.r(a);var i=e("3d44"),s=e.n(i);for(var r in i)"default"!==r&&function(t){e.d(a,t,function(){return i[t]})}(r);a["default"]=s.a},"070e":function(t,a,e){var i=e("3b92");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=e("4f06").default;s("62cb6346",i,!0,{sourceMap:!1,shadowMode:!1})},"0a99":function(t,a,e){"use strict";var i=e("070e"),s=e.n(i);s.a},"3b92":function(t,a,e){a=t.exports=e("2350")(!1),a.push([t.i,'.from-input-style[data-v-e7a6031c]{color:#333}.from-inputPlader-style[data-v-e7a6031c]{font-size:%?24?%;color:#ccc}.from-bg-style[data-v-e7a6031c]{height:%?84?%;line-height:%?84?%;-webkit-border-radius:%?10?%;border-radius:%?10?%;background-color:#fafafa}.from-left[data-v-e7a6031c]{padding:0 %?32?% 0 %?22?%}.enter-bg[data-v-e7a6031c]{width:100%;height:%?340?%;background-repeat:no-repeat;background-size:100% %?340?%}.form-main[data-v-e7a6031c]{margin-top:%?-140?%}.form-content .form-title .form-title-left[data-v-e7a6031c]{margin-left:%?16?%}.form-content .form-title .form-title-left[data-v-e7a6031c]:after{content:" ";position:absolute;left:0;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);width:%?8?%;height:%?26?%;-webkit-border-radius:%?4?%;border-radius:%?4?%;background-color:#ffd940}.form-content .form-title uni-text[data-v-e7a6031c]{margin-left:%?14?%;font-size:%?22?%}.merchant-address-right .address-icon[data-v-e7a6031c]{position:absolute;right:%?20?%;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);font-size:%?24?%!important}.merchant-xx-address[data-v-e7a6031c]{-webkit-border-radius:%?10?%;border-radius:%?10?%;background-color:#fafafa;height:%?200?%!important}.xx-address-from-left[data-v-e7a6031c]{padding:%?30?% %?32?% 0 %?22?%}.merchant-xx-address-right[data-v-e7a6031c]{position:absolute;left:24.5%;top:16%}.merchant-xx-address-right uni-textarea[data-v-e7a6031c]{cursor:auto;width:%?400?%!important;height:%?200?%!important;display:block;overflow:hidden;font-size:%?24?%}.imglist-items[data-v-e7a6031c]{position:relative;margin-right:%?19?%;margin-bottom:%?19?%}.imglist-items .items-img[data-v-e7a6031c]{width:%?156?%;height:%?156?%;-webkit-border-radius:%?10?%;border-radius:%?10?%}.imglist-items .close[data-v-e7a6031c]{position:absolute;right:-5%;top:-5%;width:%?32?%;height:%?32?%;line-height:%?32?%;color:#fff;font-size:%?24?%!important;background:rgba(0,0,0,.5);-webkit-border-radius:50%;border-radius:50%;z-index:2}.add-images[data-v-e7a6031c]{display:block;width:%?156?%;height:%?156?%}.formBtn uni-button[data-v-e7a6031c]{height:%?84?%;line-height:%?84?%;-webkit-border-radius:%?42?%;border-radius:%?42?%;background-color:#ffd940}.applyStatus .applyStatus-logo[data-v-e7a6031c]{display:block;width:%?324?%;height:%?324?%;margin:%?156?% auto %?78?%}.applyStatusBtn[data-v-e7a6031c]{width:%?300?%;height:%?80?%;line-height:%?80?%;background:#ffd940;-webkit-border-radius:%?40?%;border-radius:%?40?%;margin:%?60?% auto 0}',""])},"3d44":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=r(e("deda")),s=r(e("8968"));function r(t){return t&&t.__esModule?t:{default:t}}function n(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{},i=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.forEach(function(a){o(t,a,e[a])})}return t}function o(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}function l(t){return u(t)||c(t)||d()}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function c(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function u(t){if(Array.isArray(t)){for(var a=0,e=new Array(t.length);a<t.length;a++)e[a]=t[a];return e}}var f={data:function(){return{data:{},isPage:!1,region:null,code:null,old_imgsData:[],chooseImgArr:[],themeColor:"#007AFF",cityPickerValueDefault:[0,0,0],formdisabled:!0,applyStatusImage:{stutas_1:"https://devwe7.weliam.cn/addons/weliam_areashop/web/assets/store/img/default/we/40.png",stutas_2:"https://devwe7.weliam.cn/addons/weliam_areashop/web/assets/store/img/default/we/41.png"},applyStatusText:{stutas_1:{title:"恭喜您，入驻成功",text:"您可以在手机端管理您的店铺"},stutas_2:{title:"很抱歉，申请未通过",text:"您没有资格入驻商铺，请联系商家"}},applyStatusbtn:{stutas_1:"管理店铺",stutas_2:"修改申请信息"}}},components:{CityPicker:s.default},computed:{},onLoad:function(t){},onShow:function(){},mounted:function(){this.getEnterDetail()},methods:{getEnterDetail:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0",a=this;i.default._post_form("Live/getBusinessSetting",{enterType:t,user_id:i.default.getUserId()},function(e){a.setData(e),0===e["data"]["status"]&&(a.formdisabled=!1),"0"===t&&e["data"]["reason"]&&(a.applyStatusText["stutas_2"]["text"]=e["data"]["reason"]),"1"===t&&(e["data"]["data"]["merchantImage"]["length"]>0&&(a.chooseImgArr=e["data"]["data"]["merchantImage"]),e["data"]["data"]["region"]&&(a.region=e["data"]["data"]["region"].split(","),a.code=e["data"]["data"]["code"].split(",")),e["data"]["data"]["image"]&&(a.old_imgsData=e["data"]["data"]["image"].split(","))),a.isPage=!0},!1,function(){})},formSubmit:function(t){var a=this,e=t.detail.value;if(1!==a.code&&(e.region=a.code.join(",")),i.default.saveFormId(t.detail.formId),!a.validation(e))return i.default.showError(a.error),!1;i.default.showError("是否提交信息",function(t){if(t.confirm)if(a.setData({formdisabled:!0}),uni.showLoading({title:"提交中..."}),a["chooseImgArr"]["length"]>0){var s=[],r=a["chooseImgArr"].map(function(t){if(-1===t.indexOf("https"))return i.default._upLoad(t)});Promise.all(r).then(function(t){var i,r=t.map(function(t){if(t)return t.file_id}),n=r.filter(function(t){return t});(s.push(n),a.old_imgsData.length>0)&&(s=(i=a.old_imgsData).concat.apply(i,l(s)));Object.assign(e,{merchantImage:s}),a.formDataUrl(e)})}else a.formDataUrl(e)},!0)},formDataUrl:function(t){i.default._post_form("Live/addBusinessLive",n({},t,{user_id:i.default.getUserId()}),function(t){1===t.code&&i.default.showSuccess("提交成功")},!1,function(){uni.hideLoading()})},validation:function(t){if(""===t.merchantName)return this.error="商家名称不能为空",!1;if(""===t.userName)return this.error="姓名不能为空",!1;if(t.merchantMobile.length<1)return this.error="手机号不能为空",!1;if(11!==t.merchantMobile.length)return this.error="手机号长度有误",!1;var a=/^1[3|4|5|6|7|8|9][0-9]{9}$/;return a.test(t.merchantMobile)?"1"!==this.data["businessForm"]["region"]||this.region?"1"!==this.data["businessForm"]["address"]||""!==t.detailadress||(this.error="详细地址不能为空",!1):(this.error="省市区不能空",!1):(this.error="手机号不符合要求",!1)},addimg:function(){var t=this;uni.chooseImage({count:9,sizeType:["original","compressed"],sourceType:["album"],success:function(a){if(t.chooseImgArr.length<9)for(var e=0;e<a.tempFilePaths.length;e++)t.chooseImgArr.push(a.tempFilePaths[e]);else i.default.showError("最多上传九张图")}})},clearimg:function(t){var a=this,e=a.chooseImgArr,i=a.old_imgsData;i.length>0&&(i.splice(t,1),a.old_imgsData=i),e.splice(t,1),a.chooseImgArr=e},applySkip:function(t){var a=this;switch(t){case 2:i.default.navigationTo({url:"pages/subPages/business/index"});break;case 3:a.getEnterDetail("1");break}},showpicker:function(){1===this.data["status"]||this.formdisabled||this.$refs.mpvueCityPicker.show()},onConfirm:function(t){var a=t.label.split("-");this.region=l(a),this.code=t.cityCode.map(function(t){return t+""})}}};a.default=f},"7b69":function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.isPage?e("v-uni-view",[0===t.data["status"]||1===t.data["status"]?[e("v-uni-view",{staticClass:"enter-bg",style:{"background-image":"url("+t.imageRoot+"39.png)"}}),e("v-uni-view",{staticClass:"form-main m-left-right-30 p-r"},[e("v-uni-form",{on:{submit:function(a){a=t.$handleEvent(a),t.formSubmit(a)}}},[e("v-uni-view",{staticClass:"form-content b-f bor-radius-10upx padding-all-box36"},[e("v-uni-view",{staticClass:"form-title dis-flex flex-x-between flex-y-center p-r m-btm30"},[e("v-uni-view",{staticClass:"f-28 col-3 form-title-left"},[t._v("请填写店铺信息")]),t.data["kf_wxid"]||t.data["kf_phone"]?e("v-uni-view",{staticClass:"f-24 col-3 form-title-right"},[t._v("直接联系客服"),e("v-uni-text",{staticClass:"iconfont icon-right"})],1):t._e()],1),e("v-uni-view",{staticClass:"from-bg-style merchant-name dis-flex flex-y-center m-btm20"},[e("v-uni-view",{staticClass:"merchant-name-left from-left f-24 col-3"},[t._v("商家名称")]),e("v-uni-view",{staticClass:"merchant-name-right"},[e("v-uni-input",{staticClass:"from-input-style  f-24",attrs:{type:"text",value:t.data["data"]?t.data["data"]["merchantName"]:"",placeholder:"请输入商家名称",name:"merchantName","placeholder-class":"from-inputPlader-style",disabled:t.formdisabled}})],1)],1),e("v-uni-view",{staticClass:"from-bg-style merchant-user-name dis-flex flex-y-center m-btm20"},[e("v-uni-view",{staticClass:"merchant-user-name-left from-left f-24 col-3"},[t._v("商家姓名")]),e("v-uni-view",{staticClass:"merchant-user-name-right"},[e("v-uni-input",{staticClass:"from-input-style  f-24",attrs:{type:"text",value:t.data["data"]?t.data["data"]["userName"]:"",placeholder:"请输入真实姓名",name:"userName","placeholder-class":"from-inputPlader-style",disabled:t.formdisabled}})],1)],1),e("v-uni-view",{staticClass:"from-bg-style merchant-mobile dis-flex flex-y-center m-btm20"},[e("v-uni-view",{staticClass:"merchant-mobile-left from-left f-24 col-3"},[t._v("手机号码")]),e("v-uni-view",{staticClass:"merchant-mobile-right"},[e("v-uni-input",{staticClass:"from-input-style f-24",attrs:{type:"number",value:t.data["data"]?t.data["data"]["merchantMobile"]:"",placeholder:"请输入手机号码",name:"merchantMobile","placeholder-class":"from-inputPlader-style",disabled:t.formdisabled}})],1)],1),"1"===t.data["businessForm"]["region"]?[e("v-uni-view",{staticClass:"from-bg-style merchant-address dis-flex flex-y-center m-btm20 p-r",on:{click:function(a){a=t.$handleEvent(a),t.showpicker(a)}}},[e("v-uni-view",{staticClass:"merchant-address-left from-left f-24 col-3"},[t._v("所在地区")]),e("v-uni-view",{staticClass:"merchant-address-right dis-flex flex-y-center"},[t.data["data"]["region"]&&1===t.data["status"]?[e("v-uni-view",{staticClass:"address-cont-box f-24"},[t._v(t._s(t.data["data"]["region"]))])]:[e("v-uni-view",{staticClass:"address-cont-box"},[t.region?e("v-uni-view",{staticClass:"f-24"},[t._v(t._s(t.region[0])+t._s(t.region[1])+t._s(t.region[2]))]):e("v-uni-view",{staticClass:"f-24 col-c"},[t._v("选择省、市、区")])],1),e("v-uni-view",{staticClass:"iconfont icon-right address-icon",class:t.region?"col-3":"col-c"})]],2)],1)]:t._e(),"1"===t.data["businessForm"]["address"]?[e("v-uni-view",{staticClass:" merchant-xx-address p-r"},[e("v-uni-view",{staticClass:"merchant-xx-address-left xx-address-from-left f-24 col-3"},[t._v("详细地址")]),e("v-uni-view",{staticClass:"merchant-xx-address-right"},[e("v-uni-textarea",{attrs:{disabled:t.formdisabled,name:"detailadress",value:t.data["data"]?t.data["data"]["detailadress"]:"",placeholder:"请输入详细地址",maxlength:"100","placeholder-style":"color:#cccccc"}})],1)],1)]:t._e(),"1"===t.data["businessForm"]["quaimg"]?[e("v-uni-view",{staticClass:"store-uploading m-btm40"},[e("v-uni-view",{staticClass:"uploading-title f-24 col-3 m-top-btm20"},[t._v("商家资质")]),e("v-uni-view",{staticClass:"uploading-imgaes"},[e("v-uni-view",{staticClass:"up-images-list dis-flex flex-warp"},[t.data["data"]["merchantImage"]["length"]>0&&1===t.data["status"]?t._l(t.data["data"]["merchantImage"],function(t,a){return e("v-uni-view",{key:a,staticClass:"imglist-items"},[e("v-uni-image",{staticClass:"items-img",attrs:{src:t,mode:""}})],1)}):[t._l(t.chooseImgArr,function(a,i){return e("v-uni-view",{key:i,staticClass:"imglist-items"},[e("v-uni-image",{staticClass:"items-img",attrs:{src:a,mode:""}}),t.formdisabled?t._e():e("v-uni-view",{staticClass:"close iconfont icon-close t-c",on:{click:function(a){a=t.$handleEvent(a),t.clearimg(i)}}})],1)}),e("v-uni-image",{staticClass:"add-images",attrs:{src:"../../../../static/images/addimag.png",mode:""},on:{click:function(a){a=t.$handleEvent(a),t.addimg(a)}}})]],2)],1)],1)]:t._e(),e("v-uni-view",{staticClass:"formBtn"},[e("v-uni-button",{staticClass:"f-28 col-3",attrs:{formType:"submit",disabled:t.formdisabled}},[t._v(t._s(t.formdisabled?"提交审核中...":"立即申请"))])],1)],2)],1)],1)]:t._e(),2===t.data["status"]||3===t.data["status"]?[e("v-uni-view",{staticClass:"applyStatus"},[e("v-uni-image",{staticClass:"applyStatus-logo",attrs:{src:2===t.data["status"]?t.applyStatusImage["stutas_1"]:t.applyStatusImage["stutas_2"],mode:""}}),e("v-uni-view",{staticClass:"applyStatus-detail t-c"},[e("v-uni-view",{staticClass:"f-36 col-3 m-btm20"},[t._v(t._s(2===t.data["status"]?t.applyStatusText["stutas_1"]["title"]:t.applyStatusText["stutas_2"]["title"]))]),e("v-uni-view",{staticClass:"f-24 col-9"},[t._v(t._s(2===t.data["status"]?t.applyStatusText["stutas_1"]["text"]:t.applyStatusText["stutas_2"]["text"]))])],1),e("v-uni-view",{staticClass:"applyStatusBtn t-c col-3 f-30",on:{click:function(a){a=t.$handleEvent(a),t.applySkip(t.data["status"])}}},[t._v(t._s(2===t.data["status"]?t.applyStatusbtn["stutas_1"]:t.applyStatusbtn["stutas_2"]))])],1)]:t._e(),e("CityPicker",{ref:"mpvueCityPicker",attrs:{themeColor:t.themeColor,pickerValueDefault:t.cityPickerValueDefault},on:{onConfirm:function(a){a=t.$handleEvent(a),t.onConfirm(a)}}})],2):t._e()},s=[];e.d(a,"a",function(){return i}),e.d(a,"b",function(){return s})},9736:function(t,a,e){"use strict";e.r(a);var i=e("7b69"),s=e("02d0");for(var r in s)"default"!==r&&function(t){e.d(a,t,function(){return s[t]})}(r);e("0a99");var n=e("2877"),o=Object(n["a"])(s["default"],i["a"],i["b"],!1,null,"e7a6031c",null);a["default"]=o.exports}}]);