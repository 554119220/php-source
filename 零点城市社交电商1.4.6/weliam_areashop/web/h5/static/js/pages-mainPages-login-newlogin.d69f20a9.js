(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mainPages-login-newlogin"],{"4acf":function(e,t,i){"use strict";i.r(t);var n=i("9ab7"),o=i.n(n);for(var a in n)"default"!==a&&function(e){i.d(t,e,function(){return n[e]})}(a);t["default"]=o.a},"7f3e":function(e,t,i){"use strict";var n=i("b93a"),o=i.n(n);o.a},"9ab7":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(i("deda"));function o(e){return e&&e.__esModule?e:{default:e}}var a=null,s={data:function(){return{loginType:"login",mobile:"",verCode:"",againPassword:"",passWordType:"password",passWord:"",countdown:0,canSendCode:!0}},components:{},computed:{},beforeCreate:function(){},onLoad:function(e){},onShow:function(){},mounted:function(){},methods:{loginTypeChange:function(e){this.loginType!==e&&(this.loginType=e,this.passWordType="password",this.pageInit(e))},passInput:function(e){this.passWord=e.detail.value.trim()},passTypeChange:function(e){this.passWordType="text"===this.passWordType?"password":"text"},getverifyCode:function(e){var t=this,i=60;t.countdown=i,t.mobile?t.canSendCode&&(t.canSendCode=!1,t.sendCountdown(),n.default._post_form("user.H5/sendSms",{mobile:t.mobile,type:e},function(e){n.default.showSuccess("发送成功"),console.log(e)},function(){t.canSendCode=!0})):n.default.showError("请填写手机号")},sendCountdown:function(){var e=this;a=setInterval(function(){0===e.countdown?(e.canSendCode=!0,clearInterval(a)):--e.countdown},1e3)},pageInit:function(e){this.setData({loginType:e,countdown:0,canSendCode:!0,mobile:"",passWord:"",verCode:"",againPassword:""})},formSubmit:function(e){var t=this,i=this.loginType,o=e.detail.value,a=o.mobile,s=o.verCode,r=o.password,l=o.againPassword,d=/^1[3|4|5|6|7|8|9][0-9]{9}$/,c={login:{url:"user/login",test:[a&&r,d.test(a)],errMsg:["请正确填写登录信息","手机号格式不正确"]},register:{url:"user.H5/register",test:[d.test(a),r===l,!!s],errMsg:["手机号格式不正确","两次密码输入不一致","请输入短信验证码"]},forget:{url:"user.H5/findBack",test:[!!a,!!r,r===l,!!s],errMsg:["请输入手机号","请输入密码","两次密码输入不一致","请输入短信验证码"]}};if("success"!==i)if(c[i].test.includes(!1)){var u=c[i].test.findIndex(function(e){return!1===e});n.default.showError(c[i].errMsg[u])}else uni.showLoading({title:"login"===i?"登录中...":"提交中..."}),n.default._post_form(c[i].url,{referee_id:uni.getStorageSync("referee_id"),mobile:a,verCode:s||"",password:r},function(e){if(uni.hideLoading(),1===e.code)if(n.default.showSuccess("登录成功"),"login"===i){var o=uni.getStorageSync("currentPage");"pages/mainPages/write/write"===o.route?uni.reLaunch({url:"/pages/mainPages/index/index"}):uni.navigateBack({delta:1,success:function(){setTimeout(function(){location.href=location.href},200)}}),uni.setStorageSync("token",e.data.token),uni.setStorageSync("user_id",e.data.user_id),t.globalSaveRefereeId&&n.default.saveRefereeQuest(),t.$store.commit("userInfo",e.data.status),t.$store.commit("iswrite",e.data.status.status),uni.removeStorageSync("currentPage")}else"register"===i?t.loginType="success":"forget"===i&&t.pageInit("login")},function(){uni.hideLoading()});else t.pageInit("login")}}};t.default=s},"9bfb":function(e,t,i){"use strict";i.r(t);var n=i("f985"),o=i("4acf");for(var a in o)"default"!==a&&function(e){i.d(t,e,function(){return o[e]})}(a);i("7f3e");var s=i("2877"),r=Object(s["a"])(o["default"],n["a"],n["b"],!1,null,"4d4f12c9",null);t["default"]=r.exports},b93a:function(e,t,i){var n=i("f57a");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=i("4f06").default;o("e2c11812",n,!0,{sourceMap:!1,shadowMode:!1})},f57a:function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,'.login-container[data-v-4d4f12c9]{height:100vh;-webkit-box-sizing:border-box;box-sizing:border-box;padding-top:%?50?%;background-size:100% 100%;background-repeat:no-repeat}.login-logo[data-v-4d4f12c9]{width:%?180?%;height:%?180?%;margin-bottom:%?40?%;position:relative}.login-logo[data-v-4d4f12c9]:after{content:" ";position:absolute;top:0;left:0;width:%?180?%;height:%?180?%;border-radius:50%;background:hsla(0,0%,100%,.4);z-index:1}.login-logo uni-image[data-v-4d4f12c9]{position:relative;width:%?160?%;height:%?160?%;margin:%?10?%;border-radius:50%;z-index:2}.login-type[data-v-4d4f12c9]{width:%?433?%;height:%?60?%;min-height:%?60?%;text-align:center;padding:%?8?%;background:rgba(0,0,0,.2);border-radius:%?40?%;margin-bottom:%?44?%;position:relative}.login-type .login-back[data-v-4d4f12c9]{position:absolute;top:%?8?%;left:%?8?%;z-index:2;width:%?60?%;height:%?60?%;min-height:%?60?%;line-height:%?60?%;text-align:center;font-size:%?36?%;color:#333;background:#fff;border-radius:50%}.login-item[data-v-4d4f12c9]{width:100%;font-size:%?28?%;color:#fff;border-radius:%?40?%;position:relative;z-index:1;height:%?60?%;min-height:%?60?%;line-height:%?60?%}.login-item.active[data-v-4d4f12c9]{color:#333;background:#fff}.login-form[data-v-4d4f12c9]{width:%?564?%;padding:%?20?% %?42?% 0;border-radius:%?6?%}.login-form .success-img[data-v-4d4f12c9]{width:%?307?%;height:%?325?%;display:block;margin:0 auto}.form-item[data-v-4d4f12c9]{height:%?100?%;border-top:%?1?% solid #eee}.form-item[data-v-4d4f12c9]:first-child{border-top:0}.form-item .icon-attention[data-v-4d4f12c9],.form-item .icon-attentionforbid[data-v-4d4f12c9]{font-size:%?40?%}.form-item-label[data-v-4d4f12c9]{margin-right:%?30?%}.form-item-label uni-image[data-v-4d4f12c9]{width:%?29?%;height:%?39?%;display:block}.form-item-label uni-image.code-img[data-v-4d4f12c9]{width:%?35?%;height:%?27?%}.form-item-input uni-input[data-v-4d4f12c9]{font-size:%?28?%;color:#333}.input-place[data-v-4d4f12c9]{color:#999;font-size:%?28?%}.form-item .checked-btn[data-v-4d4f12c9]{background:#ffd940;border-radius:%?40?%;width:%?165?%;height:%?66?%;line-height:%?66?%;text-align:center}.form-btn-box[data-v-4d4f12c9]{padding:0 %?42?% 0}.form-btn-box uni-button[data-v-4d4f12c9]{background:#ffd940;border-radius:%?6?%;height:%?100?%;line-height:%?100?%;font-size:%?32?%;color:#333;position:relative;top:%?50?%;-webkit-box-shadow:%?1?% %?6?% %?20?% 0 rgba(176,23,146,.15);box-shadow:%?1?% %?6?% %?20?% 0 rgba(176,23,146,.15)}.forget[data-v-4d4f12c9]{margin-top:%?80?%;text-decoration:underline}.other-login-title[data-v-4d4f12c9]{margin-top:%?60?%;position:relative}.other-login-title[data-v-4d4f12c9]:after,.other-login-title[data-v-4d4f12c9]:before{content:" ";position:absolute;top:calc(50% - %?2?%);width:%?200?%;height:%?4?%;background:-webkit-gradient(linear,left top,right top,from(rgba(180,151,36,.5)),to(hsla(0,0%,100%,0)));background:-o-linear-gradient(left,rgba(180,151,36,.5) 0,hsla(0,0%,100%,0) 100%);background:linear-gradient(90deg,rgba(180,151,36,.5),hsla(0,0%,100%,0));opacity:.5;border-radius:%?4?%}.other-login-title[data-v-4d4f12c9]:after{left:%?-230?%;-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.other-login-title[data-v-4d4f12c9]:before{right:%?-230?%}.other-login-list[data-v-4d4f12c9]{width:100%;margin-top:%?30?%}.other-login-list .iconfont[data-v-4d4f12c9]{font-size:%?56?%;width:1.8em;height:1.8em;line-height:1.8em;text-align:center;background:#fff;border-radius:50%;margin:0 %?30?%}',""])},f985:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("v-uni-view",{staticClass:"login-container dis-flex flex-dir-column flex-y-center",style:{"background-image":"url("+e.imageRoot+"5.png)"}},[i("v-uni-view",{staticClass:"login-logo"},[i("v-uni-image",{staticClass:"app-logo",attrs:{src:e.appLogo}})],1),i("v-uni-view",{staticClass:"login-type dis-flex flex-dir-row"},["forget"===e.loginType?[i("v-uni-view",{staticClass:"login-item"},[e._v("忘记密码")]),i("v-uni-view",{staticClass:"login-back iconfont icon-back",on:{click:function(t){t=e.$handleEvent(t),e.loginTypeChange("login")}}})]:[i("v-uni-view",{staticClass:"login-item",class:{active:"login"===e.loginType},on:{click:function(t){t=e.$handleEvent(t),e.loginTypeChange("login")}}},[e._v("登录")]),i("v-uni-view",{staticClass:"login-item",class:{active:"register"===e.loginType||"success"===e.loginType},on:{click:function(t){t=e.$handleEvent(t),e.loginTypeChange("register")}}},[e._v("注册")])]],2),i("v-uni-view",{staticClass:"login-form b-f"},[i("v-uni-form",{attrs:{"report-submit":""},on:{submit:function(t){t=e.$handleEvent(t),e.formSubmit(t)}}},["success"!==e.loginType?[i("v-uni-view",{staticClass:"form-item dis-flex flex-y-center"},[i("v-uni-view",{staticClass:"form-item-label"},[i("v-uni-image",{attrs:{src:"/static/images/login/denglushoujihao.png"}})],1),i("v-uni-view",{staticClass:"form-item-input flex-box"},[i("v-uni-input",{attrs:{type:"number",name:"mobile",placeholder:"请输入手机号码","placeholder-class":"input-place"},model:{value:e.mobile,callback:function(t){e.mobile=t},expression:"mobile"}})],1)],1),"register"===e.loginType||"forget"===e.loginType?[i("v-uni-view",{staticClass:"form-item dis-flex flex-y-center"},[i("v-uni-view",{staticClass:"form-item-label"},[i("v-uni-image",{staticClass:"code-img",attrs:{src:"/static/images/login/yanzhengma.png"}})],1),i("v-uni-view",{staticClass:"form-item-input flex-box"},[i("v-uni-input",{attrs:{type:"number",name:"verCode",placeholder:"请输入验证码","placeholder-class":"input-place"},model:{value:e.verCode,callback:function(t){e.verCode=t},expression:"verCode"}})],1),i("v-uni-button",{staticClass:"checked-btn f-24 col-3",attrs:{disabled:!e.canSendCode},on:{click:function(t){t=e.$handleEvent(t),e.getverifyCode("register"===e.loginType?"register":"findBack")}}},[e._v(e._s(e.canSendCode?"验证码":e.countdown+"S"))])],1)]:e._e(),i("v-uni-view",{staticClass:"form-item dis-flex flex-y-center"},[i("v-uni-view",{staticClass:"form-item-label"},[i("v-uni-image",{attrs:{src:"/static/images/login/churumima.png"}})],1),i("v-uni-view",{staticClass:"form-item-input flex-box"},[i("v-uni-input",{attrs:{name:"password",type:e.passWordType,value:e.passWord,placeholder:"请输入登录密码","placeholder-class":"input-place"},on:{input:function(t){t=e.$handleEvent(t),e.passInput(t)}}})],1),"login"===e.loginType?i("v-uni-view",{staticClass:"iconfont",class:["password"===e.passWordType?"icon-attentionforbid":"icon-attention"],on:{click:function(t){t=e.$handleEvent(t),e.passTypeChange(t)}}}):e._e()],1),"register"===e.loginType||"forget"===e.loginType?[i("v-uni-view",{staticClass:"form-item dis-flex flex-y-center"},[i("v-uni-view",{staticClass:"form-item-label"},[i("v-uni-image",{attrs:{src:"/static/images/login/churumima.png"}})],1),i("v-uni-view",{staticClass:"form-item-input flex-box"},[i("v-uni-input",{attrs:{type:"password",name:"againPassword",placeholder:"请再次输入登录密码","placeholder-class":"input-place"},model:{value:e.againPassword,callback:function(t){e.againPassword=t},expression:"againPassword"}})],1)],1)]:e._e()]:[i("v-uni-image",{staticClass:"success-img",attrs:{src:"/static/images/login/zhuchechenggong.png"}}),i("v-uni-view",{staticClass:"f-32 col-3 m-top20 t-c"},[e._v("注册成功!")])],i("v-uni-view",{staticClass:"form-btn-box"},[i("v-uni-button",{attrs:{"form-type":"submit"}},[e._v(e._s("login"===e.loginType?"登录":"register"===e.loginType?"注册":"forget"===e.loginType?"确定":"success"===e.loginType?"去登陆":""))])],1)],2)],1),"login"===e.loginType?[i("v-uni-view",{staticClass:"forget f-26 col-3",on:{click:function(t){t=e.$handleEvent(t),e.loginTypeChange("forget")}}},[e._v("忘记密码?")])]:e._e()],2)],1)},o=[];i.d(t,"a",function(){return n}),i.d(t,"b",function(){return o})}}]);