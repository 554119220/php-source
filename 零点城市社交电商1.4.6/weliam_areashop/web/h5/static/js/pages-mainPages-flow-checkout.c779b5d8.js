(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mainPages-flow-checkout"],{"1ff7":function(t,e,o){"use strict";var r=o("cc0c"),a=o.n(r);a.a},"20b2":function(t,e,o){var r=o("f3b8");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var a=o("4f06").default;a("a56a4820",r,!0,{sourceMap:!1,shadowMode:!1})},"282b":function(t,e,o){"use strict";o.r(e);var r=o("5e33"),a=o("b583");for(var i in a)"default"!==i&&function(t){o.d(e,t,function(){return a[t]})}(i);o("1ff7");var n=o("2877"),s=Object(n["a"])(a["default"],r["a"],r["b"],!1,null,"75470f13",null);e["default"]=s.exports},"2b33":function(t,e,o){var r=o("8791");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var a=o("4f06").default;a("3f27fee1",r,!0,{sourceMap:!1,shadowMode:!1})},"44ef":function(t,e,o){e=t.exports=o("2350")(!1),e.push([t.i,".item-content[data-v-75470f13]{width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:%?26?% 0}.item-img-box[data-v-75470f13]{position:relative;width:%?170?%;height:%?170?%;margin-right:%?20?%;-webkit-border-radius:%?6?%;border-radius:%?6?%;background:no-repeat;background-size:cover;background-position:50%}.item-img-box .group-num[data-v-75470f13]{position:absolute;top:0;left:0;font-size:%?24?%;line-height:%?38?%;color:#fff;\n\t/* width:76upx; */height:%?38?%;background:-webkit-gradient(linear,left top,right top,from(#fe504f),to(#fe854f));background:-webkit-linear-gradient(left,#fe504f,#fe854f);background:-o-linear-gradient(left,#fe504f,#fe854f);background:linear-gradient(90deg,#fe504f,#fe854f);-webkit-box-shadow:0 %?2?% %?10?% 0 rgba(254,80,79,.54);box-shadow:0 %?2?% %?10?% 0 rgba(254,80,79,.54);-webkit-border-radius:%?10?% 0 %?6?% 0;border-radius:%?10?% 0 %?6?% 0;z-index:2;text-align:center}\n\n/* \t.item-img-box image {\n\tdisplay: block;\n} */.refund-btn[data-v-75470f13]{\n\t/* \tposition: absolute;\n\tright: 0;\n\tbottom: 66upx; */}.btn-default[data-v-75470f13]{-webkit-border-radius:4px;border-radius:4px;border:%?1?% solid #ccc;padding:%?4?% %?16?%;font-size:%?24?%;color:#555}.item-content .price-font-family uni-text[data-v-75470f13]{display:inline-block;width:%?90?%;height:%?36?%;line-height:%?36?%;color:#ecdbbd;background-color:#333;-webkit-border-radius:%?8?%;border-radius:%?8?%;margin-left:%?16?%}",""])},"5d08":function(t,e,o){"use strict";var r=o("2b33"),a=o.n(r);a.a},"5e33":function(t,e,o){"use strict";var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-uni-view",{staticClass:"item-content dis-flex flex-dir-row b-f p-r"},[o("v-uni-view",{staticClass:"item-img-box",style:{"background-image":" url("+(t.goodsData.image?t.goodsData.image.file_path?t.goodsData.image.file_path:t.goodsData.image[0].file_path:"")+")"}},[-1!=t.groupNumber?o("v-uni-view",{staticClass:"group-num"},[t._v(t._s(t.groupNumber)+"人团")]):t._e()],1),o("v-uni-view",{staticClass:"item-info dis-flex flex-dir-column flex-x-between flex-box"},[o("v-uni-view",{staticClass:"f-28 twolist-hidden"},[t._v(t._s(t.goodsData.goods_name))]),o("v-uni-view",{staticClass:"dis-flex flex-x-between flex-y-center"},[o("v-uni-view",{staticClass:"f-24 col-9"},[t.goodsData.goods_attr?[t._v("规格:"+t._s(t.goodsData.goods_attr))]:t._e()],2),-1!==t.refund?o("v-uni-view",{staticClass:"refund-btn dis-flex flex-x-end"},[2===t.refund||3===t.refund?o("v-uni-text",{staticClass:"f-26 col-7"},[t._v(t._s(2===t.refund?"已申请售后":"已完成售后"))]):1===t.refund?o("v-uni-view",{staticClass:"btn-default",on:{click:function(e){e.stopPropagation(),e=t.$handleEvent(e),t.onApplyRefund(t.goodsData.order_goods_id)}}},[t._v("申请售后")]):1===t.refund?o("v-uni-view",{staticClass:"f-26 col-7"},[t._v("申请售后")]):t._e()],1):t._e()],1),o("v-uni-view",{staticClass:"dis-flex flex-row flex-x-between"},[o("v-uni-view",{staticClass:"col-3 f-28 price-font-family"},[t._v("¥"+t._s(t.goodsData.goods_price)),t.goodscard?o("v-uni-text",{staticClass:"f-22 t-c"},[t._v("会员价")]):t._e()],1),o("v-uni-view",{staticClass:"col-9 f-28"},[t._v("×"+t._s(t.goodsData.total_num))])],1)],1)],1)},a=[];o.d(e,"a",function(){return r}),o.d(e,"b",function(){return a})},8791:function(t,e,o){e=t.exports=o("2350")(!1),e.push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* 快捷导航 */.shortcut[data-v-7836cdf6]{position:fixed;right:12px;bottom:%?250?%;width:%?76?%;line-height:1;z-index:5;-webkit-border-radius:50%;border-radius:50%}\n\n/* 导航菜单元素 */.nav-item[data-v-7836cdf6]{position:absolute;bottom:0;padding:0;width:%?76?%;height:%?76?%;line-height:%?76?%;color:#fff;background:rgba(0,0,0,.4);-webkit-border-radius:50%!important;border-radius:50%!important;text-align:center;-webkit-transform:rotate(0deg);-ms-transform:rotate(0deg);transform:rotate(0deg);opacity:0}.nav-item uni-text[data-v-7836cdf6]{font-size:%?40?%}\n\n/* 导航开关 */.nav-item__switch[data-v-7836cdf6]{opacity:1}.shortcut_click_show[data-v-7836cdf6]{margin-bottom:0;background:#fe504f}\n\n/* 显示动画 */.show_80[data-v-7836cdf6]{bottom:%?384?%;-webkit-animation:show_80-data-v-7836cdf6 .3s forwards;animation:show_80-data-v-7836cdf6 .3s forwards}.show_60[data-v-7836cdf6]{bottom:%?288?%;-webkit-animation:show_60-data-v-7836cdf6 .3s forwards;animation:show_60-data-v-7836cdf6 .3s forwards}.show_40[data-v-7836cdf6]{bottom:%?192?%;-webkit-animation:show_40-data-v-7836cdf6 .3s forwards;animation:show_40-data-v-7836cdf6 .3s forwards}.show_20[data-v-7836cdf6]{bottom:%?96?%;-webkit-animation:show_20-data-v-7836cdf6 .3s forwards;animation:show_20-data-v-7836cdf6 .3s forwards}@-webkit-keyframes show_20-data-v-7836cdf6{0%{bottom:0;-webkit-transform:rotate(0deg);transform:rotate(0deg);opacity:0}to{bottom:%?96?%;-webkit-transform:rotate(1turn);transform:rotate(1turn);opacity:1}}@keyframes show_20-data-v-7836cdf6{0%{bottom:0;-webkit-transform:rotate(0deg);transform:rotate(0deg);opacity:0}to{bottom:%?96?%;-webkit-transform:rotate(1turn);transform:rotate(1turn);opacity:1}}@-webkit-keyframes show_40-data-v-7836cdf6{0%{bottom:0;-webkit-transform:rotate(0deg);transform:rotate(0deg);opacity:0}to{bottom:%?192?%;-webkit-transform:rotate(1turn);transform:rotate(1turn);opacity:1}}@keyframes show_40-data-v-7836cdf6{0%{bottom:0;-webkit-transform:rotate(0deg);transform:rotate(0deg);opacity:0}to{bottom:%?192?%;-webkit-transform:rotate(1turn);transform:rotate(1turn);opacity:1}}@-webkit-keyframes show_60-data-v-7836cdf6{0%{bottom:0;-webkit-transform:rotate(0deg);transform:rotate(0deg);opacity:0}to{bottom:%?288?%;-webkit-transform:rotate(1turn);transform:rotate(1turn);opacity:1}}@keyframes show_60-data-v-7836cdf6{0%{bottom:0;-webkit-transform:rotate(0deg);transform:rotate(0deg);opacity:0}to{bottom:%?288?%;-webkit-transform:rotate(1turn);transform:rotate(1turn);opacity:1}}@-webkit-keyframes show_80-data-v-7836cdf6{0%{bottom:0;-webkit-transform:rotate(0deg);transform:rotate(0deg);opacity:0}to{bottom:%?384?%;-webkit-transform:rotate(1turn);transform:rotate(1turn);opacity:1}}@keyframes show_80-data-v-7836cdf6{0%{bottom:0;-webkit-transform:rotate(0deg);transform:rotate(0deg);opacity:0}to{bottom:%?384?%;-webkit-transform:rotate(1turn);transform:rotate(1turn);opacity:1}}\n\n/* 隐藏动画 */.hide_80[data-v-7836cdf6]{bottom:0;-webkit-animation:hide_80-data-v-7836cdf6 .3s;animation:hide_80-data-v-7836cdf6 .3s;opacity:0}.hide_60[data-v-7836cdf6]{bottom:0;-webkit-animation:hide_60-data-v-7836cdf6 .3s;animation:hide_60-data-v-7836cdf6 .3s;opacity:0}.hide_40[data-v-7836cdf6]{bottom:0;-webkit-animation:hide_40-data-v-7836cdf6 .3s;animation:hide_40-data-v-7836cdf6 .3s;opacity:0}.hide_20[data-v-7836cdf6]{bottom:0;-webkit-animation:hide_20-data-v-7836cdf6 .3s;animation:hide_20-data-v-7836cdf6 .3s;opacity:0}@-webkit-keyframes hide_20-data-v-7836cdf6{0%{bottom:%?96?%;-webkit-transform:rotate(1turn);transform:rotate(1turn);opacity:1}to{bottom:0;-webkit-transform:rotate(0deg);transform:rotate(0deg);opacity:0}}@keyframes hide_20-data-v-7836cdf6{0%{bottom:%?96?%;-webkit-transform:rotate(1turn);transform:rotate(1turn);opacity:1}to{bottom:0;-webkit-transform:rotate(0deg);transform:rotate(0deg);opacity:0}}@-webkit-keyframes hide_40-data-v-7836cdf6{0%{bottom:%?192?%;-webkit-transform:rotate(1turn);transform:rotate(1turn);opacity:1}to{bottom:0;-webkit-transform:rotate(0deg);transform:rotate(0deg);opacity:0}}@keyframes hide_40-data-v-7836cdf6{0%{bottom:%?192?%;-webkit-transform:rotate(1turn);transform:rotate(1turn);opacity:1}to{bottom:0;-webkit-transform:rotate(0deg);transform:rotate(0deg);opacity:0}}@-webkit-keyframes hide_60-data-v-7836cdf6{0%{bottom:%?288?%;-webkit-transform:rotate(1turn);transform:rotate(1turn);opacity:1}to{bottom:0;-webkit-transform:rotate(0deg);transform:rotate(0deg);opacity:0}}@keyframes hide_60-data-v-7836cdf6{0%{bottom:%?288?%;-webkit-transform:rotate(1turn);transform:rotate(1turn);opacity:1}to{bottom:0;-webkit-transform:rotate(0deg);transform:rotate(0deg);opacity:0}}@-webkit-keyframes hide_80-data-v-7836cdf6{0%{bottom:%?384?%;-webkit-transform:rotate(1turn);transform:rotate(1turn);opacity:1}to{bottom:0;-webkit-transform:rotate(0deg);transform:rotate(0deg);opacity:0}}@keyframes hide_80-data-v-7836cdf6{0%{bottom:%?384?%;-webkit-transform:rotate(1turn);transform:rotate(1turn);opacity:1}to{bottom:0;-webkit-transform:rotate(0deg);transform:rotate(0deg);opacity:0}}",""])},9447:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(o("6c98"));function a(t){return t&&t.__esModule?t:{default:t}}var i={data:function(){return{isShow:!1,transparent:!0}},props:{title:{type:String,default:"弹窗标题"}},onLoad:function(){},methods:{_onToggleShow:function(t){r.default.saveFormId(t.detail.formId),this.setData({isShow:!this.isShow,transparent:!1})},_onTargetPage:function(t,e){var o=r.default.getTabBarLinks(),a="/"+o[e];r.default.saveFormId(t.detail.formId),a+="?i="+r.default.getUniacid(),uni.reLaunch({url:a})}}};e.default=i},"9a7e":function(t,e,o){"use strict";o.r(e);var r=o("ffda"),a=o("cbb4");for(var i in a)"default"!==i&&function(t){o.d(e,t,function(){return a[t]})}(i);o("d77f");var n=o("2877"),s=Object(n["a"])(a["default"],r["a"],r["b"],!1,null,"8ab49082",null);e["default"]=s.exports},b041:function(t,e){t.exports=function(t){return"string"!==typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},b583:function(t,e,o){"use strict";o.r(e);var r=o("ce1c"),a=o.n(r);for(var i in r)"default"!==i&&function(t){o.d(e,t,function(){return r[t]})}(i);e["default"]=a.a},bba5:function(t,e,o){"use strict";var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-uni-view",{staticClass:"shortcut"},[o("v-uni-form",{attrs:{"report-submit":"true"},on:{submit:function(e){e=t.$handleEvent(e),t._onTargetPage(e,0)}}},[o("v-uni-button",{staticClass:"nav-item btn-normal",class:[t.isShow?"show_60":t.transparent?"":"hide_60"],attrs:{formType:"submit"}},[o("v-uni-text",{staticClass:"iconfont icon-home"})],1)],1),o("v-uni-form",{attrs:{"report-submit":"true"},on:{submit:function(e){e=t.$handleEvent(e),t._onTargetPage(e,1)}}},[o("v-uni-button",{staticClass:"nav-item btn-normal",class:[t.isShow?"show_40":t.transparent?"":"hide_40"],attrs:{formType:"submit","data-index":"1"}},[o("v-uni-text",{staticClass:"iconfont icon-searchlist"})],1)],1),o("v-uni-form",{attrs:{"report-submit":"true"},on:{submit:function(e){e=t.$handleEvent(e),t._onTargetPage(e,3)}}},[o("v-uni-button",{staticClass:"nav-item btn-normal",class:[t.isShow?"show_20":t.transparent?"":"hide_20"],attrs:{formType:"submit","data-index":"3"}},[o("v-uni-text",{staticClass:"iconfont icon-profile"})],1)],1),o("v-uni-form",{attrs:{"report-submit":"true"},on:{submit:function(e){e=t.$handleEvent(e),t._onToggleShow(e)}}},[o("v-uni-button",{staticClass:"nav-item nav-item__switch btn-normal",class:[t.isShow?"shortcut_click_show":""],attrs:{formType:"submit"}},[o("v-uni-text",{staticClass:"iconfont icon-cascades"})],1)],1)],1)},a=[];o.d(e,"a",function(){return r}),o.d(e,"b",function(){return a})},c8c3:function(t,e,o){"use strict";o.r(e);var r=o("bba5"),a=o("fd5f");for(var i in a)"default"!==i&&function(t){o.d(e,t,function(){return a[t]})}(i);o("5d08");var n=o("2877"),s=Object(n["a"])(a["default"],r["a"],r["b"],!1,null,"7836cdf6",null);e["default"]=s.exports},cbb4:function(t,e,o){"use strict";o.r(e);var r=o("d9ce"),a=o.n(r);for(var i in r)"default"!==i&&function(t){o.d(e,t,function(){return r[t]})}(i);e["default"]=a.a},cc0c:function(t,e,o){var r=o("44ef");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var a=o("4f06").default;a("19d2400f",r,!0,{sourceMap:!1,shadowMode:!1})},ce1c:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(o("6c98"));function a(t){return t&&t.__esModule?t:{default:t}}var i={data:function(){return{}},props:{goodsData:Object,refund:{type:Number,default:-1},groupNumber:{type:Number,default:-1},goodscard:{type:Number,default:0}},components:{},computed:{},beforeCreate:function(){},onLoad:function(t){},onShow:function(){},mounted:function(){},methods:{onApplyRefund:function(t){r.default.navigationTo({url:"pages/mainPages/order/refund/apply/apply?order_goods_id="+t})}}};e.default=i},d1ea:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAP1BMVEUAAADs273v37/v2r/r2r3s2r3s27zs273r273s2rzs27zs3L3r27vs3Lzs27zs2r3v37/s273s2r3t273s2728oryuAAAAFHRSTlMAwBAw0GDw74Cgr5BAULCfIODfcKiVrbgAAAE9SURBVEjHvZRtc4MgEIQBAVHRqLn//1tLOp1s73jNTKfPpwT3THb3VP0v+6oLrLGmf1CFR1m/UZWtpHfUwOX6SGBkYpqpyTxxvYG+NnEyvaUu1iiw0gC2WkC3jicN8kQBg7g80H645qYPmI0K9BFB6fdnnbCFNNMxRLfCFfXCFtP/rbr4wOm53p9y4GDFZFsbxZOiVZQxB+4x4bjk4DGzg0MWpbGp2Ehz8a+33FjjcbJ+3/LnwE/YZCQAAfvT0hJu8GInsKvEQoktv/TGSePJl5WGXf5OgrHTeyMCWRRj4dGpGIXhRQls4T0XZKC1F4fLsriYHuHCOAwj0MbEbfhPQs9wrPE1D7Q1EQJrH1TDZYHWOXK9bsjhlBXQxFxc79t6hIsCukTiG93HiQL6BGzhIAsKGGSDfpAphEn9DV/se1ucfFhMAAAAAABJRU5ErkJggg=="},d77f:function(t,e,o){"use strict";var r=o("20b2"),a=o.n(r);a.a},d9ce:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(o("c8c3")),a=u(o("76e0")),i=u(o("f0f2")),n=u(o("24b9")),s=u(o("c85e")),d=u(o("282b")),c=u(o("6c98"));function u(t){return t&&t.__esModule?t:{default:t}}var l={data:function(){return{nav_select:!1,options:{},address:null,store:null,exist_address:!1,goods:{},groups:{},goods_list:[],order_pay_price:"",express_price:0,express_price_calc:0,intra_region:0,addressOrStore:"",rule_success:!1,error_msg:null,order_total_num:"",order_total_price:"",member_order_total_price:"",member_order_pay_price:"",coupon_list:[],coupon_list_no:[],selectCoupon:null,actual_pay_price:null,remark:"",hasError:!1,error:"",showBottomPopup:!1,expressType:"express",navList:[],couponType:"is_use",couponTypeList:[{id:"is_use",title:"可用优惠券"},{id:"not_use",title:"不可用优惠券"}],realyPrice:0,creatOrderData:{},name:"",phone:"",couponswiperHeight:0,payType:"",isSubmit:!1,payOrderId:null,cardList:null,coupon_price:null,isgoods_card:null,cardId:null,card_price:null,goods_type:null,member_info:null,member_number:0,member_data:null}},computed:{$groups:function(){return this.groups||{}},is_group_type:function(){return"2"==this.options.order_type},is_commander:function(){return this.is_group_type&&this.$groups.is_commander||-1},group_join_num:function(){return this.is_group_type&&this.$groups.join_num||-1},group_discount:function(){return this.is_group_type&&this.$groups.commander_discount||-1},is_group_commander:function(){return this.is_group_type&&this.$groups.is_commander_discount||-1},is_group_discount:function(){return 1===this.is_group_commander&&-1!==this.is_commander&&this.group_discount}},components:{shortcut:r.default,PopupView:a.default,OrderPay:i.default,PageNavBar:n.default,CouponSheet:s.default,ListGoodsItem:d.default},onLoad:function(t){c.default.showLoading(),this.setSwiperHeight(),this.options=t,this.expressType="10"==t.transport_type?"self":1==t.is_express?"express":"self",this.goods_type=t.goods_type,this.paychannel=t.paychannel?t.paychannel:null,this.getOrderCard(t.goods_id,t.goods_sku_id,t.goods_num)},onShow:function(){this.getOrderData();c.default.getClientType();var t=this.isSubmit&&"alipay"===this.payType;t&&this.orderStatusInquiry(this.payOrderId)},onUnload:function(){this.$store.commit("addressData",null),this.$store.commit("storeData",null),uni.removeStorageSync("isReload")},methods:{setExpressList:function(t,e){var o=this.options,r={self:{id:"self",title:"上门自提"},express:{id:"express",title:"快递配送"}},a=o.transport_type,i=o.is_express,n=o.is_zt,s=[];console.log(o),"20"===a&&("1"===i&&"10"===t&&s.push(r.express),"1"===n&&"1"===e&&s.push(r.self),this.navList=s),1===s.length&&(this.expressType=s[0].id)},getOrderData:function(){var t=this,e=t.options,o=t.expressType,r=t.$store.state.addressData,a=t.$store.state.storeData,i=function(e){if(1!==e.code)return c.default.showError(e.msg),!1;e.data.has_error&&(t.hasError=!0,t.error=e.data.error_msg,c.default.showError(t.error)),t.setExpressList(e.data.express_state,e.data.self_state),e.data.address=r||e.data.address,e.data.store=a;var o=e.data.user_info;t.name=o.name,t.phone=o.mobile,t.setData(e.data),t.selectCoupon&&t.selectCouponTap(t.selectCoupon,!1),t.express_price=Number(e.data.express_price).toFixed(2),t.express_price_calc=Number(e.data.express_price).toFixed(2),c.default.hideLoading()};if("cart"===e.order_type)c.default._get("order/cart",{cart_ids:e.cart_ids},function(t){i(t)});else{e.order_type;c.default._get("order/buyNow",{goods_id:e.goods_id,goods_num:e.goods_num,group_id:e.group_id,goods_sku_id:e.goods_sku_id,groups_group_id:e.groups_group_id||"",addressOrStore:"express"===o?r?r.address_id:"":a?a.id:"",activityId:e.activityId||"",order_type:"3"===e.order_type?3:null,goods_type:t.goods_type||""},function(r){var a=r,n=a.data,s=n.order_total_price,d=n.groups,c=d.is_commander_discount,u=d.commander_discount,l=d.is_commander;if("2"==e.order_type&&1===l){if(s&&"string"===typeof s&&1===c&&u){var p=(100*Number(s)-100*u)/100;a.data.realyPrice=a.data.order_total_price,a.data["".concat("express"===o?"order_pay_price":"order_total_price")]=Number(s)>.01?"".concat(p>0?p:.01):"0.01"}t.$is_commander=!0}i(a)})}},getGoodsAttr:function(t,e){t.goods_list.length>0&&t.goods_list.map(function(t){20===t.spec_type&&t.sku.map(function(o){o.spec_sku_id===e&&(t.goods_attr=o.title)})})},setSwiperHeight:function(){var t=uni.getSystemInfoSync(),e=t.windowHeight-120;this.setData({couponswiperHeight:e})},expressTypeChange:function(t){this.expressType=t.id},moreCardList:function(){var t=this,e=t.member_number,o=t.cardList.length;0===e?t.setData({member_number:o}):e===o&&t.setData({member_number:0})},select_card:function(t,e){var o=this,r=o.cardId,a=o.options,i=o.expressType,n=o.$store.state.addressData,s=o.$store.state.storeData,d={goods_id:a.goods_id,goods_num:a.goods_num,goods_sku_id:a.goods_sku_id,groups_group_id:a.groups_group_id||"",addressOrStore:"express"===i?n?n.address_id:"":s?s.id:"",activityId:a.activityId||"",order_type:a.order_type};r===t?(o.getOrderData(),o.cardId=null,o.card_price=null):r!==t&&(o.cardId=t,o.card_price=e,Object.assign(d,{memberType:"4",memberCard:t,coupon_price:o.coupon_price}),c.default._get("order/buyNow",d,function(t){o.cardId?(o.setData({goods_list:t.data.goods_list,member_order_total_price:t.data.member_order_total_price,member_order_pay_price:t.data.member_order_pay_price,order_total_price:((100*Number(t.data.order_total_price)+100*Number(e))/100).toFixed(2),order_pay_price:((100*Number(t.data.order_pay_price)+100*Number(e))/100).toFixed(2),coupon_list:t.data.coupon_list}),o.selectCoupon&&(o.setData({actual_pay_price:Number(t.data.member_order_pay_price)+Number(o.card_price)-Number(o.selectCoupon.reduce_price)}),o.selectCouponTap(o.selectCoupon,!1))):o.selectCoupon&&o.setData({actual_pay_price:Number(o.actualPayPrice>.01?o.actualPayPrice:"0.01")+Number(o.express_price)+Number(o.card_price)})}))},selectAddress:function(t){c.default.navigationTo({url:"pages/mainPages/address/"+(this.exist_address?"index?from=flow&choose_id="+t:"create")})},getOrderCard:function(t,e,o){var r=this;c.default._post_form("member.Member/getOrderCard",{goods_id:t,goods_sku_id:e,num:o},function(t){r.setData(t.data)})},payTypeChange:function(t){this.payType=t.value,console.log("当前选择支付方式:",t.value)},orderStatusInquiry:function(t){var e=this,o=c.default.getUniacid();uni.showModal({title:"温馨提示",content:"请确认当前支付是否已完成",cancelText:"未完成",confirmText:"已完成",success:function(r){r.confirm?(console.log("用户已完成支付"),c.default._get("user.order/detail",{order_id:t},function(r){var a=r.data,i=a.pay_status.value;20===i?uni.redirectTo({url:"/pages/mainPages/flow/success?goods_id=".concat(e.goods_list[0].goods_id,"&order_id=").concat(t,"&pay_price=").concat(e.actual_pay_price>0?e.actual_pay_price:e.order_pay_price,"&i=").concat(o)}):uni.redirectTo({url:"/pages/mainPages/order/index?type=payment&i="+o})})):r.cancel&&(console.log("用户未完成支付"),uni.redirectTo({url:"/pages/mainPages/order/index?type=payment&i="+o}))}})},payOrderReady:function(t){console.log(t),uni.hideLoading();var e=this,o=c.default.getClientType(),r=this.payType,a=t.result.data.order_id;"4"===o&&"alipay"===r&&(e.isSubmit=!0,e.payOrderId=a)},paySuccess:function(t){console.log("paySuccess",t);var e=c.default.getUniacid(),o="/pages/mainPages/flow/success?goods_id=".concat(this.goods_list[0].goods_id,"&order_id=").concat(t.order.order_id,"&pay_price=").concat(this.actual_pay_price>0?this.actual_pay_price:this.order_pay_price);console.log(t,this.is_group_type,"this.is_group_type"),this.is_group_type&&(o="/pages/subPages/groups/index/index?order_id=".concat(t.order.order_id)),o+="&i="+e,uni.redirectTo({url:o})},payFail:function(t){console.log("payFail",t);var e=this.$store.state.clientType,o=c.default.getUniacid(),r="/pages/mainPages/order/index?type=payment",a=null;"2"===e?a="requestPayment:fail cancel"===t.errMsg?"订单未支付":t.err_desc:"4"===e?(r+="&i="+o,a="get_brand_wcpay_request:cancel"===t.err_msg?"订单未支付":"支付失败"):"7"===e?a="6001"===t.resultCode?"订单未支付":"支付失败":"8"===e?a="支付失败":"9"===e&&(a="requestPayment:fail cancel"===t.errMsg?"订单未支付":"支付失败"),c.default.showError(a,function(){uni.redirectTo({url:r})})},couponTypeChange:function(t){this.couponType=t.id},couponChange:function(t){console.log("当前优惠券:",t)},submitOrder:function(){var t=this,e=t.options,o=t.expressType,r=(t.$store.state,"10"===e.transport_type||("express"===o?t.address:t.store)),a={condition:[t.hasError,!r,"self"===o&&!(t.name&&t.phone),"express"===o&&1!==t.intra_region,"express"===o&&1!==t.rule_success],errMsg:[t.error,"请选择".concat("express"===o?"收货地址":"收货门店"),"请填写完整提货人信息","当前地址不在配送范围内,请重新选择","运费计算错误"]},i=t.$store.state.storeData;if(a.condition.includes(!0)){var n=a.condition.findIndex(function(t){return!0===t});return console.log(n),c.default.showError(a.errMsg[n]),!1}if("cart"!==e.order_type){var s={pay_from:"checkout",goods_id:e.goods_id,group_id:e.group_id||"",goods_num:e.goods_num,goods_sku_id:e.goods_sku_id,goods_sku_title:t.goods_list[0].goods_attr||"",groups_group_id:e.groups_group_id||"",coupon_id:t.selectCoupon?t.selectCoupon.user_coupon_id:"",remark:t.remark,express_type:"express"===o?1:2,addressOrStore:"express"===o?r?r.address_id:"":i?i.id:"",activityId:e.activityId||"",userId:c.default.getUserId(),userDeaerID:t.$store.state.refereeId,goodsNum:e.goods_num,spec_id:e.goods_sku_id,order_type:e.order_type};if("buy_member"===e.goods_type&&Object.assign(s,{memberType:"3"}),"member_goods"===e.goods_type&&(1===t.member_info.is_member&&Object.assign(s,{goods_type:"member_goods"}),t.cardId&&Object.assign(s,{memberType:"4",memberCard:t.cardId,sum_pay_price:t.actual_pay_price>0?t.actual_pay_price:"express"===t.expressType?t.order_pay_price:t.order_total_price})),"self"===o){var d=/^1[3|4|5|6|7|8|9][0-9]{9}$/;if(!d.test(t.phone))return c.default.showError("请填写正确的联系电话"),!1;Object.assign(s,{user_name:t.name,phone:t.phone})}else Object.assign(s,{user_name:r.name,phone:r.phone});return t.$store.commit("orderPay",s),void t.onToggleList()}c.default._post_form("order/cart",{cart_ids:e.cart_ids,coupon_id:t.selectCoupon.user_coupon_id,remark:t.remark},function(t){console.log("success"),callback(t)},function(t){console.log("fail")},function(){console.log("complete"),uni.hideLoading()})},storeSelect:function(t){console.log(t);var e=this.goods_list[0].bus_id,o="pages/mainPages/store/list?bus_id="+e+"&bustypeid=1";c.default.navigationTo({url:t?o+"&store_id="+t:o})},bindRemark:function(t){this.setData({remark:t.detail.value})},togglePopupCoupon:function(){this.coupon_list.length>0&&(this.showBottomPopup=!this.showBottomPopup)},selectCouponTap:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];console.log(t);var o=Number(t.reduce_price),r=Number(this.express_price).toFixed(2),a=null,i=null;if(30===t.coupon_type)t.cut_price=o,i=r>o?Number(r-o):0,a=Number(this.order_total_price)+i,this.express_price_calc=Number(i).toFixed(2);else{var n=this.bcsub(t);a="member_goods"===this.goods_type?Number(n>.01?n:"0.01")+Number(this.express_price)+Number(this.card_price):Number(n>.01?n:"0.01")+Number(this.express_price),this.express_price_calc=r}this.setData({selectCoupon:t,actual_pay_price:a.toFixed(2)}),e&&this.togglePopupCoupon()},doNotCouponTap:function(){this.setData({selectCoupon:null,actual_pay_price:"member_goods"===this.goods_type?null:this.order_pay_price}),this.$refs.coupon.currentindex=-1,this.togglePopupCoupon()},bcsub:function(t){var e=t.coupon_type,o="member_goods"===this.goods_type?Number(this.member_order_total_price):this.$is_commander&&-1!==this.is_group_discount?100*Number(this.order_total_price)/100>.01?100*Number(this.order_total_price)/100:.01:Number(this.order_total_price);if(10===e||40===e)return t.cut_price=Number(t.reduce_price),(o-Number(t.reduce_price)).toFixed(2);if(20===e){var r=Number(t.discount),a=o*(1-.1*r),i=o*r*.1;return 1===t.max_price_type&&Number(a)>Number(t.max_price)&&(a=Number(t.max_price),i=o-Number(t.max_price)),t.cut_price=a.toFixed(2),console.log("discount_price",i),i}},onToggleList:function(){this.$refs.orderPay.onToggleList()}}};e.default=l},f3b8:function(t,e,o){var r=o("b041");e=t.exports=o("2350")(!1),e.push([t.i,'@charset "UTF-8";.flow-all-money .ipt-wrapper uni-input[data-v-8ab49082]{width:100%;height:%?60?%;line-height:%?60?%;padding-left:%?20?%;-webkit-border-radius:%?10?%;border-radius:%?10?%;background-color:#f2f2f2}.checkout_list[data-v-8ab49082]{padding:0 %?30?% 0 %?30?%;background:#fff}.flow-shopList[data-v-8ab49082]{padding:0}.checkout_list .flow-shopList[data-v-8ab49082]{border-bottom:%?1?% solid #eee}.checkout_list .flow-shopList[data-v-8ab49082]:last-child{border-bottom:0}.flow-header-left[data-v-8ab49082]{width:100%;padding:0 %?30?%}.flow-checkout-address uni-text[data-v-8ab49082]{font-size:%?20?%;line-height:1.5em;display:inline-block;margin-right:%?15?%;color:#ffd940;padding:0 %?10?%;border:%?1?% solid #ffd940;-webkit-border-radius:%?8?%;border-radius:%?8?%}.flow-checkout-address-detail[data-v-8ab49082]{color:#333;font-weight:700;margin:%?12?% 0}.flow-num-box.b-f.padding-box[data-v-8ab49082]{padding:%?20?% %?30?%}\n\n/* 优惠券选择 */.popup__coupon[data-v-8ab49082]{width:100vw;height:100vh;background:#f0f0f0\n\t/* box-sizing: border-box; */\n\t/* padding: 15px 15px 60px 15px; */}.popup__coupon .coupon__do_not .control[data-v-8ab49082]{width:90%;height:%?62?%;margin-bottom:%?24?%;color:#888;border:%?1?% solid #e3e3e3;-webkit-border-radius:%?10?%;border-radius:%?10?%}.popup__coupon .coupon__title[data-v-8ab49082]{text-align:center;margin-bottom:%?20?%}.popup__coupon .coupon-list[data-v-8ab49082]{height:-webkit-calc(100vh - %?96?% %?-140?%);height:calc(100vh - %?96?% %?-140?%)}.popup__coupon .coupon-list .coupon-item[data-v-8ab49082]{position:relative;overflow:hidden;margin-bottom:%?22?%}.popup__coupon .coupon-list .coupon-item .item-wrapper[data-v-8ab49082]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;background:#fff;-webkit-border-radius:%?8?%;border-radius:%?8?%;color:#fff;height:%?170?%;overflow:hidden}.popup__coupon .coupon-list .coupon-item .item-wrapper .coupon-type[data-v-8ab49082]{position:absolute;top:0;right:0;z-index:10;width:%?128?%;padding:3px 0;background:#a771ff;font-size:%?20?%;text-align:center;color:#fff;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);-webkit-transform-origin:%?64?% %?64?%;-ms-transform-origin:%?64?% %?64?%;transform-origin:%?64?% %?64?%}.popup__coupon .coupon-list .coupon-item .item-wrapper.color__blue[data-v-8ab49082]{background:-webkit-linear-gradient(215deg,#57bdbf,#2f9de2);background:-o-linear-gradient(215deg,#57bdbf,#2f9de2);background:linear-gradient(-125deg,#57bdbf,#2f9de2)}.popup__coupon .coupon-list .coupon-item .item-wrapper.color__red[data-v-8ab49082]{background:-webkit-linear-gradient(218deg,#ff6d6d,#ff3636);background:-o-linear-gradient(218deg,#ff6d6d,#ff3636);background:linear-gradient(-128deg,#ff6d6d,#ff3636)}.popup__coupon .coupon-list .coupon-item .item-wrapper.color__violet[data-v-8ab49082]{background:-webkit-linear-gradient(203deg,#ef86ff,#b66ff5);background:-o-linear-gradient(203deg,#ef86ff,#b66ff5);background:linear-gradient(-113deg,#ef86ff,#b66ff5)}.popup__coupon .coupon-list .coupon-item .item-wrapper.color__violet .coupon-type[data-v-8ab49082]{background:#55b5ff}.popup__coupon .coupon-list .coupon-item .item-wrapper.color__yellow[data-v-8ab49082]{background:-webkit-linear-gradient(231deg,#f7d059,#fdb054);background:-o-linear-gradient(231deg,#f7d059,#fdb054);background:linear-gradient(-141deg,#f7d059,#fdb054)}.popup__coupon .coupon-list .coupon-item .item-wrapper .tip[data-v-8ab49082]{position:relative;-webkit-box-flex:0;-webkit-flex:0 0 32%;-ms-flex:0 0 32%;flex:0 0 32%;text-align:center;-webkit-border-radius:8px 0 0 8px;border-radius:8px 0 0 8px}.popup__coupon .coupon-list .coupon-item .item-wrapper .tip .money[data-v-8ab49082]{font-weight:700;font-size:%?46?%}.popup__coupon .coupon-list .coupon-item .item-wrapper .tip .pay-line[data-v-8ab49082]{font-size:%?22?%}.popup__coupon .coupon-list .coupon-item .item-wrapper .split-line[data-v-8ab49082]{position:relative;-webkit-box-flex:0;-webkit-flex:0 0 0;-ms-flex:0 0 0px;flex:0 0 0;border-left:%?4?% solid #fff;margin:0 5px 0 3px;background:#fff}.popup__coupon .coupon-list .coupon-item .item-wrapper .split-line[data-v-8ab49082]:after,.popup__coupon .coupon-list .coupon-item .item-wrapper .split-line[data-v-8ab49082]:before{content:"";position:absolute;width:12px;height:6px;background:#fff;left:-7px;z-index:1}.popup__coupon .coupon-list .coupon-item .item-wrapper .split-line[data-v-8ab49082]:before{-webkit-border-radius:0 0 8px 8px;border-radius:0 0 8px 8px;top:0}.popup__coupon .coupon-list .coupon-item .item-wrapper .split-line[data-v-8ab49082]:after{-webkit-border-radius:8px 8px 0 0;border-radius:8px 8px 0 0;bottom:0}.popup__coupon .coupon-list .coupon-item .item-wrapper .content[data-v-8ab49082]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;padding:%?30?% %?20?%;-webkit-border-radius:8px 0 0 8px;border-radius:8px 0 0 8px}.popup__coupon .coupon-list .coupon-item .item-wrapper .content .title[data-v-8ab49082]{font-size:%?34?%}.popup__coupon .coupon-list .coupon-item .item-wrapper .content .bottom .time[data-v-8ab49082]{font-size:%?24?%;line-height:%?24?%}.popup__coupon .coupon-list .coupon-item .item-wrapper .content .bottom .state[data-v-8ab49082]{height:%?46?%;width:%?122?%;line-height:%?92?%;text-align:center;color:#fff;font-size:%?26?%}\n\n/* 样式调整 */.flow-checkout-header[data-v-8ab49082]{background:#fff}\n\n/* 门店自提样式 */.store-info[data-v-8ab49082]{background:#fff}.choose-store[data-v-8ab49082]{font-size:%?28?%;color:#333;padding:%?20?% %?50?%;margin:%?20?% auto;border:%?1?% dashed #eee}.self-userinfo[data-v-8ab49082]{padding:0 %?30?%;background:#fff}.store-detail[data-v-8ab49082]{padding:%?20?% 0;margin-left:%?40?%}.store-detail .iconfont.icon-location[data-v-8ab49082]{font-size:%?40?%;margin-right:%?20?%}.store-detail .store-content[data-v-8ab49082]{line-height:1em}.store-content .store-address[data-v-8ab49082]{margin-top:%?12?%}.self-userinfo .input-item[data-v-8ab49082]{font-size:%?28?%;height:%?90?%;line-height:%?90?%}.self-userinfo .input-item[data-v-8ab49082]:last-child{border:0}.self-userinfo .input-item .input-label[data-v-8ab49082]{width:4.2em;margin-right:%?20?%}.self-userinfo .input-item .input[data-v-8ab49082]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}\n\n/**\n * 边框none\n */.flow-border-none[data-v-8ab49082]{border:none!important}.flow-border-none[data-v-8ab49082]:last-child:after{border:none!important}.member-header .header-left[data-v-8ab49082]{padding:0 %?20?% 0 %?30?%;height:%?44?%;background-size:%?160?%,%?44?%;background-color:#000}.header-left .left-member-logo[data-v-8ab49082]{width:%?22?%;height:%?22?%;background-image:url('+r(o("d1ea"))+");background-size:%?22?% %?22?%;background-repeat:no-repeat;margin-right:%?10?%}.member-header .header-right[data-v-8ab49082]{width:%?376?%;height:%?44?%;line-height:%?44?%;background:-webkit-gradient(linear,left top,right top,from(#e7cfac),to(#f1e0ce));background:-webkit-linear-gradient(left,#e7cfac,#f1e0ce);background:-o-linear-gradient(left,#e7cfac,#f1e0ce);background:linear-gradient(90deg,#e7cfac,#f1e0ce);-webkit-border-radius:0 0 %?20?% 0;border-radius:0 0 %?20?% 0}.header-left .left-member-title[data-v-8ab49082]{color:#c0b39e}.member-header .header-right uni-text[data-v-8ab49082]{color:#f04c4c}.member-nowprice[data-v-8ab49082]{color:#f04c4c}.member-list .member-list-items[data-v-8ab49082]{position:relative;padding:%?20?% %?110?% %?20?% %?30?%\n\t/* border-bottom: 1px solid #EEEEEE; */}.member-list .member-list-items .select-logo[data-v-8ab49082]{position:absolute;right:%?30?%;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)}.member-list .member-list-items .select-logo uni-image[data-v-8ab49082]{width:%?36?%;height:%?36?%}.order-flow-num-box[data-v-8ab49082]{font-size:%?28?%;color:#333;padding:%?28?% 0;text-align:right;border-top:%?1?% solid #eee;margin:0 %?30?%}.more-icon[data-v-8ab49082]{font-size:%?26?%!important;vertical-align:middle;margin-left:%?6?%}",""])},fd5f:function(t,e,o){"use strict";o.r(e);var r=o("9447"),a=o.n(r);for(var i in r)"default"!==i&&function(t){o.d(e,t,function(){return r[t]})}(i);e["default"]=a.a},ffda:function(t,e,o){"use strict";var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-uni-view",[o("v-uni-view",{staticClass:"container p-bottom"},["20"==t.options.transport_type&&2===t.navList.length?[o("page-nav-bar",{attrs:{"nav-list":t.navList,current:"express"},on:{navItemClick:function(e){e=t.$handleEvent(e),t.expressTypeChange(e)}}})]:t._e(),"express"===t.expressType?o("v-uni-view",{on:{click:function(e){e=t.$handleEvent(e),t.selectAddress(!!t.address&&t.address.address_id)}}},[t.address?o("v-uni-view",[o("v-uni-view",{staticClass:"b-f"},[o("v-uni-view",{staticClass:"flow-checkout-header dis-flex flex-y-center"},[o("v-uni-view",{staticClass:"flow-header-left"},[o("v-uni-view",{staticClass:"flow-checkout-address f-28"},[1===t.address.default?o("v-uni-text",[t._v("默认地址")]):t._e(),t._v(t._s(t.address.region.province)+" "+t._s(t.address.region.city)+" "+t._s(t.address.region.region))],1),o("v-uni-view",{staticClass:"flow-checkout-address-detail f-32"},[t._v(t._s(t.address.detail))]),o("v-uni-view",{staticClass:"flow-checkout-admin f-28 col-6"},[o("v-uni-text",[t._v(t._s(t.address.name))]),o("v-uni-text",[t._v(t._s(t.address.phone))])],1)],1),o("v-uni-view",{staticClass:"flow-header-right pr-12"},[o("v-uni-text",{staticClass:"iconfont icon-jinrujiantou1 user-orderJtou"})],1)],1)],1)],1):o("v-uni-view",[o("v-uni-view",{staticClass:"store-info dis-flex flex-x-center"},[o("v-uni-view",{staticClass:"choose-store"},[t._v("选择地址")])],1)],1)],1):t._e(),"self"===t.expressType?o("v-uni-view",{staticClass:"self-container"},["20"===t.options.transport_type?o("v-uni-view",{staticClass:"store-info dis-flex"},[t.store?[o("v-uni-view",{staticClass:"store-detail dis-flex flex-dir-row flex-y-center fle",on:{click:function(e){e=t.$handleEvent(e),t.storeSelect(t.store.id)}}},[o("v-uni-view",{staticClass:"iconfont icon-location"}),o("v-uni-view",{staticClass:"store-content"},[o("v-uni-view",{staticClass:"store-user f-28 col-3"},[t._v(t._s(t.store.name)+" "+t._s(t.store.mobile))]),o("v-uni-view",{staticClass:"store-address f-26 col-9"},[t._v(t._s(t.store.address))])],1)],1)]:[o("v-uni-view",{staticClass:"choose-store",on:{click:function(e){e=t.$handleEvent(e),t.storeSelect()}}},[t._v("选择门店")])]],2):t._e(),o("v-uni-view",{staticClass:"self-userinfo m-top20"},[o("v-uni-view",{staticClass:"input-item dis-flex flex-y-center border-line border-bottom"},[o("v-uni-view",{staticClass:"input-label"},[t._v("姓名")]),o("v-uni-input",{staticClass:"input",attrs:{type:"text",placeholder:"请输入联系人姓名"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),o("v-uni-view",{staticClass:"input-item dis-flex flex-y-center border-line border-bottom"},[o("v-uni-view",{staticClass:"input-label"},[t._v("电话")]),o("v-uni-input",{staticClass:"input",attrs:{type:"number",placeholder:"请输入联系人电话"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1)],1)],1):t._e(),o("v-uni-view",{staticClass:"m-top20 b-f"},[t._l(t.goods_list,function(e,r){return o("v-uni-view",{key:r,staticClass:"checkout_list"},[o("v-uni-navigator",{attrs:{url:t.is_group_type?"../goods/index/index?goods_id="+e.goods_id+"&group_id="+t.options.group_id:"../goods/index/index?goods_id="+e.goods_id}},[o("list-goods-item",{attrs:{"goods-data":e,"group-number":t.group_join_num,goodscard:"1"===t.options.order_type&&t.member_info&&(t.cardId||t.member_info.is_member)&&1===e.is_member_price?1:0}})],1)],1)}),o("v-uni-view",{staticClass:"order-flow-num-box b-f padding-box border-line border-top flow-border-none"},[o("v-uni-text",[t._v("共"+t._s(t.order_total_num)+"件商品，合计：")]),o("v-uni-text",{staticClass:"flow-money col-m price-font-family"},[t._v("￥"+t._s(t.cardId?t.member_order_total_price:t.realyPrice||t.order_total_price))])],1)],2),"member_goods"===t.goods_type&&t.member_info&&1!==t.member_info.is_member?o("v-uni-view",{staticClass:"member b-f m-top20"},[o("v-uni-view",{staticClass:"member-header dis-flex"},[o("v-uni-view",{staticClass:"header-left dis-flex flex-y-center"},[o("v-uni-view",{staticClass:"left-member-logo"}),o("v-uni-view",{staticClass:"left-member-title f-24"},[t._v(t._s(t.member_data.card_title?t.member_data.card_title:"会员卡"))])],1),o("v-uni-view",{staticClass:"header-right f-24 t-c col-3"},[t._v("现在勾选开卡，本单再减"),o("v-uni-text",[t._v("¥"+t._s(t.coupon_price))])],1)],1),o("v-uni-view",{staticClass:"member-list"},[o("v-uni-scroll-view",{attrs:{"scroll-y":"true"}},[t._l(t.cardList,function(e,r){return r<=t.member_number?[o("v-uni-view",{key:r+"_0",staticClass:"member-list-items border-line border-bottom",on:{click:function(o){o=t.$handleEvent(o),t.select_card(e.card_id,e.card_price)}}},[o("v-uni-view",{staticClass:"member-name-nowprice dis-flex flex-x-between m-btm10"},[o("v-uni-view",{staticClass:"col-3 f-32"},[t._v(t._s(e.card_title))]),o("v-uni-view",{staticClass:"member-nowprice f-28 f-w"},[t._v("¥"+t._s(e.card_price))])],1),o("v-uni-view",{staticClass:"member-date-oldprice dis-flex flex-x-between"},[e.coupon?[o("v-uni-view",{staticClass:"col-9 f-24"},[t._v("赠:"+t._s(e.coupon.name)+t._s(e.coupon_number)+"张")])]:[o("v-uni-view",{staticClass:"col-9 f-24"},[t._v("有效期："+t._s(2===e.card_type?e.card_time_date["start_time"]+"至"+e.card_time_date["end_time"]:e.card_time_date+"天"))])],o("v-uni-view",{staticClass:"col-9 f-24",staticStyle:{"text-decoration":"line-through"}},[t._v("¥"+t._s(e.card_marking_price))])],2),o("v-uni-view",{staticClass:"select-logo"},[o("v-uni-image",{attrs:{src:e.card_id===t.cardId?"/static/images/member/selectmember.png":"/static/images/member/not-selectmember.png",mode:""}})],1)],1)]:t._e()})],2),t.cardList.length>1?o("v-uni-view",{staticClass:"member-list-more t-c f-28 col-3 p-top-bom-10",on:{click:function(e){e=t.$handleEvent(e),t.moreCardList(e)}}},[t._v(t._s(t.cardList.length===t.member_number?"收起":"全部")),o("v-uni-text",{staticClass:"iconfont more-icon",class:t.cardList.length===t.member_number?"icon-fold":"icon-unfold"})],1):t._e()],1)],1):t._e(),o("v-uni-view",{staticClass:"flow-all-money b-f m-top20"},[o("v-uni-view",{staticClass:"dis-flex flow-all-list border-line border-bottom flow-border-none"},[o("v-uni-text",{staticClass:"flex-five"},[t._v("商品总金额:")]),o("v-uni-view",{staticClass:"flex-five t-r"},[o("v-uni-text",{staticClass:"col-m price-font-family"},[t._v("￥"+t._s(t.cardId?t.member_order_total_price:t.realyPrice||t.order_total_price))])],1)],1),t.is_group_discount?o("v-uni-view",{staticClass:"dis-flex flow-all-list border-line border-bottom flow-border-none"},[o("v-uni-text",{staticClass:"flex-five"},[t._v("团长优惠:")]),o("v-uni-view",{staticClass:"flex-five t-r"},[o("v-uni-text",{staticClass:"col-m price-font-family"},[t._v("-￥"+t._s(t.is_group_discount))])],1)],1):t._e(),t.options.activityId?t._e():o("v-uni-view",{staticClass:"dis-flex flow-all-list border-line border-bottom flow-border-none"},[o("v-uni-text",{staticClass:"flex-five"},[t._v("优惠券：")]),o("v-uni-view",{staticClass:"flex-five t-r"},[o("v-uni-view",{on:{click:function(e){e=t.$handleEvent(e),t.togglePopupCoupon(e)}}},[t.coupon_list.length>0?[t.selectCoupon&&t.selectCoupon.user_coupon_id?o("v-uni-text",{staticClass:"col-m"},[t._v("-￥"+t._s(t.selectCoupon.cut_price)+t._s(30===t.selectCoupon.coupon_type?"运费":""))]):o("v-uni-text",{staticClass:"col-m"},[t._v("有"+t._s(t.coupon_list.length)+"张优惠券可用")]),o("v-uni-text",{staticClass:"iconfont icon-xiangyoujiantou user-orderJtou"})]:o("v-uni-text",{staticClass:"col-9"},[t._v("无优惠券可用")])],2)],1)],1),"express"===t.expressType?o("v-uni-view",{staticClass:"dis-flex flow-all-list border-line border-bottom flow-border-none"},[o("v-uni-text",{staticClass:"flex-five"},[t._v("配送费用：")]),o("v-uni-view",{staticClass:"flex-five t-r"},[t.address?o("v-uni-view",[1===t.intra_region?o("v-uni-text",{staticClass:"col-m price-font-family"},[t._v("+￥"+t._s(t.express_price_calc))]):o("v-uni-text",{staticClass:"col-9"},[t._v("不在配送范围")])],1):o("v-uni-view",[o("v-uni-text",{staticClass:"col-9"},[t._v("请先选择配送地址")])],1)],1)],1):t._e(),"member_goods"===t.goods_type&&t.cardId?o("v-uni-view",{staticClass:"dis-flex flow-all-list border-line border-bottom flow-border-none"},[o("v-uni-text",{staticClass:"flex-five"},[t._v("会员卡费用:")]),o("v-uni-view",{staticClass:"flex-five t-r"},[o("v-uni-text",{staticClass:"col-m price-font-family"},[t._v("+￥"+t._s(t.card_price))])],1)],1):t._e()],1),o("v-uni-view",{staticClass:"flow-all-money b-f m-top20"},[o("v-uni-view",{staticClass:"ipt-wrapper dis-flex flow-all-list border-line border-bottom flow-border-none col-9"},[o("v-uni-input",{attrs:{placeholder:"选填：买家留言（50字以内）",value:t.remark,"placeholder-style":"color:#999999"},on:{input:function(e){e=t.$handleEvent(e),t.bindRemark(e)}}})],1)],1),o("v-uni-view",{staticClass:"flow-fixed-footer b-f m-top10"},[o("v-uni-view",{staticClass:"dis-flex chackout-box"},[o("v-uni-view",{staticClass:" chackout-left pl-12 col-3 f-28"},[t._v("实付款："),o("v-uni-text",{staticClass:"col-m price-font-family f-36"},[t._v("￥"+t._s(t.actual_pay_price>0?t.actual_pay_price:"express"===t.expressType?t.order_pay_price:t.is_group_type?t.order_pay_price:t.order_total_price))])],1),o("v-uni-view",{staticClass:"chackout-right",on:{click:function(e){e=t.$handleEvent(e),t.submitOrder(e)}}},[o("v-uni-text",{staticClass:"flow-btn f-32"},[t._v("提交订单")])],1)],1)],1),o("popup-view",{attrs:{show:t.showBottomPopup,type:"bottom"},on:{clickmask:function(e){e=t.$handleEvent(e),t.togglePopupCoupon(e)}}},[o("v-uni-view",{staticClass:"popup__coupon"},[o("page-nav-bar",{attrs:{"nav-list":t.couponTypeList,current:t.couponType},on:{navItemClick:function(e){e=t.$handleEvent(e),t.couponTypeChange(e)}}}),o("v-uni-scroll-view",{staticClass:"coupon-list",style:{height:t.couponswiperHeight+"px"},attrs:{"scroll-y":"true"}},[o("coupon-sheet",{ref:"coupon",attrs:{coupontype:t.couponType,"coupon-list":"is_use"===t.couponType?t.coupon_list:t.coupon_list_no,"iscoupon-checked":1},on:{radioChange:function(e){e=t.$handleEvent(e),t.selectCouponTap(e)}}})],1),o("v-uni-view",{staticClass:"footer-fixed f-30"},[o("v-uni-view",{staticClass:"order-bt",staticStyle:{width:"100%"},on:{click:function(e){e=t.$handleEvent(e),t.doNotCouponTap(e)}}},[t._v("不使用优惠券")])],1)],1)],1)],2),o("order-pay",{ref:"orderPay",on:{clickMask:function(e){e=t.$handleEvent(e),t.onToggleList(e)},payChange:function(e){e=t.$handleEvent(e),t.payTypeChange(e)},orderReady:function(e){e=t.$handleEvent(e),t.payOrderReady(e)},paySuccess:function(e){e=t.$handleEvent(e),t.paySuccess(e)},payFail:function(e){e=t.$handleEvent(e),t.payFail(e)}}}),o("page-loading",{ref:"loading"})],1)},a=[];o.d(e,"a",function(){return r}),o.d(e,"b",function(){return a})}}]);