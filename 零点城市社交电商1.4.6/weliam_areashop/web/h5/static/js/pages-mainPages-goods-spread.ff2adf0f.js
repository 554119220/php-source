(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mainPages-goods-spread"],{"055e":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".spread-content[data-v-0a2fd6b0]{padding:%?10?% %?30?% %?30?%}.spread-title[data-v-0a2fd6b0]{line-height:3em}.title-icon[data-v-0a2fd6b0]{display:inline-block;width:0;height:0;border:%?10?% solid;border-color:rgba(0,0,0,0) #ffd940 #ffd940 rgba(0,0,0,0);margin-left:%?12?%;vertical-align:bottom;position:relative;bottom:1em}.spread-text[data-v-0a2fd6b0]{padding:%?30?%;background-color:#f6f6f6;text-indent:%?4?%;letter-spacing:%?4?%;line-height:1.6em}.semicolon[data-v-0a2fd6b0]{display:inline-block;width:%?72?%;height:%?72?%;vertical-align:bottom;margin:%?-20?% %?12?% 0 %?-10?%}.semicolon.rotate[data-v-0a2fd6b0]{-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg);margin:%?-10?% 0}.spread-btn[data-v-0a2fd6b0]{margin:%?40?% auto %?10?%;width:%?300?%;height:%?70?%;line-height:%?70?%;-webkit-border-radius:%?6?%;border-radius:%?6?%;border:%?1?% solid #ccc}.spread-btn .iconfont[data-v-0a2fd6b0]{display:inline-block!important;line-height:2em;margin-right:%?12?%}.spread-imgs-box[data-v-0a2fd6b0]{margin:%?20?% %?30?%;-webkit-border-radius:%?20?%;border-radius:%?20?%}.spread-imgs-box .spread-btn[data-v-0a2fd6b0]{background:#ffd940;border:0}.spread-img[data-v-0a2fd6b0]{-webkit-box-sizing:border-box;box-sizing:border-box;display:inline-block;width:31%;padding-top:31%;margin:0 1.16%;background-repeat:no-repeat;background-size:100%;background-position:50%}.image-load[data-v-0a2fd6b0]{position:absolute;top:50%;left:50%;margin:%?-15?% 0 0 %?-15?%;width:%?30?%;height:%?30?%;display:inline-block;padding:0;-webkit-border-radius:100%;border-radius:100%;border:%?2?% solid;border-top-color:#ffd940;border-bottom-color:rgba(0,0,0,.1);border-left-color:#ffd940;border-right-color:rgba(0,0,0,.1);-webkit-animation:loader-data-v-0a2fd6b0 1s ease-in-out infinite;animation:loader-data-v-0a2fd6b0 1s ease-in-out infinite}@-webkit-keyframes loader-data-v-0a2fd6b0{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes loader-data-v-0a2fd6b0{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.setting-btn[data-v-0a2fd6b0]{position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;z-index:10}",""])},"10fe":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"pages-header",class:{fixed:"1"===t.pos}},[i("v-uni-view",{staticClass:"pages-header-info p-r"},[t._t("user")],2),t.contentShow?i("v-uni-view",{staticClass:"pages-header-content"},[t._t("content")],2):t._e()],1)],1)},o=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return o})},"54e2":function(t,e,i){var a=i("055e");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("47217932",a,!0,{sourceMap:!1,shadowMode:!1})},"6cc3":function(t,e,i){"use strict";var a=i("54e2"),o=i.n(a);o.a},"79af":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'.pages-header[data-v-0e6f97a1]{padding:%?20?% %?30?%;\n\t/* background: #FFFFFF;  */position:relative;overflow:hidden}.pages-header.fixed[data-v-0e6f97a1]{position:fixed;top:0;\n\ttop:44px;\n\tleft:0;right:0;z-index:30}.pages-header[data-v-0e6f97a1]:before{content:" ";width:400vw;height:%?600?%;background:#ffd940;-webkit-border-radius:60%;border-radius:60%;position:absolute;left:-155vw;bottom:25%;z-index:1}.pages-header-info[data-v-0e6f97a1]{z-index:20}.pages-header-content[data-v-0e6f97a1]{-webkit-box-shadow:0 %?2?% %?10?% 0 hsla(0,0%,66.7%,.35);box-shadow:0 %?2?% %?10?% 0 hsla(0,0%,66.7%,.35);min-height:%?100?%;-webkit-border-radius:%?20?%;border-radius:%?20?%;background:#fff;position:relative;z-index:20}',""])},"7a57":function(t,e,i){"use strict";i.r(e);var a=i("f134"),o=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,function(){return a[t]})}(n);e["default"]=o.a},8165:function(t,e,i){"use strict";i.r(e);var a=i("a8d6"),o=i("7a57");for(var n in o)"default"!==n&&function(t){i.d(e,t,function(){return o[t]})}(n);i("6cc3");var r=i("2877"),s=Object(r["a"])(o["default"],a["a"],a["b"],!1,null,"0a2fd6b0",null);e["default"]=s.exports},8516:function(t,e,i){"use strict";var a=i("eea0"),o=i.n(a);o.a},a8d6:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("page-Header",[i("template",{attrs:{slot:"content"},slot:"content"},[i("v-uni-view",{staticClass:"spread-content"},[i("v-uni-view",{staticClass:"spread-title f-30 col-3"},[t._v("商品推广文案"),i("v-uni-view",{staticClass:"title-icon"})],1),i("v-uni-view",{staticClass:"spread-text f-26 col-6"},[i("v-uni-image",{staticClass:"semicolon",attrs:{src:"/static/images/semicolon.png"}}),t._v(t._s(t.extension_text?t.extension_text:"暂无推广文案")),i("v-uni-image",{staticClass:"semicolon rotate",attrs:{src:"/static/images/semicolon.png"}})],1),i("v-uni-view",{staticClass:"spread-btn f-26 col-9 t-c dis-flex flex-y-center flex-x-center",on:{click:function(e){e=t.$handleEvent(e),t.copyText(e)}}},[i("v-uni-view",{staticClass:"iconfont icon-text"}),t._v("复制发圈文案")],1)],1)],1)],2),i("v-uni-view",{staticClass:"spread-content b-f spread-imgs-box"},[i("v-uni-view",{staticClass:"spread-title f-30 col-3"},[t._v("商品推广图片"),i("v-uni-view",{staticClass:"title-icon"})],1),i("v-uni-view",{staticClass:"spread-imgs"},[t._l(t.extension_img,function(e,a){return[i("v-uni-view",{key:a+"_0",staticClass:"spread-img p-r",style:{"background-image":"url("+e+")","background-color":""===e?"#F6F6F6":""},on:{click:function(e){e=t.$handleEvent(e),t.previewImage(a)}}},[""===e?i("v-uni-view",{staticClass:"image-load"}):t._e()],1)]})],2)],1),i("page-loading",{ref:"loading"})],1)},o=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return o})},ddf4:function(t,e,i){"use strict";i.r(e);var a=i("f93f"),o=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,function(){return a[t]})}(n);e["default"]=o.a},eea0:function(t,e,i){var a=i("79af");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("4f06").default;o("66bad848",a,!0,{sourceMap:!1,shadowMode:!1})},f10c:function(t,e,i){"use strict";i.r(e);var a=i("10fe"),o=i("ddf4");for(var n in o)"default"!==n&&function(t){i.d(e,t,function(){return o[t]})}(n);i("8516");var r=i("2877"),s=Object(r["a"])(o["default"],a["a"],a["b"],!1,null,"0e6f97a1",null);e["default"]=s.exports},f134:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("deda")),o=n(i("f10c"));function n(t){return t&&t.__esModule?t:{default:t}}function r(t){return c(t)||d(t)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function d(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function c(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}var u={data:function(){return{extension_img:[""],extension_text:"",goods_id:"",openSetting:!1}},components:{PageHeader:o.default},computed:{},onLoad:function(t){this.goods_id=t.goods_id,this.getPoster(t.goods_id),this.getCommodity(t.goods_id)},methods:{getPoster:function(t){var e=this;a.default._post_form("goods/getQrcode",{goods_id:t},function(t){e.extension_img.splice(0,1,t.data)},!1,function(){})},getCommodity:function(t){var e=this;a.default._get("goods/commodityPromotion",{goods_id:t},function(t){var i,o=t.data,n=o.extension_img,s=o.extension_text;a.default.hideLoading();(i=e.extension_img).splice.apply(i,[1,8].concat(r(n))),e.extension_text=s,uni.stopPullDownRefresh()})},copyText:function(){this.extension_text?uni.setClipboardData({data:this.extension_text,success:function(){}}):uni.showToast({icon:"none",title:"暂无推广文案"})},saveSpreadImg:function(){var t=this,e=t.openSetting,i=t.extension_img,o=[];e||(uni.showLoading({title:"保存中..."}),o=i.map(function(t,e){return new Promise(function(e,i){setTimeout(function(){uni.getImageInfo({src:t,success:function(t){e(t.path)}})},100)})}),Promise.all(o).then(function(e){var i=e[0],o=e.slice(1);uni.saveImageToPhotosAlbum({filePath:i,success:function(){o.map(function(t){setTimeout(function(){uni.saveImageToPhotosAlbum({filePath:t,success:function(){uni.hideLoading(),console.log("save success",t),a.default.showSuccess("已保存")}})},200)})},complete:function(e){uni.hideLoading(),"saveImageToPhotosAlbum:fail:auth denied"!==e.errMsg&&"saveImageToPhotosAlbum:fail auth deny"!==e.errMsg||(a.default.showError("获取权限失败,请重试"),t.openSetting=!0)}})}))},onSetting:function(t){console.log(t);var e=t.detail.authSetting,i="scope.writePhotosAlbum";e[i]&&(this.openSetting=!1)},previewImage:function(t){var e=this.extension_img;e.length>0&&uni.previewImage({urls:e,current:t})}},onPullDownRefresh:function(){this.getPoster(this.goods_id),this.getCommodity(this.goods_id)}};e.default=u},f93f:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={props:{pos:{type:String,default:"2"},contentShow:{type:Boolean,default:!0}}};e.default=a}}]);