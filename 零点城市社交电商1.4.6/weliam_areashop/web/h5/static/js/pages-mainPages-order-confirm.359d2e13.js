(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mainPages-order-confirm"],{"3a0c":function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,'.confirm-container[data-v-06a6511a]{padding:%?80?% %?30?% %?30?%;background-size:100% 100%;background-repeat:no-repeat}.confirm-hd[data-v-06a6511a]{background:#fff;border-radius:%?18?% %?18?% 0 0}.confirm-name[data-v-06a6511a]{margin-top:%?12?%}.confirm-hd-image[data-v-06a6511a]{position:relative;margin-top:%?-65?%;background-color:#fff;width:%?120?%;height:%?120?%;border-radius:50%}.confirm-hd uni-image[data-v-06a6511a]{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);width:%?100?%;height:%?100?%;border-radius:50%}.confirm-line[data-v-06a6511a]{height:%?34?%;overflow:hidden}.confirm-line uni-view[data-v-06a6511a]{height:%?34?%}.semicircle[data-v-06a6511a]{width:%?34?%;height:%?34?%;background:-o-radial-gradient(rgba(0,0,0,0) 0,rgba(0,0,0,0) 50%,#fff 50%);background:radial-gradient(rgba(0,0,0,0) 0,rgba(0,0,0,0) 50%,#fff 0)}.semicircle.left[data-v-06a6511a]{margin-left:%?-17?%}.semicircle.right[data-v-06a6511a]{margin-right:%?-17?%}.confirm-line uni-view.semicircle-line[data-v-06a6511a]{background:#fff;position:relative}.semicircle-line[data-v-06a6511a]:after{content:" ";position:absolute;top:calc(50% - %?1?%);left:0;right:0;-webkit-transform:scaleY(.5);-ms-transform:scaleY(.5);transform:scaleY(.5);height:%?2?%;background-image:-webkit-gradient(linear,left top,right top,from(#ffd52c),color-stop(50%,#ffd52c),color-stop(50%,rgba(0,0,0,0)));background-image:-o-linear-gradient(left,#ffd52c 0,#ffd52c 50%,rgba(0,0,0,0) 50%);background-image:linear-gradient(90deg,#ffd52c 0,#ffd52c 50%,rgba(0,0,0,0) 0);background-size:%?24?% %?2?%;background-repeat:repeat-x}.confirm-bd[data-v-06a6511a]{background:#fff;padding:0 0 %?40?%;position:relative}.confirm-bd .confirm-status[data-v-06a6511a]{width:%?119?%;height:%?102?%;display:block;position:absolute;top:%?10?%;right:%?62?%;-webkit-transform:scale(1.2);-ms-transform:scale(1.2);transform:scale(1.2)}.confirm-bd .qr-swiper[data-v-06a6511a]{width:100%;height:%?400?%!important;position:relative;z-index:10}.confirm-bd .iconfont[data-v-06a6511a]{position:absolute;top:22%;font-size:%?52?%;color:#333;z-index:15}.confirm-bd .iconfont.disabled[data-v-06a6511a]{color:#999}.confirm-bd .iconfont.icon-back[data-v-06a6511a]{left:%?20?%}.confirm-bd .iconfont.icon-jinrujiantou1[data-v-06a6511a]{right:%?20?%}.confirm-bd .qr-code[data-v-06a6511a]{width:%?300?%;height:%?300?%;border-radius:%?15?%;display:inline-block;margin-top:%?100?%}.confirm-bd .qr-code.checked[data-v-06a6511a]{opacity:.5}.confirm-bd .confirm-code-number[data-v-06a6511a]{font-size:%?50?%;color:#fe504f;font-weight:700;margin:%?38?% 0}.confirm-bd .confirm-code-number.checked[data-v-06a6511a],.confirm-time-list.checked .confirm-time-label[data-v-06a6511a],.confirm-time-list.checked .confirm-time-value[data-v-06a6511a]{color:#999!important}.confirm-time-item[data-v-06a6511a]{margin-bottom:%?20?%}.confirm-time-value[data-v-06a6511a]{padding-left:%?12?%}.confirm-btn[data-v-06a6511a]{width:%?330?%;height:%?74?%;font-size:%?30?%;line-height:%?74?%;background:#ffd940;margin-top:%?40?%;border-radius:%?50?%}.confirm-ft[data-v-06a6511a]{background:#fff;border-radius:0 0 %?18?% %?18?%}.confirm-need[data-v-06a6511a]{padding:%?24?% 0;background:#fff;margin:0 %?30?%}.confirm-ft-title[data-v-06a6511a]{font-size:%?28?%;padding-left:%?16?%;position:relative}.confirm-ft-title[data-v-06a6511a]:after{content:" ";position:absolute;top:50%;left:%?-4?%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);width:%?8?%;height:%?30?%;background:#fed83f;border-radius:%?20?%}.confirm-need-know[data-v-06a6511a]{padding-left:%?16?%;font-size:%?26?%;line-height:2em}.confirm-store[data-v-06a6511a]{padding:%?30?%;background:#fff;border-radius:0 0 %?18?% %?18?%}.confirm-ft-title uni-button[data-v-06a6511a]{border:%?1?% solid #ffd940;font-size:%?24?%;width:%?160?%;height:%?54?%;border-radius:%?50?%;line-height:%?54?%;color:#999;background:#fff;margin:0}.confirm-store-info[data-v-06a6511a]{margin-top:%?20?%}.confirm-store-info .iconfont.col-9[data-v-06a6511a]{font-size:%?42?%}.confirm-store-info .store-addres uni-text.iconfont[data-v-06a6511a]{display:inline-block;padding-right:%?20?%;font-size:%?26?%}.store-detail-right[data-v-06a6511a]{margin-left:%?20?%;padding-left:%?20?%;border-left:%?1?% solid #eee}',""])},"57a9":function(e,t,i){"use strict";i.r(t);var a=i("668c"),n=i("d034");for(var r in n)"default"!==r&&function(e){i.d(t,e,function(){return n[e]})}(r);i("dc0a");var s=i("2877"),c=Object(s["a"])(n["default"],a["a"],a["b"],!1,null,"06a6511a",null);t["default"]=c.exports},"668c":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[e.detail?i("v-uni-view",{staticClass:"confirm-container",style:{"background-image":"url("+e.imageRoot+"3.png)"}},[i("v-uni-view",{staticClass:"confirm-hd dis-flex flex-dir-column flex-y-center flex-x-center"},[i("v-uni-view",{staticClass:"confirm-hd-image"},[i("v-uni-image",{attrs:{src:e.detail.merchat.logo.file_path}})],1),i("v-uni-view",{staticClass:"confirm-name f-30 f-w"},[e._v(e._s(e.detail.merchat.name))]),i("v-uni-view",{staticClass:"confirm-title f-24 col-9"},[e._v(e._s(e.detail.goods[0].goods_name))])],1),i("v-uni-view",{staticClass:"confirm-line dis-flex flex-dir-row flex-y-center"},[i("v-uni-view",{staticClass:"semicircle left"}),i("v-uni-view",{staticClass:"semicircle-line flex-box"}),i("v-uni-view",{staticClass:"semicircle right"})],1),i("v-uni-view",{staticClass:"confirm-bd dis-flex flex-dir-column flex-x-center flex-y-center"},[e.swiperList.length>1?i("v-uni-view",{staticClass:"iconfont icon-back",class:{disabled:0===e.codeCurrent},on:{click:function(t){t=e.$handleEvent(t),e.swiperSwitch("previous")}}}):e._e(),i("v-uni-swiper",{staticClass:"qr-swiper",attrs:{current:e.codeCurrent},on:{change:function(t){t=e.$handleEvent(t),e.swiperChange(t)}}},e._l(e.swiperList,function(t,a){return i("v-uni-swiper-item",{key:a,staticClass:"t-c p-r"},[(2===e.detail.express_type?20===e.detail.delivery_status.value:0!==t.check_status)?i("v-uni-image",{staticClass:"confirm-status",attrs:{src:e.confirmStatusImg}}):e._e(),i("v-uni-image",{staticClass:"qr-code",class:{checked:2===e.detail.express_type?20===e.detail.delivery_status.value:0!==e.checkData.check_status},attrs:{src:"data:image/png;base64,"+t.path,mode:"aspectFit"}})],1)}),1),e.swiperList.length>1?i("v-uni-view",{staticClass:"iconfont icon-jinrujiantou1",class:{disabled:e.codeCurrent===e.swiperList.length-1},on:{click:function(t){t=e.$handleEvent(t),e.swiperSwitch("next")}}}):e._e(),i("v-uni-view",{staticClass:"confirm-code-number",class:{checked:2===e.detail.express_type?20===e.detail.delivery_status.value:0!==e.checkData.check_status}},[e._v(e._s(2===e.detail.express_type?e.store.code:e.checkData.code))]),i("v-uni-view",{staticClass:"confirm-time-list",class:{checked:2===e.detail.express_type?20===e.detail.delivery_status.value:0!==e.checkData.check_status}},[2===e.detail.express_type?[i("v-uni-view",{staticClass:"confirm-time-item dis-flex flex-y-center f-26 col-3"},[i("v-uni-view",{staticClass:"confirm-time-label"},[e._v("提货状态:")]),i("v-uni-view",{staticClass:"confirm-time-value col-s"},[e._v(e._s(10===e.detail.delivery_status.value?"待提货":"已收货"))])],1),i("v-uni-view",{staticClass:"confirm-time-item dis-flex flex-y-center f-26 col-3"},[i("v-uni-view",{staticClass:"confirm-time-label"},[e._v("提货时间:")]),i("v-uni-view",{staticClass:"confirm-time-value col-s"},[e._v(e._s(e.store.check_time))])],1)]:e._e(),3===e.detail.express_type?[i("v-uni-view",{staticClass:"confirm-time-item dis-flex flex-y-center f-26 col-3"},[i("v-uni-view",{staticClass:"confirm-time-label"},[e._v("过期时间:")]),i("v-uni-view",{staticClass:"confirm-time-value"},[e._v(e._s(e.checkData.end_time))])],1),i("v-uni-view",{staticClass:"confirm-time-item dis-flex flex-y-center f-26 col-3"},[i("v-uni-view",{staticClass:"confirm-time-label"},[e._v("核销状态:")]),i("v-uni-view",{staticClass:"confirm-time-value col-s"},[e._v(e._s(0===e.checkData.check_status?"未核销":1===e.checkData.check_status?"已核销":"已退款"))])],1),i("v-uni-view",{staticClass:"confirm-time-item dis-flex flex-y-center f-26 col-3"},[i("v-uni-view",{staticClass:"confirm-time-label"},[e._v("核销时间:")]),i("v-uni-view",{staticClass:"confirm-time-value col-s"},[e._v(e._s(e.checkData.check_time))])],1),i("v-uni-view",{staticClass:"confirm-time-item dis-flex flex-y-center f-26 col-3"},[i("v-uni-view",{staticClass:"confirm-time-label"},[e._v("核销人员:")]),i("v-uni-view",{staticClass:"confirm-time-value col-s"},[e._v(e._s(e.checkData.record?null===e.checkData.record.user?"管理员操作":e.checkData.record.user.name:"--"))])],1)]:e._e()],2),3===e.detail.express_type?i("v-uni-button",{staticClass:"confirm-btn",attrs:{disabled:0===e.check_code_num},on:{click:function(t){t=e.$handleEvent(t),e.selfCheck(t)}}},[e._v("自助核销")]):e._e()],1),i("v-uni-view",{staticClass:"confirm-line dis-flex flex-dir-row flex-y-center"},[i("v-uni-view",{staticClass:"semicircle left"}),i("v-uni-view",{staticClass:"semicircle-line flex-box"}),i("v-uni-view",{staticClass:"semicircle right"})],1),i("v-uni-view",{staticClass:"confirm-ft"},[i("v-uni-view",{staticClass:"confirm-need border-line border-bottom"},[i("v-uni-view",{staticClass:"confirm-ft-title"},[e._v("使用须知")]),i("v-uni-view",{staticClass:"confirm-need-know col-9"},[i("wx-parse",{attrs:{content:e.detail.goods[0].goods.by_know}})],1)],1),i("v-uni-view",{staticClass:"confirm-store"},[i("v-uni-view",{staticClass:"confirm-ft-title dis-flex flex-y-center flex-x-between"},[i("v-uni-text",[e._v("商家信息")]),i("v-uni-button",{on:{click:function(t){t=e.$handleEvent(t),e.moreStore(e.detail.bus_id)}}},[e._v("更多分店")])],1),e._l(e.store,function(t,a){return t&&a<2?i("v-uni-view",{key:a,staticClass:"confirm-store-info"},[i("v-uni-view",{staticClass:"store-detail dis-flex flex-y-center flex-x-between"},[i("v-uni-view",{staticClass:"store-detail-left flex-box dis-flex flex-y-center flex-x-between"},[i("v-uni-view",{staticClass:"store-info"},[i("v-uni-view",{staticClass:"store-name f-30"},[e._v(e._s(t.name))]),i("v-uni-view",{staticClass:"store-addres col-9 f-26 m-top10  dis-flex flex-y-center"},[i("v-uni-text",{staticClass:"iconfont icon-location"}),i("v-uni-text",{staticClass:"onelist-hidden flex-box",staticStyle:{width:"150px"}},[e._v(e._s(t.address))])],1)],1),i("v-uni-view",{staticClass:"iconfont icon-dianhua col-9",on:{click:function(i){i=e.$handleEvent(i),e.callStore(t.mobile)}}})],1),i("v-uni-view",{staticClass:"store-detail-right "},[i("v-uni-view",{staticClass:"iconfont icon-daohang col-9",on:{click:function(i){i=e.$handleEvent(i),e.storeLocation(t.lat,t.lng,t.address)}}})],1)],1)],1):e._e()})],2)],1)],1):e._e(),i("page-loading",{ref:"loading"})],1)},n=[];i.d(t,"a",function(){return a}),i.d(t,"b",function(){return n})},"6b59":function(e,t,i){var a=i("3a0c");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("baa95070",a,!0,{sourceMap:!1,shadowMode:!1})},"98ab":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(i("deda")),n=r(i("daa1"));function r(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return l(e)||o(e,t)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(e,t){var i=[],a=!0,n=!1,r=void 0;try{for(var s,c=e[Symbol.iterator]();!(a=(s=c.next()).done);a=!0)if(i.push(s.value),t&&i.length===t)break}catch(o){n=!0,r=o}finally{try{a||null==c["return"]||c["return"]()}finally{if(n)throw r}}return i}function l(e){if(Array.isArray(e))return e}var d={data:function(){return{codeCurrent:0,order_id:"",detail:null,store:null,codeList:null,code_path:null,check_code_num:0}},components:{wxParse:n.default},computed:{checkData:function(){if(this.detail&&3===this.detail.express_type)return this.codeList[this.codeCurrent]},swiperList:function(){if(this.detail)return 2===this.detail.express_type?[{path:this.code_path}]:this.detail.vercode.filter(function(e){return!(0===e.check_status&&30===e.is_refund)})},confirmStatusImg:function(){return this.detail&&2===this.detail.express_type?"/static/images/order/self.png":this.checkData&&"0"!==this.checkData.check_status?"/static/images/order/".concat("1"==this.checkData.check_status?"checked":"refund",".png"):void 0}},beforeCreate:function(){},onLoad:function(e){a.default.showLoading(),this.order_id=e.order_id},onShow:function(){this.getOrderInfo(this.order_id)},methods:{getOrderInfo:function(e){var t=this,i=["user.order/detail","user.order/qrcode"].map(function(t){return new Promise(function(i,n){a.default._get(t,{order_id:e},function(e){i(e.data)})})});Promise.all(i).then(function(e){var i=s(e,2),n=i[0],r=i[1];if(2===n.express_type){var c=n.store;c.check_time="0"===c.check_time?"--":t.$util.formatTime(c.check_time,"info","-"),t.store=c,t.code_path=r}else{var o=0;t.store=n.merchat.store,t.codeList=n.vercode.map(function(e){return e.end_time="-1"==e.end_time?"永久有效":t.$util.formatTime(e.end_time,"info","-"),e.check_time=0===e.check_time?"--":t.$util.formatTime(e.check_time,"info","-"),e.path=r,0===e.is_refund&&0===e.check_status&&o++,e}),t.check_code_num=o}t.detail=n,a.default.hideLoading(1e3)})},moreStore:function(e){a.default.navigationTo({url:"pages/mainPages/store/list?bus_id="+e})},callStore:function(e){uni.makePhoneCall({phoneNumber:e})},storeLocation:function(e,t,i){e&&t?uni.openLocation({address:i,latitude:e,longitude:t}):a.default.showError("门店位置参数错误")},swiperChange:function(e){this.codeCurrent=e.detail.current},swiperSwitch:function(e){"previous"===e?0!==this.codeCurrent&&--this.codeCurrent:"next"===e&&this.codeCurrent!==this.swiperList.length-1&&++this.codeCurrent},selfCheck:function(){a.default.navigationTo({url:"pages/mainPages/order/selfcancel?order_type=user&order_id="+this.order_id})}}};t.default=d},d034:function(e,t,i){"use strict";i.r(t);var a=i("98ab"),n=i.n(a);for(var r in a)"default"!==r&&function(e){i.d(t,e,function(){return a[e]})}(r);t["default"]=n.a},dc0a:function(e,t,i){"use strict";var a=i("6b59"),n=i.n(a);n.a}}]);