(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mainPages-order-selfcancel"],{"002d":function(e,t,i){var n=i("a9e3");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=i("4f06").default;o("3d8f366a",n,!0,{sourceMap:!1,shadowMode:!1})},"0bff":function(e,t,i){"use strict";i.r(t);var n=i("8139"),o=i("6baa");for(var a in o)"default"!==a&&function(e){i.d(t,e,function(){return o[e]})}(a);i("0f41");var s=i("2877"),r=Object(s["a"])(o["default"],n["a"],n["b"],!1,null,"8458fdec",null);t["default"]=r.exports},"0f41":function(e,t,i){"use strict";var n=i("002d"),o=i.n(n);o.a},"29fa":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"item-content dis-flex flex-dir-row b-f p-r"},[i("v-uni-view",{staticClass:"item-img-box",style:{"background-image":" url("+(e.goodsData.image?e.goodsData.image.file_path?e.goodsData.image.file_path:e.goodsData.image[0].file_path:"")+")"}},[-1!=e.groupNumber?i("v-uni-view",{staticClass:"group-num"},[e._v(e._s(e.groupNumber)+"人团")]):e._e()],1),i("v-uni-view",{staticClass:"item-info dis-flex flex-dir-column flex-x-between flex-box"},[i("v-uni-view",{staticClass:"f-28 twolist-hidden"},[e._v(e._s(e.goodsData.goods_name))]),i("v-uni-view",{staticClass:"dis-flex flex-x-between flex-y-center"},[i("v-uni-view",{staticClass:"f-24 col-9"},[e.goodsData.goods_attr?[e._v("规格:"+e._s(e.goodsData.goods_attr))]:e._e()],2),-1!==e.refund?i("v-uni-view",{staticClass:"refund-btn dis-flex flex-x-end"},[2===e.refund||3===e.refund?i("v-uni-text",{staticClass:"f-26 col-7"},[e._v(e._s(2===e.refund?"已申请售后":"已完成售后"))]):1===e.refund?i("v-uni-view",{staticClass:"btn-default",on:{click:function(t){t.stopPropagation(),t=e.$handleEvent(t),e.onApplyRefund(e.goodsData.order_goods_id)}}},[e._v("申请售后")]):1===e.refund?i("v-uni-view",{staticClass:"f-26 col-7"},[e._v("申请售后")]):e._e()],1):e._e()],1),i("v-uni-view",{staticClass:"dis-flex flex-row flex-x-between"},[i("v-uni-view",{staticClass:"col-3 f-28 price-font-family"},[e._v("¥"+e._s(e.goodsData.goods_price)),e.goodscard?i("v-uni-text",{staticClass:"f-22 t-c"},[e._v("会员价")]):e._e()],1),i("v-uni-view",{staticClass:"col-9 f-28"},[e._v("×"+e._s(e.goodsData.total_num))])],1)],1)],1)},o=[];i.d(t,"a",function(){return n}),i.d(t,"b",function(){return o})},"2bb6":function(e,t,i){"use strict";i.r(t);var n=i("6bf5"),o=i.n(n);for(var a in n)"default"!==a&&function(e){i.d(t,e,function(){return n[e]})}(a);t["default"]=o.a},3405:function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,".item-content[data-v-430dc92a]{width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:%?26?% 0}.item-img-box[data-v-430dc92a]{position:relative;width:%?170?%;height:%?170?%;margin-right:%?20?%;border-radius:%?6?%;background:no-repeat;background-size:cover;background-position:50%}.item-img-box .group-num[data-v-430dc92a]{position:absolute;top:0;left:0;font-size:%?24?%;line-height:%?38?%;color:#fff;\n\t/* width:76upx; */height:%?38?%;background:-webkit-gradient(linear,left top,right top,from(#fe504f),to(#fe854f));background:-o-linear-gradient(left,#fe504f,#fe854f);background:linear-gradient(90deg,#fe504f,#fe854f);-webkit-box-shadow:0 %?2?% %?10?% 0 rgba(254,80,79,.54);box-shadow:0 %?2?% %?10?% 0 rgba(254,80,79,.54);border-radius:%?10?% 0 %?6?% 0;z-index:2;text-align:center}\n\n/* \t.item-img-box image {\n\tdisplay: block;\n} */.refund-btn[data-v-430dc92a]{\n\t/* \tposition: absolute;\n\tright: 0;\n\tbottom: 66upx; */}.btn-default[data-v-430dc92a]{border-radius:4px;border:%?1?% solid #ccc;padding:%?4?% %?16?%;font-size:%?24?%;color:#555}.item-content .price-font-family uni-text[data-v-430dc92a]{display:inline-block;width:%?90?%;height:%?36?%;line-height:%?36?%;color:#ecdbbd;background-color:#333;border-radius:%?8?%;margin-left:%?16?%}",""])},"49e6":function(e,t,i){var n=i("3405");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=i("4f06").default;o("8f3390aa",n,!0,{sourceMap:!1,shadowMode:!1})},"4f07":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i("deda")),o=a(i("aabe"));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){r(e,t,i[t])})}return e}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var c={data:function(){return{option:{order_id:null,order_type:null},orderDatadetail:{},ismore:!1,password:"",moreNum:null,isshow:!1,vercodeList:[],focus:!1,user_id:null,express_type:null}},components:{ListGoodsItem:o.default},computed:{openmore:function(){var e=this,t=this.vercodeList;return!e.ismore&&t?t.length<3?this.moreNum=t.length:this.moreNum=3:e.ismore&&t&&t.length>3?this.moreNum=t.length:void 0}},onLoad:function(e){this.user_id=uni.getStorageSync("user_id"),this.getOrdercancelDetail(e.order_id),console.log(e.order_type),this.option.order_type=e.order_type},onShow:function(){},mounted:function(){},methods:{checkboxChange:function(e){},formSubmit:function(e){var t=this,i={};if(i=e.detail.value,3===t.express_type){if(0===i.vercode_id.length)return n.default.showError("请选择核销码"),!1;if("user"===t.option.order_type&&i.password.length<4)return n.default.showError("请输入四位正确密码"),!1}else if(0===i.selfcode_id.length)return n.default.showError("请选择自提码"),!1;n.default.showError("请确认操作",function(e){"showModal:ok"===e.errMsg&&!0===e.confirm&&t.submitcancel(i)},!0)},cancelImport:function(e){this.password=e.detail.value},getOrdercancelDetail:function(e){n.default.showLoading();var t=this;n.default._post_form("user.order/detail",{order_id:e},function(e){if(console.log(e),1===e.code){var i=e.data,n=[];i.vercode.map(function(e){0===e.check_status&&n.push(e)}),uni.setNavigationBarTitle({title:3===e.data.express_type?"核销":"自提"}),t.setData({express_type:e.data.express_type,orderDatadetail:e.data,isshow:!0,vercodeList:n})}else 0===e.code&&uni.navigateBack({delta:1})},!1,function(){n.default.hideLoading()})},more:function(){this.ismore=!this.ismore},submitcancel:function(e){uni.showLoading({});var t=this,i=t.option.order_type,o="user"===i?"user.order/checkBySelf":"merchant.index/checkCode",a=s({check_type:"3",user_id:t.user_id},e),r=s({check_type:"2"},e),c=3===t.express_type?a:r;n.default._post_form(o,c,function(e){1===e.code&&(uni.hideLoading(),n.default.showSuccess(3===t.express_type?"核销成功":"自提成功",function(){uni.navigateBack({delta:1})}))})}}};t.default=c},"6baa":function(e,t,i){"use strict";i.r(t);var n=i("4f07"),o=i.n(n);for(var a in n)"default"!==a&&function(e){i.d(t,e,function(){return n[e]})}(a);t["default"]=o.a},"6bf5":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(i("deda"));function o(e){return e&&e.__esModule?e:{default:e}}var a={data:function(){return{}},props:{goodsData:Object,refund:{type:Number,default:-1},groupNumber:{type:Number,default:-1},goodscard:{type:Number,default:0}},components:{},computed:{},beforeCreate:function(){},onLoad:function(e){},onShow:function(){},mounted:function(){},methods:{onApplyRefund:function(e){n.default.navigationTo({url:"pages/mainPages/order/refund/apply/apply?order_goods_id="+e})}}};t.default=a},8139:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[e.isshow?i("v-uni-view",{staticClass:"container p-left-right-30"},[i("v-uni-view",{staticClass:"goodsItem-box m-top-btm20 b-f bor-radius-10"},e._l(e.orderDatadetail.goods,function(t,n){return i("v-uni-view",{key:n,staticClass:"goods-item dis-flex flex-y-center m-btm20"},[i("v-uni-view",{staticClass:"goods-left bor-radius-10",style:"background-image:url("+t.image.file_path+")"}),i("v-uni-view",{staticClass:"goods-right flex-box"},[i("v-uni-view",{staticClass:"goods-title col-3 f-28"},[e._v(e._s(t.goods_name))]),i("v-uni-view",{staticClass:"goods-title col-9 f-24"},[e._v("规格："+e._s(t.goods_attr?t.goods_attr:"无"))])],1)],1)}),1),i("v-uni-form",{on:{submit:function(t){t=e.$handleEvent(t),e.formSubmit(t)}}},[i("v-uni-view",{staticClass:"cancel-list b-f bor-radius-10 m-btm20"},[i("v-uni-view",{staticClass:"cancel-title"},[i("v-uni-view",{staticClass:"right-text f-28 col-3"},[e._v(e._s(3===e.express_type?"核销码":"自提码"))])],1),i("v-uni-view",{staticClass:"cancel-list-box"},[i("v-uni-checkbox-group",{attrs:{name:3===e.express_type?"vercode_id":"selfcode_id"},on:{change:function(t){t=e.$handleEvent(t),e.checkboxChange(t)}}},[3===e.express_type?e._l(e.vercodeList,function(t,n){return n<e.openmore?i("v-uni-label",{key:n},[i("v-uni-view",{staticClass:"cancel-list-item dis-flex flex-x-between f-24 col-3"},[i("v-uni-view",{staticClass:"list-item-left"},[i("v-uni-checkbox",{staticClass:"checkbox",attrs:{value:t.vercode_id+""}})],1),i("v-uni-view",{staticClass:"list-item-right"},[e._v(e._s(t.code))])],1)],1):e._e()}):e._e(),2===e.express_type?[i("v-uni-label",[i("v-uni-view",{staticClass:"cancel-list-item dis-flex flex-x-between f-24 col-3"},[i("v-uni-view",{staticClass:"list-item-left"},[i("v-uni-checkbox",{staticClass:"checkbox",attrs:{value:e.orderDatadetail.store["code"]}})],1),i("v-uni-view",{staticClass:"list-item-right"},[e._v(e._s(e.orderDatadetail.store["code"]))])],1)],1)]:e._e()],2),3===e.express_type&&e.orderDatadetail.vercode&&e.orderDatadetail.vercode.length>3?[i("v-uni-view",{staticClass:"more f-24 col-9",on:{click:function(t){t=e.$handleEvent(t),e.more(t)}}},[e._v(e._s(e.ismore?"已显示全部核销码":"查看更多")),i("v-uni-text",{staticClass:"more-icon iconfont",class:e.ismore?"icon-fold":"icon-unfold"})],1)]:e._e()],2)],1),"user"===e.option.order_type&&2!==e.express_type?[i("v-uni-view",{staticClass:"pasword-cancel bor-radius-10 b-f m-btm20"},[i("v-uni-view",{staticClass:"col-3 f-28 m-btm40 pasword-sale-title"},[e._v("请输入店员密码核销")]),i("v-uni-view",{staticClass:"cancel-input dis-flex flex-x-between",on:{click:function(t){t=e.$handleEvent(t),e.focus=!0}}},[i("v-uni-view",{staticClass:"input-item col-3"},[e._v(e._s(e.password[0]))]),i("v-uni-view",{staticClass:"input-item col-3"},[e._v(e._s(e.password[1]))]),i("v-uni-view",{staticClass:"input-item col-3"},[e._v(e._s(e.password[2]))]),i("v-uni-view",{staticClass:"input-item col-3"},[e._v(e._s(e.password[3]))]),i("v-uni-input",{staticClass:"password-input",attrs:{type:"number",maxlength:"4",focus:e.focus,name:"password"},on:{input:function(t){t=e.$handleEvent(t),e.cancelImport(t)}}})],1)],1)]:e._e(),i("v-uni-view",{staticClass:"sub-btn f-28 col-3"},[e._v(e._s(3===e.express_type?"确认核销":"确认自提")),i("v-uni-button",{attrs:{formType:"submit"}})],1)],2)],1):e._e(),i("page-loading",{ref:"loading"})],1)},o=[];i.d(t,"a",function(){return n}),i.d(t,"b",function(){return o})},a9e3:function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,'.goodsItem-box[data-v-8458fdec]{padding:%?50?% %?24?%}.goodsItem-box .goods-left[data-v-8458fdec]{width:%?124?%;height:%?124?%;background-size:%?124?% %?124?%;background-position:50%;background-repeat:no-repeat;margin-right:%?24?%}.cancel-list[data-v-8458fdec]{padding:0 %?24?%}.cancel-list .cancel-title[data-v-8458fdec]{height:%?100?%;line-height:%?100?%;border-bottom:1px solid #eee;position:relative}.right-text[data-v-8458fdec]{display:inline-block;\n\t/* border-left: 2px solid #FED83F; */padding-left:%?26?%;height:%?28?%;line-height:%?28?%}.cancel-list-item[data-v-8458fdec]{height:%?80?%;line-height:%?80?%;border-bottom:1px solid #eee}\n\n/* checkbox样式重置 */\n\n\n\n.refund-check-item .checkbox[data-v-8458fdec] .uni-checkbox-input{width:%?30?%;height:%?30?%}.refund-check-item .checkbox[data-v-8458fdec] .uni-checkbox-input.uni-checkbox-input-checked{border-color:#ffd940!important;background:#ffd940!important}.refund-check-item .checkbox[data-v-8458fdec] .uni-checkbox-input.uni-checkbox-input-checked:before{border-radius:50%;width:%?30?%;height:%?30?%;line-height:%?30?%;text-align:center;font-size:%?24?%;color:#000;background:rgba(0,0,0,0);-webkit-transform:translate(-50%,-50%) scale(1);-ms-transform:translate(-50%,-50%) scale(1);transform:translate(-50%,-50%) scale(1)}\n\n.more[data-v-8458fdec]{text-align:center;height:%?90?%;line-height:%?90?%}.more .more-icon[data-v-8458fdec]{font-size:%?22?%!important;margin-left:%?10?%}.pasword-cancel[data-v-8458fdec]{padding:%?40?% %?26?%}.cancel-input[data-v-8458fdec]{position:relative;height:%?80?%;line-height:%?80?%}.cancel-input .input-item[data-v-8458fdec]{width:%?120?%;height:%?80?%;border-radius:%?6?%;position:relative;z-index:1;background:#eee}.cancel-input .password-input[data-v-8458fdec]{position:absolute;height:%?80?%;left:0;top:0;right:0;bottom:0;opacity:0;color:rgba(0,0,0,0);z-index:2}.cancel-input .input-item[data-v-8458fdec]{text-align:center;line-height:%?80?%;font-size:%?52?%}.sub-btn[data-v-8458fdec]{background-color:#ffd940;height:%?90?%;line-height:%?90?%;text-align:center;border-radius:%?45?%;position:relative}.sub-btn uni-button[data-v-8458fdec]{position:absolute;left:0;right:0;top:0;bottom:0;opacity:0}.cancel-title[data-v-8458fdec]:after{content:" ";position:absolute;top:54%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);left:0;bottom:%?8?%;width:%?8?%;height:%?30?%;background:#ffd940;border-radius:%?20?%}.pasword-sale-title[data-v-8458fdec]{position:relative;padding-left:%?26?%}.pasword-sale-title[data-v-8458fdec]:after{content:" ";position:absolute;top:54%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);left:0;bottom:%?8?%;width:%?8?%;height:%?30?%;background:#ffd940;border-radius:%?20?%}\n\n/* \n.input-write {\n\tposition: absolute;\n\ttop: 50%;\n\ttransform: translateY(-50%);\n\twidth: 80upx;\n\theight: 2upx;\n\tbackground-color: #f2f2f2;\n}\n\n.input-write-1 {\n\tleft: 15%;\n}\n\n.input-write-2 {\n\tleft: 44%;\n}\n\n.input-write-3 {\n\tleft: 73%;\n} */',""])},aabe:function(e,t,i){"use strict";i.r(t);var n=i("29fa"),o=i("2bb6");for(var a in o)"default"!==a&&function(e){i.d(t,e,function(){return o[e]})}(a);i("fb15");var s=i("2877"),r=Object(s["a"])(o["default"],n["a"],n["b"],!1,null,"430dc92a",null);t["default"]=r.exports},fb15:function(e,t,i){"use strict";var n=i("49e6"),o=i.n(n);o.a}}]);