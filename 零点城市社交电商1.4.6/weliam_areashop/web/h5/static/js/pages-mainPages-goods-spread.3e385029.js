(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mainPages-goods-spread"],{"10fe":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"pages-header",class:{fixed:"1"===t.pos}},[n("v-uni-view",{staticClass:"pages-header-info p-r"},[t._t("user")],2),t.contentShow?n("v-uni-view",{staticClass:"pages-header-content"},[t._t("content")],2):t._e()],1)],1)},o=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o})},"5a14":function(t,e,n){"use strict";var i=n("cade"),o=n.n(i);o.a},"79af":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,'.pages-header[data-v-0e6f97a1]{padding:%?20?% %?30?%;\n\t/* background: #FFFFFF;  */position:relative;overflow:hidden}.pages-header.fixed[data-v-0e6f97a1]{position:fixed;top:0;\n\ttop:44px;\n\tleft:0;right:0;z-index:30}.pages-header[data-v-0e6f97a1]:before{content:" ";width:400vw;height:%?600?%;background:#ffd940;-webkit-border-radius:60%;border-radius:60%;position:absolute;left:-155vw;bottom:25%;z-index:1}.pages-header-info[data-v-0e6f97a1]{z-index:20}.pages-header-content[data-v-0e6f97a1]{-webkit-box-shadow:0 %?2?% %?10?% 0 hsla(0,0%,66.7%,.35);box-shadow:0 %?2?% %?10?% 0 hsla(0,0%,66.7%,.35);min-height:%?100?%;-webkit-border-radius:%?20?%;border-radius:%?20?%;background:#fff;position:relative;z-index:20}',""])},"7a57":function(t,e,n){"use strict";n.r(e);var i=n("f134"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=o.a},8165:function(t,e,n){"use strict";n.r(e);var i=n("94a6"),o=n("7a57");for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);n("5a14");var r=n("2877"),s=Object(r["a"])(o["default"],i["a"],i["b"],!1,null,"0bc43cbd",null);e["default"]=s.exports},8516:function(t,e,n){"use strict";var i=n("eea0"),o=n.n(i);o.a},"94a6":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("page-Header",[n("template",{attrs:{slot:"content"},slot:"content"},[n("v-uni-view",{staticClass:"spread-content"},[n("v-uni-view",{staticClass:"spread-title f-30 col-3"},[t._v("商品推广文案"),n("v-uni-view",{staticClass:"title-icon"})],1),n("v-uni-view",{staticClass:"spread-text f-26 col-6"},[n("v-uni-image",{staticClass:"semicolon",attrs:{src:"/static/images/semicolon.png"}}),t._v(t._s(t.extension_text?t.extension_text:"暂无推广文案")),n("v-uni-image",{staticClass:"semicolon rotate",attrs:{src:"/static/images/semicolon.png"}})],1),n("v-uni-view",{staticClass:"spread-btn f-26 col-9 t-c dis-flex flex-y-center flex-x-center",on:{click:function(e){e=t.$handleEvent(e),t.copyText(e)}}},[n("v-uni-view",{staticClass:"iconfont icon-text"}),t._v("复制发圈文案")],1)],1)],1)],2),n("v-uni-view",{staticClass:"spread-content b-f spread-imgs-box"},[n("v-uni-view",{staticClass:"spread-title f-30 col-3"},[t._v("商品推广图片"),n("v-uni-view",{staticClass:"title-icon"})],1),n("v-uni-view",{staticClass:"spread-imgs"},[t._l(t.extension_img,function(e,i){return[n("v-uni-view",{key:i+"_0",staticClass:"spread-img p-r",style:{"background-image":"url("+e+")","background-color":""===e?"#F6F6F6":""}},[""===e?n("v-uni-view",{staticClass:"image-load"}):t._e()],1)]})],2),t.extension_img.length>0?n("v-uni-view",{staticClass:"spread-btn f-26 col-3 t-c p-r",on:{click:function(e){e=t.$handleEvent(e),t.saveSpreadImg(e)}}},[t.openSetting?n("v-uni-button",{staticClass:"btn-normal setting-btn",attrs:{"open-type":"openSetting"},on:{opensetting:function(e){e=t.$handleEvent(e),t.onSetting(e)}}}):t._e(),t._v("保存发圈图片")],1):t._e()],1),n("page-loading",{ref:"loading"})],1)},o=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o})},cade:function(t,e,n){var i=n("e3ba");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("27ff59c2",i,!0,{sourceMap:!1,shadowMode:!1})},ddf4:function(t,e,n){"use strict";n.r(e);var i=n("f93f"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=o.a},e3ba:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".spread-content[data-v-0bc43cbd]{padding:%?10?% %?30?% %?30?%}.spread-title[data-v-0bc43cbd]{line-height:3em}.title-icon[data-v-0bc43cbd]{display:inline-block;width:0;height:0;border:%?10?% solid;border-color:rgba(0,0,0,0) #ffd940 #ffd940 rgba(0,0,0,0);margin-left:%?12?%;vertical-align:bottom;position:relative;bottom:1em}.spread-text[data-v-0bc43cbd]{padding:%?30?%;background-color:#f6f6f6;text-indent:%?4?%;letter-spacing:%?4?%;line-height:1.6em}.semicolon[data-v-0bc43cbd]{display:inline-block;width:%?72?%;height:%?72?%;vertical-align:bottom;margin:%?-20?% %?12?% 0 %?-10?%}.semicolon.rotate[data-v-0bc43cbd]{-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg);margin:%?-10?% 0}.spread-btn[data-v-0bc43cbd]{margin:%?40?% auto %?10?%;width:%?300?%;height:%?70?%;line-height:%?70?%;-webkit-border-radius:%?6?%;border-radius:%?6?%;border:%?1?% solid #ccc}.spread-btn .iconfont[data-v-0bc43cbd]{display:inline-block!important;line-height:2em;margin-right:%?12?%}.spread-imgs-box[data-v-0bc43cbd]{margin:%?20?% %?30?%;-webkit-border-radius:%?20?%;border-radius:%?20?%}.spread-imgs-box .spread-btn[data-v-0bc43cbd]{background:#ffd940;border:0}.spread-img[data-v-0bc43cbd]{-webkit-box-sizing:border-box;box-sizing:border-box;display:inline-block;width:31%;padding-top:31%;margin:0 1.16%;background-repeat:no-repeat;background-size:100%;background-position:50%}.image-load[data-v-0bc43cbd]{position:absolute;top:50%;left:50%;margin:%?-15?% 0 0 %?-15?%;width:%?30?%;height:%?30?%;display:inline-block;padding:0;-webkit-border-radius:100%;border-radius:100%;border:%?2?% solid;border-top-color:#ffd940;border-bottom-color:rgba(0,0,0,.1);border-left-color:#ffd940;border-right-color:rgba(0,0,0,.1);-webkit-animation:loader-data-v-0bc43cbd 1s ease-in-out infinite;animation:loader-data-v-0bc43cbd 1s ease-in-out infinite}@-webkit-keyframes loader-data-v-0bc43cbd{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes loader-data-v-0bc43cbd{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.setting-btn[data-v-0bc43cbd]{position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;z-index:10}",""])},eea0:function(t,e,n){var i=n("79af");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("4f06").default;o("66bad848",i,!0,{sourceMap:!1,shadowMode:!1})},f10c:function(t,e,n){"use strict";n.r(e);var i=n("10fe"),o=n("ddf4");for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);n("8516");var r=n("2877"),s=Object(r["a"])(o["default"],i["a"],i["b"],!1,null,"0e6f97a1",null);e["default"]=s.exports},f134:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("deda")),o=a(n("f10c"));function a(t){return t&&t.__esModule?t:{default:t}}function r(t){return c(t)||d(t)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function d(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function c(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}var u={data:function(){return{extension_img:[""],extension_text:"",goods_id:"",openSetting:!1}},components:{PageHeader:o.default},computed:{},onLoad:function(t){this.goods_id=t.goods_id,this.getPoster(t.goods_id),this.getCommodity(t.goods_id)},methods:{getPoster:function(t){var e=this;i.default._post_form("goods/getQrcode",{goods_id:t},function(t){e.extension_img.splice(0,1,t.data)},!1,function(){})},getCommodity:function(t){var e=this;i.default._get("goods/commodityPromotion",{goods_id:t},function(t){var n,o=t.data,a=o.extension_img,s=o.extension_text;i.default.hideLoading();(n=e.extension_img).splice.apply(n,[1,8].concat(r(a))),e.extension_text=s,uni.stopPullDownRefresh()})},copyText:function(){this.extension_text?uni.setClipboardData({data:this.extension_text,success:function(){}}):uni.showToast({icon:"none",title:"暂无推广文案"})},saveSpreadImg:function(){var t=this,e=t.openSetting,n=t.extension_img,o=[];e||(uni.showLoading({title:"保存中..."}),o=n.map(function(t){return new Promise(function(e,n){uni.getImageInfo({src:t,success:function(t){e(t.path)}})})}),Promise.all(o).then(function(e){var n=e[0],o=e.slice(1);uni.saveImageToPhotosAlbum({filePath:n,success:function(){o.map(function(t){setTimeout(function(){uni.saveImageToPhotosAlbum({filePath:t,success:function(){uni.hideLoading(),console.log("save success",t)}})},200)})},complete:function(e){uni.hideLoading(),"saveImageToPhotosAlbum:fail:auth denied"!==e.errMsg&&"saveImageToPhotosAlbum:fail auth deny"!==e.errMsg||(i.default.showError("获取权限失败,请重试"),t.openSetting=!0)}})}))},onSetting:function(t){console.log(t);var e=t.detail.authSetting,n="scope.writePhotosAlbum";e[n]&&(this.openSetting=!1)}},onPullDownRefresh:function(){this.getPoster(this.goods_id),this.getCommodity(this.goods_id)},onShareAppMessage:function(t){}};e.default=u},f93f:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={props:{pos:{type:String,default:"2"},contentShow:{type:Boolean,default:!0}}};e.default=i}}]);