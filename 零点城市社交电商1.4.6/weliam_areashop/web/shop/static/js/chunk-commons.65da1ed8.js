(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-commons"],{FwGV:function(e,t,i){},JB4t:function(e,t,i){"use strict";var a=i("pq17");i.n(a).a},Q7QY:function(e,t,i){},UDyj:function(e,t,i){"use strict";var a=i("FwGV");i.n(a).a},XYSW:function(e,t,i){"use strict";var a=i("m1cH"),s=i.n(a),o=i("P2sY"),l=i.n(o),n=i("GQeE"),r=i.n(n),c=i("bG4Z"),u=i("x/Cv"),d=i("UC6z"),p={mixins:d.a.getters("ChooseFiles"),initData:{model:"display"}},g=i("7Qib"),f={mixins:[p.mixins,d.a.getters("Table")],props:{defaultConfig:{type:Object,default:function(){return p}}},components:{upload:u.a},watch:{"config.uploadConfig":{handler:function(e,t){e&&r()(e).length>0&&l()(this.uploadConfig,e)},immediate:!0,deep:!1},"config.initList":{handler:function(e,t){var i=this;Array.isArray(e)&&e.length>0&&this.$nextTick(function(){var t=[];e.map(function(e){t.push(e)}),i.uploadConfig.initList=t})},immediate:!0,deep:!1},"config.file_type":{handler:function(e,t){e&&"string"==typeof e&&["image","video","audio","file"].includes(e)&&(this.tableFormatData.userTable.files.file_type=e,this.uploadConfig.type=[e],this.uploadFileConfig.type=[e])},immediate:!0,deep:!1}},data:function(){return{cutOptionsModel:"true",uploadConfig:{auto:!1,isMore:!0,chooseFile:!0,limit:10,initList:[],type:["image"]},cutOptions:[{value:"false",label:"裁剪上传"},{value:"true",label:"普通上传"}],uploadFileConfig:{auto:!1,isMore:!0,isCropper:!1,modelFile:!0,chooseFile:!0,isShowList:!1,type:["image"]},chooseFileTitle:{image:"图片",video:"视频",audio:"音频",file:"文件"},createDialog:!1,groupName:"",displayData:[],menuGroup_id:"",menuData:[],menuDataCopy:[],currentRow:[],closable:!0,dialogTableVisible:!1,tableFormatData:{current:"userTable",userTable:{key:"userTable",api:{getList:c.f,noCreate:!0},tableData:[],files:{file_name:"",file_type:"",ids:[],checkall:"0",group_id:"all"},pagination:{page:1,list_rows:10,pagesizes:[10,20,50],total:0}}}}},computed:{$type:function(){return this.config.file_type},isChooseFile:function(){return this.uploadConfig.chooseFile},isLimitMax:function(){return[].concat(s()(this.uploadConfig.initList),s()(this.displayData)).length>=this.uploadConfig.limit}},created:function(){},methods:{cutOptionChange:function(e){this.uploadFileConfig.isCropper="false"===e},uploadTrigger:function(){this.uploadConfig.chooseFile=!1,this.$refs.upload.uploadTrigger()},modelChangeEvt:function(e){e.file_list,e.bindKey;this.toggle()},dialogGetData:function(){this.tableFormatData.userTable.api.noCreate=!1,this.getGroupList(),this.getTableList()},getGroupList:function(){var e=this;Object(c.e)({group_type:this.$type}).then(function(t){var i=t.data.data,a=void 0===i?{}:i;e.menuDataCopy=a,e.menuData=[{group_id:"all",group_name:"全部",child:[]}].concat(s()(a))})},toggle:function(){this.dialogTableVisible=!this.dialogTableVisible},saveChoose:function(){this.toggle(),this.output()},createGroup:function(e){var t=this;if(e){var i=this.tableFormatData.userTable.files.file_type;Object(c.a)({group_name:e,group_type:i}).then(function(e){var i=e.data,a=i.code,s=i.msg;1===a?(t.$message.success(s),t.getGroupList()):t.$message.error(s),t.createDialog=!1})}else this.$message.error("请输入分组名称!~")},moveToGroup:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=this.currentRow;a.length>0||i.length>0?Object(c.b)({group_id:e,ids:i.length>0?i:a}).then(function(e){var a=e.data,s=a.msg;1===a.code?0===i.length&&(t.$message.success(s),t.currentRow=[],t.filesSerch()):t.$message.error(s)}):this.$message.error("请选择图片后移动!~")},handleNodeClick:function(e){this.tableFormatData.userTable.files.group_id=e.group_id,this.filesSerch()},deleteAll:function(){this.currentRow=[]},chooseFile:function(e,t){if(this.currentRow=Object(g.tooggleArray)(this.currentRow,e),this.currentRow.includes(e))this.displayData.push(t);else{var i=this.displayData.findIndex(function(t){return t.goods_id===e});this.displayData.splice(i,1)}},delMenu:function(e,t){var i=this;if(e){var a=[];"all"===e?this.menuData.map(function(e){a.push(e.group_id)}):a=[e],Object(c.c)({ids:a}).then(function(e){var a=e.data,s=a.msg;1===a.code?(i.menuData.splice(t,1),i.menuDataCopy.splice(t,1),i.tableFormatData.userTable.files.group_id="all",i.filesSerch()):i.$message.error(s)})}},delFile:function(e,t){var i=this,a=[].concat(s()(this.currentRow),[e]);a.length>0&&(Object(c.d)({ids:a}).then(function(e){var t=e.data,a=t.msg;1===t.code?(i.$message.success(a),i.filesSerch()):i.$message.error(a)}),this.currentRow=[])},clearData:function(){this.currentRow=[],this.displayData=[],this.uploadConfig.chooseFile=!0},output:function(){if("[object Function]"===Object.prototype.toString.call(this.changeEvt)){if(this.isChooseFile){var e="display"===this.config.model?this.$refs.uploadlist.fileList:this.uploadConfig.initList,t=[].concat(s()(e),s()(this.displayData));this.displayData.map(function(e){-1===t.findIndex(function(t){return t.file_id===e.file_id})&&t.push(e)});var i=this.uploadConfig.limit;this.isLimitMax?1===i?(this.uploadConfig.initList=[t[t.length-1]],"display"===this.uploadConfig.model&&(this.displayData=[t[t.length-1]])):(t.splice(i,t.length-i),this.uploadConfig.initList=t,"display"===this.uploadConfig.model&&(this.displayData=t)):(this.uploadConfig.initList=t,"display"===this.uploadConfig.model&&(this.displayData=t))}this.changeEvt({currentRow:this.currentRow,displayData:this.displayData,key:"ChooseFiles",type:[this.$type],isLimitMax:this.isLimitMax},this.updateConfig.bindKey)}this.clearData()},uploadChange:function(e){var t=this,i=this.tableFormatData.userTable.files.group_id;if(""!==i){var a=[];e.map(function(e){a.push(e.file_id)}),this.moveToGroup(i,a)}var o=[].concat(s()(this.tableFormatData.userTable.tableData));e.map(function(e){-1===o.findIndex(function(t){return t.file_id===e.file_id})&&t.tableFormatData.userTable.tableData.unshift(e)})},uploadOutPutChange:function(e){"[object Function]"===Object.prototype.toString.call(this.changeEvt)&&this.updateConfig.bindKey&&this.changeEvt(e,this.updateConfig.bindKey)}}},h=(i("qqy1"),i("KHd+")),m=Object(h.a)(f,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"choose-fileslist"},["display"===e.config.model?i("upload",{ref:"uploadlist",attrs:{config:e.uploadConfig,saveChangeEvt:e.uploadChange,changeEvt:e.uploadOutPutChange,modelChangeEvt:e.modelChangeEvt}}):e._e(),e._v(" "),i("el-dialog",{attrs:{"custom-class":"wlm-form-dialog dialog-table choose-files",width:"55%","append-to-body":!0,visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t},close:e.clearData,open:e.dialogGetData}},[i("div",{staticClass:"wlm-dialog-fixheader"},[i("span",{staticClass:"wlm-dialog-inlenr"},[e._v(e._s(e.chooseFileTitle[e.$type]+"选择器"))])]),e._v(" "),i("div",{staticClass:"wlm-table-content"},[i("div",{staticClass:"wlm-dialog-main"},[i("div",{staticClass:"flex-row"},[i("el-scrollbar",[i("div",{staticClass:"goods-menu"},e._l(e.menuData,function(t,a){return i("div",{key:a,staticClass:"goods-menu-item ellipsis",class:{"is-active":e.tableFormatData.userTable.files.group_id===t.group_id},on:{click:function(i){e.handleNodeClick(t)}}},[e.tableFormatData.userTable.files.group_id===t.group_id&&t.group_id&&"all"!=t.group_id?i("i",{staticClass:"el-icon-circle-close rate",on:{click:function(i){i.stopPropagation(),e.delMenu(t.group_id,a)}}}):e._e(),e._v(" "),i("span",[e._v(e._s(t.group_name))])])}))]),e._v(" "),i("div",{staticClass:"goods-list-box"},[i("div",{staticClass:"flex-row flex-justify-b",staticStyle:{"margin-bottom":"10px"}},[i("el-select",{staticStyle:{width:"130px","margin-left":"10px"},attrs:{placeholder:"移动至",size:"small"},on:{change:e.moveToGroup},model:{value:e.menuGroup_id,callback:function(t){e.menuGroup_id=t},expression:"menuGroup_id"}},e._l(e.menuDataCopy,function(e){return i("el-option",{key:e.group_id,attrs:{label:e.group_name,value:e.group_id}})})),e._v(" "),i("div",{staticClass:"flex-row flex-justify-c flex-align-c",staticStyle:{"padding-right":"20px"}},[i("span",{staticClass:"orders-gray font-12",staticStyle:{"padding-right":"14px"}},[e._v("大小不要超过10.00M")]),e._v(" "),i("div",{staticClass:"upload-box"},[i("upload",{ref:"upload",attrs:{config:e.uploadFileConfig,saveChangeEvt:e.uploadChange,modelFileChangeEvt:e.modelChangeEvt}}),e._v(" "),i("el-button",{staticStyle:{"padding-left":"30px"},attrs:{type:"primary",size:"small"},on:{click:e.uploadTrigger}},[e._v("上传"+e._s(""+e.chooseFileTitle[e.$type]))])],1)])],1),e._v(" "),i("el-scrollbar",{staticStyle:{width:"100%","max-height":"460px","overflow-x":"hidden"}},[i("div",{staticClass:"goods-list-group flex-row flex-warp",staticStyle:{"padding-top":"10px","padding-right":"12px"}},e._l(e.tableFormatData.userTable.tableData,function(t,a){return i("div",{key:a,staticClass:"goods-list"},[i("div",{staticClass:"goods-item flex-col flex-align-c",on:{click:function(i){e.chooseFile(t.file_id,t)}}},[i("i",{staticClass:"el-icon-circle-close rate",on:{click:function(i){i.stopPropagation(),e.delFile(t.file_id,t)}}}),e._v(" "),t.file_path?i("div",{staticClass:"img-center",style:{"background-image":"url("+t.file_path+")"}},["video"===e.$type?i("video",{staticClass:"video pos-col-center",attrs:{src:t.file_path,controls:"controls"}}):e._e(),e._v(" "),"audio"===e.$type?i("audio",{staticClass:"audio pos-col-center",attrs:{src:t.file_path,controls:"controls"}}):e._e(),e._v(" "),e.currentRow.includes(t.file_id)?i("div",{staticClass:"mask"},[i("i",{staticClass:"el-icon-check center-icon pos-center"}),e._v(" "),i("p",{staticClass:"triangle"},[i("i",{staticClass:"el-icon-check"})])]):e._e()]):e._e(),e._v(" "),i("span",{staticClass:"ellipsis"},[e._v(e._s(t.file_name))])])])}))])],1)],1)])]),e._v(" "),i("span",{staticClass:"orders-gray",staticStyle:{display:"inline-block","margin-left":"210px","margin-top":"20px"}},[e._v("已选择"+e._s(e.currentRow.length)+"张")]),e._v(" "),i("el-select",{staticClass:"cut-model-option",staticStyle:{display:"inline-block","margin-left":"10px","margin-top":"20px",width:"120px"},attrs:{size:"mini",placeholder:"请选择"},on:{change:e.cutOptionChange},model:{value:e.cutOptionsModel,callback:function(t){e.cutOptionsModel=t},expression:"cutOptionsModel"}},e._l(e.cutOptions,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),i("div",{staticClass:"pagination-content flex-row flex-justify-b",staticStyle:{"margin-top":"20px"}},[i("el-row",{staticClass:"pagination-btns",staticStyle:{"margin-left":"200px",position:"relative"}},[i("el-popover",{attrs:{width:"200"},model:{value:e.createDialog,callback:function(t){e.createDialog=t},expression:"createDialog"}},[i("div",{staticClass:"flex-col"},[i("el-input",{staticStyle:{"margin-bottom":"15px"},attrs:{size:"small",placeholder:"请输入分组名称"},model:{value:e.groupName,callback:function(t){e.groupName="string"==typeof t?t.trim():t},expression:"groupName"}}),e._v(" "),i("div",{staticClass:"flex-row flex-justify-e"},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.createGroup(e.groupName)}}},[e._v("确定")]),e._v(" "),i("el-button",{attrs:{size:"small"},on:{click:function(t){e.createDialog=!1}}},[e._v("取消")])],1)],1),e._v(" "),i("el-button",{staticStyle:{position:"absolute",left:"-160px"},attrs:{slot:"reference",size:"small"},slot:"reference"},[i("i",{staticClass:"el-icon-circle-plus-outline"}),e._v(" 新建分组")])],1),e._v(" "),i("el-button",{attrs:{size:"small"},on:{click:e.deleteAll}},[e._v("取消选择")])],1),e._v(" "),i("el-pagination",{staticStyle:{"margin-top":"0","margin-bottom":"20px","margin-right":"25px"},attrs:{disabled:!e.hasTableData,"current-page":e.tableFormatData.userTable.pagination.page,"page-sizes":e.tableFormatData.userTable.pagination.pagesizes,"page-size":e.tableFormatData.userTable.pagination.list_rows,layout:"total, sizes, prev, pager, next, jumper",total:e.hasTableData?e.tableFormatData.userTable.pagination.total:0},on:{"size-change":e.listPageChange,"current-change":e.listPageChange,"update:currentPage":function(t){e.$set(e.tableFormatData.userTable.pagination,"page",t)},"update:pageSize":function(t){e.$set(e.tableFormatData.userTable.pagination,"list_rows",t)}}})],1),e._v(" "),i("div",{staticClass:"wlm-dialog-fixfooter"},[i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:e.toggle}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.saveChoose}},[e._v("确 定")])],1)])],1)],1)},[],!1,null,"716071e5",null);m.options.__file="index.vue";t.a=m.exports},"Y/SO":function(e,t,i){"use strict";var a=i("QbLZ"),s=i.n(a),o=i("L2JU"),l=i("ZiUB"),n=i.n(l),r=i("XYSW"),c={name:"UE",data:function(){return{destoryed:!1,loading:!0,msg:"",isReady:!1,chooseFilesConfig:{type:["image"],model:"normal",initList:[],file_type:"image"},chooseFilesVideoConfig:{type:["video"],model:"normal",initList:[],file_type:"video"},ueditorConfig:{UEDITOR_HOME_URL:"https://admin.weliam.cn/UEditor/",autoHeightEnabled:!1,initialFrameHeight:240,initialFrameWidth:"100%",enableAutoSave:!1,toolbars:[["fullscreen","source","|","undo","redo","|","bold","italic","underline","strikethrough","removeformat","formatmatch","autotypeset","blockquote","|","forecolor","backcolor","insertorderedlist","insertunorderedlist","horizontal","|","rowspacingtop","rowspacingbottom","lineheight","indent","|","imagenone","imageleft","imageright","imagecenter","|","justifyleft","justifycenter","justifyright","justifyjustify","|","paragraph","fontfamily","fontsize","|","inserttable","deletetable","insertparagraphbeforetable","insertrow","deleterow","insertcol","deletecol","mergecells","mergeright","mergedown","splittocells","splittorows","splittocols","|","emotion","print","preview"]]}}},computed:s()({},Object(o.b)(["permission_routers","sidebar"]),{isHiddenUeditor:function(){return this.sidebar.hideUeditor}}),components:{ChooseFiles:r.a,VueUeditorWrap:n.a},watch:{defaultMsg:{handler:function(e,t){"string"==typeof e&&""!==e&&(this.msg=e)},immediate:!0,deep:!0}},props:{defaultMsg:{type:String},bindIndex:{type:Number,required:!1},ueditorList:{type:Array,required:!1},config:{type:Object},ueditorChange:{type:Function},defaultFocus:{type:Boolean}},mounted:function(){},methods:{uploadFileChange:function(e){var t=this,i=e.displayData;this.$Ueditor.focus(),i.length>0&&i.map(function(e){"video"!==e.file_type?t.$Ueditor.execCommand("inserthtml",'<img style="font-size: 0px;line-height: 0px;vertical-align: middle;max-width: 100%;" src="'+e.file_path+'"/>'):t.$Ueditor.execCommand("insertvideo",{url:e.file_path,width:300,height:200})})},ueditorInit:function(){var e=window.UE,t=this;e.registerUI("buttonimg",function(i,a){var s=new e.ui.Button({name:"上传图片",title:"上传图片",cssRules:"background-position: -726px -77px;",onclick:function(){t.$Ueditor.focus(),t.$refs.chooseFiles.toggle()}});return i.addListener("selectionchange",function(){var e=i.queryCommandState(a);-1===e?(s.setDisabled(!0),s.setChecked(!1)):(s.setDisabled(!1),s.setChecked(e))}),s}),e.registerUI("buttonvideo",function(i,a){var s=new e.ui.Button({name:"上传视频",title:"上传视频",cssRules:"background-position: -320px -20px;",onclick:function(){t.$Ueditor.focus(),t.$refs.chooseVideoFiles.toggle()}});return i.addListener("selectionchange",function(){var e=i.queryCommandState(a);-1===e?(s.setDisabled(!0),s.setChecked(!1)):(s.setDisabled(!1),s.setChecked(e))}),s})},ready:function(e){var t=this;this.loading=!1,this.$Ueditor=e,this.$UeditorKey=e.key,"[object Function]"===Object.prototype.toString.call(this.ueditorChange)&&(this.$Ueditor.addListener("contentChange",function(e){var i=t.getUEContent("getContent");t.ueditorChange(i,t.isReady),t.isReady=!0}),this.$Ueditor.addListener("afterSelectionChange",function(){var e=t.getUEContent("getContent");t.ueditorChange(e)}))},getUEContent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"getPlainTxt";return this.$Ueditor[e]()}},beforeDestroy:function(){this.destoryed=!0},destoryed:function(){this.$Ueditor.destory()}},u=(i("UDyj"),i("KHd+")),d=Object(u.a)(c,function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isHiddenUeditor?i("section",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"ueditor-content"},[i("choose-files",{ref:"chooseFiles",attrs:{config:e.chooseFilesConfig,changeEvt:e.uploadFileChange}}),e._v(" "),i("choose-files",{ref:"chooseVideoFiles",attrs:{config:e.chooseFilesVideoConfig,changeEvt:e.uploadFileChange}}),e._v(" "),e.destoryed?e._e():i("vue-ueditor-wrap",{directives:[{name:"show",rawName:"v-show",value:!e.destoryed,expression:"!destoryed"}],ref:"ueditor",attrs:{destroy:!0,config:e.ueditorConfig,init:e.ueditorInit},on:{ready:e.ready},model:{value:e.msg,callback:function(t){e.msg=t},expression:"msg"}})],1):e._e()},[],!1,null,"61a0f0d5",null);d.options.__file="index.vue";t.a=d.exports},YV1y:function(e,t,i){"use strict";var a=i("kPYW");i.n(a).a},gJGI:function(e,t,i){"use strict";var a=i("Q7QY");i.n(a).a},kPYW:function(e,t,i){},pq17:function(e,t,i){},qqy1:function(e,t,i){"use strict";var a=i("rhpS");i.n(a).a},rhpS:function(e,t,i){},vooH:function(e,t,i){"use strict";var a=i("m1cH"),s=i.n(a),o=i("hoR8"),l=i("UC6z"),n={mixins:l.a.getters("ChooseGoods"),initData:{model:"display"}},r=i("7Qib"),c={mixins:[n.mixins,l.a.getters("Table")],props:{defaultConfig:{type:Object,default:function(){return n}},isShow:{type:Boolean,default:!0}},watch:{"config.initList":{handler:function(e,t){var i=this;Array.isArray(e)&&e.length>0&&this.$nextTick(function(){e.map(function(e){var t=e.goods_id,a=e.goods,o=void 0===a?[]:a;t&&i.currentRow.push(t),Array.isArray(o)&&o.length>0?i.displayData=[].concat(s()(i.displayData),s()(o)):i.displayData.push(o)})})},immediate:!0,deep:!1}},data:function(){return{defaultProps:{children:"child",label:"name"},displayData:[],menuData:[],currentRow:[],closable:!0,dialogTableVisible:!1,tableFormatData:{current:"userTable",userTable:{key:"userTable",api:{getList:o.n},tableData:[],files:{name:"",ids:[],checkall:"0",category_id:""},pagination:{page:1,list_rows:10,pagesizes:[10,20,50],total:0}}}}},computed:{},created:function(){var e=this;Object(o.x)().then(function(t){var i=t.data.data,a=void 0===i?{}:i;e.menuData=[{category_id:"",name:"全部",child:[]}].concat(s()(a.data))})},methods:{toggle:function(){this.dialogTableVisible=!this.dialogTableVisible},saveChoose:function(){this.toggle(),this.output()},handleNodeClick:function(e){this.tableFormatData.userTable.files.category_id=e.category_id,this.filesSerch()},chooseGoods:function(e,t){if(this.currentRow=Object(r.tooggleArray)(this.currentRow,e),this.currentRow.includes(e)){var i=t.goods_id,a=t.image,s=t.sku,o=t.goods_name,l=t.goods_min_price,n=t.goods_max_price,c=t.category_id,u=t.spec_type,d=t.stock;this.displayData.push({goods_id:i,image:a,sku:s,goods_name:o,goods_min_price:l,goods_max_price:n,category_id:c,spec_type:u,stock:d})}else{var p=this.displayData.findIndex(function(t){return t.goods_id===e});this.displayData.splice(p,1)}},clearData:function(){"display"!==this.config.model&&(this.currentRow=[],this.displayData=[])},output:function(){"[object Function]"===Object.prototype.toString.call(this.changeEvt)&&this.changeEvt({currentRow:this.currentRow,displayData:this.displayData,key:"ChooseGoods"},this.updateConfig.bindKey)}}},u=(i("YV1y"),i("KHd+")),d=Object(u.a)(c,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"choose-userlist"},["normal"!==e.config.model?i("section",[i("el-button",{staticClass:"mar-b-20",attrs:{type:"primary",size:"mini"},on:{click:e.toggle}},[e._v("指定商品")]),e._v(" "),e.displayData.length>0&&e.isShow?i("el-table",{attrs:{data:e.displayData}},[i("el-table-column",{attrs:{label:"商品"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("div",{staticClass:"flex-row flex-align-c"},[t.row.image?i("img",{staticStyle:{"margin-right":"10px"},attrs:{width:"50",height:"50",src:t.row.image[0].file_path}}):e._e(),e._v(" "),t.row.sku?i("div",{staticClass:"flex-col"},[i("p",[i("span",{staticClass:"orders-red"},[e._v("￥"+e._s(t.row.sku[0].goods_price))])]),e._v(" "),i("p",[e._v(e._s(t.row.goods_name))])]):e._e()])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"总库存"},scopedSlots:e._u([{key:"default",fn:function(t){return t.row.sku?[i("span",[e._v(e._s(t.row.sku[0].stock_num))])]:void 0}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"address",label:"操作","header-align":"center",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("div",{staticClass:"operation-group"},[i("el-button",{staticClass:"wlm-text",attrs:{type:"text"},on:{click:function(i){e.chooseGoods(t.row.goods_id)}}},[e._v("删除")])],1)]}}])})],1):e._e()],1):e._e(),e._v(" "),i("el-dialog",{attrs:{"custom-class":"wlm-form-dialog dialog-table",visible:e.dialogTableVisible,width:"45%"},on:{"update:visible":function(t){e.dialogTableVisible=t},close:e.clearData}},[i("div",{staticClass:"wlm-dialog-fixheader"},[i("span",{staticClass:"wlm-dialog-inlenr"},[e._v("选择商品")])]),e._v(" "),i("el-scrollbar",[i("div",{staticClass:"wlm-table-content"},[i("div",{staticClass:"wlm-dialog-main"},[i("div",{staticClass:"flex-row"},[i("el-scrollbar",[i("div",{staticClass:"goods-menu"},[i("el-tree",{attrs:{data:e.menuData,props:e.defaultProps,accordion:""},on:{"node-click":e.handleNodeClick}})],1)]),e._v(" "),i("el-scrollbar",{staticStyle:{width:"100%"}},[i("div",{staticClass:"goods-list-box"},[i("div",{staticClass:"goods-serch"},[i("el-input",{attrs:{placeholder:"搜索商品名称"},model:{value:e.tableFormatData.userTable.files.name,callback:function(t){e.$set(e.tableFormatData.userTable.files,"name",t)},expression:"tableFormatData.userTable.files.name"}}),i("i",{staticClass:"el-icon-search pos-col-center",on:{click:e.filesSerch}})],1),e._v(" "),e.hasTableData.length>0?i("div",{staticClass:"goods-list-group flex-row flex-warp"},e._l(e.tableFormatData.userTable.tableData,function(t,a){return i("div",{key:a,staticClass:"goods-list"},[i("div",{staticClass:"goods-item flex-row flex-align-c"},[t.image&&t.image[0]?i("div",{staticClass:"img-center",style:{"background-image":"url("+t.image[0].file_path+")"}}):e._e(),e._v(" "),i("div",{staticClass:"flex-col flex-align-c flex-justify-b scale-grow"},[i("span",{staticClass:"ellipsis"},[e._v(e._s(t.goods_name))]),e._v(" "),i("p",{staticClass:"flex-row flex-align-c flex-justify-b flex-grow-1",staticStyle:{"font-size":"18px"}},[i("span",{staticClass:"text-danger"},[e._v("￥"+e._s(t.goods_max_price))]),e._v(" "),i("el-button",{class:{"is-active":e.currentRow.includes(t.goods_id)},staticStyle:{"font-size":"12px"},attrs:{type:"primary",round:"",plain:"",size:"mini"},on:{click:function(i){e.chooseGoods(t.goods_id,t)}}},[e._v(e._s(e.currentRow.includes(t.goods_id)?"取消":"选择"))])],1)])])])})):e._e(),e._v(" "),!e.isTableFormatGetEnd||e.hasTableData.length>0?e._e():i("div",{staticClass:"no-tabledata"},[i("svg-icon",{attrs:{"icon-class":"notabledata"}}),e._v(" "),i("span",{staticStyle:{display:"block",margin:"-45px auto 0"}},[e._v("暂无商品数据")])],1)])])],1)])])]),e._v(" "),i("div",{staticClass:"pagination-content flex-row flex-justify-b flex-align-c"},[i("el-row",{staticClass:"pagination-btns"}),e._v(" "),i("el-pagination",{staticStyle:{"margin-top":"20px","margin-bottom":"20px","margin-right":"25px"},attrs:{disabled:!e.hasTableData,"current-page":e.tableFormatData.userTable.pagination.page,"page-sizes":e.tableFormatData.userTable.pagination.pagesizes,"page-size":e.tableFormatData.userTable.pagination.list_rows,layout:"total, sizes, prev, pager, next, jumper",total:e.hasTableData.length>0?e.tableFormatData.userTable.pagination.total:0},on:{"size-change":e.listPageChange,"current-change":e.listPageChange,"update:currentPage":function(t){e.$set(e.tableFormatData.userTable.pagination,"page",t)},"update:pageSize":function(t){e.$set(e.tableFormatData.userTable.pagination,"list_rows",t)}}})],1),e._v(" "),i("div",{staticClass:"wlm-dialog-fixfooter"},[i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:e.toggle}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.saveChoose}},[e._v("确 定")])],1)])],1)],1)},[],!1,null,"b0eb12a6",null);d.options.__file="index.vue";t.a=d.exports},"x/Cv":function(e,t,i){"use strict";var a=i("m1cH"),s=i.n(a),o=i("GQeE"),l=i.n(o),n=i("P2sY"),r=i.n(n),c=i("GYAN"),u=i.n(c),d=i("ukxx"),p=i.n(d),g=i("7An/"),f=i.n(g),h=i("p46w"),m=i.n(h),v=i("vDqi"),b=i.n(v),C=i("kbZS"),_=i("pj2Z"),w=i("XJYT"),y=i("EJiy"),x=i.n(y),L=i("fnnb"),k=i("UC6z"),F={mixins:k.a.getters("UploadCropper"),initData:{img:"base64",accept:"image/png, image/jpeg, image/gif, image/jpg",size:1,outputType:"png",info:!0,canScale:!0,full:!1,canMove:!0,canMoveBox:!0,fixedBox:!1,original:!0,autoCrop:!0,autoCropWidth:200,autoCropHeight:200,fixedNumber:[1,1],fixed:!1},fixedTagList:[{name:"自由",val:"auto",active:"true"},{name:"2:1",val:[2,1],active:"false"},{name:"16:9",val:[16,9],active:"false"},{name:"9:5",val:[9,5],active:"false"},{name:"1:1",val:[1,1],active:"false"},{name:"4:3",val:[4,3],active:"false"},{name:"3:4",val:[3,4],active:"false"},{name:"1:2",val:[1,2],active:"false"},{name:"1:3",val:[1,3],active:"false"}]},D={mixins:[F.mixins],props:{defaultConfig:{type:Object,default:function(){return F}},saveEvt:{type:Function,default:null},saveChangeEvt:{type:Function,default:null}},data:function(){return{previews:{},show:!1,fixedTagList:F.fixedTagList,fileName:""}},watch:{show:{handler:function(e,t){void 0!==t&&this.output(e)},immediate:!0}},components:{VueCropper:L.VueCropper},mounted:function(){},methods:{toggleShow:function(){this.show=!this.show},realTime:function(e){this.previews=e},fixedChange:function(e,t,i){var a=this;this.$refs.cropper.clearCrop(),"auto"===t?this.updateConfig.fixed=!1:(this.updateConfig.fixed=!0,this.updateConfig.fixedNumber=t),this.fixedTagList.map(function(e,t){e.active=t===i?"true":"false"}),this.$nextTick(function(){a.$refs.cropper.goAutoCrop()})},uploadImg:function(e,t){var i=this,a=e.target.files[0];if(!/\.(gif|jpg|jpeg|png|bmp|GIF|JPG|PNG)$/.test(e.target.value))return this.$message({message:"图片类型必须是.gif,jpeg,jpg,png,bmp中的一种!",type:"error"}),!1;this.fileName=a.name||(new Date).getTime()+"uploadimg."+a.type;var s=new FileReader;s.onload=function(e){var a="base64";a="object"===x()(e.target.result)?window.URL.createObjectURL(new Blob([e.target.result])):e.target.result,1===t?i.config.img=a:2===t&&(i.example2.img=a)},s.readAsDataURL(a),this.$refs.uploads.value="",this.toggleShow()},changeScale:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$refs.cropper.changeScale(e)},rotateLeft:function(){this.$refs.cropper.rotateLeft()},rotateRight:function(){this.$refs.cropper.rotateRight()},cropSuccess:function(){var e=this;this.$refs.cropper.getCropData(function(t){var i=e.dataURLtoFile(t,e.fileName);e.createFile(i)})},dataURLtoFile:function(e,t){for(var i=e.split(","),a=i[0].match(/:(.*?);/)[1],s=atob(i[1]),o=s.length,l=new Uint8Array(o);o--;)l[o]=s.charCodeAt(o);return new File([l],t,{type:a})},createFile:function(e){var t=URL.createObjectURL(e),i=(new Date).getTime(),a={name:e.name,percentage:0,raw:{},showCheck:!1,size:0,status:"ready",uid:i,url:t};a.raw=e,this.fileName="",this.saveout(a),this.toggleShow()},output:function(){"[object Function]"===Object.prototype.toString.call(this.changeEvt)&&this.changeEvt(this.show)},saveout:function(e){"[object Function]"===Object.prototype.toString.call(this.changeEvt)&&this.saveEvt(e)}}},T=(i("JB4t"),i("KHd+")),S=Object(T.a)(D,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"avatar-uploader avatar-cut-box"},[e._m(0),e._v(" "),i("input",{ref:"uploads",attrs:{type:"file",id:"uploads",accept:e.updateConfig.accept},on:{change:function(t){e.uploadImg(t,1)}}}),e._v(" "),i("el-dialog",{attrs:{title:"图片裁剪",visible:e.show,"modal-append-to-body":!1,"append-to-body":!0,"show-close":!1,width:"40%"},on:{"update:visible":function(t){e.show=t}}},[i("div",{staticClass:"flex-row flex-align-c",staticStyle:{"margin-bottom":"20px"}},e._l(e.fixedTagList,function(t,a){return i("el-tag",{key:a,staticStyle:{"margin-left":"10px",cursor:"pointer",padding:"0"},attrs:{type:"true"==t.active?"success":""}},[i("span",{staticStyle:{display:"inline-block",padding:"0 10px",heigth:"100%"},on:{click:function(i){e.fixedChange(t.name,t.val,a)}}},[e._v(e._s(t.name))])])})),e._v(" "),i("section",{staticStyle:{height:"400px"}},[i("VueCropper",{ref:"cropper",attrs:{img:e.updateConfig.img,autoCrop:e.updateConfig.autoCrop,autoCropWidth:e.updateConfig.autoCropWidth,autoCropHeight:e.updateConfig.autoCropHeight,outputSize:e.updateConfig.size,outputType:e.updateConfig.outputType,info:e.updateConfig.info,canScale:e.updateConfig.canScale,full:e.updateConfig.full,canMove:e.updateConfig.canMove,canMoveBox:e.updateConfig.canMoveBox,fixedBox:e.updateConfig.fixedBox,fixed:e.updateConfig.fixed,original:e.updateConfig.original,fixedNumber:e.updateConfig.fixedNumber},on:{realTime:e.realTime}})],1),e._v(" "),i("div",{staticClass:"flex-row flex-align-c flex-justify-b dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("div",{staticClass:"flex-row flex-align-c flex-justify-a"},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.changeScale(1)}}},[i("i",{staticClass:"el-icon-circle-plus-outline"})]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.changeScale(-1)}}},[i("i",{staticClass:"el-icon-remove-outline"})]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.rotateLeft}},[i("i",{staticClass:"el-icon-arrow-left"})]),e._v(" "),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.rotateRight}},[i("i",{staticClass:"el-icon-arrow-right"})])],1),e._v(" "),i("div",{staticClass:"flex-row flex-align-c flex-justify-b"},[i("el-button",{on:{click:function(t){e.show=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.cropSuccess}},[e._v("确 定")])],1)])])],1)},[function(){var e=this.$createElement,t=this._self._c||e;return t("a",{staticClass:"avatar-cut-btn"},[t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])}],!1,null,"62050c98",null);S.options.__file="index.vue";var j=S.exports,O={mixins:k.a.getters("Upload"),initData:{isMore:!1,limit:1,type:["image","vedio"],autoloadUrl:"",chooseFile:!1,modelFile:!1,isCropper:!1,isShowList:!0,isMultiple:!1,auto:!1,initList:[{activeName:"item.activeName",showCheck:!1,file_path:"https://img.hipintuan.cn/images/global/o9sWcI277sNScszwiasy1zmh9NYbzW.jpg"}],saveList:[]},viewimgTags:{activeY:"",activeM:"",year:[{name:"不限",val:""},{name:"2018",val:"2018"},{name:"2017",val:"2017"},{name:"2016",val:"2016"},{name:"2015",val:"2015"},{name:"2014",val:"2014"}],month:[{name:"不限",val:""},{name:"1",val:"1"},{name:"2",val:"2"},{name:"3",val:"3"},{name:"4",val:"4"},{name:"5",val:"5"},{name:"6",val:"6"},{name:"7",val:"7"},{name:"8",val:"8"},{name:"9",val:"9"},{name:"10",val:"10"},{name:"11",val:"11"},{name:"12",val:"12"}]},uploadImgUrl:"/uploadFile",uploadImgsUrl:"/uploadFile",uploadFileUrl:"/uploadFile"};p.a.use(f.a);var U={mixins:[O.mixins],props:{defaultConfig:{type:Object,default:function(){return O}},changeEvt:{type:Function,default:null,required:!1},saveChangeEvt:{type:Function,default:null,required:!1},modelChangeEvt:{type:Function,default:null,required:!1}},data:function(){return{isLimit:!1,autoloadUrl:"",isShowModel:!1,hasMultiple:!1,cutmodelShow:!1,cutOptionsModel:"true",cropperConfig:{img:"base64"},getwebPath:"",fileList:[],saveList:[],currentId:-1,cutOptions:[{value:"false",label:"裁剪上传"},{value:"true",label:"普通上传"}],viewimgTags:O.viewimgTags,submitList:[],viewimgList:[],viewimgSaveList:[],mainLoing:!1,viewimgPage:1,viewimgSize:24,viewimgAll:1,activeName:"upimg",panleData:[],fileType:"image/*,video/*"}},created:function(){},components:{vuedraggable:u.a,Upload:w.Upload,uploadCropper:j},watch:{"config.initList":{handler:function(e,t){var i=this;Array.isArray(e)&&e.length>0&&(this.fileList=[],this.$nextTick(function(){e.map(function(e){var t={file_type:"",showCheck:!1,file_path:""};r()(t,e),i.fileList.push(t)})}))},immediate:!0,deep:!1},"config.type":{handler:function(e,t){var i=this;Array.isArray(e)&&e.length>0&&this.$nextTick(function(){var t=[];e.map(function(e){"image"===e?t.push.apply(t,[{name:"upimg",info:"上传图片",icon:"icon icon-album"}]):"getweb"===e?t.push({name:"getweb",info:"提取网络图片",icon:"icon icon-fujian"}):"video"===e?t.push({name:"video",info:"上传视频",icon:"icon icon-album"}):"audio"===e&&t.push({name:"audio",info:"上传音频",icon:"icon icon-album"})});var a=t[0].name;i.activeName=a,i.panleData=t})},immediate:!0,deep:!1},"config.saveList":{handler:function(e,t){var i=this;Array.isArray(e)&&e.length>0&&(this.saveList=[],this.$nextTick(function(){e.map(function(e){var t=e.file_type,a=void 0===t?"":t,s=e.showCheck,o=void 0!==s&&s,l=e.file_path,n=void 0===l?"":l;i.saveList.push({file_type:a,showCheck:o,file_path:n})})}))},immediate:!0,deep:!1}},computed:{getType:function(){var e=this.activeName;return{fileType:"upimg"===e?"image/*":"video"===e?"video/*":"audio/*",hasMultiple:"upimg"===e&&(this.updateConfig.isMultiple||this.updateConfig.isMore)&&"true"===this.cutOptionsModel}},isLimitLen:function(){return!this.updateConfig.isMore&&1===this.updateConfig.limit&&this.saveList.length>=1},getActiveY:function(){return O.viewimgTags.activeY},getActiveM:function(){return O.viewimgTags.activeM},getUploadLength:function(){return this.submitList.length+this.fileList.length},getUploadSize:function(){return this.submitList.length+this.fileList.length},getChooes:function(){var e=this.currentId,t=this.viewimgSaveList;if(-1!==e&&t.length>0){var i=t.filter(function(e){e.id});return i.length>0&&i[0].showCheck}return!1}},mounted:function(){},methods:{watchDragging:function(){this.output()},uploadFileChange:function(e){},clearFileList:function(){this.saveList=[],this.submitList=[],this.viewimgSaveList=[]},limiteChange:function(){this.hasLimit()&&1===this.fileList.length&&(this.updateConfig.chooseFile?"[object Function]"===Object.prototype.toString.call(this.modelChangeEvt)&&this.modelChangeEvt({file_list:this.fileList},this.updateConfig.bindKey):this.isShowModel=!0)},cutOptionChange:function(e){},handleCurrentChange:function(e){this.viewimgChange(O.viewimgTags.activeY,O.viewimgTags.activeM,e)},getwebImgPath:function(){var e=this;Object(_.a)(this.getwebPath)||w.Message.error("https路径不合法"),Object(C.a)(encodeURIComponent(this.getwebPath)).then(function(t){t&&0===t.errno?(e.outsave([{url:t.message}]),e.fileList.push({url:t.message}),e.output(e.fileList),Object(w.Message)({message:"上传成功！",type:"success"})):Object(w.Message)({message:"上传失败！，请确认后重新输入！",type:"error"})})},viewimgSwitch:function(e){var t=r()({},e),i=this.viewimgSaveList;if(!this.hasLimit()&&this.updateConfig.isMore||1!==this.updateConfig.limit){var a=this.viewimgList.filter(function(e){return!0===e.showCheck});a&&a.length>=this.updateConfig.limit&&(a[0].showCheck=!1)}else i=[],this.viewimgList.map(function(e,t){e.showCheck=!1});if(i.length>0){var s=i.findIndex(function(e){return e.file_id===t.file_id});-1!==s?(i.splice(s,1),t.showCheck=!1,this.currentId=-1):(e.showCheck=!0,this.viewimgSaveList.push(t),this.currentId=e.file_id)}else e.showCheck=!0,this.viewimgSaveList.push(e),this.currentId=e.file_id},viewimgAddChange:function(){var e=this,t=this.viewimgSaveList;t.length>0?(t.some(function(t){if(-1===e.fileList.findIndex(function(e){return e.file_id===t.file_id})){var i=!e.hasLimit();if(!i)return e.fileList=[t],i;e.fileList.push(t)}}),this.outsave(t),this.uploadTrigger(),this.output(this.fileList),this.viewimgList.map(function(e){e.showCheck=!1})):Object(w.Message)({message:"请选择要添加的图片",type:"error"})},viewimgChange:function(e,t){var i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.mainLoing=!0,this.viewimgTags[t]=e,Object(C.d)({page:a}).then(function(e){var t=e.data.data.file_list,a=void 0===t?{}:t;i.viewimgAll=Number(a.total)||1,i.viewimgList=a.data,i.mainLoing=!1})},toArr:function(e){return l()(e||{}).map(function(t){return e[t]._$name=t,e[t]})},handleClick:function(){"viewimg"===this.activeName&&(O.viewimgTags.activeY="",O.viewimgTags.activeM="",this.viewimgChange()),this.mainLoing=!1,this.clearFileList()},uploadTrigger:function(e){this.updateConfig.chooseFile?"[object Function]"===Object.prototype.toString.call(this.modelChangeEvt)&&this.modelChangeEvt({file_list:this.fileList},this.updateConfig.bindKey):this.isShowModel="dialog"!==e&&!this.isShowModel,this.clearFileList()},useImg:function(){var e=[],t=this.hasLimit();this.submitList.length>0&&(this.submitList.map(function(t){t.showCheck=!1,e.push(t)}),this.outsave(e),t&&1===this.fileList.length?this.fileList=[].concat(e):this.fileList=[].concat(s()(this.fileList),e),this.output(e),this.uploadTrigger(),this.isLimit=t)},delFile:function(e,t,i,a,s){var o=-1,l=r()({},this[i][t]);switch(l.showCheck="show"===e,this[i].splice(t,1,l),i){case"viewimgList":"mouseout"===s&&-1!==(o=this.viewimgSaveList.findIndex(function(e){return e.file_id===a}))&&this.viewimgSaveList.splice(o,1)}},delFileList:function(e,t,i,a){switch(t){case"saveList":this.saveList.splice(e,1),this.isLimit=this.hasLimit();break;case"fileList":this.fileList.splice(e,1),"mulit"===i&&this.output("delFileList"),this.isLimit=this.hasLimit();break;case"viewimgList":this.viewimgListDel(i,e,a)}},viewimgListDel:function(e,t,i){var a=this;Object(C.c)({file_id:e}).then(function(e){var s=e.data;1===s.code?(a.viewimgSwitch(i),Object(w.Message)({message:"删除成功！",type:"success"}),a.viewimgList.splice(t,1)):Object(w.Message)({message:"删除失败！",type:"error"})})},submitUpload:function(){if(this.saveList.length>0){var e=this;this.mainLoing=!0;var t="upimg"===this.activeName?e.updateConfig.isMore?O.uploadImgsUrl:O.uploadImgUrl:O.uploadFileUrl,i=t.substr(1,t.length-1),a=""+(m.a.get("BASE_API")||"/")+i,s=new FormData;this.saveList.map(function(e,t){s.append("file["+t+"]",e.raw)}),b.a.post(a,s,{"Content-Type":"multipart/form-data"}).then(function(t){var i=t.data,a=i.code,s=i.msg;1===a?(Object(w.Message)({message:""+s,type:"success"}),e.submitSuccess(t),e.useImg()):Object(w.Message)({message:""+s,type:"error"}),e.mainLoing=!1}).catch(function(t){w.Message.error("上传失败,请重新上传"),e.saveList=[],e.submitList=[],e.mainLoing=!1})}else Object(w.Message)({message:"请选择文件",type:"error"})},submitSuccess:function(e){if(e.data){var t=e.data.data;Array.isArray(t)?this.submitList=[].concat(s()(t)):this.submitList.push(e.data.data)}this.isLimit=this.hasLimit()},beforeUploadVideo:function(e){if(!(e.size/1024/1024<10))return w.Message.error("上传视频大小不能超过10MB!"),!1},uploadOnChange:function(e){"ready"===e.status?(e.url=URL.createObjectURL(e.raw),e.showCheck=!1,this.saveList=[e],this.updateConfig.modelFile&&this.submitUpload()):"fail"===e.status&&w.Message.error("文件上传出错，请刷新重试！")},cutOnChange:function(e){this.cutmodelShow=e},cutOnSave:function(e){"ready"===e.status&&(this.saveList.push(e),this.updateConfig.modelFile&&this.submitUpload())},hasLimit:function(){var e=this.activeName;if(this.updateConfig.limit){var t="video"===e?1:this.updateConfig.limit;return t<this.saveList.length||t<=this.fileList.length}return!1},output:function(e){"[object Function]"===Object.prototype.toString.call(this.changeEvt)&&this.changeEvt(this.fileList,this.updateConfig.bindKey,e)},outsave:function(e){"[object Function]"===Object.prototype.toString.call(this.saveChangeEvt)&&this.saveChangeEvt(e,this.updateConfig.bindKey)}}},M=(i("gJGI"),Object(T.a)(U,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"upload-img"},[e.updateConfig.isShowList?i("el-container",[i("el-main",{staticClass:"pad-no"},[i("ul",{staticClass:"filelist-mulit flex-row flex-warp flex-align-c"},[i("vuedraggable",{staticClass:"wrapper",on:{end:e.watchDragging},model:{value:e.fileList,callback:function(t){e.fileList=t},expression:"fileList"}},[i("transition-group",e._l(e.fileList,function(t,a){return i("li",{key:a,staticClass:"file-item",style:{cursor:e.hasLimit()?"pointer":"default"},on:{click:e.limiteChange}},["video"==t.file_type?i("video",{staticClass:"video-box pos-center",attrs:{src:t.file_path,controls:"controls"}}):e._e(),e._v(" "),"audio"==t.file_type?i("audio",{staticClass:"audio-box",attrs:{preload:"preload",src:t.file_path,controls:"controls"}}):e._e(),e._v(" "),"image"==t.file_type?i("img",{staticClass:"pos-center",attrs:{src:t.file_path}}):e._e(),e._v(" "),i("label",{staticClass:"status-label",on:{mousemove:function(t){e.delFile("show",a,"fileList")},mouseout:function(t){e.delFile("none",a,"fileList")}}},[i("i",{staticClass:"el-icon-check"}),e._v(" "),i("i",{staticClass:"el-icon-close",on:{click:function(t){e.delFileList(a,"fileList","mulit")}}})])])}))],1),e._v(" "),i("li",{directives:[{name:"show",rawName:"v-show",value:!e.hasLimit(),expression:"!hasLimit()"}],staticClass:"file-item no-bor"},[i("div",{staticClass:"flex-row flex-align-c flex-justify-c update-load",on:{click:e.uploadTrigger}},[i("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])])],1)])],1):e._e(),e._v(" "),e.updateConfig.modelFile?i("el-container",[i("el-upload",{directives:[{name:"show",rawName:"v-show",value:!e.updateConfig.isCropper,expression:"!updateConfig.isCropper"}],ref:"upload",staticClass:"avatar-uploader",attrs:{multiple:e.getType.hasMultiple,action:e.autoloadUrl,"auto-upload":!1,accept:e.getType.fileType,"file-list":e.fileList,"show-file-list":!1,"before-upload":e.beforeUploadVideo,"on-change":e.uploadOnChange}},[i("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),i("upload-cropper",{directives:[{name:"show",rawName:"v-show",value:e.updateConfig.isCropper,expression:"updateConfig.isCropper"}],attrs:{config:e.cropperConfig,changeEvt:e.cutOnChange,saveEvt:e.cutOnSave}})],1):e._e(),e._v(" "),i("el-dialog",{attrs:{visible:e.isShowModel,"append-to-body":!0},on:{"update:visible":function(t){e.isShowModel=t},close:function(t){e.uploadTrigger("dialog")}}},[e.isShowModel?i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.mainLoing,expression:"mainLoing"}],staticClass:"upload-modelbox"},[i("el-container",{staticClass:"upload-main"},[i("el-main",[i("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.panleData,function(t){return i("el-tab-pane",{key:t.name,attrs:{label:t.info,name:t.name}},[i("span",{staticClass:"flex-row flex-align-c flex-justify-c",attrs:{slot:"label"},slot:"label"},[i("i",{class:t.icon}),e._v(" "),i("span",[e._v(e._s(t.info))])]),e._v(" "),i("ul",{directives:[{name:"show",rawName:"v-show",value:"upimg"==t.name,expression:"item.name == 'upimg'"}],staticClass:"filelist-mulit flex-row flex-warp flex-align-c"},[e._l(e.saveList,function(t,a){return i("li",{directives:[{name:"dragging",rawName:"v-dragging",value:{item:t,list:e.saveList,group:"saveList"},expression:"{ item: saveitem, list: saveList, group: 'saveList'}"}],key:t.uid,staticClass:"file-item"},[i("img",{staticClass:"pos-center",attrs:{src:t.url}}),e._v(" "),i("label",{staticClass:"status-label"},[t.showCheck?i("i",{staticClass:"el-icon-close",on:{click:function(t){e.delFileList(a,"saveList")}}}):i("i",{staticClass:"el-icon-check"})])])}),e._v(" "),e.isLimitLen?e._e():i("li",{class:["file-item","no-bor",e.updateConfig.isCropper?"cut-model":""]},[i("el-upload",{directives:[{name:"show",rawName:"v-show",value:!e.updateConfig.isCropper,expression:"!updateConfig.isCropper"}],ref:"upload",refInFor:!0,staticClass:"avatar-uploader",attrs:{multiple:e.getType.hasMultiple,action:e.autoloadUrl,"auto-upload":!1,accept:e.getType.fileType,"file-list":e.fileList,"show-file-list":!1,"before-upload":e.beforeUploadVideo,"on-change":e.uploadOnChange}},[i("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),i("upload-cropper",{directives:[{name:"show",rawName:"v-show",value:e.updateConfig.isCropper,expression:"updateConfig.isCropper"}],attrs:{config:e.cropperConfig,changeEvt:e.cutOnChange,saveEvt:e.cutOnSave}})],1)],2),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:"upimg"==t.name,expression:"item.name == 'upimg'"}],staticClass:"font-help"},[e._v("提示：第一张图片将被作为封面图，请保持每张图片的大小一致（可拖动调整显示顺序）")]),e._v(" "),i("ul",{directives:[{name:"show",rawName:"v-show",value:"video"==t.name,expression:"item.name == 'video'"}],staticClass:"filelist-mulit flex-row flex-warp flex-align-c"},[e._l(e.saveList,function(t,a){return i("li",{directives:[{name:"dragging",rawName:"v-dragging",value:{item:t,list:e.saveList,group:"saveList"},expression:"{ item: saveitem, list: saveList, group: 'saveList'}"}],key:t.uid,staticClass:"file-item"},[i("video",{staticClass:"video-box pos-center",attrs:{src:t.url,controls:"controls"}}),e._v(" "),i("label",{staticClass:"status-label",on:{mousemove:function(t){e.delFile("show",a,"saveList")},mouseout:function(t){e.delFile("none",a,"saveList")}}},[t.showCheck?i("i",{staticClass:"el-icon-close",on:{click:function(t){e.delFileList(a,"saveList")}}}):i("i",{staticClass:"el-icon-check"})])])}),e._v(" "),i("li",{staticClass:"file-item no-bor"},[i("el-upload",{ref:"upload",refInFor:!0,staticClass:"avatar-uploader",attrs:{multiple:e.getType.hasMultiple,action:e.autoloadUrl,"auto-upload":!1,accept:e.getType.fileType,"file-list":e.fileList,"show-file-list":!1,"before-upload":e.beforeUploadVideo,"on-change":e.uploadOnChange}},[i("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],2),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:"video"==t.name,expression:"item.name == 'video'"}],staticClass:"font-help"},[e._v("提示：视频上传单次不可传入多组视频")]),e._v(" "),i("ul",{directives:[{name:"show",rawName:"v-show",value:"audio"==t.name,expression:"item.name == 'audio'"}],staticClass:"filelist-mulit flex-row flex-warp flex-align-c"},[e._l(e.saveList,function(t,a){return i("li",{directives:[{name:"dragging",rawName:"v-dragging",value:{item:t,list:e.saveList,group:"saveList"},expression:"{ item: saveitem, list: saveList, group: 'saveList'}"}],key:t.uid,staticClass:"file-item"},[i("audio",{staticClass:"audio-box",attrs:{preload:"preload",src:t.url,controls:"controls"}}),e._v(" "),i("label",{staticClass:"status-label",on:{mousemove:function(t){e.delFile("show",a,"saveList")},mouseout:function(t){e.delFile("none",a,"saveList")}}},[t.showCheck?i("i",{staticClass:"el-icon-close",on:{click:function(t){e.delFileList(a,"saveList")}}}):i("i",{staticClass:"el-icon-check"})])])}),e._v(" "),i("li",{staticClass:"file-item no-bor"},[i("el-upload",{ref:"upload",refInFor:!0,staticClass:"avatar-uploader",attrs:{multiple:e.getType.hasMultiple,action:e.autoloadUrl,"auto-upload":!1,accept:e.getType.fileType,"file-list":e.fileList,"show-file-list":!1,"before-upload":e.beforeUploadVideo,"on-change":e.uploadOnChange}},[i("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],2),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:"audio"==t.name,expression:"item.name == 'audio'"}],staticClass:"font-help"},[e._v("提示：音频上传单次不可传入多组音频")]),e._v(" "),"getweb"==e.activeName?i("section",[i("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.getwebPath,callback:function(t){e.getwebPath=t},expression:"getwebPath"}},[i("template",{slot:"prepend"},[e._v("Http://")])],2)],1):e._e(),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:"getweb"==e.activeName,expression:"activeName == 'getweb'"}],staticClass:"font-help"},[e._v("提示：输入http路径，获取图片")]),e._v(" "),i("section",{directives:[{name:"show",rawName:"v-show",value:"viewimg"==t.name,expression:"item.name == 'viewimg'"}]},[i("ul",{staticClass:"filelist-mulit viewimgList flex-row flex-warp flex-align-c"},e._l(e.viewimgList,function(t,a){return i("li",{key:t.file_id,staticClass:"file-item page-img"},[i("img",{staticClass:"video-box pos-center",attrs:{src:t.file_path},on:{click:function(i){e.viewimgSwitch(t,a)}}}),e._v(" "),i("label",{class:["status-label",e.getChooes?"chooes":""],on:{mousemove:function(i){i.stopPropagation(),e.delFile("none",a,"viewimgList",t.file_id)},mouseout:function(i){i.stopPropagation(),e.delFile("none",a,"viewimgList",t.file_id,"mouseout")}}},[t.showCheck?i("i",{staticClass:"el-icon-check"}):i("i",{staticClass:"el-icon-close",on:{click:function(i){e.delFileList(a,"viewimgList",t.file_id,t)}}})])])}))]),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:"viewimg"==t.name,expression:"item.name == 'viewimg'"}],staticClass:"font-help"},[e._v("提示：点击图片选择后上传")])])}))],1),e._v(" "),i("el-footer",{class:["footer flex-row flex-align-c flex-justify-b"]},["upimg"==e.activeName?i("div",{staticClass:"flex-row flex-align-c flex-justify-b"},[i("span",{staticClass:"title-help"},[e._v("已上传"+e._s(e.getUploadLength)+"张 模式:"),i("span",{staticClass:"cut-model-type"},[e._v(e._s(e.updateConfig.isCropper?"裁剪":"普通"))])]),e._v(" "),i("el-select",{staticClass:"cut-model-option",attrs:{size:"mini",placeholder:"请选择"},on:{change:e.cutOptionChange},model:{value:e.cutOptionsModel,callback:function(t){e.cutOptionsModel=t},expression:"cutOptionsModel"}},e._l(e.cutOptions,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1):e._e(),e._v(" "),i("div",{staticClass:"flex-row flex-align-c flex-justify-b footer-button"},["getweb"==e.activeName?i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"primary"},on:{click:e.getwebImgPath}},[e._v("确认")]):e._e(),e._v(" "),"upimg"==e.activeName||"video"==e.activeName||"audio"==e.activeName?i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"primary"},on:{click:e.submitUpload}},[e._v("确认使用")]):e._e(),e._v(" "),"viewimg"==e.activeName?i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"primary"},on:{click:e.viewimgAddChange}},[e._v("确认使用")]):e._e(),e._v(" "),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small"},on:{click:e.uploadTrigger}},[e._v("取消")]),e._v(" "),"viewimg"==e.activeName?i("el-pagination",{staticClass:"page-index",attrs:{"page-size":e.viewimgSize,"current-page":e.viewimgPage,background:"",layout:"prev, pager, next",total:e.viewimgAll},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.viewimgPage=t}}}):e._e()],1)])],1)],1):e._e()])],1)},[],!1,null,"527ed537",null));M.options.__file="index.vue";t.a=M.exports}}]);