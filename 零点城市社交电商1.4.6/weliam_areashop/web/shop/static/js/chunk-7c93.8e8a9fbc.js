(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7c93"],{"9aY9":function(t,e,n){"use strict";var r=n("j1+7");n.n(r).a},CATC:function(t,e,n){"use strict";n.r(e);var r=n("hoR8"),a=n("fGEp"),i=n("kbZS"),o={mixins:[n("UC6z").a.getters("Form")],name:"BulkShipment",components:{},directives:{exceldown:a.a},computed:{pathUrl:function(){return"/uploadFile"}},data:function(){return{certfileList:[],multiple:!1,accept:".csv",uplistIsEmpty:!1,csvloadTableVisible:!1,formFormatData:{key:"userForm",api:{editForm:{api:r.G,params:{id:""}},submitForm:r.F},formData:{title:"",content:""},rules:{}}}},methods:{importfxxData:function(){var t=this,e=this.uplistIsEmpty;this.$confirm(e?"导入前请先确定文件内是否已填写快递名称和编号，并且需要和平台订单编号一 一对应。否则可能导致数据出错！！！":"请先选择要导入的数据文件，格式是csv格式的，此功能是批量发货功能，流程是：先将要发货的订单导出为csv格式的文件，填好快递名称和编号后使用此功能导入。","提示信息",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e=new FormData;t.certfileList.map(function(t,n){e.append("file",t.raw)}),Object(i.b)(e).then(function(e){var n=e.data,r=n.code,a=n.msg;1===r?(t.$message.success("发货成功"),t.certfileList=[]):t.$message.error(a)})}).catch(function(){t.$message({type:"warning",message:"已取消"})})},certRemove:function(t,e){this.certfileList=[]},certbeforeRemove:function(t,e){return this.$confirm("确定移除 "+t.name+"？")},certhandleExceed:function(t,e){this.$message.warning("当前限制选择 1 个文件，本次选择了 "+t.length+" 个文件，共选择了 "+(t.length+e.length)+" 个文件")},certchange:function(t,e){this.certfileList.push(t),this.uplistIsEmpty=e.length>0},certsuccess:function(t,e){0===t.errno?(this.dialogTableVisible=!1,this.clearFiles(),this.loading=!0,this.getTabChangeLitsData("order")):this.$message.error("上传失败，请重试")}}},s=(n("9aY9"),n("KHd+")),u=Object(s.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bulk-shipment views-container"},[n("el-dialog",{attrs:{title:"批量发货",width:"40%",visible:t.csvloadTableVisible,"modal-append-to-body":!1},on:{"update:visible":function(e){t.csvloadTableVisible=e}}},[n("el-row",[n("el-col",{attrs:{span:24}},[n("el-tag",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{type:"warning"}},[t._v("请先导出发货订单，填好物流信息，再导入文件即可。")])],1),t._v(" "),n("el-col",{staticStyle:{"white-space":"nowrap"},attrs:{span:24}}),t._v(" "),n("el-col",{staticClass:"flex-row flex-align-c flex-justify-c",attrs:{span:24}},[n("el-button",{attrs:{size:"medium",type:"primary"},on:{click:t.importfxxData}},[t._v("确定")]),t._v(" "),n("el-button",{attrs:{size:"medium"},on:{click:function(e){t.csvloadTableVisible=!1}}},[t._v("取消")])],1)],1)],1),t._v(" "),n("div",{staticClass:"wlm-form"},[n("div",{staticClass:"wlm-form-header"},[t._v("批量发货")]),t._v(" "),n("el-radio-group",{staticClass:"wlm-form-header-radio",staticStyle:{"padding-bottom":"0"}},[n("div",{staticClass:"wlm-form-notice warning",staticStyle:{"margin-left":"-41px","margin-top":"-10px"}},[n("div",[t._v("\n          批量发货仅限待发货订单，重复导入数据将以最新导入的为准\n        ")])])]),t._v(" "),n("div",{staticClass:"wlm-form-content"},[n("el-form",{ref:t.formFormatData.key,staticClass:"retail-form",attrs:{model:t.formFormatData.formData,rules:t.formFormatData.rules,size:"small","label-width":"120px","label-position":"right"}},[n("el-form-item",{attrs:{label:"导入发货模版",prop:"username"}},[n("div",{staticClass:"flex-row"},[n("el-upload",{ref:"uploadcsv",staticClass:"upload-demo input-with-select fin-min-width",attrs:{action:t.pathUrl,"on-remove":t.certRemove,"before-remove":t.certbeforeRemove,"on-change":t.certchange,multiple:t.multiple,accept:t.accept,"auto-upload":!1,limit:1,"on-success":t.certsuccess,"on-exceed":t.certhandleExceed,"file-list":t.certfileList}},[n("el-input",{staticClass:"upload-file",attrs:{placeholder:"",readonly:""},model:{value:t.formFormatData.formData.title,callback:function(e){t.$set(t.formFormatData.formData,"title",e)},expression:"formFormatData.formData.title"}}),t._v(" "),n("el-button",{staticStyle:{"border-radius":"0 4px 4px 0","margin-left":"-5px"},attrs:{size:"small",type:"success",plain:""}},[t._v("点击上传")])],1),t._v(" "),n("div",[n("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:t.importfxxData}},[t._v("立即导入")])],1)],1),t._v(" "),n("el-button",{directives:[{name:"exceldown",rawName:"v-exceldown",value:{path:"addons/weliam_areashop/web/doc/批量发货模版.csv",isBase:!1},expression:"{path:'addons/weliam_areashop/web/doc/批量发货模版.csv', isBase: false}"}],attrs:{type:"text"}},[t._v("下载发货模板")]),t._v(" "),n("el-button",{directives:[{name:"exceldown",rawName:"v-exceldown",value:{path:"addons/weliam_areashop/web/doc/物流公司对照表.xls",isBase:!1},expression:"{path:'addons/weliam_areashop/web/doc/物流公司对照表.xls', isBase: false}"}],staticStyle:{"margin-left":"20px"},attrs:{type:"text"}},[t._v("下载物流公司列表")])],1)],1)],1)],1),t._v(" "),n("div",{staticClass:"wlm-fixed-btn flex-row flex-align-c flex-justify-c"},[n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.formFormatSubmit({router:{type:"replace",path:"/setting/returnAddressAdd",code:1}})}}},[t._v("保存")]),t._v(" "),n("router-link",{attrs:{tag:"span",to:"/user/managementUser"}},[n("el-button",{attrs:{size:"small"}},[t._v("返回")])],1)],1)],1)},[],!1,null,"3a8c9fad",null);u.options.__file="bulkShipment.vue";e.default=u.exports},fGEp:function(t,e,n){"use strict";var r=n("P2sY"),a=n.n(r),i=n("Qyje"),o=n.n(i),s=n("p46w"),u=n.n(s),c={bind:function(t,e,n){var r=a()({},e.value),i=r.path,s=r.isBase,c=void 0===s||s,d=r.query,l=""+(c&&u.a.get("BASE_API")||location.protocol+"//"+location.hostname+"/")+i;t.addEventListener("click",function(e){var n=t.dataset.query;d&&n&&a()(d,JSON.parse(n)),location.href=d?""+l+o.a.stringify(d):""+l},!1)}},d=function(t){t.directive("exceldown",c)};window.Vue&&(window.exceldown=c,Vue.use(d)),c.install=d;e.a=c},hoR8:function(t,e,n){"use strict";n.d(e,"v",function(){return o}),n.d(e,"x",function(){return s}),n.d(e,"H",function(){return u}),n.d(e,"z",function(){return c}),n.d(e,"y",function(){return d}),n.d(e,"A",function(){return l}),n.d(e,"F",function(){return f}),n.d(e,"G",function(){return m}),n.d(e,"u",function(){return p}),n.d(e,"w",function(){return g}),n.d(e,"E",function(){return h}),n.d(e,"B",function(){return b}),n.d(e,"n",function(){return v}),n.d(e,"a",function(){return y}),n.d(e,"h",function(){return w}),n.d(e,"s",function(){return x}),n.d(e,"o",function(){return j}),n.d(e,"l",function(){return O}),n.d(e,"m",function(){return _}),n.d(e,"j",function(){return D}),n.d(e,"i",function(){return C}),n.d(e,"r",function(){return k}),n.d(e,"q",function(){return S}),n.d(e,"p",function(){return F}),n.d(e,"D",function(){return E}),n.d(e,"c",function(){return I}),n.d(e,"d",function(){return L}),n.d(e,"e",function(){return B}),n.d(e,"k",function(){return G}),n.d(e,"g",function(){return A}),n.d(e,"b",function(){return R}),n.d(e,"I",function(){return T}),n.d(e,"C",function(){return $}),n.d(e,"f",function(){return z}),n.d(e,"t",function(){return U});var r=n("t3Un"),a=n("Qyje"),i=n.n(a);function o(t){return Object(r.a)({url:"/goodsclassEdit",method:"post",data:i.a.stringify(t)})}function s(t){return Object(r.a)({url:"/goodsclassIndex",method:"post",data:i.a.stringify(t)})}function u(t){return Object(r.a)({url:"/serviceIndex",method:"post",data:i.a.stringify(t)})}function c(t){return Object(r.a)({url:"/parameterEdit",method:"post",data:i.a.stringify(t)})}function d(t){return Object(r.a)({url:"/parameteGet",method:"post",data:i.a.stringify(t)})}function l(t){return Object(r.a)({url:"/parameterIndex",method:"post",data:i.a.stringify(t)})}function f(t){return Object(r.a)({url:"/serviceEdit",method:"post",data:i.a.stringify(t)})}function m(t){return Object(r.a)({url:"/serviceGet",method:"post",data:i.a.stringify(t)})}function p(t){return Object(r.a)({url:"/goodsclassDelete",method:"post",data:i.a.stringify(t)})}function g(t){return Object(r.a)({url:"/goodsclassGet",method:"post",data:i.a.stringify(t)})}function h(t){return Object(r.a)({url:"/serlistDelete",method:"post",data:i.a.stringify(t)})}function b(t){return Object(r.a)({url:"/parlistDelete",method:"post",data:i.a.stringify(t)})}function v(t){return Object(r.a)({url:"/goodsIndex",method:"post",data:i.a.stringify(t)})}function y(t){return Object(r.a)({url:"/categoryIndex",method:"post",data:i.a.stringify(t)})}function w(t){return Object(r.a)({url:"/goodsAdd",method:"post",data:i.a.stringify(t)})}function x(t){return Object(r.a)({url:"/goodsServeListAll",method:"post",data:i.a.stringify(t)})}function j(t){return Object(r.a)({url:"/goodsParamListAll",method:"post",data:i.a.stringify(t)})}function O(t){return Object(r.a)({url:"/goodsEdit",method:"post",data:i.a.stringify(t)})}function _(t){return Object(r.a)({url:"/goodsGet",method:"post",data:i.a.stringify(t)})}function D(t){return Object(r.a)({url:"/goodsDelivery",method:"post",data:i.a.stringify(t)})}function C(t){return Object(r.a)({url:"/goodsDelete",method:"post",data:i.a.stringify(t)})}function k(t){return Object(r.a)({url:"/goodsRegainDel",method:"post",data:i.a.stringify(t)})}function S(t){return Object(r.a)({url:"/goodsRegain",method:"post",data:i.a.stringify(t)})}function F(t){return Object(r.a)({url:"/goodsRecovery",method:"post",data:i.a.stringify(t)})}function E(t){return Object(r.a)({url:"/reviseStatus",method:"post",data:i.a.stringify(t)})}function I(t){return Object(r.a)({url:"/editGoodsName",method:"post",data:i.a.stringify(t)})}function L(t){return Object(r.a)({url:"/editGoodsPrice",method:"post",data:i.a.stringify(t)})}function B(t){return Object(r.a)({url:"/editStockNum",method:"post",data:i.a.stringify(t)})}function G(t){return Object(r.a)({url:"/goodsDown",method:"post",data:i.a.stringify(t)})}function A(t){return Object(r.a)({url:"/getCommentList",method:"post",data:i.a.stringify(t)})}function R(t){return Object(r.a)({url:"/delComment",method:"post",data:i.a.stringify(t)})}function T(t){return Object(r.a)({url:"/setCommentShow",method:"post",data:i.a.stringify(t)})}function $(t){return Object(r.a)({url:"/replyComment",method:"post",data:i.a.stringify(t)})}function z(t){return Object(r.a)({url:"/getCommentDetail",method:"post",data:i.a.stringify(t)})}function U(t){return Object(r.a)({url:"/goodsUpper",method:"post",data:i.a.stringify(t)})}},"j1+7":function(t,e,n){},kbZS:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"d",function(){return s}),n.d(e,"c",function(){return u}),n.d(e,"b",function(){return c});var r=n("t3Un"),a=n("Qyje"),i=n.n(a);function o(t){var e=t.getwebPath;return Object(r.a)({url:"/m=utility&do=grab_image&token=2302018081011184865072836&url="+e,method:"get",params:{}})}function s(t){return Object(r.a)({url:"/uploadListImg",method:"post",data:i.a.stringify(t)})}function u(t){return Object(r.a)({url:"/outUpload",method:"post",data:i.a.stringify(t)})}function c(t){return Object(r.a)({url:"/orderInput",method:"post",data:t})}}}]);