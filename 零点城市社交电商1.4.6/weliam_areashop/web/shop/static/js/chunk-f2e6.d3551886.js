(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-f2e6"],{"0pU6":function(t,a,e){"use strict";var n=e("sp67");e.n(n).a},"6Awj":function(t,a,e){"use strict";e.r(a);var n=e("bfoT"),r=e("ZySA"),s={mixins:[e("UC6z").a.getters("Form")],name:"WeChatPublicChannel",components:{},directives:{waves:r.a},filters:{},created:function(){},data:function(){return{type:{1:"订阅号",2:"认证订阅号",3:"服务号",4:"认证服务号/认证政府订阅号/认证媒体订阅号"},formFormatData:{key:"weChatPublicChannel",api:{editForm:{api:n.a,params:{type:"wechat",always:!0}}},autofocusType:1,isOpendSetting:!1,formData:{type:"wechat",channel:{wechat:{name:"",type:"",AppId:"",AppSecret:"",logo:[],qrcode:[],switch:"0"}}},rules:{}}}},methods:{formFormatCallBack:function(t,a,e){if("editForm"===a){var n=e.data.data,r=void 0===n?[]:n,s=!Array.isArray(r);this.formFormatData.isOpendSetting=s}},open:function(){var t=this;this.$alert("是否需要绑定其它微信公众号？","通知",{showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消",callback:function(a){"confirm"===a&&t.$router.push({path:"/channel/weChatPublicChannelAdd?"})}})},switchChannel:function(){var t=this;this.formFormatData.isOpendSetting?Object(n.b)(this.formFormatData.formData).then(function(a){1===a.data.code&&t.$message.success("保存成功！~")}):(this.$message.error("请先接入微信公众号再开启！~"),this.formFormatData.formData.channel.wechat.switch="0")}}},o=(e("0pU6"),e("KHd+")),i=Object(o.a)(s,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"we-chat-public-channel views-container"},[e("div",{staticClass:"wlm-table"},[e("div",{staticClass:"warning"},[e("div",{staticClass:"flex-row flex-justify-b flex-align-c"},[t._m(0),t._v(" "),e("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},on:{change:t.switchChannel},model:{value:t.formFormatData.formData.channel.wechat.switch,callback:function(a){t.$set(t.formFormatData.formData.channel.wechat,"switch",a)},expression:"formFormatData.formData.channel.wechat.switch"}})],1)]),t._v(" "),e("div",{staticClass:"wlm-form"},[e("section",[e("div",{staticClass:"wlm-form-content channel-card"},[t.formFormatData.isOpendSetting?e("el-form",{ref:t.formFormatData.key,staticClass:"retail-form",attrs:{model:t.formFormatData.formData,rules:t.formFormatData.rules,size:"small","label-width":"140px","label-position":"right"}},[e("el-form-item",{attrs:{label:"公众号名称",prop:"username"}},[e("span",[t._v(t._s(t.formFormatData.formData.channel.wechat.name))])]),t._v(" "),e("el-form-item",{attrs:{label:"公众号类型",prop:"nickname"}},[e("span",[t._v(t._s(t.type[t.formFormatData.formData.channel.wechat.type]))])]),t._v(" "),e("el-form-item",{attrs:{label:"AppId",prop:"password"}},[e("span",[t._v(t._s(t.formFormatData.formData.channel.wechat.AppId))]),t._v(" "),e("el-button",{staticClass:"orders-blue",attrs:{type:"text"},on:{click:t.open}},[t._v("绑定其他公众号")])],1),t._v(" "),e("el-form-item",{attrs:{label:"AppSecret",prop:"repassword"}},[e("span",[t._v(t._s(t.formFormatData.formData.channel.wechat.AppSecret))])]),t._v(" "),e("el-form-item",{attrs:{label:"公众号头像",prop:"repassword"}},[e("img",{staticClass:"wlm-upload-img",attrs:{src:t.formFormatData.formData.channel.wechat.logo[0].file_path}})]),t._v(" "),e("el-form-item",{staticClass:"slider",attrs:{label:"二维码",prop:"repassword"}},[e("img",{staticClass:"wlm-upload-img",attrs:{src:t.formFormatData.formData.channel.wechat.qrcode[0].file_path}})])],1):e("div",{staticClass:"status-main pos-center"},[e("div",{staticClass:"flex-row flex-justify-c"},[e("div",{staticClass:"flex-col"},[e("router-link",{attrs:{tag:"span",to:"/channel/weChatPublicChannelAdd"}},[e("el-button",{staticClass:"status-main-btn",staticStyle:{background:"rgb(104, 211, 135)",border:"none"},attrs:{type:"success"}},[e("i",[e("svg-icon",{staticClass:"status-main-svg",attrs:{"icon-class":"wechat"}})],1),t._v("  立即接入")])],1),t._v(" "),e("div",{staticClass:"flex-row flex-justify-e mar-top-4"},[e("div",[t._v("没有公众号，去"),e("a",{staticClass:"alink-blue",attrs:{target:"_blank",href:"https://mp.weixin.qq.com/"}},[t._v("注册")])])])],1)])])],1)])])])])},[function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("p",{staticClass:"warning-title"},[this._v("微信公众号")]),this._v(" "),a("p",{staticStyle:{"margin-top":"10px"}},[this._v("绑定微信公众号，将平台与微信公众号打通")])])}],!1,null,"45bf4960",null);i.options.__file="weChatPublicChannel.vue";a.default=i.exports},ZySA:function(t,a,e){"use strict";var n=e("P2sY"),r=e.n(n),s=(e("jUE0"),{bind:function(t,a){t.addEventListener("click",function(e){var n=r()({},a.value),s=r()({ele:t,type:"hit",color:"rgba(0, 0, 0, 0.15)"},n),o=s.ele;if(o){o.style.position="relative",o.style.overflow="hidden";var i=o.getBoundingClientRect(),c=o.querySelector(".waves-ripple");switch(c?c.className="waves-ripple":((c=document.createElement("span")).className="waves-ripple",c.style.height=c.style.width=Math.max(i.width,i.height)+"px",o.appendChild(c)),s.type){case"center":c.style.top=i.height/2-c.offsetHeight/2+"px",c.style.left=i.width/2-c.offsetWidth/2+"px";break;default:c.style.top=(e.pageY-i.top-c.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",c.style.left=(e.pageX-i.left-c.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return c.style.backgroundColor=s.color,c.className="waves-ripple z-active",!1}},!1)}}),o=function(t){t.directive("waves",s)};window.Vue&&(window.waves=s,Vue.use(o)),s.install=o;a.a=s},bfoT:function(t,a,e){"use strict";e.d(a,"b",function(){return o}),e.d(a,"i",function(){return i}),e.d(a,"a",function(){return c}),e.d(a,"e",function(){return l}),e.d(a,"d",function(){return f}),e.d(a,"h",function(){return u}),e.d(a,"g",function(){return p}),e.d(a,"f",function(){return m}),e.d(a,"c",function(){return d});var n=e("t3Un"),r=e("Qyje"),s=e.n(r);function o(t){return Object(n.a)({url:"/channelSave",method:"post",data:s.a.stringify(t)})}function i(t){return Object(n.a)({url:"/wxappIndex",method:"post",data:s.a.stringify(t)})}function c(t){return Object(n.a)({url:"/channelGet",method:"post",data:s.a.stringify(t)})}function l(t){return Object(n.a)({url:"/setWxAppIdInfo",method:"post",data:s.a.stringify(t)})}function f(t){return Object(n.a)({url:"/getWxAppIdInfo",method:"post",data:s.a.stringify(t)})}function u(t){return Object(n.a)({url:"/uploadWxAppLogin",method:"post",data:s.a.stringify(t)})}function p(t){return Object(n.a)({url:"/uploadWxAppGetLoginInfo",method:"post",data:s.a.stringify(t)})}function m(t){return Object(n.a)({url:"/uploadWxAppCode",method:"post",data:s.a.stringify(t)})}function d(t){return Object(n.a)({url:"/getEditionInfo",method:"post",data:s.a.stringify(t)})}},jUE0:function(t,a,e){},sp67:function(t,a,e){}}]);