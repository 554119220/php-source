(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-d2ba"],{"34Xh":function(e,t,a){"use strict";var l=a("oh81");a.n(l).a},ZySA:function(e,t,a){"use strict";var l=a("P2sY"),s=a.n(l),r=(a("jUE0"),{bind:function(e,t){e.addEventListener("click",function(a){var l=s()({},t.value),r=s()({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},l),i=r.ele;if(i){i.style.position="relative",i.style.overflow="hidden";var o=i.getBoundingClientRect(),n=i.querySelector(".waves-ripple");switch(n?n.className="waves-ripple":((n=document.createElement("span")).className="waves-ripple",n.style.height=n.style.width=Math.max(o.width,o.height)+"px",i.appendChild(n)),r.type){case"center":n.style.top=o.height/2-n.offsetHeight/2+"px",n.style.left=o.width/2-n.offsetWidth/2+"px";break;default:n.style.top=(a.pageY-o.top-n.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",n.style.left=(a.pageX-o.left-n.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return n.style.backgroundColor=r.color,n.className="waves-ripple z-active",!1}},!1)}}),i=function(e){e.directive("waves",r)};window.Vue&&(window.waves=r,Vue.use(i)),r.install=i;t.a=r},aQsD:function(e,t,a){"use strict";a.r(t);var l=a("wk8/"),s=a("ZySA"),r={mixins:[a("UC6z").a.getters("Table")],name:"ManagementUser",components:{},directives:{waves:s.a},computed:{},data:function(){return{tableFormatData:{current:"userTable",userTable:{key:"userTable",api:{getList:l.i,delList:l.g},tableData:[],files:{keyword:"",source:"0",status:"0",time:[],ids:[],redirect:"user_id",checkall:"0"},change:{userOp:{name:"编辑",key:"status",api:l.l}},options:{status:[{lable:"全部",value:""},{lable:"正常",value:"normal"},{lable:"禁用",value:"hidden"}]},pagination:{page:1,list_rows:10,pagesizes:[10,20,50],total:0}}}}},created:function(){},methods:{setUserMerge:function(){var e=this;Object(l.k)().then(function(t){var a=t.data,l=a.msg;1===a.code?e.$message.success(l):e.$message.error(l)})}}},i=(a("34Xh"),a("KHd+")),o=Object(i.a)(r,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"management-user views-container"},[a("div",{staticClass:"wlm-table"},[a("div",{staticClass:"wlm-table-header"},[a("el-form",{staticClass:"retail-form",attrs:{model:e.tableFormatData.userTable.files,size:"small","label-width":"85px","label-position":"right"}},[a("el-form-item",{staticClass:"filter",attrs:{label:""}},[a("el-form-item",{staticClass:"search",attrs:{label:"用户："}},[a("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入昵称或手机号"},model:{value:e.tableFormatData.userTable.files.keyword,callback:function(t){e.$set(e.tableFormatData.userTable.files,"keyword",t)},expression:"tableFormatData.userTable.files.keyword"}})],1),e._v(" "),a("el-form-item",{staticClass:"filter",attrs:{label:"黑名单："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.tableFormatData.userTable.files.status,callback:function(t){e.$set(e.tableFormatData.userTable.files,"status",t)},expression:"tableFormatData.userTable.files.status"}},e._l([{lable:"全部",value:"0"},{lable:"是",value:"3"},{lable:"否",value:"1"}],function(e){return a("el-option",{key:e.value,attrs:{label:e.lable,value:e.value}})}))],1)],1),e._v(" "),a("el-form-item",{staticClass:"filter",attrs:{label:""}},[a("el-form-item",{attrs:{label:"注册来源："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.tableFormatData.userTable.files.source,callback:function(t){e.$set(e.tableFormatData.userTable.files,"source",t)},expression:"tableFormatData.userTable.files.source"}},e._l([{lable:"全部",value:"0"},{lable:"微信小程序",value:"2"},{lable:"H5",value:"3"},{lable:"微信公众号",value:"4"}],function(e){return a("el-option",{key:e.value,attrs:{label:e.lable,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"注册时间："}},[a("el-date-picker",{attrs:{"value-format":"timestamp",type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.tableFormatData.userTable.files.time,callback:function(t){e.$set(e.tableFormatData.userTable.files,"time",t)},expression:"tableFormatData.userTable.files.time"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"filter-btns",attrs:{label:""}},[a("div",{staticClass:"flex-row flex-justify-b",staticStyle:{width:"100%"}},[a("div",[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary"},on:{click:e.filesSerch}},[e._v("筛选")]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:e.filesEmpty}},[e._v("清空筛选条件")])],1),e._v(" "),a("div",[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"合并相同手机号的用户数据",placement:"bottom"}},[a("el-button",{attrs:{plain:""},on:{click:e.setUserMerge}},[e._v("合并用户数据")])],1)],1)])])],1)],1),e._v(" "),a("div",{staticClass:"wlm-table-content"},[a("el-table",{ref:e.tableFormatData.userTable.key,attrs:{data:e.tableFormatData.userTable.tableData},on:{"selection-change":e.handleSelectionChange}},[e._v(' style="width: 100%">\r\n                '),a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"date",label:"用户",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"flex-row"},[a("img",{staticStyle:{"margin-right":"10px"},attrs:{width:"50",height:"50",src:t.row.avatarUrl||e.$store.getters.usersAvatar}}),e._v(" "),a("div",{staticClass:"text-left"},[a("p",[e._v(e._s(t.row.nickName||"-"))]),e._v(" "),a("p",[e._v(e._s("ID："+t.row.user_id||"-"))])])])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"date",label:"手机号码",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return t.row.mobile?[a("span",[e._v(e._s(t.row.mobile||"-"))])]:void 0}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"消费次数",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(String(t.row.pay_order)||"-"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"消费金额",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"orders-red"},[e._v(e._s(t.row.pay_money||"-"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"注册时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.create_time))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"operation-group"},[a("router-link",{staticClass:"wlm-text",attrs:{tag:"span",to:{path:"/user/managementUserEdit",query:{user_id:t.row.user_id}}}},[a("el-button",{attrs:{type:"text"}},[e._v("查看")])],1),e._v(" "),a("div",{staticClass:"btn-line"}),e._v(" "),a("el-button",{staticClass:"wlm-text",attrs:{type:"text"},on:{click:function(a){e.changeTableItemToggle(t.row,{op:3===t.row.status?"setOutBlackList":"setInBlackList"},e.tableFormatData.userTable.change.userOp)}}},[e._v(e._s(3===t.row.status?"移除黑名单":"加入黑名单"))])],1)]}}])})],1),e._v(" "),a("div",{staticClass:"pagination-content flex-row flex-justify-b flex-align-c"},[a("el-row",{staticClass:"pagination-btns"},[a("el-checkbox",{staticClass:"check-all",attrs:{"true-label":"1","false-label":"0"},on:{change:e.toggleSelection},model:{value:e.tableFormatData.userTable.files.checkall,callback:function(t){e.$set(e.tableFormatData.userTable.files,"checkall",t)},expression:"tableFormatData.userTable.files.checkall"}},[e._v("全部")])],1),e._v(" "),a("el-pagination",{attrs:{disabled:!e.hasTableData,"current-page":e.tableFormatData.userTable.pagination.page,"page-sizes":e.tableFormatData.userTable.pagination.pagesizes,"page-size":e.tableFormatData.userTable.pagination.list_rows,layout:"total, sizes, prev, pager, next, jumper",total:e.hasTableData?e.tableFormatData.userTable.pagination.total:0},on:{"size-change":e.listPageChange,"current-change":e.listPageChange,"update:currentPage":function(t){e.$set(e.tableFormatData.userTable.pagination,"page",t)},"update:pageSize":function(t){e.$set(e.tableFormatData.userTable.pagination,"list_rows",t)}}})],1)],1)])])},[],!1,null,"9716147a",null);o.options.__file="managementUser.vue";t.default=o.exports},jUE0:function(e,t,a){},oh81:function(e,t,a){}}]);