(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0a3a"],{"3EJa":function(t,a,e){},OyP2:function(t,a,e){"use strict";var o=e("3EJa");e.n(o).a},hoR8:function(t,a,e){"use strict";e.d(a,"v",function(){return i}),e.d(a,"x",function(){return s}),e.d(a,"H",function(){return l}),e.d(a,"z",function(){return u}),e.d(a,"y",function(){return c}),e.d(a,"A",function(){return d}),e.d(a,"F",function(){return f}),e.d(a,"G",function(){return m}),e.d(a,"u",function(){return p}),e.d(a,"w",function(){return g}),e.d(a,"E",function(){return b}),e.d(a,"B",function(){return h}),e.d(a,"n",function(){return v}),e.d(a,"a",function(){return _}),e.d(a,"h",function(){return y}),e.d(a,"s",function(){return w}),e.d(a,"o",function(){return D}),e.d(a,"l",function(){return k}),e.d(a,"m",function(){return x}),e.d(a,"j",function(){return j}),e.d(a,"i",function(){return O}),e.d(a,"r",function(){return C}),e.d(a,"q",function(){return F}),e.d(a,"p",function(){return S}),e.d(a,"D",function(){return $}),e.d(a,"c",function(){return G}),e.d(a,"d",function(){return I}),e.d(a,"e",function(){return T}),e.d(a,"k",function(){return E}),e.d(a,"g",function(){return R}),e.d(a,"b",function(){return V}),e.d(a,"I",function(){return L}),e.d(a,"C",function(){return P}),e.d(a,"f",function(){return z}),e.d(a,"t",function(){return A});var o=e("t3Un"),r=e("Qyje"),n=e.n(r);function i(t){return Object(o.a)({url:"/goodsclassEdit",method:"post",data:n.a.stringify(t)})}function s(t){return Object(o.a)({url:"/goodsclassIndex",method:"post",data:n.a.stringify(t)})}function l(t){return Object(o.a)({url:"/serviceIndex",method:"post",data:n.a.stringify(t)})}function u(t){return Object(o.a)({url:"/parameterEdit",method:"post",data:n.a.stringify(t)})}function c(t){return Object(o.a)({url:"/parameteGet",method:"post",data:n.a.stringify(t)})}function d(t){return Object(o.a)({url:"/parameterIndex",method:"post",data:n.a.stringify(t)})}function f(t){return Object(o.a)({url:"/serviceEdit",method:"post",data:n.a.stringify(t)})}function m(t){return Object(o.a)({url:"/serviceGet",method:"post",data:n.a.stringify(t)})}function p(t){return Object(o.a)({url:"/goodsclassDelete",method:"post",data:n.a.stringify(t)})}function g(t){return Object(o.a)({url:"/goodsclassGet",method:"post",data:n.a.stringify(t)})}function b(t){return Object(o.a)({url:"/serlistDelete",method:"post",data:n.a.stringify(t)})}function h(t){return Object(o.a)({url:"/parlistDelete",method:"post",data:n.a.stringify(t)})}function v(t){return Object(o.a)({url:"/goodsIndex",method:"post",data:n.a.stringify(t)})}function _(t){return Object(o.a)({url:"/categoryIndex",method:"post",data:n.a.stringify(t)})}function y(t){return Object(o.a)({url:"/goodsAdd",method:"post",data:n.a.stringify(t)})}function w(t){return Object(o.a)({url:"/goodsServeListAll",method:"post",data:n.a.stringify(t)})}function D(t){return Object(o.a)({url:"/goodsParamListAll",method:"post",data:n.a.stringify(t)})}function k(t){return Object(o.a)({url:"/goodsEdit",method:"post",data:n.a.stringify(t)})}function x(t){return Object(o.a)({url:"/goodsGet",method:"post",data:n.a.stringify(t)})}function j(t){return Object(o.a)({url:"/goodsDelivery",method:"post",data:n.a.stringify(t)})}function O(t){return Object(o.a)({url:"/goodsDelete",method:"post",data:n.a.stringify(t)})}function C(t){return Object(o.a)({url:"/goodsRegainDel",method:"post",data:n.a.stringify(t)})}function F(t){return Object(o.a)({url:"/goodsRegain",method:"post",data:n.a.stringify(t)})}function S(t){return Object(o.a)({url:"/goodsRecovery",method:"post",data:n.a.stringify(t)})}function $(t){return Object(o.a)({url:"/reviseStatus",method:"post",data:n.a.stringify(t)})}function G(t){return Object(o.a)({url:"/editGoodsName",method:"post",data:n.a.stringify(t)})}function I(t){return Object(o.a)({url:"/editGoodsPrice",method:"post",data:n.a.stringify(t)})}function T(t){return Object(o.a)({url:"/editStockNum",method:"post",data:n.a.stringify(t)})}function E(t){return Object(o.a)({url:"/goodsDown",method:"post",data:n.a.stringify(t)})}function R(t){return Object(o.a)({url:"/getCommentList",method:"post",data:n.a.stringify(t)})}function V(t){return Object(o.a)({url:"/delComment",method:"post",data:n.a.stringify(t)})}function L(t){return Object(o.a)({url:"/setCommentShow",method:"post",data:n.a.stringify(t)})}function P(t){return Object(o.a)({url:"/replyComment",method:"post",data:n.a.stringify(t)})}function z(t){return Object(o.a)({url:"/getCommentDetail",method:"post",data:n.a.stringify(t)})}function A(t){return Object(o.a)({url:"/goodsUpper",method:"post",data:n.a.stringify(t)})}},slWK:function(t,a,e){"use strict";e.d(a,"e",function(){return i}),e.d(a,"g",function(){return s}),e.d(a,"c",function(){return l}),e.d(a,"d",function(){return u}),e.d(a,"h",function(){return c}),e.d(a,"m",function(){return d}),e.d(a,"l",function(){return f}),e.d(a,"n",function(){return m}),e.d(a,"o",function(){return p}),e.d(a,"f",function(){return g}),e.d(a,"a",function(){return b}),e.d(a,"b",function(){return h}),e.d(a,"k",function(){return v}),e.d(a,"i",function(){return _}),e.d(a,"j",function(){return y});var o=e("t3Un"),r=e("Qyje"),n=e.n(r);function i(t){return Object(o.a)({url:"/couponEditOrAdd",method:"post",data:n.a.stringify(t)})}function s(t){return Object(o.a)({url:"/couponList",method:"post",data:n.a.stringify(t)})}function l(t){return Object(o.a)({url:"/couponDelete",method:"post",data:n.a.stringify(t)})}function u(t){return Object(o.a)({url:"/couponDetail",method:"post",data:n.a.stringify(t)})}function c(t){return Object(o.a)({url:"/couponOp",method:"post",data:n.a.stringify(t)})}function d(t){return Object(o.a)({url:"/smsSave",method:"post",data:n.a.stringify(t)})}function f(t){return Object(o.a)({url:"/smsGet",method:"post",data:n.a.stringify(t)})}function m(t){return Object(o.a)({url:"/smsTplGet",method:"post",data:n.a.stringify(t)})}function p(t){return Object(o.a)({url:"/smsTplSave",method:"post",data:n.a.stringify(t)})}function g(t){return Object(o.a)({url:"/couponInfo",method:"post",data:n.a.stringify(t)})}function b(t){return Object(o.a)({url:"/ReceiveInfoList",method:"post",data:n.a.stringify(t)})}function h(t){return Object(o.a)({url:"/addSpike",method:"post",data:n.a.stringify(t)})}function v(t){return Object(o.a)({url:"/getSpikeList",method:"post",data:n.a.stringify(t)})}function _(t){return Object(o.a)({url:"/delSpikeList",method:"post",data:n.a.stringify(t)})}function y(t){return Object(o.a)({url:"/getEditData",method:"post",data:n.a.stringify(t)})}},te6r:function(t,a,e){"use strict";e.r(a);var o=e("m1cH"),r=e.n(o),n=e("gDS+"),i=e.n(n),s=e("vooH"),l=e("slWK"),u={mixins:[e("UC6z").a.getters("Form")],name:"SpikeMarketingAdd",components:{ChooseGoods:s.a},computed:{getPath:function(){return function(t){return t.includes("https://")||t.includes("http://")?""+t:e("XzFy")("./"+t)}}},data:function(){return{$index:-1,dialogTableVisible:!1,dialogVisibleImg:!1,imgPath:"",goodsName:"",currentRow:[],chooseGoodsConfig:{type:["chooseGoods"],model:"normal",initList:[]},platformConfig:{type:["image"],initList:[],isMore:!1,bindKey:{key:"image",model:"img"}},chooseData:[],formFormatData:{key:"userForm",model:{noCreateEdit:!1,bindDialog:"dialogTableVisible"},api:{editForm:{api:l.j,params:{id:""},filters:{choose:{bindInit:["chooseGoodsConfig"]}}},submitForm:l.b},formData:{title:"",span:"",limit:"",time:[],channel:[],is_distribution:1,goods:[]},rules:{}}}},methods:{saveForm:function(){""!==this.couponId&&0!==this.formFormatData.formData.couponData.suit_goods_type?this.$refs.chooseGoods.output():this.formFormatData.formData.suit_goods=[],this.formFormatSubmit({router:{type:"replace",path:"/application/couponMarketing",code:1}})},filtersChange:function(t){var a=this;this.currentRow=t.currentRow;var e=t.displayData;e.map(function(t){t.attr=JSON.parse(i()([].concat(r()(t.sku)))),t.attr.map(function(a){10===t.spec_type?a.spec_id=-1:20===t.spec_type&&(a.spec_id=a.goods_sku_id),a.price="",a.stock="",a.is_use=1})}),e.map(function(t){-1===a.formFormatData.formData.goods.findIndex(function(a){return a.goods_id===t.goods_id})&&a.formFormatData.formData.goods.push(t)})},goodsToogle:function(){this.$refs.chooseGoods.currentRow=this.currentRow,this.$refs.chooseGoods.toggle()},deleteTable:function(t){this.formFormatData.formData.goods.splice(t.$index,1),this.currentRow.splice(t.$index,1)},showDialog:function(t,a,e){t&&(this.$index=t.$index,this.imgPath=a,this.goodsName=e,this.dialogTableVisible=!0)}}},c=(e("OyP2"),e("KHd+")),d=Object(c.a)(u,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"spike-marketing-add views-container"},[e("el-dialog",{attrs:{visible:t.dialogVisibleImg,width:"50%","custom-class":"reset-pwd wlm-form-dialog dialog-table"},on:{"update:visible":function(a){t.dialogVisibleImg=a}}},[e("div",{staticClass:"wlm-form"},[e("div",{staticClass:"wlm-form-header wlm-dialog-fixheader"},[e("span",{staticClass:"wlm-dialog-inlenr"},[t._v("活动标签")])]),t._v(" "),e("div",{staticClass:"flex-row flex-justify-c",staticStyle:{margin:"20px 0"}},[e("img",{attrs:{height:"600",src:t.getPath("miaosha.jpg"),alt:""}})])])]),t._v(" "),e("el-dialog",{attrs:{width:"60%",visible:t.dialogTableVisible,"custom-class":"reset-pwd wlm-form-dialog dialog-table"},on:{close:t.resetDialogFormData,"update:visible":function(a){t.dialogTableVisible=a}}},[t.dialogTableVisible?e("div",{staticClass:"wlm-form"},[e("div",{staticClass:"wlm-form-header wlm-dialog-fixheader"},[e("span",{staticClass:"wlm-dialog-inlenr"},[t._v("设置秒杀")])]),t._v(" "),e("el-scrollbar",{attrs:{"wrap-class":"scrollbar-wrapper"}},[e("div",{staticClass:"wlm-form-content"},[e("div",{staticClass:"wlm-dialog-main"},[t.formFormatData.formData.goods[t.$index]?e("div",{staticClass:"wlm-dialog-content"},[e("div",{staticClass:"flex-row flex-align-c",staticStyle:{"margin-bottom":"10px"}},[e("span",{staticStyle:{"margin-right":"10px"}},[t._v("当前商品")]),t._v(" "),e("img",{staticStyle:{margin:"0 6px"},attrs:{height:"50",width:"50",src:t.imgPath,alt:""}}),t._v(" "),e("p",[t._v(t._s(t.goodsName))])]),t._v(" "),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.formFormatData.formData.goods[t.$index].attr}},[e("el-table-column",{attrs:{prop:"date",label:"商品规格"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",[t._v(t._s(a.row.title))])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"date",label:"价格"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",[t._v(t._s(a.row.goods_price))])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"date",label:"库存"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",[t._v(t._s(a.row.stock_num))])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"name",label:"秒杀价"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-input",{staticStyle:{width:"110px"},model:{value:a.row.price,callback:function(e){t.$set(a.row,"price",e)},expression:"scope.row.price"}})]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"name",label:"秒杀库存"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-input",{staticStyle:{width:"110px"},model:{value:a.row.stock,callback:function(e){t.$set(a.row,"stock",e)},expression:"scope.row.stock"}})]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"name",label:"是否秒杀"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-switch",{attrs:{"active-value":1,"inactive-value":2},model:{value:a.row.is_use,callback:function(e){t.$set(a.row,"is_use",e)},expression:"scope.row.is_use"}})]}}])})],1)],1):t._e()])])])],1):t._e(),t._v(" "),e("footer",{staticClass:"flex-row flex-align-c flex-justify-c wlm-dialog-fixfooter"},[e("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){t.dialogTableVisible=!1}}},[t._v("确定")])],1)]),t._v(" "),e("div",{staticClass:"wlm-form"},[e("div",{staticClass:"wlm-form-header"},[t._v(t._s((t.formFormatData.api.editForm.params.id?"编辑":"添加")+"秒杀"))]),t._v(" "),e("div",{staticClass:"wlm-form-content"},[e("el-form",{ref:t.formFormatData.key,staticClass:"retail-form",attrs:{disabled:t.$route.query.disabled,model:t.formFormatData.formData,rules:t.formFormatData.rules,size:"small","label-width":"120px","label-position":"right"}},[e("el-form-item",{attrs:{label:"活动名称"}},[e("el-input",{model:{value:t.formFormatData.formData.title,callback:function(a){t.$set(t.formFormatData.formData,"title","string"==typeof a?a.trim():a)},expression:"formFormatData.formData.title"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"活动标签"}},[e("el-input",{staticStyle:{display:"block"},model:{value:t.formFormatData.formData.span,callback:function(a){t.$set(t.formFormatData.formData,"span",a)},expression:"formFormatData.formData.span"}}),t._v(" "),e("div",[e("span",{staticClass:"form-help"},[t._v("展示在商品详情页 ")]),e("el-button",{attrs:{type:"text"},on:{click:function(a){t.dialogVisibleImg=!0}}},[t._v("点击查看示例")])],1)],1),t._v(" "),e("el-form-item",{attrs:{label:"活动时间"}},[e("el-date-picker",{staticStyle:{width:"360px"},attrs:{"value-format":"timestamp",type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.formFormatData.formData.time,callback:function(a){t.$set(t.formFormatData.formData,"time",a)},expression:"formFormatData.formData.time"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"活动渠道"}},[e("el-checkbox-group",{model:{value:t.formFormatData.formData.channel,callback:function(a){t.$set(t.formFormatData.formData,"channel",a)},expression:"formFormatData.formData.channel"}},[e("el-checkbox",{attrs:{label:"0"}},[t._v("小程序")])],1)],1),t._v(" "),e("el-form-item",{attrs:{label:"每人限购"}},[e("el-input",{staticStyle:{width:"120px"},model:{value:t.formFormatData.formData.limit,callback:function(a){t.$set(t.formFormatData.formData,"limit",a)},expression:"formFormatData.formData.limit"}},[e("template",{slot:"append"},[t._v("件")])],2),t._v(" "),e("div",{staticClass:"form-help"},[t._v("针对一种商品的购买数量")])],1),t._v(" "),e("el-form-item",{attrs:{label:"是否分销"}},[e("el-radio-group",{model:{value:t.formFormatData.formData.is_distribution,callback:function(a){t.$set(t.formFormatData.formData,"is_distribution",a)},expression:"formFormatData.formData.is_distribution"}},[e("el-radio",{attrs:{label:1}},[t._v("分销")]),t._v(" "),e("el-radio",{attrs:{label:2}},[t._v("不分销")])],1),t._v(" "),e("div",{staticClass:"form-help"},[t._v("选择分销，佣金比例按照默认规则")])],1),t._v(" "),e("el-form-item",{attrs:{label:"秒杀商品"}},[e("choose-goods",{ref:"chooseGoods",attrs:{config:t.chooseGoodsConfig,changeEvt:t.filtersChange}}),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.goodsToogle}},[t._v("秒杀商品")]),t._v(" "),e("div",{staticClass:"form-help"},[t._v("选择参加秒杀的商品")]),t._v(" "),""!=t.formFormatData.formData.goods?e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.formFormatData.formData.goods}},[e("el-table-column",{attrs:{prop:"date",label:"商品"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"flex-row"},[a.row.image&&a.row.image[0]?e("img",{staticClass:"logo",attrs:{src:a.row.image[0].file_path}}):t._e(),t._v(" "),e("div",{staticClass:"inner-text"},[e("p",[t._v(t._s(a.row.goods_name))]),t._v(" "),e("span",[t._v("￥:"+t._s(a.row.attr[0].goods_price))])])])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"date",label:"库存"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",[t._v(t._s(a.row.stock))])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"name",label:"秒杀设置"},scopedSlots:t._u([{key:"default",fn:function(a){return[-1!=a.row.attr[0].spec_id?e("div",[e("el-button",{attrs:{plain:""},on:{click:function(e){t.showDialog(a,a.row.image[0].file_path,a.row.goods_name)}}},[t._v("设置秒杀价与库存")])],1):t._e(),t._v(" "),-1==a.row.attr[0].spec_id?e("div",{staticClass:"flex-row"},[e("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"秒杀价"},model:{value:a.row.attr[0].price,callback:function(e){t.$set(a.row.attr[0],"price",e)},expression:"scope.row.attr[0]['price']"}}),t._v(" "),e("el-input",{staticStyle:{width:"200px","margin-left":"20px"},attrs:{placeholder:"秒杀库存"},model:{value:a.row.attr[0].stock,callback:function(e){t.$set(a.row.attr[0],"stock",e)},expression:"scope.row.attr[0]['stock']"}})],1):t._e()]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"operation-group"},[e("el-button",{staticClass:"wlm-text",attrs:{type:"text"},on:{click:function(e){t.deleteTable(a)}}},[t._v("删除")])],1)]}}])})],1):t._e()],1)],1)],1)]),t._v(" "),e("div",{staticClass:"wlm-fixed-btn flex-row flex-align-c flex-justify-c"},[e("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){t.formFormatSubmit({router:{type:"replace",path:"/application/spikeMarketing",code:1}})}}},[t._v("保存")]),t._v(" "),e("router-link",{attrs:{tag:"span",to:"/application/spikeMarketing"}},[e("el-button",{attrs:{size:"small"}},[t._v("返回")])],1)],1)],1)},[],!1,null,"639e6f15",null);d.options.__file="spikeMarketingAdd.vue";a.default=d.exports}}]);