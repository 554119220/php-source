(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5d8c"],{"+4a4":function(t,e,a){"use strict";var r=a("+uH7");a.n(r).a},"+uH7":function(t,e,a){},ESL9:function(t,e,a){"use strict";a.r(e);var r=a("GQeE"),o=a.n(r),i=a("hJLm"),s=a("ZySA"),n=a("UC6z"),l={mixins:[n.a.getters("Table"),n.a.getters("Form")],name:"WeChatPublicMenu",components:{},directives:{waves:s.a},created:function(){var t=this;Object(i.r)({bus_id:this.$route.query.bus_id}).then(function(e){var a=e.data.data,r=void 0===a?{}:a;t.selecStoreData=r})},data:function(){return{passwordCopy:"",passwordType:"password",initChooseUser:{closable:!0,saveList:[]},dialogTableVisible:!1,selecUseData:[],selecStoreData:[],formFormatData:{key:"user",model:{noCreateEdit:!1,hasMessage:!1,closeDialog:!1,bindDialog:"dialogTableVisible"},api:{editForm:{api:i.i,params:{bus_id:this.$route.query.bus_id}},submitForm:i.h,change:{status:{key:"status",api:i.k}}},formData:{bus_id:this.$route.query.bus_id,store_id:"",mid:"",nickName:"",name:"",mobile:"",type:0,power:[],password:"",status:1},rules:{password:[{required:!0,message:"请输入核销密码",trigger:"blur"}]}},tableFormatData:{current:"userTable",userTable:{key:"userTable",api:{getList:i.j,delList:i.g},tableData:[],files:{name:"",ids:[],checkall:"0",Recycle:"1"},pagination:{page:1,list_rows:10,pagesizes:[10,20,50],total:0}}}}},methods:{saveDialogSubmit:function(){this.formFormatSubmit()},saveDialogForm:function(){this.resetDialogFormData({store_id:"",mid:"",nickName:"",name:"",mobile:"",type:0,power:[],status:1,bus_id:this.$route.query.bus_id,password:""})},formFormatCallBack:function(t,e,a){if("submitForm"===e){var r=a.data,i=r.code,s=r.msg,n=o()(this.$route.query).includes(this.formFormatData.api.editForm.redirect||"id"),l=this.formFormatData.api.editForm&&this.formFormatData.api.editForm.api&&(this.$route.query&&n||this.formFormatData.api.editForm.params&&this.formFormatData.api.editForm.params.always);1===i?(this.$message.success(l&&n?"编辑成功":"保存成功"),this.dialogTableVisible=!1,this.getTableList()):this.$message.error(""+s)}}}},u=(a("+4a4"),a("KHd+")),c=Object(u.a)(l,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wechat-public-menu views-container"},[a("el-dialog",{attrs:{visible:t.dialogTableVisible,"custom-class":"reset-pwd wlm-form-dialog dialog-table"},on:{close:t.saveDialogForm,"update:visible":function(e){t.dialogTableVisible=e}}},[t.dialogTableVisible?a("div",{staticClass:"wlm-form"},[a("div",{staticClass:"wlm-form-header wlm-dialog-fixheader"},[a("span",{staticClass:"wlm-dialog-inlenr"},[t._v(t._s((t.formFormatData.api.editForm.params.id?"编辑":"添加")+"菜单"))])]),t._v(" "),a("el-scrollbar",{attrs:{"wrap-class":"scrollbar-wrapper"}},[a("div",{staticClass:"wlm-form-content"},[a("div",{staticClass:"wlm-dialog-main"},[a("div",{staticClass:"wlm-dialog-content"},[a("el-form",{ref:"user",staticClass:"retail-form",attrs:{model:t.formFormatData.formData,rules:t.formFormatData.rules,size:"small","label-width":"120px","label-position":"right"}},[a("el-form-item",{attrs:{label:"级别"}},[a("el-input",{model:{value:t.formFormatData.formData.name,callback:function(e){t.$set(t.formFormatData.formData,"name","string"==typeof e?e.trim():e)},expression:"formFormatData.formData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:t.formFormatData.formData.mobile,callback:function(e){t.$set(t.formFormatData.formData,"mobile","string"==typeof e?e.trim():e)},expression:"formFormatData.formData.mobile"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"排序"}},[a("el-input",{model:{value:t.formFormatData.formData.mobile,callback:function(e){t.$set(t.formFormatData.formData,"mobile","string"==typeof e?e.trim():e)},expression:"formFormatData.formData.mobile"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"类型"}},[a("el-input",{model:{value:t.formFormatData.formData.mobile,callback:function(e){t.$set(t.formFormatData.formData,"mobile","string"==typeof e?e.trim():e)},expression:"formFormatData.formData.mobile"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"链接"}},[a("el-input",{model:{value:t.formFormatData.formData.mobile,callback:function(e){t.$set(t.formFormatData.formData,"mobile","string"==typeof e?e.trim():e)},expression:"formFormatData.formData.mobile"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"小程序链接"}},[a("el-input",{model:{value:t.formFormatData.formData.mobile,callback:function(e){t.$set(t.formFormatData.formData,"mobile","string"==typeof e?e.trim():e)},expression:"formFormatData.formData.mobile"}})],1)],1)],1)])])])],1):t._e(),t._v(" "),a("footer",{staticClass:"flex-row flex-align-c flex-justify-c wlm-dialog-fixfooter"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.saveDialogSubmit}},[t._v("保存")])],1)]),t._v(" "),a("div",{staticClass:"wlm-table"},[a("div",{staticClass:"wlm-table-hearder-btn"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.dialogTableVisible=!0,t.initChooseUser.closable=!0}}},[t._v("添加菜单")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"danger"}},[t._v("发布")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"danger"}},[t._v("删除")])],1),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"wlm-table-content"},[a("el-table",{ref:t.tableFormatData.userTable.key,staticStyle:{width:"100%"},attrs:{data:t.tableFormatData.userTable.tableData},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-table",{staticClass:"expand",staticStyle:{width:"100%"},attrs:{data:t.tableFormatData.userTable.tableData}},[a("el-table-column",{attrs:{prop:"date",label:"名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return e.row.users?[a("img",{staticClass:"logo",attrs:{src:e.row.users.avatarUrl}}),t._v(" "),a("span",[t._v(" "+t._s(e.row.users.nickName))])]:void 0}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"关键字/链接",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"小程序链接",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.mobile))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"排序",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["0"==e.row.type?a("span",[t._v(t._s(e.row.store?e.row.store.name:""))]):t._e(),t._v(" "),"1"==e.row.type?a("span",[t._v("-")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"operation-group"},[a("el-button",{staticClass:"wlm-text",attrs:{type:"text"},on:{click:function(a){t.initChooseUser.closable=!1,t.formFormatDialogEditEvt({id:e.row.id,toggle:"dialogTableVisible"})}}},[t._v("编辑")]),t._v(" "),a("div",{staticClass:"btn-line"}),t._v(" "),a("el-button",{staticClass:"wlm-text",attrs:{type:"text"},on:{click:function(a){t.delTableItem(e.row.id)}}},[t._v("删除")])],1)]}}])})],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return e.row.users?[a("img",{staticClass:"logo",attrs:{src:e.row.users.avatarUrl}}),t._v(" "),a("span",[t._v(" "+t._s(e.row.users.nickName))])]:void 0}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"关键字/链接",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"小程序链接",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.mobile))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"排序",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return["0"==e.row.type?a("span",[t._v(t._s(e.row.store?e.row.store.name:""))]):t._e(),t._v(" "),"1"==e.row.type?a("span",[t._v("-")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"operation-group"},[a("el-button",{staticClass:"wlm-text",attrs:{type:"text"},on:{click:function(a){t.initChooseUser.closable=!1,t.formFormatDialogEditEvt({id:e.row.id,toggle:"dialogTableVisible"})}}},[t._v("编辑")]),t._v(" "),a("div",{staticClass:"btn-line"}),t._v(" "),a("el-button",{staticClass:"wlm-text",attrs:{type:"text"},on:{click:function(a){t.delTableItem(e.row.id)}}},[t._v("删除")])],1)]}}])})],1),t._v(" "),a("div",{staticClass:"pagination-content flex-row flex-justify-e flex-align-c"},[a("el-pagination",{attrs:{disabled:!t.hasTableData,"current-page":t.tableFormatData.userTable.pagination.page,"page-sizes":t.tableFormatData.userTable.pagination.pagesizes,"page-size":t.tableFormatData.userTable.pagination.list_rows,layout:"total, sizes, prev, pager, next, jumper",total:t.hasTableData?t.tableFormatData.userTable.pagination.total:0},on:{"size-change":t.listPageChange,"current-change":t.listPageChange,"update:currentPage":function(e){t.$set(t.tableFormatData.userTable.pagination,"page",e)},"update:pageSize":function(e){t.$set(t.tableFormatData.userTable.pagination,"list_rows",e)}}})],1)],1)])],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"big-warning flex-col"},[e("p",[this._v("1、自定义菜单最多包括3个一级菜单，每个一级菜单最多包含5个二级菜单。")]),this._v(" "),e("p",[this._v("2、一级菜单最多4个汉字，二级菜单最多7个汉字，多出来的部分将会以“...”代替。")]),this._v(" "),e("p",[this._v("3、创建自定义菜单后，菜单的刷新策略是，在用户进入公众号会话页或公众号profile页时，如果发现上一次拉取菜单的请求在5分钟以前，就会拉取一下菜单，如果菜单有更新，就会刷新客户端的菜单。测试时可以尝试取消关注公众账号后再次关注，则可以看到创建后的效果。")])])}],!1,null,"d131d9a8",null);c.options.__file="weChatPublicMenu.vue";e.default=c.exports},ZySA:function(t,e,a){"use strict";var r=a("P2sY"),o=a.n(r),i=(a("jUE0"),{bind:function(t,e){t.addEventListener("click",function(a){var r=o()({},e.value),i=o()({ele:t,type:"hit",color:"rgba(0, 0, 0, 0.15)"},r),s=i.ele;if(s){s.style.position="relative",s.style.overflow="hidden";var n=s.getBoundingClientRect(),l=s.querySelector(".waves-ripple");switch(l?l.className="waves-ripple":((l=document.createElement("span")).className="waves-ripple",l.style.height=l.style.width=Math.max(n.width,n.height)+"px",s.appendChild(l)),i.type){case"center":l.style.top=n.height/2-l.offsetHeight/2+"px",l.style.left=n.width/2-l.offsetWidth/2+"px";break;default:l.style.top=(a.pageY-n.top-l.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",l.style.left=(a.pageX-n.left-l.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return l.style.backgroundColor=i.color,l.className="waves-ripple z-active",!1}},!1)}}),s=function(t){t.directive("waves",i)};window.Vue&&(window.waves=i,Vue.use(s)),i.install=s;e.a=i},hJLm:function(t,e,a){"use strict";a.d(e,"b",function(){return s}),a.d(e,"d",function(){return n}),a.d(e,"c",function(){return l}),a.d(e,"a",function(){return u}),a.d(e,"u",function(){return c}),a.d(e,"t",function(){return m}),a.d(e,"w",function(){return d}),a.d(e,"v",function(){return f}),a.d(e,"h",function(){return p}),a.d(e,"i",function(){return b}),a.d(e,"g",function(){return g}),a.d(e,"j",function(){return v}),a.d(e,"r",function(){return h}),a.d(e,"k",function(){return _}),a.d(e,"y",function(){return y}),a.d(e,"m",function(){return w}),a.d(e,"n",function(){return D}),a.d(e,"s",function(){return F}),a.d(e,"p",function(){return k}),a.d(e,"f",function(){return C}),a.d(e,"o",function(){return x}),a.d(e,"e",function(){return j}),a.d(e,"x",function(){return S}),a.d(e,"q",function(){return T}),a.d(e,"l",function(){return O});var r=a("t3Un"),o=a("Qyje"),i=a.n(o);function s(t){return Object(r.a)({url:"/businessEdit",method:"post",data:i.a.stringify(t)})}function n(t){return Object(r.a)({url:"/businessIndex",method:"post",data:i.a.stringify(t)})}function l(t){return Object(r.a)({url:"/businessGet",method:"post",data:i.a.stringify(t)})}function u(t){return Object(r.a)({url:"/businessDelete",method:"post",data:i.a.stringify(t)})}function c(t){return Object(r.a)({url:"/shopEdit",method:"post",data:i.a.stringify(t)})}function m(t){return Object(r.a)({url:"/shopDelete",method:"post",data:i.a.stringify(t)})}function d(t){return Object(r.a)({url:"/shopIndex",method:"post",data:i.a.stringify(t)})}function f(t){return Object(r.a)({url:"/shopGet",method:"post",data:i.a.stringify(t)})}function p(t){return Object(r.a)({url:"/clerkEdit",method:"post",data:i.a.stringify(t)})}function b(t){return Object(r.a)({url:"/clerkGet",method:"post",data:i.a.stringify(t)})}function g(t){return Object(r.a)({url:"/clerkDelete",method:"post",data:i.a.stringify(t)})}function v(t){return Object(r.a)({url:"/clerkIndex",method:"post",data:i.a.stringify(t)})}function h(t){return Object(r.a)({url:"/selecStore",method:"post",data:i.a.stringify(t)})}function _(t){return Object(r.a)({url:"/clerkStatus",method:"post",data:i.a.stringify(t)})}function y(t){return Object(r.a)({url:"/storeStatus",method:"post",data:i.a.stringify(t)})}function w(t){return Object(r.a)({url:"/getBillDetail",method:"post",data:i.a.stringify(t)})}function D(t){return Object(r.a)({url:"/getBillInfoList",method:"post",data:i.a.stringify(t)})}function F(t){return Object(r.a)({url:"/setBusinessSettlement",method:"post",data:i.a.stringify(t)})}function k(t){return Object(r.a)({url:"/getBusinessSettlement",method:"post",data:i.a.stringify(t)})}function C(t){return Object(r.a)({url:"/businessSort",method:"post",data:i.a.stringify(t)})}function x(t){return Object(r.a)({url:"/getBusiness",method:"post",data:i.a.stringify(t)})}function j(t){return Object(r.a)({url:"/businessKeep",method:"post",data:i.a.stringify(t)})}function S(t){return Object(r.a)({url:"/storeLive",method:"post",data:i.a.stringify(t)})}function T(t){return Object(r.a)({url:"/liveStatusEdit",method:"post",data:i.a.stringify(t)})}function O(t){return Object(r.a)({url:"/getBankList",method:"post",data:i.a.stringify(t)})}},jUE0:function(t,e,a){}}]);