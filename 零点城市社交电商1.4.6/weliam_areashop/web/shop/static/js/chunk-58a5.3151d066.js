(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-58a5"],{ILOE:function(t,e,a){"use strict";var n=a("XBVx");a.n(n).a},XBVx:function(t,e,a){},hoR8:function(t,e,a){"use strict";a.d(e,"v",function(){return i}),a.d(e,"x",function(){return s}),a.d(e,"H",function(){return u}),a.d(e,"z",function(){return c}),a.d(e,"y",function(){return l}),a.d(e,"A",function(){return d}),a.d(e,"F",function(){return f}),a.d(e,"G",function(){return m}),a.d(e,"u",function(){return p}),a.d(e,"w",function(){return g}),a.d(e,"E",function(){return b}),a.d(e,"B",function(){return y}),a.d(e,"n",function(){return h}),a.d(e,"a",function(){return _}),a.d(e,"h",function(){return v}),a.d(e,"s",function(){return j}),a.d(e,"o",function(){return O}),a.d(e,"l",function(){return w}),a.d(e,"m",function(){return D}),a.d(e,"j",function(){return C}),a.d(e,"i",function(){return k}),a.d(e,"r",function(){return F}),a.d(e,"q",function(){return x}),a.d(e,"p",function(){return S}),a.d(e,"D",function(){return G}),a.d(e,"c",function(){return E}),a.d(e,"d",function(){return L}),a.d(e,"e",function(){return T}),a.d(e,"k",function(){return z}),a.d(e,"g",function(){return I}),a.d(e,"b",function(){return V}),a.d(e,"I",function(){return P}),a.d(e,"C",function(){return A}),a.d(e,"f",function(){return M}),a.d(e,"t",function(){return $});var n=a("t3Un"),r=a("Qyje"),o=a.n(r);function i(t){return Object(n.a)({url:"/goodsclassEdit",method:"post",data:o.a.stringify(t)})}function s(t){return Object(n.a)({url:"/goodsclassIndex",method:"post",data:o.a.stringify(t)})}function u(t){return Object(n.a)({url:"/serviceIndex",method:"post",data:o.a.stringify(t)})}function c(t){return Object(n.a)({url:"/parameterEdit",method:"post",data:o.a.stringify(t)})}function l(t){return Object(n.a)({url:"/parameteGet",method:"post",data:o.a.stringify(t)})}function d(t){return Object(n.a)({url:"/parameterIndex",method:"post",data:o.a.stringify(t)})}function f(t){return Object(n.a)({url:"/serviceEdit",method:"post",data:o.a.stringify(t)})}function m(t){return Object(n.a)({url:"/serviceGet",method:"post",data:o.a.stringify(t)})}function p(t){return Object(n.a)({url:"/goodsclassDelete",method:"post",data:o.a.stringify(t)})}function g(t){return Object(n.a)({url:"/goodsclassGet",method:"post",data:o.a.stringify(t)})}function b(t){return Object(n.a)({url:"/serlistDelete",method:"post",data:o.a.stringify(t)})}function y(t){return Object(n.a)({url:"/parlistDelete",method:"post",data:o.a.stringify(t)})}function h(t){return Object(n.a)({url:"/goodsIndex",method:"post",data:o.a.stringify(t)})}function _(t){return Object(n.a)({url:"/categoryIndex",method:"post",data:o.a.stringify(t)})}function v(t){return Object(n.a)({url:"/goodsAdd",method:"post",data:o.a.stringify(t)})}function j(t){return Object(n.a)({url:"/goodsServeListAll",method:"post",data:o.a.stringify(t)})}function O(t){return Object(n.a)({url:"/goodsParamListAll",method:"post",data:o.a.stringify(t)})}function w(t){return Object(n.a)({url:"/goodsEdit",method:"post",data:o.a.stringify(t)})}function D(t){return Object(n.a)({url:"/goodsGet",method:"post",data:o.a.stringify(t)})}function C(t){return Object(n.a)({url:"/goodsDelivery",method:"post",data:o.a.stringify(t)})}function k(t){return Object(n.a)({url:"/goodsDelete",method:"post",data:o.a.stringify(t)})}function F(t){return Object(n.a)({url:"/goodsRegainDel",method:"post",data:o.a.stringify(t)})}function x(t){return Object(n.a)({url:"/goodsRegain",method:"post",data:o.a.stringify(t)})}function S(t){return Object(n.a)({url:"/goodsRecovery",method:"post",data:o.a.stringify(t)})}function G(t){return Object(n.a)({url:"/reviseStatus",method:"post",data:o.a.stringify(t)})}function E(t){return Object(n.a)({url:"/editGoodsName",method:"post",data:o.a.stringify(t)})}function L(t){return Object(n.a)({url:"/editGoodsPrice",method:"post",data:o.a.stringify(t)})}function T(t){return Object(n.a)({url:"/editStockNum",method:"post",data:o.a.stringify(t)})}function z(t){return Object(n.a)({url:"/goodsDown",method:"post",data:o.a.stringify(t)})}function I(t){return Object(n.a)({url:"/getCommentList",method:"post",data:o.a.stringify(t)})}function V(t){return Object(n.a)({url:"/delComment",method:"post",data:o.a.stringify(t)})}function P(t){return Object(n.a)({url:"/setCommentShow",method:"post",data:o.a.stringify(t)})}function A(t){return Object(n.a)({url:"/replyComment",method:"post",data:o.a.stringify(t)})}function M(t){return Object(n.a)({url:"/getCommentDetail",method:"post",data:o.a.stringify(t)})}function $(t){return Object(n.a)({url:"/goodsUpper",method:"post",data:o.a.stringify(t)})}},n7qL:function(t,e,a){"use strict";a.r(e);var n=a("sk9p"),r=a.n(n),o=a("slWK"),i=a("hoR8"),s=a("UC6z"),u={mixins:[s.a.getters("Table"),s.a.getters("Form")],name:"VipGoodsList",components:{},created:function(){var t=this;this.$nextTick(function(){Object(i.a)().then(function(e){var a=e.data.data,n=void 0===a?[]:a;t.categoryData=n})})},data:function(){return{category_array:[],categoryData:[],myProps:{value:"category_id",label:"name",children:"child"},dialogTableVisible:!1,selecStoreData:[],blogTitle:"",formFormatData:{key:"userForm",model:{noCreateEdit:!1,bindDialog:"dialogTableVisible"},api:{editForm:{params:{id:""},redirect:"goods_id"},submitForm:o.L},formData:{ids:[],is_member_price:1,goods:[]},rules:{}},tableFormatData:{current:"announcement",announcement:{key:"announcement",model:{bindDialog:"dialogTableVisible"},api:{getList:i.n},tableData:[],files:{name:"",category_id:"",indexType:"card",ids:[],checkall:"0",Recycle:"1"},change:{is_member_price:{key:"is_member_price",api:o.a}},pagination:{page:1,list_rows:10,pagesizes:[10,20,50],total:0}}}}},methods:{saveDialogForm:function(){this.resetDialogFormData({goods:[],is_member_price:1})},filesEmptyBefore:function(){this.category_array=[],this.filesEmpty()},categoryChange:function(t){var e=t.slice(-1),a=r()(e,1)[0];this.tableFormatData.announcement.files.category_id=a},setVipPrice:function(t,e,a){var n=this;this.formFormatData.formData.is_member_price=t,e.map(function(t){n.formFormatData.formData.goods.push({title:t.title,goods_sku_id:t.goods_sku_id,goods_price:t.goods_price,member_price:t.member_price})}),this.formFormatDialogEditEvt(a)}}},c=(a("ILOE"),a("KHd+")),l=Object(c.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vip-goods-list views-container"},[a("el-dialog",{attrs:{visible:t.dialogTableVisible,"custom-class":"reset-pwd wlm-form-dialog dialog-table"},on:{close:t.saveDialogForm,"update:visible":function(e){t.dialogTableVisible=e}}},[t.dialogTableVisible?a("div",{staticClass:"wlm-form"},[a("div",{staticClass:"wlm-form-header wlm-dialog-fixheader"},[a("span",{staticClass:"wlm-dialog-inlenr"},[t._v("设置会员价")])]),t._v(" "),a("el-scrollbar",{attrs:{"wrap-class":"scrollbar-wrapper"}},[a("div",{staticClass:"wlm-form-content"},[a("div",{staticClass:"wlm-dialog-main"},[a("div",{staticClass:"wlm-dialog-content"},[a("el-form",{ref:"user",staticClass:"retail-form",attrs:{model:t.formFormatData.formData,rules:t.formFormatData.rules,size:"small","label-width":"120px","label-position":"right"}},[a("el-form-item",{attrs:{label:"会员状态"}},[a("el-radio-group",{model:{value:t.formFormatData.formData.is_member_price,callback:function(e){t.$set(t.formFormatData.formData,"is_member_price",e)},expression:"formFormatData.formData.is_member_price"}},[a("el-radio",{attrs:{label:1}},[t._v("参与")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("不参与")])],1)],1),t._v(" "),1==t.formFormatData.formData.is_member_price?a("el-form-item",{attrs:{label:"会员商品"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.formFormatData.formData.goods}},[a("el-table-column",{attrs:{label:"商品规格"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.title||"-"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"价格"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"orders-red"},[t._v("￥"+t._s(e.row.goods_price))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"设置会员价"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"input-slot flex-row flex-align-c flex-justify-s gc-append-box"},[a("el-input-number",{attrs:{controls:!1,size:"small",min:0,max:parseFloat(e.row.goods_price-.01)},model:{value:e.row.member_price,callback:function(a){t.$set(e.row,"member_price",a)},expression:"scope.row.member_price"}}),t._v(" "),a("div",{staticClass:"gc-append gc-append-right"},[t._v("元")])],1)]}}])})],1)],1):t._e()],1)],1)])])])],1):t._e(),t._v(" "),a("footer",{staticClass:"flex-row flex-align-c flex-justify-c wlm-dialog-fixfooter"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.formFormatSubmit}},[t._v("保存")])],1)]),t._v(" "),a("div",{staticClass:"wlm-table"},[a("div",{staticClass:"wlm-table-header"},[a("el-form",{staticClass:"retail-form",attrs:{model:t.tableFormatData.announcement.files,size:"small","label-width":"95px","label-position":"right"}},[a("el-form-item",{staticClass:"filter",attrs:{label:""}},[a("el-form-item",{staticClass:"search",attrs:{label:"商品名称："}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入商品名称"},model:{value:t.tableFormatData.announcement.files.name,callback:function(e){t.$set(t.tableFormatData.announcement.files,"name",e)},expression:"tableFormatData.announcement.files.name"}})],1),t._v(" "),a("el-form-item",{staticClass:"filter",attrs:{label:"商品分类："}},[a("el-cascader",{attrs:{props:t.myProps,options:t.categoryData,"show-all-levels":!1},on:{change:t.categoryChange},model:{value:t.category_array,callback:function(e){t.category_array=e},expression:"category_array"}})],1)],1),t._v(" "),a("el-form-item",{staticClass:"filter-btns",attrs:{label:""}},[a("el-button",{attrs:{type:"primary"},on:{click:t.filesSerch}},[t._v("筛选")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:t.filesEmptyBefore}},[t._v("清空筛选条件")])],1)],1)],1),t._v(" "),a("div",{staticClass:"wlm-table-content"},[a("el-table",{ref:t.tableFormatData.announcement.key,staticStyle:{width:"100%"},attrs:{data:t.tableFormatData.announcement.tableData},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"date",label:"商品LOGO",align:"center","min-width":"30"},scopedSlots:t._u([{key:"default",fn:function(t){return Array.isArray(t.row.image)&&t.row.image.length>0?[a("div",{staticClass:"wlm-table-logos"},[a("img",{staticClass:"logo",attrs:{src:t.row.image[0].file_path}})])]:void 0}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"商品名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.goods_name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"商品分类",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return e.row.category_data?[t._l(e.row.category_data,function(n,r){return n.name&&e.row.category_data?a("p",{key:r,staticStyle:{"white-space":"nowrap"}},[t._v(t._s(n.name+": "+(n.child?n.child.length>1?n.child.join("/"):n.child[0]:"")))]):t._e()}),t._v(" "),0==e.row.category_data.length?a("p",[t._v("-")]):t._e()]:void 0}}])}),t._v(" "),a("el-table-column",{attrs:{label:"商品状态",align:"center","min-width":"90"},scopedSlots:t._u([{key:"default",fn:function(e){return["10"==e.row.goods_status?a("span",[t._v("售卖中")]):t._e(),t._v(" "),"20"==e.row.goods_status?a("span",[t._v("已下架")]):t._e(),t._v(" "),"30"==e.row.goods_status?a("span",[t._v("已售罄")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"会员价",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0!=e.row.member_price?a("p",[a("span",{staticClass:"orders-red"},[t._v("￥")]),a("span",[t._v(t._s(e.row.member_price))])]):t._e(),t._v(" "),0==e.row.member_price?a("p",{staticClass:"orders-gray"},[t._v("未设置")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"会员状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":2},on:{change:function(a){t.changeTableItem({goods_id:e.row.goods_id},t.tableFormatData.announcement.change.is_member_price,{isWarning:2===e.row.is_member_price,warning:"确定关闭吗？",cancel:{msg:"已取消关闭",val:{scope:e,cancelStatus:{key:"is_member_price",val:1}}}})}},model:{value:e.row.is_member_price,callback:function(a){t.$set(e.row,"is_member_price",a)},expression:"scope.row.is_member_price"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"operation-group"},[a("el-button",{staticClass:"wlm-text",attrs:{type:"text"},on:{click:function(a){t.setVipPrice(e.row.is_member_price,e.row.sku,{id:e.row.goods_id,toggle:"dialogTableVisible",noEdit:!0})}}},[t._v("设置会员价")])],1)]}}])})],1),t._v(" "),a("div",{staticClass:"pagination-content flex-row flex-justify-e flex-align-c"},[a("el-pagination",{attrs:{disabled:!t.hasTableData,"current-page":t.tableFormatData.announcement.pagination.page,"page-sizes":t.tableFormatData.announcement.pagination.pagesizes,"page-size":t.tableFormatData.announcement.pagination.list_rows,layout:"total, sizes, prev, pager, next, jumper",total:t.hasTableData?t.tableFormatData.announcement.pagination.total:0},on:{"size-change":t.listPageChange,"current-change":t.listPageChange,"update:currentPage":function(e){t.$set(t.tableFormatData.announcement.pagination,"page",e)},"update:pageSize":function(e){t.$set(t.tableFormatData.announcement.pagination,"list_rows",e)}}})],1)],1)])],1)},[],!1,null,"d5f71516",null);l.options.__file="vipGoodsList.vue";e.default=l.exports},slWK:function(t,e,a){"use strict";a.d(e,"l",function(){return i}),a.d(e,"n",function(){return s}),a.d(e,"j",function(){return u}),a.d(e,"k",function(){return c}),a.d(e,"o",function(){return l}),a.d(e,"N",function(){return d}),a.d(e,"M",function(){return f}),a.d(e,"O",function(){return m}),a.d(e,"P",function(){return p}),a.d(e,"m",function(){return g}),a.d(e,"c",function(){return b}),a.d(e,"e",function(){return y}),a.d(e,"F",function(){return h}),a.d(e,"s",function(){return _}),a.d(e,"y",function(){return v}),a.d(e,"E",function(){return j}),a.d(e,"H",function(){return O}),a.d(e,"q",function(){return w}),a.d(e,"v",function(){return D}),a.d(e,"g",function(){return C}),a.d(e,"f",function(){return k}),a.d(e,"i",function(){return F}),a.d(e,"K",function(){return x}),a.d(e,"D",function(){return S}),a.d(e,"I",function(){return G}),a.d(e,"h",function(){return E}),a.d(e,"x",function(){return L}),a.d(e,"a",function(){return T}),a.d(e,"L",function(){return z}),a.d(e,"G",function(){return I}),a.d(e,"w",function(){return V}),a.d(e,"p",function(){return P}),a.d(e,"t",function(){return A}),a.d(e,"d",function(){return M}),a.d(e,"A",function(){return $}),a.d(e,"r",function(){return K}),a.d(e,"z",function(){return R}),a.d(e,"B",function(){return B}),a.d(e,"C",function(){return N}),a.d(e,"u",function(){return U}),a.d(e,"b",function(){return q}),a.d(e,"J",function(){return H});var n=a("t3Un"),r=a("Qyje"),o=a.n(r);function i(t){return Object(n.a)({url:"/couponEditOrAdd",method:"post",data:o.a.stringify(t)})}function s(t){return Object(n.a)({url:"/couponList",method:"post",data:o.a.stringify(t)})}function u(t){return Object(n.a)({url:"/couponDelete",method:"post",data:o.a.stringify(t)})}function c(t){return Object(n.a)({url:"/couponDetail",method:"post",data:o.a.stringify(t)})}function l(t){return Object(n.a)({url:"/couponOp",method:"post",data:o.a.stringify(t)})}function d(t){return Object(n.a)({url:"/smsSave",method:"post",data:o.a.stringify(t)})}function f(t){return Object(n.a)({url:"/smsGet",method:"post",data:o.a.stringify(t)})}function m(t){return Object(n.a)({url:"/smsTplGet",method:"post",data:o.a.stringify(t)})}function p(t){return Object(n.a)({url:"/smsTplSave",method:"post",data:o.a.stringify(t)})}function g(t){return Object(n.a)({url:"/couponInfo",method:"post",data:o.a.stringify(t)})}function b(t){return Object(n.a)({url:"/ReceiveInfoList",method:"post",data:o.a.stringify(t)})}function y(t){return Object(n.a)({url:"/addSpike",method:"post",data:o.a.stringify(t)})}function h(t){return Object(n.a)({url:"/getSpikeList",method:"post",data:o.a.stringify(t)})}function _(t){return Object(n.a)({url:"/delSpikeList",method:"post",data:o.a.stringify(t)})}function v(t){return Object(n.a)({url:"/getEditData",method:"post",data:o.a.stringify(t)})}function j(t){return Object(n.a)({url:"/getMemberCard",method:"post",data:o.a.stringify(t)})}function O(t){return Object(n.a)({url:"/memberAddEdit",method:"post",data:o.a.stringify(t)})}function w(t){return Object(n.a)({url:"/delDataCard",method:"post",data:o.a.stringify(t)})}function D(t){return Object(n.a)({url:"/getCardData",method:"post",data:o.a.stringify(t)})}function C(t){return Object(n.a)({url:"/cardSave",method:"post",data:o.a.stringify(t)})}function k(t){return Object(n.a)({url:"/cardGet",method:"post",data:o.a.stringify(t)})}function F(t){return Object(n.a)({url:"/changeCardSell",method:"post",data:o.a.stringify(t)})}function x(t){return Object(n.a)({url:"/selectedCard",method:"post",data:o.a.stringify(t)})}function S(t){return Object(n.a)({url:"/getMember",method:"post",data:o.a.stringify(t)})}function G(t){return Object(n.a)({url:"/memberUserAddEdit",method:"post",data:o.a.stringify(t)})}function E(t){return Object(n.a)({url:"/changeCancel",method:"post",data:o.a.stringify(t)})}function L(t){return Object(n.a)({url:"/getDataMemberFind",method:"post",data:o.a.stringify(t)})}function T(t){return Object(n.a)({url:"/MemberGoodsStatus",method:"post",data:o.a.stringify(t)})}function z(t){return Object(n.a)({url:"/setMemberGoodsPrice",method:"post",data:o.a.stringify(t)})}function I(t){return Object(n.a)({url:"/importMember",method:"post",data:t})}function V(t){return Object(n.a)({url:"/getCdKeyInfo",method:"post",data:o.a.stringify(t)})}function P(t){return Object(n.a)({url:"/createdCdKey",method:"post",data:o.a.stringify(t)})}function A(t){return Object(n.a)({url:"/destoryCdKey",method:"post",data:o.a.stringify(t)})}function M(t){return Object(n.a)({url:"/addGroups",method:"post",data:o.a.stringify(t)})}function $(t){return Object(n.a)({url:"/getGroupsList",method:"post",data:o.a.stringify(t)})}function K(t){return Object(n.a)({url:"/delGroups",method:"post",data:o.a.stringify(t)})}function R(t){return Object(n.a)({url:"/getGroupsData",method:"post",data:o.a.stringify(t)})}function B(t){return Object(n.a)({url:"/getGroupsNumber",method:"post",data:o.a.stringify(t)})}function N(t){return Object(n.a)({url:"/getGroupsShow",method:"post",data:o.a.stringify(t)})}function U(t){return Object(n.a)({url:"/destroyMember",method:"post",data:o.a.stringify(t)})}function q(t){return Object(n.a)({url:"/MoList",method:"post",data:o.a.stringify(t)})}function H(t){return Object(n.a)({url:"/pathNumberForMember",method:"post",data:o.a.stringify(t)})}}}]);