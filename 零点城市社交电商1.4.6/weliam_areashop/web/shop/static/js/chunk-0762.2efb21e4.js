(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0762"],{"H7W/":function(a,t,e){"use strict";e.r(t);var r=e("sk9p"),o=e.n(r),m=e("kOe5"),i=e("p46w"),n=e.n(i),s={mixins:[e("UC6z").a.getters("Form")],name:"ManagementUserAdd",components:{},directives:{},computed:{pathUrl:function(){return(n.a.get("BASE_API")||"/")+"uploadFile"}},data:function(){return{certfileList:[],keyfileList:[],rsafileList:[],loading:!0,multiple:!1,cert:!1,key:!1,accept:".pem",formFormatData:{key:"userForm",api:{editForm:{api:m.g,params:{id:""}},submitForm:m.f},formData:{name:"",type:1,param:{style:"1",appid:"",mcn:"",appkey:"",cappid:"",cmcn:"",zfkey:"",zfid:"",zfpublickey:"",apiclient_cert_file_id:"",apiclient_key_file_id:"",zfb_appid_refund:"",zfb_cert_file_id:""}},rules:{}}}},methods:{certRemove:function(a,t){},certbeforeRemove:function(a,t){return this.$confirm("确定移除 "+a.name+"？")},certhandleExceed:function(a,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 "+a.length+" 个文件，共选择了 "+(a.length+t.length)+" 个文件")},certsuccess:function(a,t){var e=a.code,r=o()(a.data,1)[0].file_id,m=void 0===r?"":r;1===e&&(this.formFormatData.formData.param.apiclient_cert_file_id=m)},keyRemove:function(a,t){},keybeforeRemove:function(a,t){return this.$confirm("确定移除 "+a.name+"？")},keyhandleExceed:function(a,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 "+a.length+" 个文件，共选择了 "+(a.length+t.length)+" 个文件")},keysuccess:function(a,t){var e=a.code,r=o()(a.data,1)[0].file_id,m=void 0===r?"":r;1===e&&(this.formFormatData.formData.param.apiclient_key_file_id=m)},rsaRemove:function(a,t){},rsabeforeRemove:function(a,t){return this.$confirm("确定移除 "+a.name+"？")},rsahandleExceed:function(a,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 "+a.length+" 个文件，共选择了 "+(a.length+t.length)+" 个文件")},rsasuccess:function(a,t){var e=a.code,r=o()(a.data,1)[0].file_id,m=void 0===r?"":r;1===e&&(this.formFormatData.formData.param.zfb_cert_file_id=m)}}},l=(e("glwZ"),e("KHd+")),f=Object(l.a)(s,function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"management-user-add views-container"},[e("div",{staticClass:"wlm-form"},[e("div",{staticClass:"wlm-form-header"},[a._v("添加支付方式")]),a._v(" "),e("div",{staticClass:"wlm-form-content"},[e("el-form",{ref:a.formFormatData.key,staticClass:"retail-form",attrs:{model:a.formFormatData.formData,rules:a.formFormatData.rules,size:"small","label-width":"120px","label-position":"right"}},[e("el-form-item",{attrs:{label:"支付名称",prop:"username"}},[e("el-input",{model:{value:a.formFormatData.formData.name,callback:function(t){a.$set(a.formFormatData.formData,"name","string"==typeof t?t.trim():t)},expression:"formFormatData.formData.name"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"支付类型"}},[e("el-radio-group",{attrs:{disabled:a.isFormEdit},model:{value:a.formFormatData.formData.type,callback:function(t){a.$set(a.formFormatData.formData,"type",t)},expression:"formFormatData.formData.type"}},[e("el-radio",{attrs:{label:1}},[a._v("微信支付")]),a._v(" "),e("el-radio",{attrs:{label:2}},[a._v("支付宝支付")])],1),a._v(" "),e("div",{staticClass:"form-help"},[a._v("保存后不可修改，请谨慎选择")])],1),a._v(" "),1==a.formFormatData.formData.type?[e("el-form-item",{attrs:{label:"商户类型"}},[e("el-radio-group",{model:{value:a.formFormatData.formData.param.style,callback:function(t){a.$set(a.formFormatData.formData.param,"style",t)},expression:"formFormatData.formData.param.style"}},[e("el-radio",{attrs:{label:"1"}},[a._v("普通商户")]),a._v(" "),e("el-radio",{attrs:{label:"2"}},[a._v("子商户")])],1)],1),a._v(" "),e("el-form-item",{attrs:{label:"appid",prop:"username"}},[e("el-input",{model:{value:a.formFormatData.formData.param.appid,callback:function(t){a.$set(a.formFormatData.formData.param,"appid","string"==typeof t?t.trim():t)},expression:"formFormatData.formData.param.appid"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"商户号",prop:"username"}},[e("el-input",{model:{value:a.formFormatData.formData.param.mcn,callback:function(t){a.$set(a.formFormatData.formData.param,"mcn","string"==typeof t?t.trim():t)},expression:"formFormatData.formData.param.mcn"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"支付密钥",prop:"username"}},[e("el-input",{model:{value:a.formFormatData.formData.param.appkey,callback:function(t){a.$set(a.formFormatData.formData.param,"appkey","string"==typeof t?t.trim():t)},expression:"formFormatData.formData.param.appkey"}})],1),a._v(" "),2==a.formFormatData.formData.param.style?e("el-form-item",{attrs:{label:"子商户appid",prop:"username"}},[e("el-input",{model:{value:a.formFormatData.formData.param.cappid,callback:function(t){a.$set(a.formFormatData.formData.param,"cappid","string"==typeof t?t.trim():t)},expression:"formFormatData.formData.param.cappid"}})],1):a._e(),a._v(" "),2==a.formFormatData.formData.param.style?e("el-form-item",{attrs:{label:"子商户号",prop:"username"}},[e("el-input",{model:{value:a.formFormatData.formData.param.cmcn,callback:function(t){a.$set(a.formFormatData.formData.param,"cmcn","string"==typeof t?t.trim():t)},expression:"formFormatData.formData.param.cmcn"}})],1):a._e(),a._v(" "),e("el-form-item",{attrs:{label:"cert证书"}},[e("el-upload",{staticClass:"upload-demo input-with-select fin-min-width",attrs:{action:a.pathUrl,"on-remove":a.certRemove,"before-remove":a.certbeforeRemove,multiple:a.multiple,accept:a.accept,limit:1,"on-success":a.certsuccess,"on-exceed":a.certhandleExceed,"file-list":a.certfileList}},[e("el-button",{attrs:{size:"small",type:"success",plain:""}},[a._v("点击上传")]),a._v(" "),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[a._v("只能上传pem文件")])],1),a._v(" "),a.formFormatData.formData.param.apiclient_cert_file_id?e("p",[e("span",{staticClass:"orders-green"},[a._v("上传证书 【已上传】")])]):a._e(),a._v(" "),e("p",{staticClass:"fin-grey"},[a._v("从商户平台上下载支付证书, 解压并取得其中的\r\n                            "),e("el-tag",{attrs:{type:"warning"}},[a._v("apiclient_cert.pem")]),a._v("，如果您是服务商的子商户，请联系服务商获取。")],1)],1),a._v(" "),e("el-form-item",{attrs:{label:"key证书"}},[e("el-upload",{staticClass:"upload-demo input-with-select fin-min-width",attrs:{action:a.pathUrl,"on-remove":a.keyRemove,"before-remove":a.keybeforeRemove,multiple:a.multiple,accept:a.accept,limit:1,"on-success":a.keysuccess,"on-exceed":a.keyhandleExceed,"file-list":a.keyfileList}},[e("el-button",{attrs:{size:"small",type:"success",plain:""}},[a._v("点击上传")]),a._v(" "),e("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[a._v("只能上传pem文件")])],1),a._v(" "),a.formFormatData.formData.param.apiclient_key_file_id?e("p",[e("span",{staticClass:"orders-green"},[a._v("上传证书 【已上传】")])]):a._e(),a._v(" "),e("p",{staticClass:"fin-grey"},[a._v("从商户平台上下载支付证书, 解压并取得其中的\r\n                            "),e("el-tag",{attrs:{type:"warning"}},[a._v("apiclient_key.pem")]),a._v("，如果您是服务商的子商户，请联系服务商获取。")],1)],1)]:a._e(),a._v(" "),2==a.formFormatData.formData.type?[e("el-form-item",{attrs:{label:"应用id",prop:"username"}},[e("el-input",{model:{value:a.formFormatData.formData.param.zfid,callback:function(t){a.$set(a.formFormatData.formData.param,"zfid","string"==typeof t?t.trim():t)},expression:"formFormatData.formData.param.zfid"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"支付宝公匙",prop:"username"}},[e("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:4}},model:{value:a.formFormatData.formData.param.zfpublickey,callback:function(t){a.$set(a.formFormatData.formData.param,"zfpublickey","string"==typeof t?t.trim():t)},expression:"formFormatData.formData.param.zfpublickey"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"应用私匙",prop:"username"}},[e("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:4}},model:{value:a.formFormatData.formData.param.zfkey,callback:function(t){a.$set(a.formFormatData.formData.param,"zfkey","string"==typeof t?t.trim():t)},expression:"formFormatData.formData.param.zfkey"}})],1)]:a._e()],2)],1)]),a._v(" "),e("div",{staticClass:"wlm-fixed-btn flex-row flex-align-c flex-justify-c"},[e("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){a.formFormatSubmit({router:{type:"replace",path:"/setting/payManagement",code:1}})}}},[a._v("保存")]),a._v(" "),e("router-link",{attrs:{tag:"span",to:"/setting/payManagement"}},[e("el-button",{attrs:{size:"small"}},[a._v("返回")])],1)],1)])},[],!1,null,"5ee4e5e4",null);f.options.__file="payManagementAdd.vue";t.default=f.exports},JOrP:function(a,t,e){},glwZ:function(a,t,e){"use strict";var r=e("JOrP");e.n(r).a},kOe5:function(a,t,e){"use strict";e.d(t,"a",function(){return i}),e.d(t,"b",function(){return n}),e.d(t,"h",function(){return s}),e.d(t,"e",function(){return l}),e.d(t,"g",function(){return f}),e.d(t,"f",function(){return p}),e.d(t,"j",function(){return c}),e.d(t,"i",function(){return u}),e.d(t,"c",function(){return d}),e.d(t,"d",function(){return v});var r=e("t3Un"),o=e("Qyje"),m=e.n(o);function i(a){return Object(r.a)({url:"/attachmentGet",method:"post",data:m.a.stringify(a)})}function n(a){return Object(r.a)({url:"/attachmentSave",method:"post",data:m.a.stringify(a)})}function s(a){return Object(r.a)({url:"/paymentIndex",method:"post",data:m.a.stringify(a)})}function l(a){return Object(r.a)({url:"/paymentDel",method:"post",data:m.a.stringify(a)})}function f(a){return Object(r.a)({url:"/paymentGet",method:"post",data:m.a.stringify(a)})}function p(a){return Object(r.a)({url:"/paymentEdit",method:"post",data:m.a.stringify(a)})}function c(a){return Object(r.a)({url:"/paysetIndex",method:"post",data:m.a.stringify(a)})}function u(a){return Object(r.a)({url:"/paysetEdit",method:"post",data:m.a.stringify(a)})}function d(a){return Object(r.a)({url:"/baseGet",method:"post",data:m.a.stringify(a)})}function v(a){return Object(r.a)({url:"/baseSave",method:"post",data:m.a.stringify(a)})}}}]);