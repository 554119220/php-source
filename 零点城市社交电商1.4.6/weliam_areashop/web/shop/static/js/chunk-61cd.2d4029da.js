(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-61cd"],{"3Gm1":function(t,e,a){"use strict";a.r(e);var n=a("xjkF"),o=a("slWK"),r=a("UC6z"),l=a("E5uR"),i={mixins:[r.a.getters("Table")],name:"RecycleCouponMarketing",components:{ShareLink:l.a,couponRender:{template:'<span><slot name="title"></slot><span class="text-danger"><slot name="price"></slot></span><slot name="tail"></slot></span>'}},data:function(){return{dialogTableVisible:!1,shareLinkConfig:{api:{getters:o.o},params:{couponId:"",op:"spread"}},platformList:[{name:"shang",data:[]}],coupon_status:{1:"进行中",2:"已失效",3:"已停止"},coupon_type:{10:"满减券",20:"折扣券",30:"运费券",40:"随机券"},coupon_price:{10:{textRule:"满",textPrev:"减免",textLast:"元"},20:{textRule:"满",textPrev:"打",textLast:"折"},30:{textRule:"满",textPrev:"减免",textLast:"元"},40:{textRule:"满",textPrev:"范围内随机",textLast:"元"}},coupon_type_path:{10:"/application/couponMarketingFullAdd",20:"/application/couponMarketingDiscountAdd",30:"/application/couponMarketingFreightAdd",40:"/application/couponMarketingRandomAdd"},tableFormatData:{current:"couponmarketing",couponmarketing:{key:"couponmarketing",api:{getList:n.c,delList:n.a},tableData:[],files:{ids:[],name:"",checkall:"0",Recycle:"1",couponType:"0",couponStatus:"0",redirect:"coupon_id",type:"coupon"},change:{restore:{name:"恢复",key:"restore",api:n.r}},pagination:{pindex:1,list_rows:10,pagesizes:[10,20,50],total:0}}}}},methods:{handleSelect:function(t,e){this.$refs.carousel.setActiveItem(t)},sharelink:function(t){this.shareLinkConfig.params.couponId=t,this.$refs.sharelink.toggle()}}},s=(a("C3JQ"),a("KHd+")),c=Object(s.a)(i,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"recycle-coupon-marketing views-container"},[a("share-link",{ref:"sharelink",attrs:{config:t.shareLinkConfig}},[a("template",{slot:"title"},[t._v("-优惠券")])],2),t._v(" "),a("div",{staticClass:"wlm-table"},[a("div",{staticClass:"wlm-table-header"},[a("el-form",{staticClass:"retail-form",attrs:{model:t.tableFormatData.couponmarketing.files,size:"small","label-width":"100px","label-position":"right"}},[a("el-form-item",{staticClass:"filter",attrs:{label:""}},[a("el-form-item",{staticClass:"search",attrs:{label:"优惠券名称："}},[a("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入优惠券名称"},model:{value:t.tableFormatData.couponmarketing.files.name,callback:function(e){t.$set(t.tableFormatData.couponmarketing.files,"name",e)},expression:"tableFormatData.couponmarketing.files.name"}})],1),t._v(" "),a("el-form-item",{staticClass:"search",attrs:{label:"优惠券类型："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.tableFormatData.couponmarketing.files.couponType,callback:function(e){t.$set(t.tableFormatData.couponmarketing.files,"couponType",e)},expression:"tableFormatData.couponmarketing.files.couponType"}},t._l([{lable:"全部",value:"0"},{lable:"满减券",value:"10"},{lable:"折扣券",value:"20"},{lable:"运费券",value:"30"},{lable:"随机券",value:"40"}],function(t){return a("el-option",{key:t.value,attrs:{label:t.lable,value:t.value}})}))],1)],1),t._v(" "),a("el-form-item",{staticClass:"filter-btns",attrs:{label:""}},[a("el-button",{attrs:{type:"primary"},on:{click:t.filesSerch}},[t._v("筛选")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:t.filesEmpty}},[t._v("清空筛选条件")])],1)],1)],1),t._v(" "),a("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.filesSerch},model:{value:t.tableFormatData.couponmarketing.files.couponStatus,callback:function(e){t.$set(t.tableFormatData.couponmarketing.files,"couponStatus",e)},expression:"tableFormatData.couponmarketing.files.couponStatus"}},[a("el-tab-pane",{attrs:{label:"全部",name:"0"}}),t._v(" "),a("el-tab-pane",{attrs:{label:"进行中",name:"1"}}),t._v(" "),a("el-tab-pane",{attrs:{label:"已失效",name:"2"}}),t._v(" "),a("el-tab-pane",{attrs:{label:"已停止",name:"3"}})],1),t._v(" "),a("div",{staticClass:"wlm-table-content"},[a("el-table",{ref:t.tableFormatData.couponmarketing.key,staticStyle:{width:"100%"},attrs:{data:t.tableFormatData.couponmarketing.tableData},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{label:"优惠券名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[t._v(t._s(e.row.name))]),t._v(" "),a("div",{staticClass:"wlm-table-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("p",[t._v(t._s(e.row.name))])])])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"优惠券类型","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.coupon_type[""+e.row.coupon_type]))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"优惠券内容","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[a("couponRender",[e.row.coupon_type?a("template",{slot:"title"},[t._v("\r\n                                        "+t._s((0===e.row.rule?""+t.coupon_price[""+e.row.coupon_type].textRule+e.row.rule_min_money+"元":"")+" "+t.coupon_price[""+e.row.coupon_type].textPrev)+"\r\n                                    ")]):t._e(),t._v(" "),a("template",{slot:"price"},[t._v("\r\n                                        "+t._s(40===e.row.coupon_type?e.row.min+" - "+e.row.max:20===e.row.coupon_type?e.row.discount:e.row.reduce_price)+"\r\n                                    ")]),t._v(" "),e.row.coupon_type?a("template",{slot:"tail"},[t._v("\r\n                                        "+t._s(t.coupon_price[""+e.row.coupon_type].textLast)+"\r\n                                    ")]):t._e()],2)],1),t._v(" "),a("div",{staticClass:"wlm-table-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("couponRender",[e.row.coupon_type?a("template",{slot:"title"},[t._v("\r\n                                        "+t._s((0===e.row.rule?""+t.coupon_price[""+e.row.coupon_type].textRule+e.row.rule_min_money+"元":"")+" "+t.coupon_price[""+e.row.coupon_type].textPrev)+"\r\n                                    ")]):t._e(),t._v(" "),a("template",{slot:"price"},[t._v("\r\n                                        "+t._s(40===e.row.coupon_type?e.row.min+" - "+e.row.max:20===e.row.coupon_type?e.row.discount:e.row.reduce_price)+"\r\n                                    ")]),t._v(" "),e.row.coupon_type?a("template",{slot:"tail"},[t._v("\r\n                                        "+t._s(t.coupon_price[""+e.row.coupon_type].textLast)+"\r\n                                    ")]):t._e()],2)],1)])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"总数/已领取","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.total_num+"/"+e.row.receive_num))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"已使用","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.useCount))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"状态","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.coupon_status[""+e.row.status]))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"支付金额","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"text-danger"},[t._v(t._s(e.row.turnover))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"客单价","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"text-danger"},[t._v(t._s(e.row.unitPrice||"-"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{"min-width":"120",label:"操作","header-align":"center",align:"center",width:"290"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"operation-group"},[a("el-button",{staticClass:"wlm-text",attrs:{type:"text"},on:{click:function(a){t.changeTableItem({ids:[e.row.coupon_id],type:"coupon"},t.tableFormatData.couponmarketing.change.restore)}}},[t._v("恢复")]),t._v(" "),a("div",{staticClass:"btn-line"}),t._v(" "),a("el-button",{staticClass:"wlm-text",attrs:{type:"text"},on:{click:function(a){t.delTableItem(e.row.coupon_id)}}},[t._v("删除")])],1)]}}])})],1),t._v(" "),a("div",{staticClass:"pagination-content flex-row flex-justify-b flex-align-c"},[a("el-row",{staticClass:"pagination-btns"},[a("el-checkbox",{staticClass:"check-all",attrs:{"true-label":"1","false-label":"0"},on:{change:t.toggleSelection},model:{value:t.tableFormatData.couponmarketing.files.checkall,callback:function(e){t.$set(t.tableFormatData.couponmarketing.files,"checkall",e)},expression:"tableFormatData.couponmarketing.files.checkall"}},[t._v("全部")]),t._v(" "),a("el-button",{staticClass:"right-8",attrs:{type:"primary",disabled:t.isGroup,size:"mini"},on:{click:function(e){t.changeTableItem({isGroup:!0,type:"coupon"},t.tableFormatData.couponmarketing.change.restore)}}},[t._v("批量恢复")]),t._v(" "),a("el-button",{staticClass:"right-8",attrs:{disabled:t.isGroup,size:"mini"},on:{click:t.delTableList}},[t._v("删除")])],1),t._v(" "),a("el-pagination",{attrs:{disabled:!t.hasTableData,"current-page":t.tableFormatData.couponmarketing.pagination.page,"page-sizes":t.tableFormatData.couponmarketing.pagination.pagesizes,"page-size":t.tableFormatData.couponmarketing.pagination.list_rows,layout:"total, sizes, prev, pager, next, jumper",total:t.hasTableData?t.tableFormatData.couponmarketing.pagination.total:0},on:{"size-change":t.listPageChange,"current-change":t.listPageChange,"update:currentPage":function(e){t.$set(t.tableFormatData.couponmarketing.pagination,"page",e)},"update:pageSize":function(e){t.$set(t.tableFormatData.couponmarketing.pagination,"list_rows",e)}}})],1)],1)],1)],1)},[],!1,null,"480c5acd",null);c.options.__file="recycleCouponMarketing.vue";e.default=c.exports},C3JQ:function(t,e,a){"use strict";var n=a("y2Ul");a.n(n).a},xjkF:function(t,e,a){"use strict";a.d(e,"a",function(){return l}),a.d(e,"r",function(){return i}),a.d(e,"o",function(){return s}),a.d(e,"p",function(){return c}),a.d(e,"j",function(){return u}),a.d(e,"c",function(){return p}),a.d(e,"d",function(){return d}),a.d(e,"e",function(){return m}),a.d(e,"k",function(){return f}),a.d(e,"b",function(){return g}),a.d(e,"h",function(){return b}),a.d(e,"l",function(){return _}),a.d(e,"m",function(){return v}),a.d(e,"g",function(){return h}),a.d(e,"i",function(){return y}),a.d(e,"q",function(){return k}),a.d(e,"n",function(){return w}),a.d(e,"f",function(){return D});var n=a("t3Un"),o=a("Qyje"),r=a.n(o);function l(t){return Object(n.a)({url:"/deleteThoroughlyInfo",method:"post",data:r.a.stringify(t)})}function i(t){return Object(n.a)({url:"/recoveryDeletedInfo",method:"post",data:r.a.stringify(t)})}function s(t){return Object(n.a)({url:"/getDelStoreRoleList",method:"post",data:r.a.stringify(t)})}function c(t){return Object(n.a)({url:"/getDelStoreUserList",method:"post",data:r.a.stringify(t)})}function u(t){return Object(n.a)({url:"/getDelPaymentMethodList",method:"post",data:r.a.stringify(t)})}function p(t){return Object(n.a)({url:"/getDelCouponList",method:"post",data:r.a.stringify(t)})}function d(t){return Object(n.a)({url:"/getDelDealerUserList",method:"post",data:r.a.stringify(t)})}function m(t){return Object(n.a)({url:"/getDelDeliveryTemplateList",method:"post",data:r.a.stringify(t)})}function f(t){return Object(n.a)({url:"/getDelRefundReasonList",method:"post",data:r.a.stringify(t)})}function g(t){return Object(n.a)({url:"/getDelCommentList",method:"post",data:r.a.stringify(t)})}function b(t){return Object(n.a)({url:"/getDelGoodsParameterList",method:"post",data:r.a.stringify(t)})}function _(t){return Object(n.a)({url:"/getDelShopList",method:"post",data:r.a.stringify(t)})}function v(t){return Object(n.a)({url:"/getDelShopUserList",method:"post",data:r.a.stringify(t)})}function h(t){return Object(n.a)({url:"/getDelGoodsClassList",method:"post",data:r.a.stringify(t)})}function y(t){return Object(n.a)({url:"/getDelGoodsServiceList",method:"post",data:r.a.stringify(t)})}function k(t){return Object(n.a)({url:"/getDelUserLabelList",method:"post",data:r.a.stringify(t)})}function w(t){return Object(n.a)({url:"/getDelStoreList",method:"post",data:r.a.stringify(t)})}function D(t){return Object(n.a)({url:"/getDelDiyPageList",method:"post",data:r.a.stringify(t)})}},y2Ul:function(t,e,a){}}]);