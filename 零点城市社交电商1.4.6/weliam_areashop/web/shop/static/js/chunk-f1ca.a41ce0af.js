(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-f1ca"],{"58xM":function(t,e,a){"use strict";a.r(e);var n=a("GQeE"),r=a.n(n),o=a("hoR8"),s=a("ZySA"),i={mixins:[a("UC6z").a.getters("Table")],name:"UserPlatform",components:{},directives:{waves:s.a},computed:{filterTable:function(){var t=this.tableFormatData.userTable.tableData,e=r()(t),a=[];return Array.isArray(e)&&e.map(function(e,n){a.push(t[e])}),a}},data:function(){return{isMounted:!1,tableFormatData:{current:"userTable",userTable:{key:"userTable",api:{getList:o.C,delList:o.z},tableData:{redirect:"filterTable"},files:{name:"",ids:[],checkall:"0",redirect:"category_id"},change:{status:{key:"status",api:o.I}},pagination:{page:1,list_rows:10,pagesizes:[10,20,50],total:0}}}}},methods:{changeTableCallBack:function(t){var e=t.event;this.isMounted||"getList"!==e||(this.sortChange({order:"ascending"}),this.isMounted=!0)},sortChange:function(t){switch(t.order){case"descending":this.tableFormatData.userTable.tableData.sort(function(t,e){return t.sort-e.sort}),this.tableFormatData.userTable.tableData.map(function(t){var e=t.child,a=void 0===e?[]:e;a.length>0&&a.sort(function(t,e){return t.sort-e.sort})});break;case"ascending":this.tableFormatData.userTable.tableData.sort(function(t,e){return e.sort-t.sort}),this.tableFormatData.userTable.tableData.map(function(t){var e=t.child,a=void 0===e?[]:e;a.length>0&&a.sort(function(t,e){return e.sort-t.sort})})}}}},l=(a("dQSd"),a("KHd+")),u=Object(l.a)(i,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"merchandise-categories views-container"},[a("div",{staticClass:"wlm-table"},[a("div",{staticClass:"wlm-table-hearder-btn"},[a("router-link",{attrs:{tag:"span",to:"/merchandise/merchandiseCategoriesAdd"}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("添加分类")])],1)],1),t._v(" "),a("div",{staticClass:"wlm-table-header"},[a("el-form",{staticClass:"retail-form",attrs:{model:t.tableFormatData.userTable.files,size:"small","label-width":"80px","label-position":"right"}},[a("el-form-item",{staticClass:"search",attrs:{label:"分类名称："}},[a("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入分类名称"},model:{value:t.tableFormatData.userTable.files.name,callback:function(e){t.$set(t.tableFormatData.userTable.files,"name",e)},expression:"tableFormatData.userTable.files.name"}})],1),t._v(" "),a("el-form-item",{staticClass:"filter-btns",attrs:{label:""}},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary"},on:{click:t.filesSerch}},[t._v("筛选")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:t.filesEmpty}},[t._v("清空筛选条件")])],1)],1)],1),t._v(" "),a("div",{staticClass:"wlm-table-content"},[a("el-table",{ref:t.tableFormatData.userTable.key,staticStyle:{width:"100%"},attrs:{data:t.filterTable},on:{"sort-change":t.sortChange,"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{width:"30"}}),t._v(" "),a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-table",{staticClass:"expand",staticStyle:{width:"100%"},attrs:{data:e.row.child},on:{"sort-change":t.sortChange}},[a("el-table-column",{attrs:{width:"30"}}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"分类名称",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.parent_id>0?a("span",[t._v("    --"+t._s(e.row.name))]):a("span",[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"分类图片",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.image?a("img",{staticClass:"logo",attrs:{src:e.row.image.file_path}}):a("span",[t._v("--")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"商品数量",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.parent_id?a("router-link",{staticClass:"wlm-text",attrs:{tag:"span",to:{path:"/merchandise/merchandiseManagement",query:{category_id:e.row.category_id}}}},[a("el-button",{attrs:{type:"text"}},[t._v(t._s(e.row.goodsnum))])],1):t._e(),t._v(" "),e.row.parent_id>0?a("span",[t._v(t._s(e.row.goodsnum))]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"状态","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return 0===e.row.status||1===e.row.status?[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){t.changeTableItem({category_id:e.row.category_id,status:e.row.status},t.tableFormatData.userTable.change.status,{isWarning:0===e.row.status,warning:e.row.parent_id>0?"确认关闭吗？":"关闭分类后，将关闭所有二级分类，确认关闭吗？",cancel:{msg:"已取消关闭",val:{scope:e,cancelStatus:{key:"status",val:1}}}})}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]:void 0}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"sort",label:"排序",align:"center",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.sort))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"operation-group"},[0===e.row.parent_id?[0===e.row.parent_id?a("router-link",{staticClass:"wlm-text",attrs:{tag:"span",to:{path:"/merchandise/merchandiseCategoriesLowerAdd",query:{parent_id:e.row.category_id,name:e.row.name}}}},[a("el-button",{attrs:{type:"text"}},[t._v("添加下级")])],1):t._e(),t._v(" "),a("div",{staticClass:"btn-line"}),t._v(" "),0===e.row.parent_id?a("router-link",{staticClass:"wlm-text",attrs:{tag:"span",to:{path:"/merchandise/merchandiseCategoriesAdd",query:{category_id:e.row.category_id}}}},[a("el-button",{attrs:{type:"text"}},[t._v("编辑")])],1):t._e(),t._v(" "),a("div",{staticClass:"btn-line"})]:[e.row.parent_id>0?a("router-link",{staticClass:"wlm-text",attrs:{tag:"span",to:{path:"/merchandise/merchandiseCategoriesLowerAdd",query:{category_id:e.row.category_id}}}},[a("el-button",{attrs:{type:"text"}},[t._v("编辑")])],1):t._e(),t._v(" "),a("div",{staticClass:"btn-line"})],t._v(" "),a("el-button",{staticClass:"wlm-text",attrs:{type:"text"},on:{click:function(a){t.delTableItem(e.row.category_id)}}},[t._v("删除")])],2)]}}])})],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"分类名称",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.parent_id>0?a("span",[t._v("    --"+t._s(e.row.name))]):a("span",[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"分类图片",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.image?a("img",{staticClass:"logo",attrs:{src:e.row.image.file_path}}):a("span",[t._v("--")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"商品数量",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.parent_id?a("router-link",{staticClass:"wlm-text",attrs:{tag:"span",to:{path:"/merchandise/merchandiseManagement",query:{category_id:e.row.category_id}}}},[a("el-button",{attrs:{type:"text"}},[t._v(t._s(e.row.goodsnum))])],1):t._e(),t._v(" "),e.row.parent_id>0?a("span",[t._v(t._s(e.row.goodsnum))]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"状态","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return 0===e.row.status||1===e.row.status?[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){t.changeTableItem({category_id:e.row.category_id,status:e.row.status},t.tableFormatData.userTable.change.status,{isWarning:0===e.row.status,warning:e.row.parent_id>0?"确认关闭吗？":"关闭分类后，将关闭所有二级分类，确认关闭吗？",cancel:{msg:"已取消关闭",val:{scope:e,cancelStatus:{key:"status",val:1}}}})}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]:void 0}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"sort",label:"排序",align:"center",sortable:"custom"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.sort))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"operation-group"},[0===e.row.parent_id?[0===e.row.parent_id?a("router-link",{staticClass:"wlm-text",attrs:{tag:"span",to:{path:"/merchandise/merchandiseCategoriesLowerAdd",query:{parent_id:e.row.category_id,name:e.row.name}}}},[a("el-button",{attrs:{type:"text"}},[t._v("添加下级")])],1):t._e(),t._v(" "),a("div",{staticClass:"btn-line"}),t._v(" "),0===e.row.parent_id?a("router-link",{staticClass:"wlm-text",attrs:{tag:"span",to:{path:"/merchandise/merchandiseCategoriesAdd",query:{category_id:e.row.category_id}}}},[a("el-button",{attrs:{type:"text"}},[t._v("编辑")])],1):t._e(),t._v(" "),a("div",{staticClass:"btn-line"})]:[e.row.parent_id>0?a("router-link",{staticClass:"wlm-text",attrs:{tag:"span",to:{path:"/merchandise/merchandiseCategoriesLowerAdd",query:{category_id:e.row.category_id}}}},[a("el-button",{attrs:{type:"text"}},[t._v("编辑")])],1):t._e(),t._v(" "),a("div",{staticClass:"btn-line"})],t._v(" "),a("el-button",{staticClass:"wlm-text",attrs:{type:"text"},on:{click:function(a){t.delTableItem(e.row.category_id)}}},[t._v("删除")])],2)]}}])})],1),t._v(" "),a("div",{staticClass:"pagination-content flex-row flex-justify-b flex-align-c"},[a("el-row",{staticClass:"pagination-btns"}),t._v(" "),a("el-pagination",{attrs:{disabled:!t.hasTableData,"current-page":t.tableFormatData.userTable.pagination.page,"page-sizes":t.tableFormatData.userTable.pagination.pagesizes,"page-size":t.tableFormatData.userTable.pagination.list_rows,layout:"total, sizes, prev, pager, next, jumper",total:t.hasTableData?t.tableFormatData.userTable.pagination.total:0},on:{"size-change":t.listPageChange,"current-change":t.listPageChange,"update:currentPage":function(e){t.$set(t.tableFormatData.userTable.pagination,"page",e)},"update:pageSize":function(e){t.$set(t.tableFormatData.userTable.pagination,"list_rows",e)}}})],1)],1)])])},[],!1,null,"4a36f2f4",null);u.options.__file="merchandiseCategories.vue";e.default=u.exports},ZySA:function(t,e,a){"use strict";var n=a("P2sY"),r=a.n(n),o=(a("jUE0"),{bind:function(t,e){t.addEventListener("click",function(a){var n=r()({},e.value),o=r()({ele:t,type:"hit",color:"rgba(0, 0, 0, 0.15)"},n),s=o.ele;if(s){s.style.position="relative",s.style.overflow="hidden";var i=s.getBoundingClientRect(),l=s.querySelector(".waves-ripple");switch(l?l.className="waves-ripple":((l=document.createElement("span")).className="waves-ripple",l.style.height=l.style.width=Math.max(i.width,i.height)+"px",s.appendChild(l)),o.type){case"center":l.style.top=i.height/2-l.offsetHeight/2+"px",l.style.left=i.width/2-l.offsetWidth/2+"px";break;default:l.style.top=(a.pageY-i.top-l.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",l.style.left=(a.pageX-i.left-l.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return l.style.backgroundColor=o.color,l.className="waves-ripple z-active",!1}},!1)}}),s=function(t){t.directive("waves",o)};window.Vue&&(window.waves=o,Vue.use(s)),o.install=s;e.a=o},dQSd:function(t,e,a){"use strict";var n=a("wrZa");a.n(n).a},hoR8:function(t,e,a){"use strict";a.d(e,"A",function(){return s}),a.d(e,"C",function(){return i}),a.d(e,"M",function(){return l}),a.d(e,"E",function(){return u}),a.d(e,"D",function(){return c}),a.d(e,"F",function(){return d}),a.d(e,"K",function(){return f}),a.d(e,"L",function(){return p}),a.d(e,"z",function(){return m}),a.d(e,"B",function(){return g}),a.d(e,"J",function(){return b}),a.d(e,"G",function(){return h}),a.d(e,"s",function(){return y}),a.d(e,"a",function(){return _}),a.d(e,"l",function(){return v}),a.d(e,"x",function(){return w}),a.d(e,"t",function(){return C}),a.d(e,"p",function(){return x}),a.d(e,"r",function(){return j}),a.d(e,"n",function(){return k}),a.d(e,"m",function(){return O}),a.d(e,"w",function(){return D}),a.d(e,"v",function(){return T}),a.d(e,"u",function(){return S}),a.d(e,"I",function(){return F}),a.d(e,"g",function(){return A}),a.d(e,"h",function(){return E}),a.d(e,"i",function(){return L}),a.d(e,"o",function(){return z}),a.d(e,"k",function(){return I}),a.d(e,"f",function(){return q}),a.d(e,"N",function(){return G}),a.d(e,"H",function(){return M}),a.d(e,"j",function(){return N}),a.d(e,"y",function(){return P}),a.d(e,"b",function(){return R}),a.d(e,"e",function(){return U}),a.d(e,"c",function(){return $}),a.d(e,"d",function(){return H}),a.d(e,"q",function(){return Q});var n=a("t3Un"),r=a("Qyje"),o=a.n(r);function s(t){return Object(n.a)({url:"/goodsclassEdit",method:"post",data:o.a.stringify(t)})}function i(t){return Object(n.a)({url:"/goodsclassIndex",method:"post",data:o.a.stringify(t)})}function l(t){return Object(n.a)({url:"/serviceIndex",method:"post",data:o.a.stringify(t)})}function u(t){return Object(n.a)({url:"/parameterEdit",method:"post",data:o.a.stringify(t)})}function c(t){return Object(n.a)({url:"/parameteGet",method:"post",data:o.a.stringify(t)})}function d(t){return Object(n.a)({url:"/parameterIndex",method:"post",data:o.a.stringify(t)})}function f(t){return Object(n.a)({url:"/serviceEdit",method:"post",data:o.a.stringify(t)})}function p(t){return Object(n.a)({url:"/serviceGet",method:"post",data:o.a.stringify(t)})}function m(t){return Object(n.a)({url:"/goodsclassDelete",method:"post",data:o.a.stringify(t)})}function g(t){return Object(n.a)({url:"/goodsclassGet",method:"post",data:o.a.stringify(t)})}function b(t){return Object(n.a)({url:"/serlistDelete",method:"post",data:o.a.stringify(t)})}function h(t){return Object(n.a)({url:"/parlistDelete",method:"post",data:o.a.stringify(t)})}function y(t){return Object(n.a)({url:"/goodsIndex",method:"post",data:o.a.stringify(t)})}function _(t){return Object(n.a)({url:"/categoryIndex",method:"post",data:o.a.stringify(t)})}function v(t){return Object(n.a)({url:"/goodsAdd",method:"post",data:o.a.stringify(t)})}function w(t){return Object(n.a)({url:"/goodsServeListAll",method:"post",data:o.a.stringify(t)})}function C(t){return Object(n.a)({url:"/goodsParamListAll",method:"post",data:o.a.stringify(t)})}function x(t){return Object(n.a)({url:"/goodsEdit",method:"post",data:o.a.stringify(t)})}function j(t){return Object(n.a)({url:"/goodsGet",method:"post",data:o.a.stringify(t)})}function k(t){return Object(n.a)({url:"/goodsDelivery",method:"post",data:o.a.stringify(t)})}function O(t){return Object(n.a)({url:"/goodsDelete",method:"post",data:o.a.stringify(t)})}function D(t){return Object(n.a)({url:"/goodsRegainDel",method:"post",data:o.a.stringify(t)})}function T(t){return Object(n.a)({url:"/goodsRegain",method:"post",data:o.a.stringify(t)})}function S(t){return Object(n.a)({url:"/goodsRecovery",method:"post",data:o.a.stringify(t)})}function F(t){return Object(n.a)({url:"/reviseStatus",method:"post",data:o.a.stringify(t)})}function A(t){return Object(n.a)({url:"/editGoodsName",method:"post",data:o.a.stringify(t)})}function E(t){return Object(n.a)({url:"/editGoodsPrice",method:"post",data:o.a.stringify(t)})}function L(t){return Object(n.a)({url:"/editStockNum",method:"post",data:o.a.stringify(t)})}function z(t){return Object(n.a)({url:"/goodsDown",method:"post",data:o.a.stringify(t)})}function I(t){return Object(n.a)({url:"/getCommentList",method:"post",data:o.a.stringify(t)})}function q(t){return Object(n.a)({url:"/delComment",method:"post",data:o.a.stringify(t)})}function G(t){return Object(n.a)({url:"/setCommentShow",method:"post",data:o.a.stringify(t)})}function M(t){return Object(n.a)({url:"/replyComment",method:"post",data:o.a.stringify(t)})}function N(t){return Object(n.a)({url:"/getCommentDetail",method:"post",data:o.a.stringify(t)})}function P(t){return Object(n.a)({url:"/goodsUpper",method:"post",data:o.a.stringify(t)})}function R(t){return Object(n.a)({url:"/communityAdd",method:"post",data:o.a.stringify(t)})}function U(t){return Object(n.a)({url:"/communityList",method:"post",data:o.a.stringify(t)})}function $(t){return Object(n.a)({url:"/communityDel",method:"post",data:o.a.stringify(t)})}function H(t){return Object(n.a)({url:"/communityDetail",method:"post",data:o.a.stringify(t)})}function Q(t){return Object(n.a)({url:"/goodsExtensionInfo",method:"post",data:o.a.stringify(t)})}},jUE0:function(t,e,a){},wrZa:function(t,e,a){}}]);