(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-16f7"],{"5M8c":function(t,e,r){"use strict";r.r(e);var n=r("XYSW"),a=r("Y/SO"),o=r("hoR8"),i=r("bfoT"),s={mixins:[r("UC6z").a.getters("Form")],name:"ManagementUserAdd",components:{ueditor:a.a,ChooseFiles:n.a},computed:{getPath:function(){return function(t){return t.includes("https://")||t.includes("http://")?""+t:r("XzFy")("./"+t)}}},directives:{},data:function(){var t=this;return{currentItems:0,chooseFilesConfig:{type:["image"],model:"normal",initList:[],file_type:"image",uploadConfig:{params:{mode:"perm"}}},formFormatData:{key:"sourceAdd",api:{editForm:{api:o.D,params:{id:""}},submitForm:i.a},formData:{target:"",news:[{title:"",thumb:[{file_path:""}],content_source_url_status:"0",content_source_url:"",author:"",digest:"",content:"",show_cover_pic:""}]},rules:{thumbCover:[{message:"请上传封面图",required:!0,validator:function(e,r,n){var a=e.message,o=t.formFormatData.formData.news[t.currentItems].thumb;return!Array.isArray(o)||Array.isArray(o)&&0===o.length?n(new Error(a+"！~")):o[0].file_path?void n():n(new Error(a+"！~"))},trigger:"change"}]}}}},methods:{saveForm:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.formFormatSubmit({router:{type:"replace",path:"/channel/weChatPublicUeditorSource",code:1}})},chooseFilesChange:function(t){var e=t.currentRow,r=t.displayData;r.length>0&&(this.formFormatData.formData.news[this.currentItems].thumb.splice(0,1,r[r.length-1]),Object(i.n)({ids:e,mode:"perm"}).then(function(t){}))},addParameter:function(){this.formFormatData.formData.news.push({title:"",thumb:[{file_path:""}],content_source_url_status:"0",content_source_url:"",author:"",digest:"",content:"",show_cover_pic:""})},delParameter:function(t){this.formFormatData.formData.news.splice(t,1)},infoChange:function(t,e){e&&(this.formFormatData.formData.news[this.currentItems].content=t)}}},u=(r("ZQLt"),r("KHd+")),c=Object(u.a)(s,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wechat-publicueditorsource-Add views-container"},[n("choose-files",{ref:"chooseFiles",attrs:{config:t.chooseFilesConfig,changeEvt:t.chooseFilesChange}}),t._v(" "),n("section",{staticClass:"flex-row flex-justify-b flex-warp form-group"},[n("div",{staticClass:"wlm-form",staticStyle:{"flex-grow":"1","margin-right":"20px"}},[n("div",{staticClass:"wlm-form-header"},[t._v("图文素材")]),t._v(" "),n("div",{staticClass:"wlm-form-content"},[n("el-form",{ref:"sourceAdd",staticClass:"retail-form",attrs:{model:t.formFormatData.formData,rules:t.formFormatData.rules,size:"small","label-width":"120px","label-position":"right"}},t._l(t.formFormatData.formData.news,function(e,a){return t.currentItems===a?n("el-form-item",{key:a,attrs:{label:""}},[n("el-form-item",{attrs:{label:"标题",prop:"news."+a+".title",rules:{required:!0,message:"请输入标题",trigger:"blur"}}},[n("el-input",{model:{value:e.title,callback:function(r){t.$set(e,"title",r)},expression:"newsItem.title"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"作者",prop:"news."+a+".author",rules:{required:!0,message:"请输入作者",trigger:"blur"}}},[n("el-input",{model:{value:e.author,callback:function(r){t.$set(e,"author",r)},expression:"newsItem.author"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"正文",prop:"news."+a+".content",rules:{required:!0,message:"请输入正文",trigger:"blur"}}},[n("ueditor",{ref:"ue",refInFor:!0,attrs:{ueditorChange:t.infoChange,defaultMsg:e.content,config:{initialFrameWidth:null,initialFrameHeight:350}}})],1),t._v(" "),n("el-form-item",{attrs:{label:"原文链接"}},[n("el-radio-group",{model:{value:e.content_source_url_status,callback:function(r){t.$set(e,"content_source_url_status",r)},expression:"newsItem.content_source_url_status"}},[n("el-radio",{attrs:{label:"1"}},[t._v("使用")]),t._v(" "),n("el-radio",{attrs:{label:"0"}},[t._v("不使用")])],1),t._v(" "),"1"==e.content_source_url_status?n("el-form-item",{staticStyle:{"margin-top":"20px"},attrs:{label:""}},[n("el-input",{model:{value:e.content_source_url,callback:function(r){t.$set(e,"content_source_url",r)},expression:"newsItem.content_source_url"}})],1):t._e()],1),t._v(" "),n("el-form-item",{attrs:{label:"封面图",prop:"thumbCover"}},[n("img",{staticClass:"wlm-upload-img",staticStyle:{cursor:"pointer"},attrs:{src:""+(""==e.thumb[0].file_path?r("d8bL"):e.thumb[0].file_path)},on:{click:function(e){t.$refs.chooseFiles.toggle()}}}),t._v(" "),n("div",{staticClass:"form-help"},[t._v("封面大图片建议图片长宽比：2.35:1")])]),t._v(" "),n("el-form-item",{attrs:{label:"摘要",prop:"news."+a+".digest",rules:{required:!0,message:"请输入摘要",trigger:"blur"}}},[n("el-input",{staticStyle:{width:"75%"},attrs:{type:"textarea",autosize:{minRows:4,maxRows:8},placeholder:"请输入内容"},model:{value:e.digest,callback:function(r){t.$set(e,"digest",r)},expression:"newsItem.digest"}})],1)],1):t._e()}))],1)]),t._v(" "),n("div",{staticClass:"wlm-form"},[n("div",{staticClass:"wlm-form-header"},[t._v("图文列表")]),t._v(" "),n("div",{staticClass:"wlm-form-content"},[n("el-form",{staticClass:"retail-form",attrs:{size:"small","label-width":"120px","label-position":"right"}},[n("div",{staticClass:"news-list"},[n("div",{staticClass:"first-news",class:{active:0===t.currentItems},on:{click:function(e){t.currentItems=0}}},[n("img",{attrs:{src:""+(t.formFormatData.formData.news[0].thumb[0].file_path?t.formFormatData.formData.news[0].thumb[0].file_path:t.getPath("default_picture.png"))}}),t._v(" "),n("p",{staticClass:"news-title"},[t._v(t._s(t.formFormatData.formData.news[0].title))]),t._v(" "),n("div",{staticClass:"bg"})]),t._v(" "),t._l(t.formFormatData.formData.news,function(e,r){return r>0?n("div",{key:r,staticClass:"news clearfix",class:{active:r===t.currentItems},on:{click:function(e){t.currentItems=r}}},[n("img",{attrs:{src:""+(e.thumb[0].file_path?e.thumb[0].file_path:t.getPath("default_picture.png"))}}),t._v(" "),n("p",{staticClass:"news-title"},[t._v(t._s(e.title))]),t._v(" "),n("i",{staticClass:"el-icon-close close-btn",on:{click:function(e){t.delParameter(r)}}})]):t._e()}),t._v(" "),n("div",{staticClass:"add-news",on:{click:t.addParameter}},[t._v("+")])],2)])],1)])]),t._v(" "),n("div",{staticClass:"wlm-fixed-btn flex-row flex-align-c flex-justify-c"},[n("el-button",{attrs:{size:"small",disabled:t.isFormFormatSave,loading:t.isFormFormatSave,type:"primary"},on:{click:function(e){t.saveForm("")}}},[t._v("保存")]),t._v(" "),n("el-button",{attrs:{size:"small",disabled:t.isFormFormatSave,loading:t.isFormFormatSave,type:"primary"},on:{click:function(e){t.saveForm("wechat")}}},[t._v("保存并上传至微信服务器")]),t._v(" "),n("router-link",{attrs:{tag:"span",to:"/merchandise/parameterMerchandise"}},[n("el-button",{attrs:{size:"small",disabled:t.isFormFormatSave,loading:t.isFormFormatSave}},[t._v("返回")])],1)],1)],1)},[],!1,null,"6a29d9a6",null);c.options.__file="weChatPublicUeditorSourceAdd.vue";e.default=c.exports},"70EF":function(t,e,r){},ZQLt:function(t,e,r){"use strict";var n=r("70EF");r.n(n).a},hoR8:function(t,e,r){"use strict";r.d(e,"A",function(){return i}),r.d(e,"C",function(){return s}),r.d(e,"M",function(){return u}),r.d(e,"E",function(){return c}),r.d(e,"D",function(){return l}),r.d(e,"F",function(){return d}),r.d(e,"K",function(){return f}),r.d(e,"L",function(){return m}),r.d(e,"z",function(){return g}),r.d(e,"B",function(){return p}),r.d(e,"J",function(){return h}),r.d(e,"G",function(){return b}),r.d(e,"s",function(){return v}),r.d(e,"a",function(){return _}),r.d(e,"l",function(){return y}),r.d(e,"x",function(){return w}),r.d(e,"t",function(){return j}),r.d(e,"p",function(){return F}),r.d(e,"r",function(){return O}),r.d(e,"n",function(){return C}),r.d(e,"m",function(){return D}),r.d(e,"w",function(){return x}),r.d(e,"v",function(){return I}),r.d(e,"u",function(){return k}),r.d(e,"I",function(){return S}),r.d(e,"g",function(){return A}),r.d(e,"h",function(){return E}),r.d(e,"i",function(){return P}),r.d(e,"o",function(){return z}),r.d(e,"k",function(){return L}),r.d(e,"f",function(){return R}),r.d(e,"N",function(){return G}),r.d(e,"H",function(){return $}),r.d(e,"j",function(){return q}),r.d(e,"y",function(){return U}),r.d(e,"b",function(){return M}),r.d(e,"e",function(){return H}),r.d(e,"c",function(){return J}),r.d(e,"d",function(){return N}),r.d(e,"q",function(){return Q});var n=r("t3Un"),a=r("Qyje"),o=r.n(a);function i(t){return Object(n.a)({url:"/goodsclassEdit",method:"post",data:o.a.stringify(t)})}function s(t){return Object(n.a)({url:"/goodsclassIndex",method:"post",data:o.a.stringify(t)})}function u(t){return Object(n.a)({url:"/serviceIndex",method:"post",data:o.a.stringify(t)})}function c(t){return Object(n.a)({url:"/parameterEdit",method:"post",data:o.a.stringify(t)})}function l(t){return Object(n.a)({url:"/parameteGet",method:"post",data:o.a.stringify(t)})}function d(t){return Object(n.a)({url:"/parameterIndex",method:"post",data:o.a.stringify(t)})}function f(t){return Object(n.a)({url:"/serviceEdit",method:"post",data:o.a.stringify(t)})}function m(t){return Object(n.a)({url:"/serviceGet",method:"post",data:o.a.stringify(t)})}function g(t){return Object(n.a)({url:"/goodsclassDelete",method:"post",data:o.a.stringify(t)})}function p(t){return Object(n.a)({url:"/goodsclassGet",method:"post",data:o.a.stringify(t)})}function h(t){return Object(n.a)({url:"/serlistDelete",method:"post",data:o.a.stringify(t)})}function b(t){return Object(n.a)({url:"/parlistDelete",method:"post",data:o.a.stringify(t)})}function v(t){return Object(n.a)({url:"/goodsIndex",method:"post",data:o.a.stringify(t)})}function _(t){return Object(n.a)({url:"/categoryIndex",method:"post",data:o.a.stringify(t)})}function y(t){return Object(n.a)({url:"/goodsAdd",method:"post",data:o.a.stringify(t)})}function w(t){return Object(n.a)({url:"/goodsServeListAll",method:"post",data:o.a.stringify(t)})}function j(t){return Object(n.a)({url:"/goodsParamListAll",method:"post",data:o.a.stringify(t)})}function F(t){return Object(n.a)({url:"/goodsEdit",method:"post",data:o.a.stringify(t)})}function O(t){return Object(n.a)({url:"/goodsGet",method:"post",data:o.a.stringify(t)})}function C(t){return Object(n.a)({url:"/goodsDelivery",method:"post",data:o.a.stringify(t)})}function D(t){return Object(n.a)({url:"/goodsDelete",method:"post",data:o.a.stringify(t)})}function x(t){return Object(n.a)({url:"/goodsRegainDel",method:"post",data:o.a.stringify(t)})}function I(t){return Object(n.a)({url:"/goodsRegain",method:"post",data:o.a.stringify(t)})}function k(t){return Object(n.a)({url:"/goodsRecovery",method:"post",data:o.a.stringify(t)})}function S(t){return Object(n.a)({url:"/reviseStatus",method:"post",data:o.a.stringify(t)})}function A(t){return Object(n.a)({url:"/editGoodsName",method:"post",data:o.a.stringify(t)})}function E(t){return Object(n.a)({url:"/editGoodsPrice",method:"post",data:o.a.stringify(t)})}function P(t){return Object(n.a)({url:"/editStockNum",method:"post",data:o.a.stringify(t)})}function z(t){return Object(n.a)({url:"/goodsDown",method:"post",data:o.a.stringify(t)})}function L(t){return Object(n.a)({url:"/getCommentList",method:"post",data:o.a.stringify(t)})}function R(t){return Object(n.a)({url:"/delComment",method:"post",data:o.a.stringify(t)})}function G(t){return Object(n.a)({url:"/setCommentShow",method:"post",data:o.a.stringify(t)})}function $(t){return Object(n.a)({url:"/replyComment",method:"post",data:o.a.stringify(t)})}function q(t){return Object(n.a)({url:"/getCommentDetail",method:"post",data:o.a.stringify(t)})}function U(t){return Object(n.a)({url:"/goodsUpper",method:"post",data:o.a.stringify(t)})}function M(t){return Object(n.a)({url:"/communityAdd",method:"post",data:o.a.stringify(t)})}function H(t){return Object(n.a)({url:"/communityList",method:"post",data:o.a.stringify(t)})}function J(t){return Object(n.a)({url:"/communityDel",method:"post",data:o.a.stringify(t)})}function N(t){return Object(n.a)({url:"/communityDetail",method:"post",data:o.a.stringify(t)})}function Q(t){return Object(n.a)({url:"/goodsExtensionInfo",method:"post",data:o.a.stringify(t)})}}}]);