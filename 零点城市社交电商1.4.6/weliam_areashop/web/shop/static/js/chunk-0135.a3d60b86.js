(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0135"],{"5Rtu":function(a,t,e){"use strict";var r=e("eLvj");e.n(r).a},EHsY:function(a,t,e){"use strict";e.r(t);var r=e("x/Cv"),o=e("wk8/"),s=e("UC6z"),l={mixins:[s.a.getters("Form"),s.a.getters("Table")],name:"ManagementUserEdit",components:{upload:r.a},computed:{},directives:{},data:function(){return{statusType:{1:"正常",2:"已注销",3:"黑名单","-":"-"},sexType:{0:"未知",1:"男",2:"女"},sourceType:{1:"导入",2:"微信小程序",3:"H5",4:"公众号",5:"安卓",6:"苹果",7:"支付宝小程序",8:"百度小程序",9:"头条小程序","-":"-"},dialogTableVisible:!1,userdialog:!1,rechargedialog:!1,defaultMsg:"",platformConfig:{type:["image"],initList:[]},formFormatData:{key:"smsSettings",api:{editForm:{api:o.h,params:{redirect:"user_id",always:!0}},submitForm:o.k},formData:{member:"",op:"edit",pay_money:"0.00",pay_order:"0",num:"",status:"-",couponNum:"-",avatarUrl:this.$store.getters.usersAvatar,couponUseNum:"-",login_time:"0",create_time:"-",nickName:"-",mobile:"",gender:0,user_id:"-",credit2:"0.00",source:"-",address:[],address_default:null},rules:{appKey:[{required:!0,message:"请输入App Key",trigger:"blur"}],appSecret:[{required:!0,message:"请输入App Secret",trigger:"blur"}]}},tableFormatData:{current:"announcement",announcement:{key:"announcement",tableData:[],files:{status:"1",title:"",ids:[],checkall:"0",Recycle:"0"},pagination:{page:1,list_rows:10,pagesizes:[10,20,50],total:0}}}}},methods:{remarkChange:function(a){},formDialogEvt:function(){this.dialogTableVisible=!0},formFormatCallBack:function(a,t,e){if("editForm"===t){var r=e.data.data.address_default;r&&this.formFormatData.formData.address.push(r)}else if("submitForm"===t){var o=e.data,s=o.code,l=o.data;this.formFormatData.formData.remark="",this.formFormatData.formData.num="",1===s&&(this.formFormatData.formData.credit2=Number(l).toFixed(2))}}}},m=(e("5Rtu"),e("KHd+")),i=Object(m.a)(l,function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"management-user-edit views-container"},[e("el-dialog",{attrs:{visible:a.userdialog,"custom-class":"reset-pwd wlm-form-dialog dialog-table"},on:{"update:visible":function(t){a.userdialog=t}}},[a.userdialog?e("div",{staticClass:"wlm-form"},[e("div",{staticClass:"wlm-form-header wlm-dialog-fixheader"},[e("span",{staticClass:"wlm-dialog-inlenr"},[a._v("用户资料")])]),a._v(" "),e("el-scrollbar",{attrs:{"wrap-class":"scrollbar-wrapper"}},[e("div",{staticClass:"wlm-form-content"},[e("div",{staticClass:"wlm-dialog-main"},[e("div",{staticClass:"wlm-dialog-content"},[e("el-form",{ref:a.formFormatData.key,staticClass:"retail-form",attrs:{model:a.formFormatData.formData,rules:a.formFormatData.rules,size:"small","label-width":"120px","label-position":"right"}},[e("el-form-item",{attrs:{label:"用户"}},[e("div",{staticClass:"flex-row"},[e("img",{staticStyle:{"margin-right":"10px"},attrs:{width:"60",height:"60",src:a.formFormatData.formData.avatarUrl}}),a._v(" "),e("div",[e("p",[a._v(a._s(a.formFormatData.formData.nickName))]),a._v(" "),e("p",[a._v(a._s(a.formFormatData.formData.user_id))])])])]),a._v(" "),e("el-form-item",{attrs:{label:"性别"}},[e("el-select",{attrs:{placeholder:"请选择"},model:{value:a.formFormatData.formData.gender,callback:function(t){a.$set(a.formFormatData.formData,"gender",t)},expression:"formFormatData.formData.gender"}},a._l([{lable:"未知",value:0},{lable:"男",value:1},{lable:"女",value:2}],function(a){return e("el-option",{key:a.value,attrs:{label:a.lable,value:a.value}})}))],1),a._v(" "),e("el-form-item",{attrs:{label:"手机号码"}},[e("el-input",{attrs:{placeholder:""},model:{value:a.formFormatData.formData.mobile,callback:function(t){a.$set(a.formFormatData.formData,"mobile",t)},expression:"formFormatData.formData.mobile"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"黑名单"}},[e("el-radio-group",{model:{value:a.formFormatData.formData.status,callback:function(t){a.$set(a.formFormatData.formData,"status",t)},expression:"formFormatData.formData.status"}},[e("el-radio",{attrs:{label:3}},[a._v("加入")]),a._v(" "),e("el-radio",{attrs:{label:1}},[a._v("不加入")])],1)],1)],1)],1)])])])],1):a._e(),a._v(" "),e("footer",{staticClass:"flex-row flex-align-c flex-justify-c wlm-dialog-fixfooter"},[e("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){a.userdialog=!1,a.formFormatSubmit()}}},[a._v("保存")])],1)]),a._v(" "),e("section",{staticClass:"flex-row flex-warp form-group"},[e("div",{staticClass:"wlm-form"},[e("div",{staticClass:"wlm-form-header"},[a._v("基本资料")]),a._v(" "),e("div",{staticStyle:{margin:"20px 40px 6px"}},[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){a.formFormatData.formData.op="edit",a.userdialog=!0}}},[a._v("资料修改")])],1),a._v(" "),e("div",{staticClass:"wlm-form-content flex-row flex-justify-b"},[e("el-form",{ref:a.formFormatData.key,staticClass:"retail-form",staticStyle:{"margin-left":"20px"},attrs:{model:a.formFormatData.formData,rules:a.formFormatData.rules,size:"small","label-width":"90px","label-position":"left"}},[e("el-form-item",{attrs:{label:"用户："}},[e("div",{staticClass:"flex-row"},[e("img",{staticStyle:{"margin-right":"16px"},attrs:{width:"50",height:"50",src:a.formFormatData.formData.avatarUrl}}),a._v(" "),e("div",[e("p",{staticStyle:{"line-height":"1.8"}},[a._v(a._s(a.formFormatData.formData.nickName))]),a._v(" "),e("p",{staticStyle:{"line-height":"1.8"}},[a._v(a._s("ID："+a.formFormatData.formData.user_id))])])])]),a._v(" "),e("el-form-item",{attrs:{label:"手机号码："}},[e("span",[a._v(a._s(a.formFormatData.formData.mobile))])]),a._v(" "),e("el-form-item",{attrs:{label:"注册时间："}},[e("span",[a._v(a._s(a.formFormatData.formData.create_time))])])],1),a._v(" "),e("el-form",{ref:a.formFormatData.key,staticClass:"retail-form",staticStyle:{"margin-right":"90px"},attrs:{model:a.formFormatData.formData,rules:a.formFormatData.rules,size:"small","label-width":"90px","label-position":"left"}},[e("el-form-item",{staticStyle:{height:"50px"},attrs:{label:"性别："}},[e("span",[a._v(a._s(a.sexType[a.formFormatData.formData.gender]))])]),a._v(" "),e("el-form-item",{attrs:{label:"注册来源："}},[e("span",[a._v(a._s(a.sourceType[a.formFormatData.formData.source]))])]),a._v(" "),e("el-form-item",{attrs:{label:"状态："}},[e("span",[a._v(a._s(a.statusType[a.formFormatData.formData.status]))])])],1)],1)]),a._v(" "),e("div",{staticClass:"wlm-form"},[e("div",{staticClass:"wlm-form-header"},[e("div",{staticClass:"flex-row flex-justify-b"},[e("span",[a._v("统计信息")]),a._v(" "),e("el-popover",{attrs:{placement:"right",trigger:"hover"}},[e("router-link",{staticStyle:{"text-align":"center",padding:"3px 0"},attrs:{tag:"p",to:{path:"/orders/ordersVerificationManagement",query:{user_id:a.formFormatData.formData.user_id}}}},[e("span",{staticClass:"pointer"},[a._v("核销订单")])]),a._v(" "),e("router-link",{staticStyle:{"text-align":"center",padding:"3px 0"},attrs:{tag:"p",to:{path:"/orders/ordersComeStoreManagement",query:{user_id:a.formFormatData.formData.user_id}}}},[e("span",{staticClass:"pointer"},[a._v("自提订单")])]),a._v(" "),e("router-link",{staticStyle:{"text-align":"center",padding:"3px 0"},attrs:{tag:"p",to:{path:"/orders/ordersExpressManagement",query:{user_id:a.formFormatData.formData.user_id}}}},[e("span",{staticClass:"pointer"},[a._v("快递订单")])]),a._v(" "),e("el-button",{staticStyle:{padding:"0"},attrs:{slot:"reference",type:"text"},slot:"reference"},[a._v("订单列表")])],1)],1)]),a._v(" "),e("div",{staticClass:"wlm-form-content flex-row flex-justify-b",staticStyle:{"margin-top":"52px"}},[e("el-form",{ref:a.formFormatData.key,staticClass:"retail-form",staticStyle:{"margin-left":"20px"},attrs:{model:a.formFormatData.formData,rules:a.formFormatData.rules,size:"small","label-width":"120px","label-position":"top"}},[e("el-form-item",{attrs:{label:"消费金额"}},[e("span",[e("span",{staticClass:"orders-red"},[a._v("￥"+a._s(a.formFormatData.formData.pay_money))])])]),a._v(" "),a.formFormatData.formData.couponNum>=0&&a.formFormatData.formData.couponUseNum>=0?e("el-form-item",{attrs:{label:"优惠券(张)"}},[e("span",[a._v(a._s(a.formFormatData.formData.couponNum-a.formFormatData.formData.couponUseNum))])]):a._e()],1),a._v(" "),e("el-form",{ref:a.formFormatData.key,staticClass:"retail-form",staticStyle:{"margin-right":"90px"},attrs:{model:a.formFormatData.formData,rules:a.formFormatData.rules,size:"small","label-width":"120px","label-position":"top"}},[e("el-form-item",{attrs:{label:"消费次数"}},[e("span",[a._v(a._s(a.formFormatData.formData.pay_order))])])],1)],1)])]),a._v(" "),a.formFormatData.formData.member.length>0?e("section",{staticClass:"flex-row flex-warp form-group"},[e("div",{staticClass:"wlm-form"},[a._m(0),a._v(" "),e("div",{staticClass:"wlm-form-content flex-row flex-justify-b"},[e("el-form",{ref:a.formFormatData.key,staticClass:"retail-form",staticStyle:{"margin-left":"20px",width:"50%"},attrs:{model:a.formFormatData.formData,rules:a.formFormatData.rules,size:"small","label-width":"80px","label-position":"left"}},[e("el-form-item",{attrs:{label:"会员卡名称"}},[e("span",[a._v(a._s(a.formFormatData.formData.member[0].card_title))])]),a._v(" "),e("el-form-item",{attrs:{label:"开通时间"}},[e("span",[a._v(a._s(a.formFormatData.formData.member[0].create_time))])])],1),a._v(" "),e("el-form",{ref:a.formFormatData.key,staticClass:"retail-form",staticStyle:{"margin-left":"82px",width:"50%"},attrs:{model:a.formFormatData.formData,rules:a.formFormatData.rules,size:"small","label-width":"80px","label-position":"left"}},[e("el-form-item",{attrs:{label:"会员卡号"}},[e("span",[a._v(a._s(a.formFormatData.formData.member[0].card_number))])]),a._v(" "),e("el-form-item",{attrs:{label:"到期时间"}},[e("span",[a._v(a._s(a._f("parseTime")(a.formFormatData.formData.member[0].card_end_time,"{y}-{m}-{d} {h}:{i}:{s}")))])])],1)],1)])]):a._e(),a._v(" "),e("div",{staticClass:"wlm-form"},[e("div",{staticClass:"wlm-form-header"},[a._v("收货地址")]),a._v(" "),e("div",{staticClass:"wlm-form-content"},[e("div",{staticClass:"wlm-table"},[e("div",{staticClass:"wlm-table-content"},[e("el-table",{ref:a.tableFormatData.announcement.key,staticStyle:{width:"100%"},attrs:{data:a.formFormatData.formData.address}},[e("el-table-column",{attrs:{prop:"date",label:"收货人","header-align":"center",align:"center"},scopedSlots:a._u([{key:"default",fn:function(t){return[e("p",[a._v(a._s(t.row.name))])]}}])}),a._v(" "),e("el-table-column",{attrs:{prop:"date",label:"联系方式","header-align":"center",align:"center"},scopedSlots:a._u([{key:"default",fn:function(t){return[e("span",[a._v(a._s(t.row.phone))])]}}])}),a._v(" "),e("el-table-column",{attrs:{prop:"date",label:"地址","header-align":"center",align:"center"},scopedSlots:a._u([{key:"default",fn:function(t){return t.row.region?[e("span",[a._v(a._s(t.row.region.province+"-"+t.row.region.city+"-"+t.row.region.region))])]:void 0}}])}),a._v(" "),e("el-table-column",{attrs:{prop:"date",label:"是否默认","header-align":"center",align:"center"},scopedSlots:a._u([{key:"default",fn:function(t){return[e("span",[a._v(a._s("1"==t.row.default?"是":"否"))])]}}])})],1)],1)])])])],1)},[function(){var a=this.$createElement,t=this._self._c||a;return t("div",{staticClass:"wlm-form-header"},[t("div",{staticClass:"flex-row flex-justify-b"},[t("span",[this._v("会员信息")])])])}],!1,null,"3f660fa7",null);i.options.__file="managementUserEdit.vue";t.default=i.exports},eLvj:function(a,t,e){},kbZS:function(a,t,e){"use strict";e.d(t,"a",function(){return l}),e.d(t,"d",function(){return m}),e.d(t,"c",function(){return i}),e.d(t,"b",function(){return n});var r=e("t3Un"),o=e("Qyje"),s=e.n(o);function l(a){var t=a.getwebPath;return Object(r.a)({url:"/m=utility&do=grab_image&token=2302018081011184865072836&url="+t,method:"get",params:{}})}function m(a){return Object(r.a)({url:"/uploadListImg",method:"post",data:s.a.stringify(a)})}function i(a){return Object(r.a)({url:"/outUpload",method:"post",data:s.a.stringify(a)})}function n(a){return Object(r.a)({url:"/orderInput",method:"post",data:a})}}}]);