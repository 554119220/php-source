(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-ec00"],{ZQX7:function(t,e,a){},qM43:function(t,e,a){"use strict";var n=a("ZQX7");a.n(n).a},qiHX:function(t,e,a){"use strict";a.r(e);var n=a("slWK"),s={mixins:[a("UC6z").a.getters("Table")],name:"CouponMarketingRecords",components:{},computed:{},created:function(){var t=this;Object(n.f)({couponId:this.$route.query.couponId}).then(function(e){var a=e.data.data,n=void 0===a?[]:a;t.categoryData=n,console.log(t.categoryData)})},data:function(){return{sourceType:{1:"导入",2:"小程序",3:"H5",4:"公众号",5:"安卓",6:"苹果","-":"-"},categoryData:[],tableFormatData:{current:"announcement",announcement:{key:"announcement",api:{getList:n.a,delList:n.a},tableData:[],files:{nickName:"",time:[],is_use:"",ids:[],checkall:"0",Recycle:"0"},options:{product_id:[],is_check:[{label:"开启",value:"1"},{label:"禁用",value:"0"}]},pagination:{page:1,list_rows:10,pagesizes:[10,20,50],total:10}}}}},mounted:function(){},methods:{}},r=(a("qM43"),a("KHd+")),l=Object(r.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"coupon-marketing-records views-container"},[a("div",{staticClass:"wlm-table"},[a("div",{staticClass:"wlm-table-header",staticStyle:{"margin-bottom":"20px"}},[t.categoryData?a("div",{staticClass:"dashboard-header"},[a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:8}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"dashboard-header-item flex-col flex-justify-c flex-align-c"},[a("div",{staticClass:"item-title"},[a("span",[t._v("用券总成交额")]),t._v(" "),a("el-popover",{attrs:{placement:"top-start",width:"80",trigger:"hover",content:"使用该优惠券的订单付款总金额"}},[a("el-button",{staticStyle:{color:"#333333"},attrs:{slot:"reference",type:"text",icon:"el-icon-question"},slot:"reference"})],1)],1),t._v(" "),a("div",{staticClass:"item-num"},[a("span",{staticClass:"text-danger"},[t._v("￥")]),a("span",[t._v(t._s(t.categoryData.turnover))])])])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"dashboard-header-item flex-col flex-justify-c flex-align-c"},[a("div",{staticClass:"item-title"},[a("span",[t._v("优惠券总金额")]),t._v(" "),a("el-popover",{attrs:{placement:"top-start",width:"80",trigger:"hover",content:"使用该优惠券优惠的总金额"}},[a("el-button",{staticStyle:{color:"#333333"},attrs:{slot:"reference",type:"text",icon:"el-icon-question"},slot:"reference"})],1)],1),t._v(" "),a("div",{staticClass:"item-num"},[a("span",{staticClass:"text-danger"},[t._v("￥")]),a("span",[t._v(t._s(t.categoryData.sumCouponPrice))])])])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"dashboard-header-item flex-col flex-justify-c flex-align-c"},[a("div",{staticClass:"item-title"},[a("span",[t._v("费效比")]),t._v(" "),a("el-popover",{attrs:{placement:"top-start",width:"80",trigger:"hover",content:"优惠券总金额/用券总成交额"}},[a("el-button",{staticStyle:{color:"#333333"},attrs:{slot:"reference",type:"text",icon:"el-icon-question"},slot:"reference"})],1)],1),t._v(" "),a("div",{staticClass:"item-num"},[t.categoryData.ratio?a("span",[t._v(t._s((""+t.categoryData.ratio).includes(".")?(""+t.categoryData.ratio).split(".")[0]+"."+(""+t.categoryData.ratio).split(".")[1].substr(0,2):(""+t.categoryData.ratio).substr(0,2))+"%")]):t._e(),t._v(" "),t.categoryData.ratio?t._e():a("span",[t._v("-")])])])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"dashboard-header-item flex-col flex-justify-c flex-align-c "},[a("div",{staticClass:"item-title"},[a("span",[t._v("用券比单价")]),t._v(" "),a("el-popover",{attrs:{placement:"top-start",width:"80",trigger:"hover",content:"用券总成交额/使用该优惠券优惠的付款订单数"}},[a("el-button",{staticStyle:{color:"#333333"},attrs:{slot:"reference",type:"text",icon:"el-icon-question"},slot:"reference"})],1)],1),t._v(" "),a("div",{staticClass:"item-num"},[t.categoryData.unitPrice?a("div",[a("span",{staticClass:"text-danger"},[t._v("￥")]),a("span",[t._v(t._s(t.categoryData.unitPrice))])]):t._e(),t._v(" "),t.categoryData.unitPrice?t._e():a("div",[t._v("-")])])])])],1),t._v(" "),a("el-row",{attrs:{gutter:8}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"dashboard-header-item flex-col flex-justify-c flex-align-c"},[a("div",{staticClass:"item-title"},[a("span",[t._v("用券老客户")]),t._v(" "),a("el-popover",{attrs:{placement:"top-start",width:"80",trigger:"hover",content:"使用该优惠券的老用户数"}},[a("el-button",{staticStyle:{color:"#333333"},attrs:{slot:"reference",type:"text",icon:"el-icon-question"},slot:"reference"})],1)],1),t._v(" "),a("div",{staticClass:"item-num"},[t.categoryData.MembersCount?a("span",[t._v(t._s(t.categoryData.MembersCount.newMembersCount))]):t._e()])])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"dashboard-header-item flex-col flex-justify-c flex-align-c"},[a("div",{staticClass:"item-title"},[a("span",[t._v("用券新客户")]),t._v(" "),a("el-popover",{attrs:{placement:"top-start",width:"80",trigger:"hover",content:"使用该优惠券的新用户数"}},[a("el-button",{staticStyle:{color:"#333333"},attrs:{slot:"reference",type:"text",icon:"el-icon-question"},slot:"reference"})],1)],1),t._v(" "),a("div",{staticClass:"item-num"},[t.categoryData.MembersCount?a("span",[t._v(t._s(t.categoryData.MembersCount.oldMembersCount))]):t._e()])])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"dashboard-header-item flex-col flex-justify-c flex-align-c"},[a("div",{staticClass:"item-title"},[a("span",[t._v("购买商品数")]),t._v(" "),a("el-popover",{attrs:{placement:"top-start",width:"80",trigger:"hover",content:"使用该优惠券购买的商品数"}},[a("el-button",{staticStyle:{color:"#333333"},attrs:{slot:"reference",type:"text",icon:"el-icon-question"},slot:"reference"})],1)],1),t._v(" "),a("div",{staticClass:"item-num"},[a("span",[t._v(t._s(t.categoryData.goodsCount))])])])]),t._v(" "),a("el-col",{attrs:{span:6}})],1)],1):t._e()]),t._v(" "),a("div",{staticClass:"wlm-table-header"},[a("el-form",{staticClass:"retail-form",attrs:{model:t.tableFormatData.announcement.files,size:"small","label-width":"85px","label-position":"right"}},[a("el-form-item",{staticClass:"filter",attrs:{label:""}},[a("el-form-item",{staticClass:"search",attrs:{label:"用户："}},[a("el-input",{staticStyle:{width:"160px"},attrs:{placeholder:"请输入平台名称"},model:{value:t.tableFormatData.announcement.files.nickName,callback:function(e){t.$set(t.tableFormatData.announcement.files,"nickName",e)},expression:"tableFormatData.announcement.files.nickName"}})],1),t._v(" "),a("el-form-item",{staticClass:"search",attrs:{label:"领取时间："}},[a("el-date-picker",{attrs:{type:"daterange","value-format":"timestamp",align:"right","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.tableFormatData.announcement.files.time,callback:function(e){t.$set(t.tableFormatData.announcement.files,"time",e)},expression:"tableFormatData.announcement.files.time"}})],1),t._v(" "),a("el-form-item",{staticClass:"filter",attrs:{label:""}},[a("el-form-item",{attrs:{label:"使用状态："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.tableFormatData.announcement.files.is_use,callback:function(e){t.$set(t.tableFormatData.announcement.files,"is_use",e)},expression:"tableFormatData.announcement.files.is_use"}},[a("el-option",{attrs:{label:"未使用",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"已使用",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"全部",value:"2"}})],1)],1)],1)],1),t._v(" "),a("el-form-item",{staticClass:"filter-btns",attrs:{label:""}},[a("el-button",{attrs:{type:"primary"},on:{click:t.filesSerch}},[t._v("筛选")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:t.filesEmpty}},[t._v("清空筛选条件")])],1)],1)],1),t._v(" "),a("div",{staticClass:"wlm-table-content"},[a("el-table",{ref:t.tableFormatData.announcement.key,staticStyle:{width:"100%"},attrs:{data:t.tableFormatData.announcement.tableData},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55","header-align":"center",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"用户","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"wlm-table-logos"},[a("img",{staticClass:"logo",attrs:{src:e.row.avatarUrl}}),t._v(" "),a("span",{staticClass:"inner-text"},[t._v(t._s(e.row.nickName))])])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"领取时间","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.create_time))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"领取渠道","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.sourceType[""+e.row.source]))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"使用状态","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s("1"==e.row.is_use?"已使用":"未使用"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"使用时间","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.order.length>0?a("span",[t._v(t._s(e.row.order[0].create_time||"-"))]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"订单","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.order.length>0?a("span",[t._v(t._s(e.row.order[0].order_no||"-"))]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"订单付款金额","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.order.length>0?a("span",[t._v(t._s(e.row.order[0].pay_price||"-"))]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"operation-group"},[a("el-button",{staticClass:"wlm-text",attrs:{type:"text"},on:{click:function(a){t.delTableItem(e.row.id)}}},[t._v("删除")])],1)]}}])})],1),t._v(" "),a("div",{staticClass:"pagination-content flex-row flex-justify-b flex-align-c"},[a("el-row",{staticClass:"pagination-btns"},[a("el-checkbox",{staticClass:"check-all",attrs:{"true-label":"1","false-label":"0"},on:{change:t.toggleSelection},model:{value:t.tableFormatData.announcement.files.checkall,callback:function(e){t.$set(t.tableFormatData.announcement.files,"checkall",e)},expression:"tableFormatData.announcement.files.checkall"}},[t._v("全部")]),t._v(" "),a("el-button",{staticClass:"right-8",attrs:{disabled:t.isGroup,size:"mini"},on:{click:t.delTableList}},[t._v("删除")])],1),t._v(" "),a("el-pagination",{attrs:{disabled:!t.hasTableData,"current-page":t.tableFormatData.announcement.pagination.page,"page-sizes":t.tableFormatData.announcement.pagination.pagesizes,"page-size":t.tableFormatData.announcement.pagination.list_rows,layout:"total, sizes, prev, pager, next, jumper",total:t.hasTableData?t.tableFormatData.announcement.pagination.total:0},on:{"size-change":t.listPageChange,"current-change":t.listPageChange,"update:currentPage":function(e){t.$set(t.tableFormatData.announcement.pagination,"page",e)},"update:pageSize":function(e){t.$set(t.tableFormatData.announcement.pagination,"list_rows",e)}}})],1)],1)])])},[],!1,null,"1253d9c2",null);l.options.__file="couponMarketingRecords.vue";e.default=l.exports},slWK:function(t,e,a){"use strict";a.d(e,"e",function(){return l}),a.d(e,"g",function(){return o}),a.d(e,"c",function(){return i}),a.d(e,"d",function(){return c}),a.d(e,"h",function(){return u}),a.d(e,"m",function(){return d}),a.d(e,"l",function(){return p}),a.d(e,"n",function(){return m}),a.d(e,"o",function(){return f}),a.d(e,"f",function(){return v}),a.d(e,"a",function(){return g}),a.d(e,"b",function(){return b}),a.d(e,"k",function(){return _}),a.d(e,"i",function(){return h}),a.d(e,"j",function(){return y});var n=a("t3Un"),s=a("Qyje"),r=a.n(s);function l(t){return Object(n.a)({url:"/couponEditOrAdd",method:"post",data:r.a.stringify(t)})}function o(t){return Object(n.a)({url:"/couponList",method:"post",data:r.a.stringify(t)})}function i(t){return Object(n.a)({url:"/couponDelete",method:"post",data:r.a.stringify(t)})}function c(t){return Object(n.a)({url:"/couponDetail",method:"post",data:r.a.stringify(t)})}function u(t){return Object(n.a)({url:"/couponOp",method:"post",data:r.a.stringify(t)})}function d(t){return Object(n.a)({url:"/smsSave",method:"post",data:r.a.stringify(t)})}function p(t){return Object(n.a)({url:"/smsGet",method:"post",data:r.a.stringify(t)})}function m(t){return Object(n.a)({url:"/smsTplGet",method:"post",data:r.a.stringify(t)})}function f(t){return Object(n.a)({url:"/smsTplSave",method:"post",data:r.a.stringify(t)})}function v(t){return Object(n.a)({url:"/couponInfo",method:"post",data:r.a.stringify(t)})}function g(t){return Object(n.a)({url:"/ReceiveInfoList",method:"post",data:r.a.stringify(t)})}function b(t){return Object(n.a)({url:"/addSpike",method:"post",data:r.a.stringify(t)})}function _(t){return Object(n.a)({url:"/getSpikeList",method:"post",data:r.a.stringify(t)})}function h(t){return Object(n.a)({url:"/delSpikeList",method:"post",data:r.a.stringify(t)})}function y(t){return Object(n.a)({url:"/getEditData",method:"post",data:r.a.stringify(t)})}}}]);