<?php
 goto QVpH6; v3lkx: function get_user_nickname($openid) { goto X26Jg; wM5Lh: if (!$fan) { goto MUQD1; } goto e9vHs; X26Jg: global $_W; goto KgID_; h_mgU: MUQD1: goto f39tK; e9vHs: $userInfo = pdo_get("\155\143\137\x6d\x65\x6d\x62\x65\162\x73", ["\x75\x69\x64" => $fan["\165\151\x64"]]); goto HJlDe; KgID_: $fan = pdo_get("\155\143\137\155\141\x70\160\x69\156\147\137\x66\141\x6e\x73", array("\157\x70\x65\x6e\151\x64" => $openid)); goto wM5Lh; HJlDe: return $userInfo["\156\x69\143\x6b\x6e\141\155\x65"]; goto h_mgU; f39tK: } goto kFUZM; m5AIT: function unbind($subscriptionId) { goto QybHE; QybHE: global $_W; goto gaj3J; JT6l_: $headers = ["\x41\143\143\x65\x70\164\x3a\40\141\x70\160\154\151\x63\x61\164\151\x6f\x6e\x2f\x6a\163\157\156", "\x43\157\156\164\145\x6e\x74\55\x54\x79\160\145\72\40\x61\x70\x70\x6c\x69\x63\141\164\151\x6f\156\57\x6a\163\157\x6e\x3b\x63\x68\141\x72\x73\x65\164\75\125\124\x46\x2d\70", "\101\x75\164\x68\157\x72\151\x7a\141\164\151\x6f\x6e\x3a\x20\x57\x53\x53\x45\x20\162\145\141\x6c\155\x3d\x22\x53\104\x50\42\54\160\162\x6f\x66\151\x6c\x65\75\x22\x55\x73\x65\162\156\141\x6d\145\124\x6f\153\145\156\42\54\164\171\160\x65\x3d\x22\101\160\x70\x6b\x65\171\42", "\130\55\x57\123\x53\105\x3a\40" . buildWsseHeader($APP_KEY, $APP_SECRET)]; goto MQwrs; MQwrs: $data = http_build_query(["\163\165\142\x73\x63\x72\x69\x70\x74\151\x6f\x6e\111\144" => $subscriptionId]); goto pmHMx; gaj3J: $config = get_module_info(); goto GdnZo; iTfZq: try { goto ErCeh; oaMgu: if (!($result["\x72\145\x73\x75\x6c\x74\x63\x6f\144\145"] == 0)) { goto S9R5k; } goto EM4PJ; yiYvl: S9R5k: goto Cg4vu; n4yKD: $result = json_decode($response, true); goto oaMgu; EM4PJ: return ["\x65\162\x72\x6f\x72" => 0, "\163\x75\x62\x5f\x69\144" => $result["\x73\x75\x62\x73\143\162\151\160\x74\x69\x6f\x6e\x49\x64"]]; goto yiYvl; ErCeh: $response = file_get_contents($fullUrl, false, stream_context_create($context_options)); goto n4yKD; Cg4vu: } catch (Exception $e) { return ["\145\x72\162\157\x72" => 1, "\155\163\x67" => $e->getMessage()]; } goto eZPGR; pmHMx: $fullUrl = $realUrl . "\x3f" . $data; goto FC41g; FC41g: $context_options = ["\150\x74\164\x70" => ["\x6d\145\x74\150\x6f\x64" => "\x44\x45\x4c\105\x54\x45", "\x68\x65\141\144\x65\x72" => $headers, "\x69\x67\156\x6f\162\145\x5f\145\x72\162\x6f\162\163" => true], "\x73\163\154" => ["\x76\145\162\151\146\x79\137\x70\x65\145\162" => false, "\166\145\162\151\x66\171\x5f\160\x65\x65\x72\x5f\156\141\x6d\x65" => false]]; goto iTfZq; xBhUn: $APP_KEY = $config["\141\160\x70\x5f\x6b\x65\x79"]; goto G0CQQ; GdnZo: $realUrl = "\150\164\164\x70\163\72\x2f\57\x72\164\143\x61\160\151\x2e\x63\x6e\x2d\156\157\x72\164\150\x2d\61\x2e\x6d\x79\150\x75\141\x77\145\151\x63\154\x6f\x75\x64\56\143\x6f\155\x3a\61\x32\x35\x34\63\x2f\162\x65\x73\x74\x2f\160\162\157\x76\x69\x73\151\157\x6e\57\x63\x61\x61\x73\57\160\x72\151\166\141\x74\145\x6e\x75\x6d\x62\x65\162\x2f\x76\x31\x2e\60"; goto xBhUn; G0CQQ: $APP_SECRET = $config["\141\x70\160\x5f\163\145\143\162\145\x74"]; goto JT6l_; eZPGR: } goto dDjKm; KKEZr: function sendYongjin($data, $toOpenid) { goto veaJK; tZ7hc: require_once $path; goto LLlDl; mwb3Q: if ($arr["\143\157\144\145"] == 1) { goto aF2Si; } goto S65Nh; veaJK: global $_W; goto EXPxb; yQ7dH: $account = $accObj->account; goto i7Wrs; NOQS4: CGO2G: goto I9ORN; LLlDl: load()->model("\141\x63\143\x6f\x75\x6e\x74"); goto pqHfZ; pqHfZ: $configs = get_module_info(); goto Pu5o2; kGI4D: WeUtility::logging("\x79\x6f\x6e\x67\x6a\x69\156", print_r($arr, true)); goto mwb3Q; Pu5o2: $setting = uni_setting_load("\x70\141\x79\155\x65\156\164", $_W["\x75\x6e\151\x61\143\151\x64"]); goto XVR3t; Pizez: $arr = $wxpay->transfer(["\157\162\144\145\x72\137\x73\x6e" => $data["\157\162\144\x65\x72\x73\x6e"], "\x6f\x70\145\x6e\151\144" => $toOpenid, "\155\x6f\156\145\171" => $data["\155\x6f\156\145\x79"], "\144\145\163\x63" => $data["\x64\145\163\143"], "\x69\x70" => $_W["\143\x6c\x69\x65\x6e\164\151\x70"]]); goto kGI4D; RL1gM: $accObj = WeiXinAccount::create($_W["\x61\x63\x69\x64"]); goto yQ7dH; oxuZZ: return true; goto NOQS4; i7Wrs: $config = ["\x61\x70\160\151\144" => $account["\153\145\x79"], "\155\143\150\x69\144" => $pay_setting["\x6d\x63\150\x69\144"], "\153\145\x79" => $pay_setting["\163\151\x67\156\x6b\145\x79"], "\141\x70\x69\143\154\x69\x65\x6e\x74\137\x63\145\162\x74" => IA_ROOT . "\x2f\141\x64\144\157\x6e\163\x2f" . Table::MODULE_NAME . "\x2f\x63\x65\x72\x74\x2f\141\160\x69\x63\x6c\151\145\156\164\137\x63\x65\x72\164\x2e\x70\x65\155", "\x61\x70\151\143\x6c\151\x65\x6e\164\137\x6b\x65\x79" => IA_ROOT . "\x2f\141\x64\144\x6f\156\x73\57" . Table::MODULE_NAME . "\57\x63\x65\162\x74\x2f\141\x70\151\x63\154\x69\x65\x6e\x74\x5f\x6b\145\x79\56\x70\x65\x6d"]; goto Etnp5; YkQW9: goto CGO2G; goto P0DtI; P0DtI: aF2Si: goto oxuZZ; Etnp5: $wxpay = new WxpayTransfer($config); goto Pizez; XVR3t: $pay_setting = $setting["\160\141\171\155\x65\x6e\164"]["\167\145\143\x68\141\x74"]; goto RL1gM; EXPxb: $path = IA_ROOT . "\57\x61\144\x64\157\x6e\x73\x2f" . Table::MODULE_NAME . "\57\154\151\x62\x73\x2f\127\170\160\141\171\124\162\x61\x6e\x73\x66\x65\162\x2e\x70\x68\160"; goto tZ7hc; S65Nh: return false; goto YkQW9; I9ORN: } goto ovV_7; uDAsV: function exportToExcel($data) { echo "\74\x70\162\145\x3e"; print_r($data); } goto TCGHo; NEfKt: function getPercentByGroupId($good_id, $fx_id) { goto aRLj6; fSOHV: foreach ($relArr as $rel) { $res[$rel["\x66\170\137\x69\x64"]] = $rel["\x70\x65\162\x63\x65\156\164"]; C2eHD: } goto tGtTd; Rz1RI: return false; goto hIKqO; O7B5W: $goodInfo = pdo_get(Table::GROUP, ["\151\144" => $good_id, "\167\145\151\x64" => $_W["\x75\156\x69\141\x63\151\144"]]); goto GzeX9; cL3G6: fjZCx: goto yAQZk; yAQZk: B62kO: goto VpJmt; XtFY_: if (!array_key_exists($fx_id, $res)) { goto fjZCx; } goto HISJh; dZ_fs: if (!(is_array($relArr) && count($relArr) > 0)) { goto B62kO; } goto zrJBk; HISJh: return $res[$fx_id] / 100; goto cL3G6; GzeX9: if ($goodInfo["\x69\x73\x5f\x66\x78"]) { goto eZohh; } goto Rz1RI; VpJmt: return false; goto jdBby; aRLj6: global $_W; goto O7B5W; hIKqO: eZohh: goto KCboT; tGtTd: Owxu8: goto XtFY_; zrJBk: $res = []; goto fSOHV; KCboT: $relArr = pdo_getall(Table::REL, ["\x67\x6f\x6f\x64\137\151\144" => $good_id, "\151\163\x5f\164\171\160\x65" => 2, "\167\145\x69\x64" => $_W["\165\156\151\141\x63\151\144"]]); goto dZ_fs; jdBby: } goto KKEZr; qJUFL: function get_group($gid, $field = "\x6e\141\155\145") { goto mF3YR; mF3YR: global $_W; goto G53Ax; tY3hh: return $group[$field]; goto LyTnO; G53Ax: $group = pdo_get(Table::GROUP, ["\x69\x64" => $gid, "\x77\x65\151\x64" => $_W["\165\156\x69\141\x63\151\x64"]]); goto tY3hh; LyTnO: } goto UrR92; opaL9: function sendHuyiSms($mobile, $code) { goto lSL6b; zkOIj: $url = "\x68\x74\164\x70\72\57\57\x31\60\x36\56\x69\150\165\171\x69\x2e\x63\x6e\x2f\x77\x65\142\163\x65\x72\x76\x69\143\145\57\163\x6d\163\x2e\x70\x68\x70\77\x6d\x65\164\x68\x6f\x64\75\x53\165\x62\x6d\151\x74"; goto YKrjC; lSL6b: global $_W; goto TE3sa; APtBo: goto zQfaH; goto fmKX8; YKrjC: $content = "\xe6\202\xa8\xe7\x9a\x84\xe9\252\214\350\257\201\347\xa0\201\xe6\230\257\xef\274\x9a" . $code . "\343\200\x82\350\xaf\xb7\xe4\270\215\xe8\xa6\201\346\x8a\212\xe9\252\214\xe8\xaf\201\347\240\x81\346\263\204\xe9\x9c\xb2\347\273\231\345\x85\xb6\xe4\273\226\344\272\272\xe3\x80\202"; goto LOImJ; hVVGQ: return ["\x65\162\x72\157\x72" => 1, "\x6d\x73\x67" => $arr["\x6d\163\147"]]; goto APtBo; R5qdJ: $password = $config["\x73\155\x73\137\x70\141\x73\x73\167\x6f\162\x64"]; goto zt0fJ; zt0fJ: $post_data = "\141\x63\x63\x6f\165\x6e\164\75{$appid}\46\160\x61\163\x73\167\157\162\x64\x3d{$password}\46\x6d\x6f\x62\151\x6c\x65\x3d" . $mobile . "\46\143\157\x6e\x74\x65\x6e\164\75" . rawurlencode($content); goto uFRQe; wtUM4: zQfaH: goto RaUSE; oyrEj: if ($arr["\143\x6f\144\145"] == 2) { goto nxMqa; } goto hVVGQ; LOImJ: $appid = $config["\x73\x6d\x73\x5f\141\x63\x63\157\165\156\164"]; goto R5qdJ; uFRQe: $response = ihttp_post($url, $post_data); goto opH29; TE3sa: $config = $_W["\x63\165\x72\162\145\x6e\x74\x5f\155\157\144\165\154\x65"]["\x63\157\156\x66\151\x67"]; goto zkOIj; fmKX8: nxMqa: goto NT5nI; opH29: $arr = xml2array($response["\x63\157\156\164\x65\156\x74"]); goto oyrEj; NT5nI: return ["\145\x72\x72\157\162" => 0, "\x6d\x73\147" => $arr["\155\x73\147"]]; goto wtUM4; RaUSE: } goto jlFBP; LF8s3: function toAZArr($arr) { goto UZ4u9; QSmOz: MbcIy: goto ES3KX; Rm485: $i = 0; goto QSmOz; RG_BR: $arrVal = array_values($arr); goto RY7P9; UQ9Va: $field_arr = []; goto Rm485; fUGnh: $start_word++; goto Tj4z4; eUQnH: $field_arr[$start_word] = $arrVal[$i]; goto fUGnh; ES3KX: if (!($i < $count_num)) { goto HpdwC; } goto eUQnH; UZ4u9: $count_num = count($arr); goto RG_BR; oXCyG: goto MbcIy; goto kGgP2; RY7P9: $start_word = "\101"; goto UQ9Va; Tj4z4: HPJfe: goto R5ND_; R5ND_: $i++; goto oXCyG; kGgP2: HpdwC: goto cHfzi; cHfzi: return $field_arr; goto LLNSb; LLNSb: } goto yR3hS; I36Qc: function fetchBindCar($code_id, $field = "\x63\x68\x65\x70\x61\x69\150\x61\x6f") { goto tZS8R; VTpnV: pv3Nx: goto ZlxpQ; tZS8R: global $_W; goto BPYkP; yajPq: return ''; goto VTpnV; BPYkP: $res = pdo_get(Table::USER, ["\143\x6f\x64\145\137\151\144" => $code_id, "\x77\x65\151\144" => $_W["\x75\156\x69\141\143\151\144"]]); goto B0vwg; B0vwg: if ($res) { goto pv3Nx; } goto yajPq; ZlxpQ: return $res[$field]; goto X0wGK; X0wGK: } goto T6ZPo; jlFBP: function get_user_info($condition, $field) { goto Oo6Az; b5iwv: $condition = array_merge($condition, ["\x77\x65\x69\x64" => $_W["\165\x6e\151\x61\143\x69\144"]]); goto XAjGz; lA8IK: return is_array($field) ? $arr : $arr[$field]; goto gO9Lj; Oo6Az: global $_W; goto qh6BD; XAjGz: $arr = pdo_get(Table::USER, $condition, $fieldArr); goto lA8IK; qh6BD: $fieldArr = (array) $field; goto b5iwv; gO9Lj: } goto KsGOx; SikXb: function _ma($count, $agent_id = 0, $last_id = 0) { goto b9L4j; rQz0C: $data = ["\x6e\157" => $i + 1, "\143\157\x64\145" => _make_coupon_card(), "\154\x6f\147\137\x69\x64" => $last_id, "\x61\x67\x65\x6e\164\x5f\x69\x64" => $agent_id, "\163\164\x61\x74\x75\163" => 9, "\x63\x72\145\141\164\145\144\x5f\x61\x74" => time(), "\167\x65\x69\144" => $_W["\x75\156\x69\141\143\x69\x64"]]; goto H5pt2; H5pt2: pdo_insert(Table::CODE, $data); goto jHG90; b9L4j: global $_W; goto M8pSJ; uySR7: if (!($i < $count)) { goto SpN84; } goto rQz0C; Hj4_j: SpN84: goto A0CQG; FXfNg: goto n8JjP; goto Hj4_j; jHG90: oBdWX: goto riXM4; riXM4: $i++; goto FXfNg; L3_Ob: n8JjP: goto uySR7; M8pSJ: $i = 0; goto L3_Ob; A0CQG: } goto WIOfi; dsqDl: function sendSms($mobile, $code) { goto iEo9G; aQyBh: goto ANCKi; goto WNo45; q7xGy: RqvN3: goto qkF0i; nGlOF: return ["\x65\162\162\x6f\x72" => 0, "\x6d\163\147" => "\346\xb5\213\350\257\x95\xe4\xb8\xad\357\274\214\346\x82\xa8\347\x9a\204\351\252\214\xe8\257\201\347\xa0\201\346\230\xaf" . $code]; goto uTdEe; o10Jp: if ($config["\x73\x6d\x73\x5f\x73\x65\162\x76\x65\162"] == Table::SMS_SEND_TYPE2) { goto RqvN3; } goto UrUJB; UrUJB: if ($config["\163\155\163\x5f\x73\x65\162\x76\x65\x72"] == Table::SMS_SEND_TYPE3) { goto CBb8S; } goto aQyBh; uTdEe: ANCKi: goto B3eV1; holhX: goto ANCKi; goto XjUyV; iEo9G: global $_W; goto dO518; SBp2A: return sendDayuSms($mobile, $code); goto uNtci; uNtci: goto ANCKi; goto q7xGy; okWl_: if ($config["\x73\x6d\163\x5f\x73\145\x72\x76\145\x72"] == Table::SMS_SEND_TYPE1) { goto O8kr3; } goto o10Jp; WNo45: O8kr3: goto SBp2A; dO518: $config = $_W["\x63\165\x72\162\145\x6e\x74\x5f\155\x6f\144\x75\x6c\x65"]["\x63\157\156\146\151\147"]; goto okWl_; XjUyV: CBb8S: goto nGlOF; qkF0i: return sendHuyiSms($mobile, $code); goto holhX; B3eV1: } goto opaL9; c5Yi0: function get_user_avatar($openid) { goto yKIgc; x4dYJ: if (!$fan) { goto MGrYV; } goto N0_j4; cmeiC: $fan = pdo_get("\155\x63\x5f\x6d\141\160\x70\151\156\x67\x5f\146\x61\156\163", array("\x6f\x70\x65\156\151\x64" => $openid)); goto x4dYJ; yKIgc: global $_W; goto cmeiC; sP5hm: return $userInfo["\x61\x76\x61\164\141\x72"]; goto hu4aw; hu4aw: MGrYV: goto Hbb31; N0_j4: $userInfo = pdo_get("\155\143\x5f\155\145\x6d\142\x65\162\x73", ["\165\151\144" => $fan["\165\x69\x64"]]); goto sP5hm; Hbb31: } goto yifI3; s8jBK: function object_to_array($obj) { goto PM1Km; ZlPNJ: return $obj; goto hS0E9; PM1Km: $obj = (array) $obj; goto Wtu1c; Wtu1c: foreach ($obj as $k => $v) { goto oyg5m; jUJcl: paOMJ: goto UPF8H; oyg5m: if (!(gettype($v) == "\x72\145\163\x6f\x75\162\x63\x65")) { goto tEufN; } goto pYKWZ; Q5szo: $obj[$k] = (array) object_to_array($v); goto jUJcl; UPF8H: tlXUc: goto IDXZT; i4XBl: if (!(gettype($v) == "\x6f\142\152\x65\143\x74" || gettype($v) == "\x61\162\x72\141\171")) { goto paOMJ; } goto Q5szo; pYKWZ: return; goto Enhlt; Enhlt: tEufN: goto i4XBl; IDXZT: } goto xv336; xv336: xGbgv: goto ZlPNJ; hS0E9: } goto uDAsV; yifI3: function fetch_user_info($uid, $field = "\x6e\151\x63\153\156\x61\155\x65") { goto wE2Re; McCZL: return $userInfo[$field]; goto Hjfd1; wE2Re: global $_W; goto U8Tdd; U8Tdd: $userInfo = pdo_get("\155\x63\x5f\155\145\155\x62\x65\162\x73", ["\165\151\x64" => $uid, "\x75\156\151\141\x63\x69\144" => $_W["\165\x6e\151\141\x63\151\144"]]); goto McCZL; Hjfd1: } goto v3lkx; vbTNO: function convert_BD09_To_GCJ02($lat, $lng) { goto kGrwA; wvWr3: $lng = $z * cos($theta); goto cVFFT; S0X8l: $x = $lng - 0.0065; goto urR9_; kGrwA: $x_pi = 3.141592653589793 * 3000.0 / 180.0; goto S0X8l; QtS1x: $theta = atan2($y, $x) - 3.0E-6 * cos($x * $x_pi); goto wvWr3; cVFFT: $lat = $z * sin($theta); goto vEjSf; urR9_: $y = $lat - 0.006; goto VHMp_; VHMp_: $z = sqrt($x * $x + $y * $y) - 2.0E-5 * sin($y * $x_pi); goto QtS1x; vEjSf: return array("\154\x6e\147" => $lng, "\154\141\164" => $lat); goto m3P9F; m3P9F: } goto ERrsp; tryAr: function _diff($start, $end, $reverse = 1) { goto j6T30; QYkzH: Wqk_e: goto x1Idx; rCLIX: goto PXb39; goto QYkzH; Adg6w: return 0; goto dWHpj; UlS9_: mXBJ2: goto t7O4e; QXPdk: $timeEnd = _timestamp($end); goto Fig5k; j6T30: $timeStart = _timestamp($start); goto QXPdk; wA0Ok: lo3PP: goto FLR4Y; HBroo: return 1; goto rCLIX; Fig5k: $curr_time = time(); goto w47Fh; g9U1j: PXb39: goto CJEOa; CJEOa: GjjFt: goto jsr0p; FLR4Y: if ($curr_time >= $timeEnd && $curr_time <= $timeStart) { goto Wqk_e; } goto HBroo; w47Fh: if ($reverse) { goto lo3PP; } goto KXZbw; TinRO: exEH_: goto J1MHl; KXZbw: if ($curr_time >= $timeStart && $curr_time <= $timeEnd) { goto mXBJ2; } goto Adg6w; dWHpj: goto exEH_; goto UlS9_; J1MHl: goto GjjFt; goto wA0Ok; t7O4e: return 1; goto TinRO; x1Idx: return 0; goto g9U1j; jsr0p: } goto cJc8z; WIOfi: function _toBind($mobile, $log_id) { goto qEc7n; C_Ntj: xkw1a: goto zGEvU; jaMB3: hrgHI: goto NoLHe; NoLHe: $virtualData = ["\154\157\x67\x5f\x69\x64" => $log_id, "\x6d\x6f\x62\x69\x6c\145" => $mobile, "\x75\163\x65\x72\x5f\x69\144" => $userInfo["\151\144"], "\x73\145\x63\162\x65\164\137\156\x6f" => $res["\160\x72\151\x76\x61\x74\145\x4e\165\155"], "\163\165\142\x73\151\x64" => $res["\x73\x75\x62\x73\143\x72\151\x70\164\151\157\156\x49\x64"], "\x66\162\157\155\x5f\157\160\x65\x6e\151\144" => $_W["\157\160\x65\156\x69\144"], "\164\157\x5f\x6f\160\145\x6e\x69\x64" => $userInfo["\x6f\x70\145\156\x69\144"], "\x70\x6c\141\x74\x66\157\162\x6d" => 2, "\151\x73\137\x75\163\x65" => 0, "\143\x72\x65\x61\164\145\144\x5f\x61\x74" => time(), "\x77\x65\x69\x64" => $_W["\x75\156\151\141\x63\x69\x64"]]; goto qXzYD; nwe9K: $start = time() - 30 * 24 * 60; goto I7Bla; n9R1Z: $userInfo = pdo_fetch("\x73\x65\154\145\143\164\40\52\40\x66\x72\157\155\x20" . tablename(Table::USER) . "\40\x77\x68\x65\x72\145\x20\155\157\x62\x69\x6c\145\x20\x3d\40\x3a\x6d\x6f\142\151\x6c\145\40\141\x6e\x64\40\x77\145\151\x64\40\x3d\x20\72\167\x65\x69\x64", ["\x3a\x6d\157\142\x69\x6c\x65" => $mobile, "\x3a\x77\x65\151\x64" => $_W["\165\156\151\x61\x63\x69\144"]]); goto V1AJt; Yln00: if (!(is_array($expireArr) && count($expireArr) > 0)) { goto gIHMP; } goto HyZ6P; Vwhw3: return ["\145\x72\x72\157\162" => 1, "\155\163\x67" => $msg]; goto jaMB3; MXlR_: Alimsg::$during = $config["\164\145\154\x5f\x64\x75\162\151\156\x67"]; goto BJcGU; V1AJt: if ($config["\160\154\141\164\x66\x6f\162\155"] == 1) { goto LyWYT; } goto fA3rZ; HpUe8: LyWYT: goto WoK5s; jJa2a: if (!($res["\x72\145\163\x75\x6c\164\x63\x6f\x64\145"] != 0)) { goto hrgHI; } goto h8MLj; h8MLj: if ($res["\162\x65\x73\x75\154\x74\143\x6f\144\x65"] == "\x31\x30\61\61\60\60\62") { goto xkw1a; } goto ho_bO; fA3rZ: if ($config["\x70\x6c\141\x74\x66\157\x72\x6d"] == 2) { goto mRjzc; } goto UmlMw; I7Bla: $expireArr = pdo_fetchall("\x73\145\x6c\x65\x63\164\40\52\x20\x66\162\157\155\40" . tablename(Table::VIRTUAL) . "\40\x77\150\x65\x72\x65\x20\160\x6c\x61\x74\146\157\x72\155\40\x3d\40\62\40\x61\156\144\x20\151\163\137\x75\x73\x65\x20\75\40\60\x20\x61\x6e\x64\40\x73\x74\141\164\x75\x73\x20\x3d\40\x39\40\141\x6e\x64\x20\x77\145\x69\x64\40\75\40\72\x77\145\151\144\x20\x6f\x72\144\x65\x72\x20\x62\x79\x20\151\x64\x20\144\x65\163\x63", ["\72\x77\145\151\x64" => $_W["\x75\x6e\x69\x61\143\x69\144"]]); goto Yln00; NyD5E: $config = $_W["\x63\x75\x72\x72\145\x6e\x74\137\155\x6f\x64\x75\154\145"]["\x63\157\x6e\x66\x69\147"]; goto n9R1Z; BG2U_: Alimsg::$chizi = $config["\164\145\x6c\137\x63\x68\151\x7a\x69"]; goto MXlR_; AUyCx: CIPf0: goto hv_we; qEc7n: global $_W; goto NyD5E; WoK5s: Alimsg::$accessKeyId = $config["\164\x65\x6c\137\x61\x63\x63\x65\x73\163\113\x65\x79\x49\x64"]; goto BO78x; adDzz: return ["\x65\162\162\x6f\162" => 0, "\x6d\163\147" => $virtualData["\x73\145\x63\x72\x65\164\x5f\156\x6f"]]; goto AUyCx; Hhp_E: $errorArr = ["\61\60\x31\61\60\60\x32" => "\xe5\x8f\267\xe7\xa0\x81\350\265\x84\346\xba\x90\344\270\x8d\xe8\266\xb3"]; goto lJjzR; oj7YD: goto lMAma; goto C_Ntj; qXzYD: pdo_insert(Table::VIRTUAL, $virtualData); goto adDzz; UmlMw: goto CIPf0; goto HpUe8; HQNSx: $res = json_decode($rs, true); goto jJa2a; bVPRX: gIHMP: goto JgC9Q; lJjzR: $created_at = time() - $config["\141\x70\x70\137\x64\165\x72\x69\x6e\x67"] * 60; goto nwe9K; JDF6a: goto CIPf0; goto gF0Ty; ho_bO: $msg = $res["\x72\145\x73\x75\154\x74\x64\145\163\x63"]; goto oj7YD; JgC9Q: $rs = bind_huawei($mobile); goto HQNSx; ljD2A: ilUK6: goto bVPRX; HyZ6P: foreach ($expireArr as $expire) { goto z6RiW; n5OpL: NM8KB: goto hTT2c; BqOAp: unbind($expire["\x73\165\142\x73\151\x64"]); goto n5OpL; z6RiW: pdo_update(Table::VIRTUAL, ["\x73\x74\x61\x74\165\x73" => 0], ["\x69\144" => $expire["\x69\x64"]]); goto BqOAp; hTT2c: } goto ljD2A; zGEvU: $msg = "\345\217\xb7\347\240\x81\350\265\x84\xe6\xba\220\xe4\xb8\x8d\xe8\266\xb3"; goto di60T; BJcGU: try { goto RxJFQ; otLzJ: pdo_insert(Table::VIRTUAL, $virtualData); goto b5Hm8; hWRP_: $res = object_to_array($rs); goto vbEUF; DM5JG: iYM0c: goto JSwKj; JSwKj: $virtualData = ["\154\157\147\137\151\x64" => $log_id, "\x6d\x6f\142\x69\154\145" => $mobile, "\x75\163\x65\162\137\x69\144" => $userInfo["\151\144"], "\163\x65\x63\x72\x65\x74\137\156\157" => $res["\123\x65\143\162\145\164\102\151\x6e\x64\104\124\117"]["\x53\145\143\162\145\164\116\157"], "\163\165\x62\x73\x69\144" => $res["\123\145\x63\x72\145\164\102\x69\x6e\x64\x44\x54\117"]["\x53\165\x62\x73\111\x64"], "\146\x72\x6f\155\137\x6f\160\x65\156\x69\144" => $_W["\157\160\145\156\x69\x64"], "\x74\157\137\x6f\x70\145\156\151\144" => $userInfo["\x6f\160\x65\x6e\x69\x64"], "\160\154\x61\x74\146\157\x72\155" => 1, "\151\x73\137\165\x73\145" => 0, "\143\162\145\x61\x74\x65\144\137\141\x74" => time(), "\x77\145\151\144" => $_W["\x75\156\x69\x61\143\x69\144"]]; goto otLzJ; RxJFQ: $rs = Alimsg::bindAxn($mobile, $log_id); goto hWRP_; b36AI: return ["\145\x72\x72\157\162" => 1, "\155\163\x67" => $res["\x4d\x65\x73\x73\141\147\x65"]]; goto DM5JG; b5Hm8: return ["\x65\x72\162\x6f\162" => 0, "\155\163\147" => $virtualData["\163\x65\143\162\145\x74\137\156\x6f"]]; goto pUHVg; vbEUF: if (!($res["\103\157\x64\x65"] != "\117\113")) { goto iYM0c; } goto b36AI; pUHVg: } catch (Exception $e) { return ["\145\x72\x72\157\162" => 1, "\x6d\163\x67" => "\351\205\x8d\xe7\xbd\256\xe5\217\x82\xe6\x95\xb0\xe9\224\x99\xe8\xaf\xaf"]; } goto JDF6a; gF0Ty: mRjzc: goto Hhp_E; di60T: lMAma: goto Vwhw3; BO78x: Alimsg::$accessKeySecret = $config["\164\145\154\137\x61\x63\143\x65\x73\x73\113\x65\x79\123\145\143\162\x65\164"]; goto BG2U_; hv_we: } goto s8jBK; HV_8B: function unbindByMobile($origNum, $privateNum) { goto pVDUh; hWM0F: try { goto hlRDB; YWPWq: HPq6K: goto mVHSb; q7McV: echo "\x3c\160\162\x65\x3e"; goto lgqiD; qm_jD: $result = json_decode($response, true); goto q7McV; UWt_Y: return ["\145\162\x72\x6f\x72" => 0, "\163\x75\x62\x5f\x69\x64" => $result["\163\165\x62\163\x63\x72\151\160\x74\151\x6f\156\x49\x64"]]; goto YWPWq; hlRDB: $response = file_get_contents($fullUrl, false, stream_context_create($context_options)); goto qm_jD; ZE_kE: if (!($result["\x72\145\x73\x75\154\164\143\x6f\144\145"] == 0)) { goto HPq6K; } goto UWt_Y; lgqiD: print_r($result); goto ZE_kE; mVHSb: } catch (Exception $e) { return ["\x65\x72\x72\x6f\x72" => 1, "\155\163\x67" => $e->getMessage()]; } goto YW3FU; pVDUh: global $_W; goto s5B44; uqqYp: $data = http_build_query(["\157\162\151\x67\x4e\x75\155" => $origNum, "\160\x72\151\166\x61\164\x65\116\x75\x6d" => $privateNum]); goto ffZaX; ffZaX: $fullUrl = $realUrl . "\x3f" . $data; goto mDD06; U47Ri: $APP_SECRET = $config["\x61\x70\x70\137\163\x65\x63\x72\x65\x74"]; goto JJ9i2; wkO7k: $realUrl = "\150\x74\x74\x70\163\72\57\57\x72\164\x63\141\160\x69\56\143\156\55\156\x6f\162\164\x68\x2d\61\56\155\x79\x68\165\x61\x77\145\x69\x63\154\x6f\x75\x64\x2e\143\x6f\155\72\61\x32\65\x34\x33\x2f\x72\145\163\x74\x2f\160\x72\157\x76\151\x73\151\x6f\x6e\57\143\141\141\163\57\x70\x72\x69\x76\x61\164\145\156\165\155\x62\x65\162\x2f\166\x31\56\x30"; goto mWn1a; s5B44: $config = get_module_info(); goto wkO7k; mDD06: $context_options = ["\x68\164\x74\160" => ["\155\145\x74\150\x6f\x64" => "\104\x45\114\105\x54\105", "\150\x65\x61\144\x65\x72" => $headers, "\x69\147\x6e\x6f\162\x65\x5f\x65\162\162\x6f\162\x73" => true], "\163\x73\154" => ["\x76\x65\162\151\146\171\137\160\145\145\x72" => false, "\x76\x65\162\x69\146\171\x5f\160\145\145\x72\x5f\156\x61\x6d\x65" => false]]; goto hWM0F; JJ9i2: $headers = ["\101\x63\143\145\x70\164\x3a\40\141\x70\160\154\151\143\x61\x74\151\157\156\x2f\x6a\163\157\156", "\103\157\x6e\164\145\156\164\x2d\124\171\x70\145\x3a\40\141\x70\160\x6c\x69\143\141\x74\x69\157\156\x2f\152\x73\x6f\156\73\x63\x68\x61\162\163\145\164\x3d\x55\124\x46\55\70", "\101\165\x74\x68\157\x72\151\172\141\x74\x69\157\x6e\72\40\x57\123\123\105\40\x72\x65\141\x6c\x6d\x3d\x22\x53\104\120\42\54\160\x72\x6f\146\151\x6c\145\75\42\125\163\x65\162\x6e\141\x6d\x65\124\x6f\153\145\156\x22\x2c\x74\171\160\x65\x3d\42\x41\x70\160\x6b\x65\x79\42", "\130\55\127\x53\123\105\72\x20" . buildWsseHeader($APP_KEY, $APP_SECRET)]; goto uqqYp; mWn1a: $APP_KEY = $config["\x61\160\160\x5f\x6b\x65\171"]; goto U47Ri; YW3FU: } goto m5AIT; ovV_7: function bind_huawei($mobile) { goto A1X_Q; IkS2b: $config = get_module_info(); goto JoShb; VMuxj: $privateNumType = "\x6d\x6f\142\151\x6c\145\x2d\166\151\x72\164\165\141\154"; goto RGXzr; SfNmn: $data = json_encode(["\157\x72\x69\x67\116\x75\x6d" => $origNum, "\160\x72\x69\166\141\x74\145\x4e\165\x6d\x54\171\x70\x65" => $privateNumType, "\141\162\145\141\x43\x6f\x64\145" => $areaCode, "\x63\x61\154\154\145\x65\116\165\x6d\x44\x69\163\x70\154\x61\x79" => $calleeNumDisplay, "\x6d\141\x78\104\x75\x72\141\x74\x69\x6f\156" => $config["\141\160\x70\137\144\x75\162\151\156\x67"]]); goto CCAHA; NaBMF: $calleeNumDisplay = "\x30"; goto oAsrJ; oAsrJ: $headers = ["\x41\143\143\x65\160\x74\x3a\x20\141\160\160\154\x69\x63\141\x74\x69\x6f\x6e\x2f\x6a\x73\x6f\156", "\x43\x6f\156\164\x65\156\164\55\x54\171\x70\145\x3a\40\x61\160\160\x6c\x69\x63\x61\164\151\x6f\x6e\x2f\152\163\157\x6e\x3b\x63\150\x61\162\163\x65\x74\x3d\x55\124\106\x2d\x38", "\101\165\x74\150\x6f\162\x69\x7a\x61\x74\151\x6f\x6e\72\40\x57\x53\123\x45\x20\162\x65\141\154\155\75\x22\x53\x44\120\x22\x2c\x70\x72\157\146\x69\x6c\145\75\x22\125\x73\145\162\x6e\141\155\145\124\157\x6b\x65\x6e\x22\54\x74\171\160\x65\x3d\x22\101\160\x70\153\145\x79\x22", "\130\x2d\x57\x53\x53\x45\72\40" . buildWsseHeader($APP_KEY, $APP_SECRET)]; goto SfNmn; IhV1U: $APP_SECRET = $config["\141\x70\160\x5f\163\x65\x63\x72\145\x74"]; goto oD2Ax; D7S5E: $APP_KEY = $config["\141\x70\160\x5f\x6b\x65\171"]; goto IhV1U; CCAHA: $context_options = ["\150\164\x74\x70" => ["\155\145\164\150\157\x64" => "\120\117\123\x54", "\150\x65\141\144\145\162" => $headers, "\x63\157\156\164\x65\x6e\x74" => $data, "\151\x67\156\x6f\162\x65\x5f\x65\x72\x72\x6f\x72\x73" => true], "\x73\x73\x6c" => ["\x76\x65\x72\x69\x66\x79\137\x70\145\145\x72" => false, "\x76\145\x72\x69\x66\x79\x5f\x70\x65\145\162\x5f\x6e\141\x6d\145" => false]]; goto Lq3KJ; oD2Ax: $origNum = "\x2b\x38\66" . $mobile; goto VMuxj; A1X_Q: global $_W; goto IkS2b; Lq3KJ: try { $response = file_get_contents($realUrl, false, stream_context_create($context_options)); return $response; } catch (Exception $e) { echo $e->getMessage(); } finally { } goto ShZDi; RGXzr: $areaCode = $config["\x61\x70\x70\137\x61\162\145\x61"]; goto NaBMF; JoShb: $realUrl = "\x68\x74\164\160\x73\72\x2f\57\x72\164\143\x61\x70\x69\x2e\143\x6e\x2d\156\157\162\164\x68\x2d\61\x2e\155\171\150\165\x61\x77\x65\151\143\x6c\157\165\144\x2e\143\157\x6d\72\x31\62\65\x34\63\x2f\162\145\163\x74\57\x70\162\x6f\166\x69\163\151\x6f\x6e\57\x63\x61\x61\163\x2f\x70\x72\x69\x76\141\164\145\x6e\165\155\142\145\x72\x2f\166\61\56\x30"; goto D7S5E; ShZDi: } goto HV_8B; SI5Jr: function arraySequence($array, $field, $sort = "\x53\117\x52\x54\x5f\x44\105\123\x43") { goto CtC_X; lJdGi: return $array; goto jvv9d; CtC_X: $arrSort = array(); goto Oj6iJ; qW09V: array_multisort($arrSort[$field], constant($sort), $array); goto lJdGi; NuJKk: FEgym: goto qW09V; Oj6iJ: foreach ($array as $uniqid => $row) { goto DBwqK; B9t33: li1P4: goto lJPTX; lJPTX: y5lSA: goto og1AW; DBwqK: foreach ($row as $key => $value) { $arrSort[$key][$uniqid] = $value; s2J3M: } goto B9t33; og1AW: } goto NuJKk; jvv9d: } goto NXy4d; UrR92: function get_distance($lng1, $lat1, $lng2, $lat2) { goto AyZUu; AyZUu: $radLat1 = deg2rad($lat1); goto ZpKud; nNODM: $b = $radLng1 - $radLng2; goto idf65; JSubi: return $s; goto mHTGN; ZpKud: $radLat2 = deg2rad($lat2); goto OXtW_; iUfb4: $a = $radLat1 - $radLat2; goto nNODM; idf65: $s = 2 * asin(sqrt(pow(sin($a / 2), 2) + cos($radLat1) * cos($radLat2) * pow(sin($b / 2), 2))) * 6378.137 * 1000; goto JSubi; OXtW_: $radLng1 = deg2rad($lng1); goto bxA9j; bxA9j: $radLng2 = deg2rad($lng2); goto iUfb4; mHTGN: } goto yOZQV; T6ZPo: function GetAtoZArr($field_datas) { goto JV1uT; fQ7tA: return $field_arr; goto RyfwN; oA0VK: $i = 0; goto WoACZ; dA6rQ: $start_word = "\101"; goto JaM1C; bj5Oe: goto kumTS; goto HytI2; uF9vN: $i++; goto bj5Oe; WQ6iQ: $field_arr[$start_word] = $field_datas[$i]; goto MrTs2; JV1uT: $count_num = count($field_datas); goto dA6rQ; JaM1C: $field_arr = []; goto oA0VK; HytI2: vuJKq: goto fQ7tA; EJhpx: QMY2M: goto uF9vN; MrTs2: $start_word++; goto EJhpx; oUP22: if (!($i < $count_num)) { goto vuJKq; } goto WQ6iQ; WoACZ: kumTS: goto oUP22; RyfwN: } goto LF8s3; yOZQV: function juli_format($v) { goto c4HL0; BeRfR: VLIxy: goto KS6r6; gHhMi: $s = $s * 1000; goto c3_bC; wFTkf: $s .= "\x6d"; goto BeRfR; oN1bv: $s .= "\153\155"; goto eLGW_; wJkv9: $s = round($s, 1); goto oN1bv; KS6r6: return $s; goto XiN9t; lqSfV: if ($s < 1) { goto O7PIx; } goto wJkv9; c3_bC: $s = intval($s); goto wFTkf; c4HL0: $s = $v / 1000; goto lqSfV; eLGW_: goto VLIxy; goto EjRzq; EjRzq: O7PIx: goto gHhMi; XiN9t: } goto G_Gqf; NXy4d: function convert_GCJ02_To_BD09($lat, $lng) { goto M3FHV; HBkHC: $y = $lat; goto ltnfX; ltnfX: $z = sqrt($x * $x + $y * $y) + 2.0E-5 * sin($y * $x_pi); goto z8dqS; G3GSp: $lat = $z * sin($theta) + 0.006; goto zxjzB; M3FHV: $x_pi = 3.141592653589793 * 3000.0 / 180.0; goto LlEL4; zxjzB: return array("\x6c\156\x67" => $lng, "\154\x61\x74" => $lat); goto pXcPk; LlEL4: $x = $lng; goto HBkHC; z8dqS: $theta = atan2($y, $x) + 3.0E-6 * cos($x * $x_pi); goto nbAvC; nbAvC: $lng = $z * cos($theta) + 0.0065; goto G3GSp; pXcPk: } goto vbTNO; kFUZM: function checkUserIsVip($openid) { goto NFVjA; Vh3cF: MzRl0: goto AUQM2; s67AI: $vip = pdo_get(Table::VIP, ["\157\x70\x65\156\151\x64" => $openid, "\167\x65\151\144" => $_W["\x75\x6e\151\141\143\151\x64"]]); goto CNVir; AUQM2: return false; goto hbQhG; NFVjA: global $_W; goto s67AI; Wpmlh: return $vip["\147\151\144"] > 0 && $vip["\151\163\x5f\160\162\x69\x76\141\164\x65"] ? true : false; goto Vh3cF; CNVir: if (!$vip) { goto MzRl0; } goto Wpmlh; hbQhG: } goto rg4Vn; B2Vz4: function insertYongjin($data) { goto hzZkL; iIAco: $arr = ["\x75\151\144" => $data["\165\151\x64"], "\146\165\x69\144" => $data["\x66\x75\x69\144"], "\155\x61\x72\x6b" => $data["\155\141\x72\153"], "\x74\x79\x70\x65" => $data["\x74\x79\x70\x65"], "\157\x72\144\x65\162\137\151\x64" => $data["\157\162\x64\145\x72\x5f\151\144"], "\155\157\156\x65\171" => $data["\155\157\156\145\x79"], "\163\164\x61\x74\165\163" => $data["\163\164\141\x74\165\x73"], "\143\162\x65\141\x74\x65\144\x5f\x61\x74" => time(), "\167\145\x69\144" => $_W["\165\156\151\x61\143\x69\144"]]; goto xVbUv; hzZkL: global $_W; goto iIAco; xVbUv: $res = pdo_insert(Table::YONGJIN, $arr); goto NB66D; NB66D: return $res; goto l8PSY; l8PSY: } goto RLs7g; RLs7g: function getPercentByGoodId($good_id, $fx_id) { goto Qk8X7; eTudf: return $res[$fx_id] / 100; goto leX5G; s6crL: if (!array_key_exists($fx_id, $res)) { goto ekAh_; } goto eTudf; ZXC_7: $relArr = pdo_getall(Table::REL, ["\x67\157\157\x64\x5f\151\x64" => $good_id, "\151\163\x5f\164\171\160\x65" => 1, "\x77\145\x69\x64" => $_W["\165\x6e\x69\x61\x63\x69\x64"]]); goto vUvSW; LH9j5: Gy1IR: goto fPA0X; EggpB: if ($goodInfo["\151\x73\x5f\x66\x78"]) { goto elSdA; } goto JsVYm; fPA0X: return false; goto ppncw; fsn3x: foreach ($relArr as $rel) { $res[$rel["\x66\x78\137\x69\x64"]] = $rel["\x70\145\x72\x63\145\156\x74"]; YBxVh: } goto WzSyd; jpqMq: elSdA: goto ZXC_7; Qk8X7: global $_W; goto T_rwf; T_rwf: $goodInfo = pdo_get(Table::GOODS, ["\x69\x64" => $good_id, "\x77\145\x69\x64" => $_W["\165\x6e\151\x61\143\x69\x64"]]); goto EggpB; FmwUi: $res = []; goto fsn3x; JsVYm: return false; goto jpqMq; leX5G: ekAh_: goto LH9j5; vUvSW: if (!(is_array($relArr) && count($relArr) > 0)) { goto Gy1IR; } goto FmwUi; WzSyd: QY0t6: goto s6crL; ppncw: } goto NEfKt; ERrsp: function _timestamp($str) { goto vxxLK; sRoRD: return $res; goto tTrW9; vxxLK: $date = date("\x59\55\155\x2d\144\x20", time()); goto H1a9s; H1a9s: $res = strtotime($date . $str . "\x3a\x30\x30"); goto sRoRD; tTrW9: } goto tryAr; QVpH6: if (!function_exists("\x72\x65\144\x69\x72\145\143\x74")) { function redirect($url) { header("\x4c\x6f\x63\141\164\151\x6f\x6e\72\40" . $url); exit; } } goto jhyHX; KsGOx: function get_old_user_avatar($openid) { goto B7mu5; B7mu5: global $_W; goto mSVHE; dMVK0: return $userData["\x68\145\141\x64\x69\155\147\x75\x72\x6c"]; goto HV0QW; jwHQP: $userData = $account->fansQueryInfo($openid); goto dMVK0; mSVHE: $account = WeAccount::create($_W["\141\143\x63\x6f\x75\x6e\164"]); goto jwHQP; HV0QW: } goto c5Yi0; zGZy1: function get_module_info() { goto x9BLj; LWSJH: $module_profile = pdo_get("\165\156\x69\137\141\143\x63\157\x75\x6e\x74\137\155\x6f\x64\165\x6c\x65\163", array("\155\157\144\x75\x6c\x65" => Table::MODULE_NAME, "\x75\x6e\151\141\x63\151\x64" => $_W["\165\156\x69\141\143\151\144"])); goto iTQvW; x9BLj: global $_W; goto LWSJH; iTQvW: $settings = unserialize($module_profile["\163\145\164\x74\151\x6e\147\x73"]); goto Q5dN4; Q5dN4: return $settings; goto VyJ8S; VyJ8S: } goto sbGQ1; G_Gqf: function un_juli_format($str) { goto pDiPY; qAJ5t: return $unit == "\155" ? $number : $number * 1000; goto TNoRP; pDiPY: $unit = preg_replace("\57\134\x64\53\57", '', $str); goto mr6SW; mr6SW: $number = strtr($str, ["\155" => '', "\x6b\155" => '']); goto qAJ5t; TNoRP: } goto ON2xn; rg4Vn: function checkUserIsVipOnly($openid) { goto QQq0j; ceVND: return $vip["\x67\151\x64"] > 0 ? true : false; goto RkDpH; K4__i: $vip = pdo_get(Table::VIP, ["\157\x70\x65\x6e\151\144" => $openid, "\167\145\x69\144" => $_W["\165\x6e\x69\141\143\x69\x64"]]); goto ZlOHA; ZlOHA: if (!$vip) { goto XIGWI; } goto ceVND; Ar5n5: return false; goto Yu_Uq; QQq0j: global $_W; goto K4__i; RkDpH: XIGWI: goto Ar5n5; Yu_Uq: } goto z5_cJ; ON2xn: function get_ma_count($agent_id) { $res = pdo_fetchcolumn("\x73\145\x6c\145\143\x74\x20\x63\157\165\156\x74\x28\52\x29\40\x66\x72\157\x6d\40" . tablename(Table::CODE) . "\40\x77\x68\145\x72\x65\x20\x61\x67\x65\x6e\x74\x5f\151\144\x20\x3d\40" . $agent_id); return empty($res) ? 0 : 1; } goto GThkN; jagKm: function getNo($index) { goto xI34V; xI34V: global $_W, $_GPC; goto EotwD; zPk6Z: return $no; goto RpDkP; V509Y: $no = ($page - 1) * 20 + $index + 1; goto zPk6Z; EotwD: $page = max(1, intval($_GPC["\x70\x61\x67\145"])); goto V509Y; RpDkP: } goto HV8Fo; NWfQf: function _malog($count, $agent_id = 0) { goto HZF6H; HZF6H: global $_W; goto FpqjA; FpqjA: $data = ["\143\x6f\x75\x6e\x74" => $count, "\141\147\145\x6e\x74\137\151\144" => $agent_id, "\143\162\x65\141\164\145\144\137\141\164" => time(), "\143\x72\x65\x61\164\x65\144\137\142\x79" => $_W["\165\151\x64"], "\x77\145\x69\144" => $_W["\165\156\151\x61\143\151\x64"]]; goto h4WyI; cXND0: $lastid = pdo_insertid(); goto uvqig; h4WyI: pdo_insert(Table::CODELOG, $data); goto cXND0; uvqig: return $lastid; goto JPpn1; JPpn1: } goto SikXb; TCGHo: function fetchAgentName($agent_id, $field = "\156\x61\x6d\145") { goto i6yhJ; L2JKu: TSuy8: goto N80v9; N80v9: $res = pdo_get(Table::AGENT, ["\x69\x64" => $agent_id, "\x77\x65\x69\144" => $_W["\x75\x6e\x69\141\x63\x69\144"]]); goto B2ZzN; B2ZzN: return $res[$field]; goto SOQO6; xAv0Y: if (!($agent_id == 0)) { goto TSuy8; } goto kvEoj; i6yhJ: global $_W; goto xAv0Y; kvEoj: return "\xe7\xb3\273\xe7\xbb\237\xe5\xb9\263\xe5\217\260"; goto L2JKu; SOQO6: } goto I36Qc; sbGQ1: function get_bottom_menu() { goto WXOpC; Dj15D: return $menus; goto KZC1S; NkIjW: $menus = pdo_getall(Table::MENU, ["\x77\145\x69\144" => $_W["\165\156\151\x61\143\151\144"], "\x73\164\x61\164\165\163" => 9], '', '', ["\163\157\x72\164\40\x61\x73\x63"]); goto Dj15D; WXOpC: global $_W; goto NkIjW; KZC1S: } goto qJUFL; cJc8z: function is_miandarao($start, $end) { goto JfT09; JfT09: if (_timestamp($start) > _timestamp($end)) { goto J31_1; } goto GQEBT; ybJdv: return _diff($start, $end, 1); goto vEeXL; vEeXL: hCnQZ: goto Hoz2o; GQEBT: return _diff($start, $end, 0); goto m0dxr; eZxjB: J31_1: goto ybJdv; m0dxr: goto hCnQZ; goto eZxjB; Hoz2o: } goto QisgU; u0ajy: function sendDayuSms($mobile, $code) { goto zPk1u; E2cQM: $config = $_W["\143\x75\162\162\145\156\x74\x5f\155\x6f\x64\x75\x6c\x65"]["\143\x6f\156\146\151\x67"]; goto yb1De; bZ03j: Alidayu::$accessKeySecret = $config["\x73\x6d\x73\x5f\141\x63\x63\x65\163\x73\113\x65\171\x53\145\143\162\x65\164"]; goto XISMW; zPk1u: global $_W; goto E2cQM; XISMW: try { goto ObDxQ; emSdB: return ["\145\162\162\157\x72" => 0, "\155\x73\x67" => $response->Message]; goto LtY1R; Ot_La: KWaRD: goto emSdB; tqGQY: return ["\x65\162\x72\x6f\162" => 1, "\155\163\147" => $response->Message]; goto ThhbX; ObDxQ: $response = Alidayu::sendSms($mobile, $config["\x73\x6d\x73\x5f\x74\145\155\160\154\x61\164\145\151\x64"], $config["\163\x6d\163\x5f\x6d\x61\x72\x6b"], ["\x63\x6f\x64\x65" => $code]); goto iBXUt; ThhbX: goto kucBU; goto Ot_La; LtY1R: kucBU: goto pJjnV; iBXUt: if ($response->Code == "\117\113") { goto KWaRD; } goto tqGQY; pJjnV: } catch (Exception $e) { return ["\145\162\x72\157\x72" => 1, "\155\x73\x67" => "\xe9\x98\xbf\351\207\x8c\xe5\244\247\xe4\xba\x8e\347\237\255\xe4\xbf\241\351\x85\x8d\347\xbd\xae\345\217\x82\xe6\225\xb0\346\234\211\350\257\xaf"]; } goto XhbvI; yb1De: Alidayu::$accessKeyId = $config["\x73\x6d\163\x5f\141\143\143\x65\x73\x73\113\145\171\x49\144"]; goto bZ03j; XhbvI: } goto dsqDl; E5Hlm: function oldExportExcel($data = array(), $title = array(), $filename = "\x72\x65\160\x6f\x72\x74") { goto m9l_h; phOJb: ZQtik: goto X03hC; lQsJL: foreach ($title as $k => $v) { $title[$k] = iconv("\125\x54\x46\55\x38", "\x47\102\62\x33\61\x32", $v); hDE1d: } goto A5DNf; X03hC: echo implode("\xa", $data); goto TMqj4; ZDLGq: $title = implode("\11", $title); goto ij7AB; TKKfN: Y8WpL: goto z72cg; m9l_h: header("\x43\x6f\x6e\x74\145\x6e\x74\55\164\x79\160\x65\72\x61\160\160\154\151\143\x61\164\x69\x6f\156\57\x76\x6e\144\56\155\163\x2d\145\x78\x63\145\x6c\73\40\143\x68\x61\162\x73\145\164\x3d\107\x42\113"); goto vMa73; z72cg: if (empty($data)) { goto eeix6; } goto RKTaY; bywx2: exit; goto NH0iM; NT_hK: header("\120\162\141\x67\x6d\x61\x3a\40\x6e\157\x2d\x63\141\143\150\x65"); goto XeRre; vMa73: header("\x43\157\x6e\x74\x65\156\x74\x2d\x44\151\163\x70\157\163\x69\x74\x69\x6f\x6e\x3a\141\164\164\x61\x63\x68\155\x65\156\164\x3b\x66\x69\x6c\x65\156\141\x6d\x65\75" . $filename . "\x2e\170\154\163"); goto NT_hK; XeRre: header("\105\170\x70\151\162\145\163\x3a\40\60"); goto p_pFV; RKTaY: foreach ($data as $key => $val) { goto mkTqg; mkTqg: foreach ($val as $ck => $cv) { $data[$key][$ck] = iconv("\125\124\x46\x2d\x38", "\107\x42\62\x33\x31\x32", $cv); kyqRE: } goto W5jD_; sEGPr: isUku: goto cl4ZI; W5jD_: AFgjQ: goto uaYns; uaYns: $data[$key] = implode("\11", $data[$key]); goto sEGPr; cl4ZI: } goto phOJb; ij7AB: echo "{$title}\xa"; goto TKKfN; TMqj4: eeix6: goto bywx2; A5DNf: CBAhS: goto ZDLGq; p_pFV: if (empty($title)) { goto Y8WpL; } goto lQsJL; NH0iM: } goto jagKm; QisgU: function hebing() { $bg_path = IA_ROOT . "\57\x61\x64\144\x6f\x6e\x73\57" . Table::MODULE_NAME; require_once $bg_path . "\57\154\x69\142\163\x2f\x67\162\141\x66\151\x6b\x61\x2f\163\162\143\57\x61\165\164\157\154\157\141\144\145\x72\x2e\160\x68\x70"; } goto Gykeu; Gp3gt: function _make_coupon_card() { goto OP0h7; OP0h7: mt_srand((double) microtime() * 10000); goto Ttf0W; airwn: $hyphen = chr(45); goto AvAjP; Ttf0W: $charid = strtoupper(md5(uniqid(rand(), true))); goto airwn; AvAjP: $hyphen = ''; goto OCN_J; OCN_J: $uuid = substr($charid, 0, 8) . $hyphen . substr($charid, 8, 4) . $hyphen . substr($charid, 12, 4) . $hyphen . substr($charid, 16, 4) . $hyphen . substr($charid, 20, 12); goto RuZXA; RuZXA: return $uuid; goto srEAn; srEAn: } goto k07K4; Gykeu: function sendToParent($order_id, $openid) { goto sY4TX; jSY7z: sendYongjinTpl(["\164\x69\164\154\145" => $configs["\x79\157\156\147\152\151\x6e\137\164\x69\x74\154\145"] ? $configs["\171\x6f\x6e\147\x6a\151\x6e\x5f\164\x69\164\154\x65"] : "\xe6\201\xad\xe5\x96\x9c\xe6\x82\250\357\xbc\214\350\x8e\xb7\345\xbe\x97\344\272\x86\xe4\270\200\347\254\x94\346\226\260\347\232\204\344\275\243\xe9\x87\x91", "\155\157\156\145\171" => $total, "\162\x65\x6d\141\x72\153" => $configs["\x79\x6f\156\147\x6a\151\156\x5f\x72\145\x6d\141\x72\x6b"] ? $configs["\x79\157\156\x67\152\151\x6e\x5f\x72\x65\x6d\x61\162\x6b"] : "\345\xbf\xab\xe6\x9d\xa5\347\x9c\213\xe7\x9c\x8b\346\x88\221\xe7\232\204\xe4\275\xa3\351\207\x91\345\220\247", "\x75\162\154" => murl("\x65\156\164\162\x79", ["\x6d" => "\154\x69\165\x65\x72\x5f\155\143\x61\x72", "\144\x6f" => "\x66\145\x6e\170\x69\141\x6f"], true, true)], $parentInfo["\x6f\160\x65\156\x69\144"]); goto Sz4jR; Sz4jR: EwP_r: goto IANXQ; Efz_v: sendYongjinTpl(["\x74\x69\164\154\x65" => $configs["\171\x6f\156\x67\152\151\156\x5f\164\151\x74\x6c\x65"] ? $configs["\x79\157\x6e\x67\x6a\151\x6e\137\x74\x69\x74\x6c\x65"] : "\xe6\201\255\xe5\x96\x9c\xe6\202\250\xef\274\214\350\216\xb7\xe5\276\227\xe4\xba\x86\xe4\270\200\347\254\224\xe6\226\xb0\xe7\232\204\344\xbd\xa3\xe9\x87\221", "\155\x6f\x6e\x65\171" => $total, "\x72\x65\155\x61\162\153" => $configs["\x79\x6f\x6e\x67\x6a\x69\x6e\x5f\162\x65\155\141\162\153"] ? $configs["\x79\x6f\x6e\x67\152\x69\156\x5f\162\x65\155\141\x72\x6b"] : "\345\xbf\xab\xe6\x9d\xa5\347\x9c\213\xe7\234\x8b\xe6\210\x91\347\232\204\xe4\xbd\243\351\207\x91\xe5\220\xa7", "\165\x72\x6c" => murl("\x65\x6e\x74\x72\x79", ["\x6d" => "\x6c\x69\x75\x65\162\x5f\x6d\143\x61\162", "\144\157" => "\x66\x65\x6e\170\151\x61\x6f"], true, true)], $parentInfo["\157\160\145\x6e\x69\144"]); goto wohEi; CgxTE: $total = number_format($goodPrice * $percent * $orderInfo["\147\157\x6f\144\137\156\165\x6d\x62\x65\162"], 2); goto yyugv; LKXcy: aFrRf: goto Aksxq; gnyT4: WeUtility::logging("\x69\156\x66\x6f", print_r($vipInfo, true), "\144\145\x62\165\147\x33"); goto MxiO_; XVMgA: if (!($parentInfo["\x66\170\137\151\144"] == 0)) { goto QveBN; } goto by7eB; ByaS3: $parentInfo = pdo_get(Table::VIP, ["\151\x64" => $vipInfo["\160\151\x64"], "\167\x65\151\x64" => $_W["\x75\156\x69\x61\143\x69\x64"]]); goto LM3BU; XHDrK: if ($bool_tyongjin) { goto IzOTr; } goto aQ8uS; MEy4I: $total = number_format($goodPrice * $percent * $orderInfo["\x67\157\157\144\x5f\x6e\165\155\142\145\x72"], 2); goto TrA2H; ymThz: $vipInfo = pdo_get(Table::VIP, ["\x6f\x70\x65\156\151\x64" => $openid, "\x77\x65\151\144" => $_W["\x75\x6e\x69\141\143\151\x64"]]); goto gnyT4; csWRm: QveBN: goto TE_pY; aQ8uS: insertYongjin(["\165\151\144" => $parentInfo["\x69\144"], "\146\165\x69\x64" => $vipInfo["\x69\x64"], "\155\141\162\x6b" => "\xe8\xb4\xad\344\271\260\166\151\160\346\x89\x80\345\xbe\227\xe4\xbd\xa3\xe9\207\x91", "\164\171\160\x65" => 1, "\x73\164\x61\164\165\163" => 0, "\157\162\x64\x65\162\x5f\151\144" => $orderInfo["\151\x64"], "\155\157\x6e\145\171" => $total]); goto qwliU; BXGEM: insertYongjin(["\x75\151\144" => $parentInfo["\x69\144"], "\146\165\151\144" => $vipInfo["\x69\144"], "\x6d\x61\x72\x6b" => "\xe4\270\213\347\xba\xa7\xe8\xb4\255\xe4\xb9\260\346\x8c\252\350\275\xa6\xe7\240\x81\346\x89\200\345\xbe\x97\344\275\243\xe9\207\221", "\164\x79\x70\x65" => 1, "\x73\x74\141\x74\165\x73" => 0, "\x6f\x72\x64\145\162\137\x69\x64" => $orderInfo["\151\x64"], "\x6d\x6f\156\x65\171" => $total]); goto JenlV; PKxd4: global $_W; goto b3qbD; ymrie: goto X_N3_; goto LKXcy; LM3BU: WeUtility::logging("\151\x6e\146\157", print_r($parentInfo, true), "\x64\x65\142\x75\147\x34"); goto XVMgA; fQuP7: insertYongjin(["\165\x69\x64" => $parentInfo["\x69\144"], "\146\x75\x69\x64" => $vipInfo["\151\x64"], "\x6d\x61\162\x6b" => "\344\xb8\x8b\xe7\xba\247\350\264\255\xe4\271\260\xe6\x8c\252\xe8\xbd\xa6\347\240\201\346\211\x80\345\276\227\344\xbd\xa3\xe9\x87\x91", "\x74\171\160\x65" => 1, "\163\164\x61\x74\165\163" => 9, "\x6f\162\x64\x65\x72\x5f\151\144" => $orderInfo["\x69\144"], "\155\x6f\x6e\x65\171" => $total]); goto jSY7z; qdpr3: if (!($percent = getPercentByGoodId($orderInfo["\x67\157\x6f\x64\x5f\151\x64"], $parentInfo["\x66\170\x5f\151\x64"]))) { goto wIE59; } goto MEy4I; I1kt6: $goodPrice = pdo_fetchcolumn("\163\x65\154\x65\x63\164\40\160\162\x69\143\145\x20\146\x72\157\155\x20" . tablename(Table::GOODS) . "\x20\x77\150\x65\x72\x65\40\151\144\x20\75\x20" . $orderInfo["\147\x6f\157\144\137\151\144"] . "\40\x61\x6e\x64\40\x77\145\x69\x64\40\75\40" . $_W["\165\x6e\x69\141\143\x69\x64"]); goto qdpr3; i6BUr: if ($bool_tyongjin) { goto d67LQ; } goto BXGEM; wohEi: gpjHR: goto xmiEG; MxiO_: if ($vipInfo["\x70\x69\144"]) { goto PTVe6; } goto KsU4y; yyugv: $bool_tyongjin = sendYongjin(["\x6f\162\x64\x65\x72\163\x6e" => $orderInfo["\157\162\x64\x65\x72\163\156"], "\x6d\x6f\x6e\145\x79" => $total, "\x64\145\x73\x63" => "\xe6\216\xa8\345\xb9\277\xe6\x8c\252\xe8\275\246\347\xa0\201\xe6\211\200\xe5\276\227"], $parentInfo["\x6f\x70\x65\x6e\x69\x64"]); goto XHDrK; G2LI9: PTVe6: goto ByaS3; JenlV: goto EwP_r; goto vm0cz; UVRdD: if (!($percent = getPercentByGroupId($orderInfo["\x67\157\x6f\144\137\x69\x64"], $parentInfo["\x66\x78\x5f\151\x64"]))) { goto HWUV4; } goto CgxTE; by7eB: return false; goto csWRm; K6lXp: X_N3_: goto gVGfC; TE_pY: $orderInfo = pdo_get(Table::ORDER, ["\151\x64" => $order_id, "\167\145\x69\x64" => $_W["\x75\x6e\151\x61\143\x69\x64"]]); goto uY1uh; xmiEG: HWUV4: goto K6lXp; af4gT: if ($orderInfo["\157\162\x64\x65\162\137\164\171\x70\x65"] == 2) { goto aFrRf; } goto I1kt6; oHSso: IzOTr: goto U5Bid; qwliU: goto gpjHR; goto oHSso; KsU4y: return false; goto G2LI9; vm0cz: d67LQ: goto fQuP7; U5Bid: insertYongjin(["\165\151\144" => $parentInfo["\151\x64"], "\x66\x75\x69\144" => $vipInfo["\151\x64"], "\x6d\x61\x72\x6b" => "\350\264\xad\xe4\xb9\xb0\166\151\x70\xe6\x89\x80\xe5\276\227\344\275\xa3\351\x87\x91", "\x74\171\x70\x65" => 1, "\163\x74\141\164\165\163" => 9, "\x6f\x72\x64\x65\x72\x5f\151\144" => $orderInfo["\x69\x64"], "\x6d\x6f\x6e\145\171" => $total]); goto Efz_v; b3qbD: $configs = get_module_info(); goto ymThz; sY4TX: WeUtility::logging("\151\x6e\146\157", print_r($order_id . "\43" . $openid, true), "\144\x65\x62\165\147\x31"); goto PKxd4; IANXQ: wIE59: goto ymrie; uY1uh: WeUtility::logging("\x69\156\146\157", print_r($orderInfo, true), "\144\x65\142\x75\147\x32"); goto af4gT; TrA2H: $bool_tyongjin = sendYongjin(["\x6f\162\x64\x65\162\163\156" => $orderInfo["\x6f\x72\x64\x65\162\x73\156"], "\x6d\x6f\x6e\145\171" => $total, "\x64\x65\163\x63" => "\346\x8e\xa8\xe5\271\277\346\x8c\xaa\xe8\275\246\347\xa0\x81\xe6\211\200\xe5\xbe\x97"], $parentInfo["\x6f\x70\x65\156\151\144"]); goto i6BUr; Aksxq: $goodPrice = pdo_fetchcolumn("\x73\145\x6c\x65\x63\x74\x20\160\x72\151\143\145\x20\x66\162\x6f\155\x20" . tablename(Table::GROUP) . "\40\167\x68\145\x72\145\40\151\144\x20\75\x20" . $orderInfo["\x67\x6f\157\x64\137\151\144"] . "\40\141\x6e\x64\x20\167\x65\151\x64\x20\x3d\x20" . $_W["\x75\156\x69\141\x63\151\x64"]); goto UVRdD; gVGfC: } goto Lzrd9; z5_cJ: function checkMessage($condition, $message) { goto bUu2M; tIPsd: die($message); goto Vcsp8; bUu2M: if (!$condition) { goto XGtmt; } goto tIPsd; Vcsp8: XGtmt: goto OTCwg; OTCwg: } goto Gp3gt; Lzrd9: function sendYongjinTpl($data, $openid) { goto j4ANd; aoD5T: sendYongjinTplNotice($openid, ["\x74\151\x74\154\x65" => $data["\x74\x69\164\154\145"], "\155\x6f\156\x65\171" => $data["\155\x6f\x6e\145\171"] . "\xe5\205\x83", "\144\141\164\x65" => date("\x59\x2d\x6d\x2d\x64\40\x48\72\x69"), "\162\145\155\x61\x72\x6b" => $data["\162\145\x6d\141\x72\153"], "\165\x72\154" => $data["\165\x72\x6c"]], $config["\171\x6f\x6e\x67\152\151\x6e\137\x74\160\154"]); goto lpbE6; p6jAr: $config = get_module_info(); goto qVa3z; qVa3z: if (!$config["\x79\157\156\x67\152\x69\x6e\x5f\164\160\154"]) { goto VEVyY; } goto aoD5T; lpbE6: VEVyY: goto pewyt; j4ANd: global $_W; goto p6jAr; pewyt: } goto B2Vz4; hnaVt: function rjson($message, $error = 1, $url = '', $ext = array()) { goto OEzuq; DV7t0: $arr = $ext ? array_merge($arr, $ext) : $arr; goto Goacv; bYT0F: exit; goto b1KK4; Goacv: echo json_encode($arr, JSON_UNESCAPED_UNICODE); goto bYT0F; OEzuq: $arr = ["\145\162\162\157\162" => $error, "\x6d\x73\x67" => $message, "\x75\162\154" => $url]; goto DV7t0; b1KK4: } goto jVbyq; k07K4: function makeOrderSn($length = 5) { goto o0C1i; PwbtE: $end = $start * 10 - 1; goto P8E4k; o0C1i: $start = str_pad(1, $length, 0, STR_PAD_RIGHT); goto PwbtE; P8E4k: return date("\x59\155\x64\x48\x69\163") . mt_rand($start, $end); goto HFsXr; HFsXr: } goto NWfQf; GThkN: function get_ma($str) { goto GB14u; eH7Eu: pcgM1: goto js80u; js80u: return 0; goto JbazN; JbazN: FgtEL: goto nH4_7; JDqv3: goto FgtEL; goto eH7Eu; PFwNk: return 1; goto JDqv3; GB14u: if ($str == "\345\217\257\xe9\242\x86\347\xa0\x81") { goto FBZTu; } goto ZWCb3; MYU0y: goto FgtEL; goto V3ML0; ZWCb3: if ($str == "\344\xb8\215\xe5\x8f\xaf\351\xa2\x86\347\xa0\201") { goto pcgM1; } goto MYU0y; V3ML0: FBZTu: goto PFwNk; nH4_7: } goto SI5Jr; yR3hS: function exportExcel($data = array(), $title = array(), $filename = "\162\145\160\x6f\x72\164") { goto m2oTo; aBfD6: foreach ($titleArr as $key => $val) { $objPHPExcel->setActiveSheetIndex(0)->setCellValue($key . "\x31", $val); CPMnb: } goto PgpWu; BOwuq: $objPHPExcel = new PHPExcel(); goto zPJfN; PgpWu: H3uJJ: goto pislX; FZmty: header("\x43\x6f\x6e\x74\145\x6e\x74\x2d\x74\x79\x70\x65\x3a\141\x70\x70\x6c\x69\x63\141\164\x69\x6f\x6e\x2f\166\156\x64\56\x6d\x73\x2d\145\x78\143\145\154\73\x63\x68\141\x72\163\145\164\75\165\x74\x66\x2d\x38\73\156\x61\x6d\145\x3d\42" . $filename . "\56\170\x6c\163\170\42"); goto hIdGx; lhSpG: $objWriter = \PHPExcel_IOFactory::createWriter($objPHPExcel, "\105\x78\x63\145\x6c\x32\60\60\x37"); goto ecxZ0; m2oTo: require_once IA_ROOT . "\x2f\141\144\x64\157\156\x73\57\154\151\165\145\x72\137\x6d\x63\141\162\57\154\151\142\x73\57\x70\x68\x70\x65\170\143\x65\x6c\x2f\x50\110\x50\105\x78\x63\145\154\56\160\x68\160"; goto BOwuq; SmsE6: $objPHPExcel->getActiveSheet()->setTitle("\xe6\214\xaa\350\xbd\246\347\240\x81\345\210\x97\350\241\xa8"); goto YQToh; pislX: foreach ($data as $index => $varr) { goto m1GGU; HKMpy: foreach ($vArrs as $vk => $vv) { $objPHPExcel->setActiveSheetIndex(0)->setCellValue($vk . $index, $vv); qG8TG: } goto GlG80; BRWAJ: Phh16: goto zJdEB; jui1B: $vArrs = toAZArr($varr); goto HKMpy; GlG80: A15OP: goto BRWAJ; m1GGU: $index += 2; goto jui1B; zJdEB: } goto ik8bo; ecxZ0: $objWriter->save("\x70\x68\x70\72\57\57\x6f\165\164\x70\165\164"); goto fdU6Q; ik8bo: F9JSA: goto mg4yH; mg4yH: $objPHPExcel->setActiveSheetIndex(0); goto SmsE6; hIdGx: header("\103\x6f\x6e\x74\x65\156\x74\55\104\151\163\x70\x6f\x73\151\x74\151\157\156\72\x61\164\x74\141\143\150\x6d\x65\156\164\x3b\146\x69\154\145\156\x61\155\x65\75" . $filename . "\x2e\170\x6c\x73\x78"); goto lhSpG; YQToh: header("\x70\x72\141\147\x6d\x61\72\x70\x75\142\154\151\143"); goto FZmty; zPJfN: $titleArr = GetAtoZArr($title); goto aBfD6; fdU6Q: exit; goto ZhCUY; ZhCUY: } goto E5Hlm; jhyHX: function checkSkn($skn) { goto z2CQZ; z2CQZ: if ($skn) { goto H2iLa; } goto DfcU0; DfcU0: H2iLa: goto Xuxci; Xuxci: return $skn; goto dIOY_; dIOY_: } goto hnaVt; HV8Fo: function fetchAllAccount() { goto RUL33; J_teY: exit; goto WXb7h; TUjE_: $module_name = $_W["\143\165\162\162\145\x6e\x74\137\x6d\157\x64\x75\154\145"]["\x6e\141\x6d\145"]; goto vtFLu; JE9ft: foreach ($accounts_list as $account) { goto hcp_u; YEJoP: it1aN: goto pVDYV; XExtc: goto KfzXe; goto kdRnJ; zk0Jy: goto vAZTD; goto WzzBw; StSE_: $account["\166\x65\x72\163\x69\157\156\137\151\156\146\x6f"] = $version_info; goto xJj0j; xPi2M: qI_w0: goto aDVKr; L97WK: KfzXe: goto yuIZ_; rK4at: qzfkJ: goto jJLLS; R8tsw: goto EZ8Tv; goto xPi2M; WzzBw: goto EZ8Tv; goto YEJoP; Osvhf: $account["\x76\x65\x72\x73\x69\157\156\x5f\151\x6e\x66\x6f"] = $version_info; goto rK4at; kdRnJ: mTG_I: goto ROeZ7; hcp_u: if (!(empty($account["\165\156\151\x61\143\151\144"]) || $account["\x75\156\151\141\x63\151\144"] != $_W["\x75\156\x69\141\143\x69\144"])) { goto mTG_I; } goto XExtc; pVDYV: $version_info = miniapp_version($account["\166\x65\x72\163\151\x6f\156\x5f\151\144"]); goto StSE_; ROeZ7: if (in_array($_W["\x61\143\143\x6f\x75\156\164"]["\x74\171\x70\145"], array(ACCOUNT_TYPE_OFFCIAL_NORMAL, ACCOUNT_TYPE_OFFCIAL_AUTH))) { goto qI_w0; } goto hve8x; hve8x: if (in_array($_W["\x61\143\x63\157\x75\x6e\x74"]["\x74\171\x70\145"], array(ACCOUNT_TYPE_APP_NORMAL, ACCOUNT_TYPE_ALIAPP_NORMAL))) { goto it1aN; } goto R8tsw; jJLLS: $selected_account = $account; goto zk0Jy; xJj0j: $selected_account = $account; goto RH7Og; aDVKr: if (empty($account["\166\x65\x72\x73\151\157\156\x5f\x69\144"])) { goto qzfkJ; } goto TyChz; RH7Og: goto vAZTD; goto nxvMB; nxvMB: EZ8Tv: goto L97WK; TyChz: $version_info = miniapp_version($account["\x76\x65\x72\163\x69\157\x6e\x5f\151\144"]); goto Osvhf; yuIZ_: } goto WZzjD; gNqZM: Vh_Pf: goto qtbxy; GwF7V: foreach ($accounts_list as $key => $account) { goto FgC2M; mdyjo: to9gl: goto Fq03_; P40I0: if (empty($account["\166\145\x72\x73\151\x6f\156\x5f\x69\144"])) { goto UI9fo; } goto Sb6Wu; FgC2M: $url = url("\155\x6f\x64\x75\x6c\145\57\144\x69\x73\x70\x6c\141\x79\x2f\163\x77\x69\x74\143\150", array("\x75\x6e\151\141\x63\x69\x64" => $account["\165\156\151\141\143\x69\x64"], "\x6d\x6f\x64\165\x6c\x65\x5f\156\x61\155\145" => $module_name)); goto P40I0; dVhZI: UI9fo: goto xLNh7; xLNh7: $accounts_list[$key]["\x75\162\x6c"] = $url; goto mdyjo; Sb6Wu: $url .= "\x26\166\145\162\163\x69\157\x6e\x5f\151\x64\75" . $account["\x76\x65\162\163\x69\x6f\156\x5f\151\x64"]; goto dVhZI; Fq03_: } goto zhAIu; YsK18: if (!empty($accounts_list)) { goto WIe4c; } goto J_teY; vtFLu: if (!empty($module_name)) { goto Vh_Pf; } goto Nj3A7; Nj3A7: exit; goto gNqZM; yiPLZ: return $accounts_list; goto q2LfQ; hks4y: $selected_account = array(); goto JE9ft; qtbxy: $accounts_list = module_link_uniacid_fetch($_W["\x75\x69\x64"], $module_name); goto YsK18; WZzjD: vAZTD: goto GwF7V; zhAIu: pR180: goto yiPLZ; WXb7h: WIe4c: goto hks4y; RUL33: global $_W, $_GPC; goto TUjE_; q2LfQ: } goto zGZy1; jVbyq: function checkSknStatus() { } goto u0ajy; dDjKm: function buildWsseHeader($appKey, $appSecret) { goto sV4hK; CIV0r: $nonce = uniqid(); goto wW3Qa; sV4hK: date_default_timezone_set("\x55\124\103"); goto Psn0b; Psn0b: $Created = date("\131\x2d\x6d\55\x64\x5c\124\x48\72\x69\72\163\134\132"); goto CIV0r; wW3Qa: $base64 = base64_encode(hash("\163\x68\141\62\65\x36", $nonce . $Created . $appSecret, TRUE)); goto qZNN4; qZNN4: return sprintf("\125\x73\x65\x72\156\141\x6d\145\x54\157\153\x65\x6e\x20\x55\163\x65\162\x6e\141\x6d\x65\x3d\x22\45\163\42\x2c\x50\141\163\163\167\x6f\162\144\x44\x69\147\145\x73\164\x3d\42\45\x73\x22\54\116\157\156\x63\145\75\x22\x25\x73\42\54\103\162\x65\141\164\x65\x64\75\42\45\163\42", $appKey, $base64, $nonce, $Created); goto W2bHv; W2bHv: }