<?php
 class CommonModuleSite extends WeModuleSite { public function _list($table, $template, $extCondition = '', $sort = "\x63\x72\145\141\x74\x65\x64\137\x61\164\40\144\145\163\x63") { goto BN1p9; YmZHA: n8u4E: goto ma8Mv; f_6JK: $pager = pagination($total, $pindex, $psize); goto y0wOh; ie9VU: $total = pdo_fetchcolumn("\x73\145\154\145\143\x74\40\143\x6f\x75\156\164\50\x2a\51\x20\x66\162\157\155\x20" . tablename($table) . "\x20\167\x68\145\162\x65\x20" . $condition); goto wkHGV; jwq5q: axzbM: goto ie9VU; lspEL: yvYIR: goto nYZDZ; wkHGV: $limit = ($pindex - 1) * $psize . "\54" . $psize; goto rAmFG; aFsPR: $condition .= "\40\141\156\144\40\x63\x72\145\x61\164\145\144\137\x61\x74\x20\76\75\40{$sttime}\x20\x61\x6e\x64\40\143\x72\145\141\164\x65\x64\137\141\164\40\x3c\x20{$sendtime}"; goto IiVt1; Pd3O2: SHQU2: goto nIvOJ; GbA9N: $condition = "\x77\145\x69\x64\40\75\40" . $_W["\x75\156\x69\141\143\x69\144"]; goto BJPJA; YUJXt: $sttime = strtotime($_GPC["\164\151\x6d\145"]["\163\x74\141\x72\x74"]); goto Nsa1T; DQfj6: if (!(isset($_GPC["\x73\x74\x61\x74\x75\163"]) && $_GPC["\163\x74\141\x74\165\163"] !== '')) { goto yvYIR; } goto VKPDi; usbuY: $pindex = max(1, intval($_GPC["\160\141\x67\145"])); goto c7pvF; Nsa1T: $sendtime = strtotime($_GPC["\x74\x69\155\x65"]["\x65\x6e\x64"]) + 24 * 3600; goto aFsPR; VCkvM: include $this->template($template); goto YmZHA; VKPDi: $condition .= "\x20\x61\x6e\144\x20\x73\x74\141\x74\165\x73\x20\75\40" . $_GPC["\x73\x74\x61\x74\165\163"]; goto lspEL; c7pvF: $psize = 100; goto GbA9N; BN1p9: global $_W, $_GPC; goto usbuY; O133T: goto n8u4E; goto nbuj9; nYZDZ: if (empty($_GPC["\141\147\x65\156\164\x5f\151\144"])) { goto axzbM; } goto zcEsf; IiVt1: rbPAu: goto DQfj6; rAmFG: $data = pdo_fetchall("\163\x65\x6c\x65\143\164\40\52\40\146\x72\157\x6d\40" . tablename($table) . "\40\x77\150\145\x72\x65\40{$condition}\40\157\x72\x64\145\162\40\x62\x79\x20{$sort}\40\154\151\x6d\151\x74\x20{$limit}"); goto f_6JK; wbCcj: $condition .= "\40\141\x6e\144\40" . $extCondition; goto Pd3O2; zcEsf: $condition .= "\40\x61\156\144\x20\141\x67\x65\156\164\137\x69\144\40\x3d\x20" . $_GPC["\141\147\145\156\x74\x5f\x69\x64"]; goto jwq5q; nIvOJ: if (empty($_GPC["\164\151\155\145"])) { goto rbPAu; } goto YUJXt; y0wOh: if (strpos($template, "\x2f") !== false) { goto S9g3U; } goto WYwcA; BJPJA: if (!$extCondition) { goto SHQU2; } goto wbCcj; nbuj9: S9g3U: goto VCkvM; WYwcA: include $this->template("\x77\x65\x62\57" . $_GPC["\x64\157"] . "\x2f" . $template); goto O133T; ma8Mv: } public function _delete($table, $catDesc) { goto SVtmc; RLND3: pdo_delete($table, ["\x69\144" => $id, "\167\145\x69\x64" => $_W["\x75\156\x69\141\x63\151\144"]]); goto acQcz; acQcz: $this->message($catDesc . "\345\210\240\xe9\x99\244\346\x88\x90\xe5\x8a\237", $this->createWebUrl($_GPC["\x64\x6f"]), "\x73\x75\x63\x63\x65\x73\163"); goto UERPx; SVtmc: global $_W, $_GPC; goto epOyD; epOyD: $id = $_GPC["\x69\x64"]; goto RLND3; UERPx: } public function _deleteGood($table, $catDesc, $type = 1) { goto Iv4QJ; Iv4QJ: global $_W, $_GPC; goto ABezZ; Wf1tp: pdo_delete(Table::REL, ["\147\157\x6f\144\137\x69\144" => $id, "\151\x73\x5f\x74\171\x70\145" => $type, "\167\x65\151\144" => $_W["\x75\156\x69\141\x63\x69\x64"]]); goto M4FtE; BdHEl: pdo_delete($table, ["\x69\144" => $id, "\x77\145\x69\144" => $_W["\165\156\151\x61\143\151\144"]]); goto Wf1tp; M4FtE: $this->message($catDesc . "\345\x88\xa0\351\231\xa4\346\210\220\xe5\212\x9f", $this->createWebUrl($_GPC["\x64\157"]), "\163\x75\143\x63\145\163\163"); goto WGGdk; ABezZ: $id = $_GPC["\151\x64"]; goto BdHEl; WGGdk: } public function _do($table, $catDesc, $validate = array(), $extData = array()) { goto DZoQx; MqAwG: goto rs4KZ; goto iw_XV; LpOwi: $this->_create($table, $catDesc, $validate, $extData); goto MqAwG; DZoQx: global $_W, $_GPC; goto UOA6W; XHsoe: $this->_update($table, $catDesc, $validate, $extData); goto ZRBZd; ZRBZd: rs4KZ: goto ktUmJ; UOA6W: if ($_GPC["\x69\144"]) { goto aacTI; } goto LpOwi; iw_XV: aacTI: goto XHsoe; ktUmJ: } public function _doGood($table, $catDesc, $validate = array(), $extData = array(), $type = 1) { goto HP36z; eNe38: goto TVuNa; goto owaqj; HP36z: global $_W, $_GPC; goto dGs6X; FFi9H: $this->_createGood($table, $catDesc, $validate, $extData, $type); goto eNe38; owaqj: AEH0k: goto ebqwt; dGs6X: if ($_GPC["\x69\x64"]) { goto AEH0k; } goto FFi9H; Z8Eot: TVuNa: goto CiusL; ebqwt: $this->_updateGood($table, $catDesc, $validate, $extData, $type); goto Z8Eot; CiusL: } public function _create($table, $catDesc, $validate = array(), $extData = array()) { goto uoVZy; PSNOo: t9OO8: goto weXS7; oBGD0: include $this->template("\x77\x65\x62\x2f" . $_GPC["\x64\x6f"] . "\57\x63\x72\145\141\x74\145"); goto T5JKb; fxqCC: $schema = db_table_schema(pdo(), $table); goto uFFQA; e5qlr: $this->message($catDesc . "\xe6\267\xbb\345\212\240\xe6\x88\x90\345\x8a\237", $this->createWebUrl($_GPC["\x64\157"]), "\x73\165\143\143\145\x73\163"); goto NBv1I; q9obD: $extData = array_merge($extData, $merArr); goto cAj_O; klZDu: if (checksubmit()) { goto e_gwj; } goto oBGD0; tgpap: foreach ($fields as $field) { goto shwwg; hePy_: oMm3m: goto LYVuc; LYVuc: IDt8H: goto vX6si; SgaZ1: $data[$field] = $_GPC[$field]; goto hePy_; shwwg: if (!($field !== "\151\144")) { goto oMm3m; } goto SgaZ1; vX6si: } goto PSNOo; T5JKb: goto bbBDs; goto zo73V; zo73V: e_gwj: goto p1nDM; cAj_O: $data = array_merge($data, $extData); goto MHxPx; uoVZy: global $_W, $_GPC; goto QcNnL; p1nDM: foreach ($validate as $rule) { goto oaQM_; qYvZE: WkyNQ: goto uTTt4; ZcRy6: XTWbs: goto smKjX; Uj9tg: if (!($rule_type == "\x72\145\161\x75\x69\162\145")) { goto ZAvGi; } goto khRhn; khRhn: if (!empty($_GPC[$rule_field])) { goto XTWbs; } goto v1xjn; smKjX: ZAvGi: goto qYvZE; DOaB3: $rule_field = $rule[0]; goto kR6ny; oaQM_: $rule_type = $rule[1]; goto DOaB3; kR6ny: $rule_message = $rule[2]; goto Uj9tg; v1xjn: $this->message($rule_message, "\x72\x65\x66\x72\x65\x73\150", "\145\x72\x72\x6f\162"); goto ZcRy6; uTTt4: } goto t1NTx; DEA18: goto z8jNZ; goto l5K_a; l5K_a: aLy36: goto d_NAn; SXAZT: z8jNZ: goto q9obD; g0Lul: $data = []; goto fxqCC; d_NAn: $merArr = ["\143\x72\x65\x61\x74\145\x64\137\x61\x74" => time(), "\x77\145\x69\144" => $_W["\165\x6e\151\141\143\151\x64"]]; goto SXAZT; L2V6h: $merArr = ["\163\164\x61\164\165\x73" => 9, "\143\162\145\x61\164\145\x64\137\x61\164" => time(), "\167\145\x69\x64" => $_W["\x75\x6e\x69\141\x63\151\x64"]]; goto DEA18; weXS7: if (array_key_exists("\x73\x74\x61\x74\x75\163", $extData)) { goto aLy36; } goto L2V6h; uFFQA: $fields = array_keys($schema["\x66\x69\x65\x6c\144\x73"]); goto tgpap; MHxPx: pdo_insert($table, $data); goto e5qlr; NBv1I: bbBDs: goto rG7vu; QcNnL: load()->func("\x64\x62"); goto klZDu; t1NTx: SGMb2: goto g0Lul; rG7vu: } public function _createGood($table, $catDesc, $validate = array(), $extData = array(), $type = 1) { goto O_Y3T; PYaQV: $good_id = pdo_insertid(); goto kIjxW; bLMXw: $this->message($catDesc . "\346\xb7\273\xe5\212\240\346\x88\x90\xe5\212\x9f", $this->createWebUrl($_GPC["\x64\x6f"]), "\x73\x75\x63\143\x65\163\163"); goto VM7Q4; POegd: $extData = array_merge($extData, $merArr); goto mVZlq; JSyRm: A58bR: goto KJMlk; DXdVN: LWQt9: goto X8ggf; hrz7f: $schema = db_table_schema(pdo(), $table); goto QNVt7; QNVt7: $fields = array_keys($schema["\x66\x69\x65\x6c\144\x73"]); goto XKOis; X8ggf: foreach ($validate as $rule) { goto xbFU4; TWGOy: if (!($rule_type == "\x72\145\x71\165\x69\x72\145")) { goto KUD85; } goto Rnox7; uYUsp: $rule_field = $rule[0]; goto erfkh; xbFU4: $rule_type = $rule[1]; goto uYUsp; Rnox7: if (!empty($_GPC[$rule_field])) { goto REemB; } goto WRvWw; erfkh: $rule_message = $rule[2]; goto TWGOy; HUP99: KUD85: goto tkcue; WRvWw: $this->message($rule_message, "\x72\x65\146\162\x65\163\150", "\145\162\x72\x6f\x72"); goto q3WEN; q3WEN: REemB: goto HUP99; tkcue: XL6pI: goto ZLDOS; ZLDOS: } goto JSyRm; vYx_z: goto h0odH; goto DXdVN; mVZlq: $data = array_merge($data, $extData); goto IlM63; O_Y3T: global $_W, $_GPC; goto ZZrTB; JPGxj: enrsO: goto POegd; ZZrTB: load()->func("\x64\142"); goto Ffsd6; IlM63: pdo_insert($table, $data); goto PYaQV; VM7Q4: h0odH: goto F3cG_; DeTEO: goto enrsO; goto El9uM; XKOis: foreach ($fields as $field) { goto k8AGA; ExPoA: $data[$field] = $_GPC[$field]; goto Rum5q; kyvHj: ipGvv: goto UBT2C; k8AGA: if (!($field !== "\151\144")) { goto YHGqp; } goto ExPoA; Rum5q: YHGqp: goto kyvHj; UBT2C: } goto X8PzA; KJMlk: $data = []; goto hrz7f; Ffsd6: if (checksubmit()) { goto LWQt9; } goto fob9r; kIjxW: if (!($data["\151\x73\x5f\146\170"] == 1)) { goto jLeHL; } goto WvNeJ; wEPi0: $merArr = ["\x63\162\145\x61\x74\145\144\137\141\164" => time(), "\167\x65\x69\144" => $_W["\x75\156\x69\x61\x63\151\144"]]; goto JPGxj; R4wLR: $merArr = ["\x73\164\141\x74\x75\163" => 9, "\x63\162\x65\x61\x74\x65\x64\x5f\x61\x74" => time(), "\167\145\x69\x64" => $_W["\x75\x6e\151\x61\x63\x69\x64"]]; goto DeTEO; skY3D: if (array_key_exists("\163\x74\141\x74\165\x73", $extData)) { goto Qys5E; } goto R4wLR; X8PzA: z2hSG: goto skY3D; HdWft: aA5iq: goto VxIpk; fob9r: include $this->template("\x77\145\x62\x2f" . $_GPC["\x64\157"] . "\x2f\143\x72\x65\141\x74\145"); goto vYx_z; VxIpk: jLeHL: goto bLMXw; WvNeJ: foreach ($_GPC["\x72\x65\x6c"] as $kl => $vl) { goto RO43a; RO43a: if (!($vl !== '')) { goto ah6dV; } goto yA07d; x2NbP: ah6dV: goto HxXdt; HxXdt: wxzmp: goto JS_vQ; yA07d: $rel = ["\147\x6f\x6f\144\137\x69\144" => $good_id, "\x69\x73\137\164\x79\160\x65" => $type, "\160\145\x72\143\x65\x6e\x74" => $vl, "\146\x78\137\151\x64" => $kl, "\143\x72\x65\141\164\145\x64\137\141\164" => time(), "\x77\x65\x69\x64" => $_W["\x75\x6e\x69\141\143\151\144"]]; goto XVR2O; XVR2O: pdo_insert(Table::REL, $rel); goto x2NbP; JS_vQ: } goto HdWft; El9uM: Qys5E: goto wEPi0; F3cG_: } public function _update($table, $catDesc, $validate = array(), $extData = array()) { goto k4orV; IEs8N: pdo_update($table, $data, $condition); goto HDz0v; Y2Mle: include $this->template("\x77\145\142\x2f" . $_GPC["\144\157"] . "\x2f\x75\x70\144\141\164\x65"); goto bBhZo; bWGjW: $condition = ["\151\x64" => $_GPC["\151\x64"], "\167\145\x69\144" => $_W["\165\156\x69\141\143\151\x64"]]; goto DTzkZ; k4orV: global $_W, $_GPC; goto E7i7v; naFpM: $data = pdo_get($table, $condition); goto NSZts; NSZts: foreach ($data as $field => &$val) { $val = isset($_GPC[$field]) ? $_GPC[$field] : $val; mBEFw: } goto Ojn9v; bBhZo: goto Zma2M; goto gN7qp; HDz0v: $this->message($catDesc . "\347\xbc\226\350\276\x91\346\210\x90\345\x8a\x9f", $this->createWebUrl($_GPC["\x64\x6f"]), "\x73\165\x63\143\x65\163\163"); goto Q1ESM; tK6SD: $data = pdo_get($table, $condition); goto Y2Mle; gN7qp: fmj7n: goto H2TW7; DTzkZ: if (checksubmit()) { goto fmj7n; } goto tK6SD; Q1ESM: Zma2M: goto nnKMw; hdIaJ: wbEan: goto naFpM; LKocF: $data = array_merge($data, $extData); goto IEs8N; Ojn9v: bPei1: goto LKocF; H2TW7: foreach ($validate as $rule) { goto KvRu5; KvRu5: $rule_type = $rule[1]; goto KlxId; ixk1T: AiakK: goto n4BAp; SANO6: if (!empty($_GPC[$rule_field])) { goto AiakK; } goto oRH_0; KlxId: $rule_field = $rule[0]; goto OKjgq; mbj6N: u_zY_: goto Bhfpc; OKjgq: $rule_message = $rule[2]; goto pfxxy; oRH_0: $this->message($rule_message, "\162\x65\146\162\145\x73\x68", "\145\x72\x72\157\162"); goto ixk1T; n4BAp: fyvck: goto mbj6N; pfxxy: if (!($rule_type == "\162\x65\161\x75\x69\162\145")) { goto fyvck; } goto SANO6; Bhfpc: } goto hdIaJ; E7i7v: load()->func("\144\x62"); goto bWGjW; nnKMw: } public function _updateGood($table, $catDesc, $validate = array(), $extData = array(), $type = 1) { goto qkBeg; s9T19: q00sH: goto uO3oR; q8pXG: $data = pdo_get($table, $condition); goto Yr3CF; LT2T3: include $this->template("\x77\x65\x62\x2f" . $_GPC["\x64\157"] . "\x2f\165\160\144\x61\164\x65"); goto WVq00; WVq00: goto gQjMb; goto s9T19; odrwm: pdo_update($table, $data, $condition); goto kF8rR; Qa1gn: if (checksubmit()) { goto q00sH; } goto Aj16V; Wjr1G: gQjMb: goto ku4ay; Pdbbs: $relArr = []; goto cp7ri; qum9n: CCsKL: goto q8pXG; e53RA: $condition = ["\x69\x64" => $_GPC["\151\x64"], "\x77\145\x69\144" => $_W["\165\x6e\x69\141\x63\x69\144"]]; goto Qa1gn; FtoYb: S3Ukc: goto LqLmQ; vQdTO: $data = array_merge($data, $extData); goto odrwm; Yr3CF: foreach ($data as $field => &$val) { $val = isset($_GPC[$field]) ? $_GPC[$field] : $val; x3Zn8: } goto gvHIx; tnUlN: lQIZD: goto ASx0S; oMUMV: tBwQs: goto dC16u; LqLmQ: pdo_delete(Table::REL, ["\x67\x6f\157\144\137\151\x64" => $data["\151\144"], "\151\163\x5f\164\171\160\145" => $type, "\x77\145\151\144" => $_W["\165\x6e\x69\x61\x63\151\x64"]]); goto IxXtA; pOLMg: load()->func("\x64\142"); goto e53RA; Z3Pc6: pdo_delete(Table::REL, ["\x67\x6f\x6f\x64\x5f\151\x64" => $data["\x69\x64"], "\x69\x73\x5f\164\x79\160\145" => $type, "\167\x65\151\x64" => $_W["\x75\156\x69\x61\143\x69\x64"]]); goto wF1O5; cp7ri: if (!$rel) { goto jvdSd; } goto K62Zb; Bu9AW: $rel = pdo_getall(Table::REL, ["\x67\157\x6f\144\137\x69\144" => $data["\151\144"], "\151\x73\x5f\x74\171\160\x65" => $type, "\163\x74\x61\164\165\163" => 9, "\167\145\x69\x64" => $_W["\165\x6e\151\x61\143\x69\x64"]]); goto Pdbbs; kdg23: $this->message($catDesc . "\347\xbc\x96\xe8\xbe\x91\346\210\x90\345\x8a\237", $this->createWebUrl($_GPC["\x64\157"]), "\x73\165\143\143\x65\163\163"); goto Wjr1G; dC16u: h7unj: goto kdg23; IxXtA: foreach ($_GPC["\x72\145\154"] as $kl => $vl) { goto iHo8h; iHo8h: if (!($vl !== '')) { goto lj1vD; } goto CHQns; CHQns: $rel = ["\x67\157\x6f\144\137\151\x64" => $data["\x69\x64"], "\151\x73\137\164\x79\160\145" => $type, "\x70\x65\162\143\x65\x6e\x74" => $vl, "\x66\x78\x5f\151\144" => $kl, "\x63\162\145\x61\164\145\x64\137\x61\164" => time(), "\x77\x65\151\x64" => $_W["\x75\x6e\x69\x61\143\151\x64"]]; goto UZLPa; DMZ4B: J3fP_: goto mAh_O; UZLPa: pdo_insert(Table::REL, $rel); goto eZDlL; eZDlL: lj1vD: goto DMZ4B; mAh_O: } goto oMUMV; wF1O5: goto h7unj; goto FtoYb; K62Zb: foreach ($rel as $val) { $relArr[$val["\x66\x78\x5f\x69\144"]] = $val["\160\145\162\143\x65\156\164"]; U1J2Y: } goto tnUlN; gvHIx: Qyl1l: goto vQdTO; Aj16V: $data = pdo_get($table, $condition); goto Bu9AW; ASx0S: jvdSd: goto LT2T3; kF8rR: if ($data["\151\163\137\x66\170"] == 1) { goto S3Ukc; } goto Z3Pc6; qkBeg: global $_W, $_GPC; goto pOLMg; uO3oR: foreach ($validate as $rule) { goto gfTyv; QyWXe: xsePt: goto MVDbT; CsdGb: $rule_field = $rule[0]; goto PXTOo; MVDbT: E0mB_: goto cYEk2; MOPfh: A1qpY: goto QyWXe; PXTOo: $rule_message = $rule[2]; goto Dt1TQ; kGkaP: $this->message($rule_message, "\162\x65\146\162\x65\x73\x68", "\145\x72\x72\x6f\162"); goto MOPfh; igynk: if (!empty($_GPC[$rule_field])) { goto A1qpY; } goto kGkaP; gfTyv: $rule_type = $rule[1]; goto CsdGb; Dt1TQ: if (!($rule_type == "\162\145\x71\x75\x69\x72\145")) { goto xsePt; } goto igynk; cYEk2: } goto qum9n; ku4ay: } public function _view($table) { goto Zlhrc; EZVQ1: H0dOz: goto Y_4Ti; UBfoE: $id = $_GPC["\151\144"]; goto Bf4BY; pB_h9: if ($detailInfo) { goto H0dOz; } goto vWcU9; vWcU9: $this->message("\xe6\262\241\346\234\211\xe8\xbf\231\346\x9d\xa1\xe8\256\260\345\xbd\225"); goto EZVQ1; Y_4Ti: include $this->template("\167\x65\x62\57" . $_GPC["\144\157"] . "\57\x76\x69\145\x77"); goto nRoxB; Zlhrc: global $_W, $_GPC; goto UBfoE; Bf4BY: $detailInfo = pdo_get($table, ["\151\144" => $id]); goto pB_h9; nRoxB: } protected function message($msg, $redirect = '', $type = '', $tips = false, $extend = array()) { goto J83J5; D5gmy: $message_cookie["\164\171\160\145"] = $label; goto ciyJN; yk3Fn: SYOkw: goto lRn8k; dkYr2: $label = "\x77\x61\162\x6e\151\156\147"; goto Rehpu; gORaQ: header("\114\157\x63\141\x74\x69\x6f\156\x3a\x20" . $redirect); goto JVFTk; MqwjQ: LVMnH: goto FFOE3; Qf0cF: if ($type != "\x61\152\x61\x78" && !empty($_GPC["\x74\x61\162\x67\x65\164"])) { goto C1KOV; } goto AYPuD; r13S3: $type = in_array($type, array("\163\x75\x63\143\x65\x73\163", "\x65\162\x72\x6f\x72", "\151\x6e\x66\157", "\x77\x61\162\x6e\x69\x6e\147", "\x61\152\141\x78", "\163\161\154")) ? $type : "\x73\165\143\x63\x65\x73\163"; goto pWBrl; dfSt8: F7RM5: goto dtjvo; kc9R5: goto SQg5g; goto we1W2; umhgQ: $message_cookie["\145\170\164\x65\156\144"] = !empty($extend_button) ? $extend_button : ''; goto GiYgW; juWQu: goto mt4o8; goto ZgWdq; J83J5: global $_W, $_GPC; goto cZEcq; sBkCn: if (!($redirect == "\x72\x65\x66\145\x72\x65\162")) { goto LVMnH; } goto SHSiM; lVrln: ol1z5: goto sBkCn; Ik1Yu: $message_cookie["\x6d\x73\x67"] = "\x70\150\x70\x20\x65\143\150\x6f\40\143\165\164\x73\x74\162\x28" . $msg["\163\x71\154"] . "\x2c\40\x33\x30\60\54\40\x31\51\x3b"; goto oCAix; MQtKc: if (!(empty($msg) && !empty($redirect))) { goto q0CGl; } goto gORaQ; eHMD2: OY2BE: goto ozQvb; XJx7I: if ($tips) { goto SYOkw; } goto QRWdP; ciyJN: $message_cookie["\162\145\144\x69\162\145\143\164"] = $redirect ? $redirect : referer(); goto q1Wrl; fR6YQ: exit("\xa\74\163\x63\x72\x69\160\x74\x20\164\x79\x70\145\75\x22\x74\145\170\x74\x2f\152\x61\166\141\x73\x63\162\x69\160\x74\42\76\12\x9\166\141\x72\x20\x75\x72\x6c\40\x3d\40" . (!empty($redirect) ? "\160\141\x72\145\156\164\56\154\157\143\141\164\x69\x6f\x6e\56\150\x72\x65\146" : "\47\47") . "\x3b\xa\x9\166\x61\x72\40\155\157\144\x61\154\157\x62\x6a\x20\75\40\x75\x74\151\x6c\56\155\145\x73\x73\x61\147\x65\50\47" . $msg . "\47\x2c\x20\x27\x27\54\40\x27" . $type . "\47\x29\73\12\11\x69\x66\x20\x28\165\x72\154\51\x20\173\xa\x9\11\155\x6f\x64\x61\154\x6f\x62\152\x2e\157\156\50\47\x68\151\x64\145\56\x62\x73\56\155\x6f\144\141\x6c\x27\54\40\146\x75\x6e\x63\x74\x69\x6f\x6e\x28\x29\x7b\44\50\47\56\x6d\157\x64\x61\154\x27\51\56\145\x61\143\x68\x28\146\x75\x6e\143\164\151\x6f\x6e\50\x29\173\x69\146\50\x24\50\164\x68\151\x73\51\56\141\x74\164\162\50\x27\x69\144\47\51\x20\41\x3d\x20\47\155\x6f\x64\x61\154\55\x6d\x65\163\163\x61\x67\x65\47\x29\40\173\x24\50\x74\x68\x69\163\x29\x2e\155\157\x64\141\x6c\x28\x27\150\x69\144\145\47\x29\x3b\175\x7d\x29\x3b\x74\x6f\160\56\x6c\157\143\x61\x74\151\x6f\x6e\56\x72\145\154\157\141\x64\x28\x29\175\51\x3b\xa\x9\175\xa\74\x2f\x73\x63\162\x69\x70\164\x3e"); goto YmsVg; FFOE3: $redirect = safe_gpc_url($redirect); goto VGQeH; VSUhq: $message_cookie["\164\151\x74\154\145"] = "\x4d\x59\123\x51\114\40\351\224\x99\xe8\257\257"; goto Ik1Yu; g1O1C: exit; goto LtHuJ; lRn8k: if (is_array($msg)) { goto nte_j; } goto FmzO8; we1W2: nte_j: goto VSUhq; oCAix: SQg5g: goto D5gmy; YmsVg: mt4o8: goto sO_L3; r7h9d: if (!($type == "\145\x72\x72\157\162")) { goto F7RM5; } goto TytEi; IDd2p: header("\114\157\x63\x61\164\x69\157\x6e\72\x20" . $message_cookie["\162\x65\x64\151\x72\x65\x63\x74"]); goto JbLuI; cwDZm: if (!($_W["\x69\163\141\152\x61\170"] || !empty($_GET["\x69\x73\x61\152\141\170"]) || $type == "\141\152\141\x78")) { goto r043P; } goto Qf0cF; vi9wp: $extend_button = array(); goto kYrcv; sO_L3: r043P: goto MQtKc; Un27l: $vars["\155\x65\x73\x73\x61\x67\145"] = $msg; goto qhtom; VGQeH: if ($redirect == '') { goto OY2BE; } goto r13S3; I4F4b: q0CGl: goto z_Glo; Y6Njo: $redirect = $_W["\x73\143\x72\151\160\x74\137\x6e\141\155\145"] . "\x3f" . $_SERVER["\x51\125\x45\122\131\x5f\x53\x54\x52\111\x4e\x47"]; goto lVrln; JVFTk: exit; goto I4F4b; ZgWdq: C1KOV: goto fR6YQ; ZvbIv: $vars["\x74\171\160\145"] = $type; goto oB2GD; JbLuI: C8U4Z: goto g1O1C; cZEcq: if (!($redirect == "\162\145\x66\162\145\163\x68")) { goto ol1z5; } goto Y6Njo; TcCBZ: goto C8U4Z; goto yk3Fn; AYPuD: $vars = array(); goto Un27l; a9HHK: j8k8y: goto umhgQ; z_Glo: $label = $type; goto r7h9d; pWBrl: goto kitD1; goto eHMD2; OGqWZ: $message_cookie["\x6d\163\147"] = $msg; goto kc9R5; nDdMZ: IY7oD: goto a9HHK; kYrcv: if (!(!empty($extend) && is_array($extend))) { goto j8k8y; } goto k9ngA; J5ogz: kitD1: goto cwDZm; k9ngA: foreach ($extend as $button) { goto Vr6IT; om5iq: gtvVS: goto WkqOK; UYJUI: $button["\x75\162\x6c"] = safe_gpc_url($button["\x75\x72\154"]); goto fL_ug; YTKhE: $extend_button[] = $button; goto om5iq; fL_ug: $button["\x74\x69\164\154\145"] = rawurlencode($button["\x74\x69\164\x6c\145"]); goto YTKhE; WkqOK: nKakt: goto HMRhQ; Vr6IT: if (!(!empty($button["\164\x69\164\154\145"]) && !empty($button["\x75\x72\x6c"]))) { goto gtvVS; } goto UYJUI; HMRhQ: } goto nDdMZ; q1Wrl: $message_cookie["\x6d\163\147"] = rawurlencode($message_cookie["\155\163\147"]); goto vi9wp; TytEi: $label = "\x64\141\x6e\147\x65\162"; goto dfSt8; qhtom: $vars["\x72\x65\144\151\x72\x65\x63\x74"] = $redirect; goto ZvbIv; ozQvb: $type = in_array($type, array("\163\x75\x63\x63\x65\x73\163", "\x65\162\162\x6f\x72", "\x69\x6e\146\157", "\167\x61\x72\x6e\151\x6e\147", "\x61\152\141\x78", "\163\161\x6c")) ? $type : "\x69\x6e\x66\157"; goto J5ogz; GiYgW: isetcookie("\155\x65\163\x73\141\147\145", stripslashes(json_encode($message_cookie, JSON_UNESCAPED_UNICODE))); goto IDd2p; dtjvo: if (!($type == "\141\x6a\141\x78" || $type == "\163\161\154")) { goto U2XeN; } goto dkYr2; FmzO8: $message_cookie["\x74\x69\164\x6c\x65"] = $caption; goto OGqWZ; QRWdP: include $this->template("\x63\x6f\x6d\155\157\156\57\155\x65\163\x73\141\x67\145"); goto TcCBZ; Rehpu: U2XeN: goto XJx7I; SHSiM: $redirect = referer(); goto MqwjQ; oB2GD: exit(json_encode($vars)); goto juWQu; LtHuJ: } }