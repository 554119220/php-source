<?php
 class CommentController extends BaseController { public $size = 5; public function index() { goto FQvEk; gLtNf: $data["\x74\x79\160\x65"] = $_GET["\x74\171\160\x65"] == 2 ? 2 : 1; goto bpfAC; iwvD5: x2SDO: goto cbzbS; eSQu3: $page = intval($_GET["\160\x61\147\x65"]) ? intval($_GET["\x70\x61\x67\x65"]) : 1; goto zaQ15; zaQ15: $size = 20; goto phBOJ; hw1S4: foreach ($data["\x6c\x69\x73\x74"] as $value) { $uids[] = $value["\165\151\144"]; HcLOr: } goto iwvD5; pTs0R: $total = $this->CommentModel->count($where); goto eSQu3; bpfAC: $data["\157\x70\145\162\x61\164\151\157\x6e"] = "\144\x69\x73\x70\154\x61\171"; goto Aryhk; EbPWR: boKgz: goto wx_DX; wRo1b: $pindex = max(1, intval($this->GPC["\160\x61\147\145"])); goto gLtNf; phBOJ: $data["\154\x69\163\164"] = $this->CommentModel->getList($where, ["\52"], ["\x69\x64\x20\144\x65\163\143"], [$page, $size]); goto hw1S4; RqZ5m: $this->assign($data); goto IMqGz; ThOp6: $user = $this->arrayIndex($user, "\x69\144"); goto rmbnI; rmbnI: k0ocb: goto lQ2pJ; cbzbS: if (!$data["\154\x69\x73\x74"]) { goto k0ocb; } goto BlXrr; Aryhk: $where = ["\x77\x65\x69\x64" => $this->W["\x75\156\151\141\143\x69\144"]]; goto pTs0R; FQvEk: $data["\164\151\x74\x6c\x65"] = "\350\xaf\x84\xe8\xae\xba\347\xae\xa1\347\x90\206"; goto wRo1b; lQ2pJ: foreach ($data["\x6c\151\163\x74"] as &$va) { goto VNpl3; VNpl3: $va["\x75\163\x65\x72"] = $user[$va["\165\151\144"]]; goto x_Bsl; iQfBC: EcyTz: goto n37jj; x_Bsl: $va["\151\156\146\x6f"] = json_decode($va["\151\x6e\x66\x6f"], true); goto iQfBC; n37jj: } goto EbPWR; BlXrr: $user = $this->MemberModel->getList(["\x69\144" => $uids], ["\x69\x64", "\156\151\143\153\156\141\x6d\145"]); goto ThOp6; IMqGz: $this->display(); goto jQz0x; wx_DX: $data["\x70\x61\x67\x65\x72"] = pagination($total, $pindex, $this->size); goto RqZ5m; jQz0x: } public function post() { goto LqiWC; s3o5K: $this->assign($data); goto DQ1zj; A1IHM: qmKUA: goto BUvIh; o906I: $data["\x75\x70\144\x61\164\145\x5f\x74\151\155\145"] = time(); goto WjC02; BUvIh: $data["\157\x70\x65\x72\x61\164\151\157\x6e"] = "\160\x6f\x73\164"; goto PceyP; PceyP: $data["\x67\157\165"] = $detail; goto s3o5K; mKi2b: message("\344\277\256\xe6\224\xb9\xe6\x88\220\345\x8a\237", $this->createWebUrl("\142\165\171\x69\x6e\x67", ["\x74\171\160\x65" => $_POST["\x74\x79\160\145"]])); goto TTqRq; iaQ6q: XEcOf: goto c5S8v; DQ1zj: $this->display("\167\x65\142\x2f\142\x75\x79\x69\156\147\x2f\151\x6e\144\x65\x78"); goto Pke3w; Mq2Us: $data["\x73\164\x61\162\164"] = strtotime(trim($_POST["\163\164\141\x72\164"])); goto ET_xL; TTqRq: PmG6b: goto iaQ6q; mFXfA: message("\xe4\xb8\215\345\xad\230\345\234\xa8"); goto A1IHM; ET_xL: $data["\145\x6e\x64"] = strtotime(trim($_POST["\145\156\144"])); goto o906I; H2fk5: if ($detail) { goto qmKUA; } goto mFXfA; QUmP4: $data["\x77\x65\x69\x67\150\164"] = (int) $_POST["\x77\x65\151\147\x68\164"]; goto Mq2Us; c5S8v: $detail = $this->GouModel->getOne(["\x67\x6f\x6f\x64\x73\137\151\144" => (int) $_GET["\x67\x6f\x6f\144\x73\137\151\144"], "\x74\171\x70\x65" => (int) $_GET["\x74\x79\160\145"]]); goto H2fk5; WjC02: if (!$this->GouModel->update(["\x69\x64" => (int) $_POST["\x69\x64"]], $data)) { goto PmG6b; } goto mKi2b; LqiWC: if (!checksubmit("\x73\x75\x62\x6d\151\x74")) { goto XEcOf; } goto QUmP4; Pke3w: } public function delete() { goto hiaCn; FEiGq: DkpwV: goto XUT84; hiaCn: $id = (int) $_GET["\151\144"]; goto xzrzW; IUE1u: $this->ajaxReturn(0, ''); goto FEiGq; XUT84: $this->ajaxReturn(101, ''); goto K6K1H; xzrzW: if (!$this->CommentModel->del(["\x69\x64" => $id])) { goto DkpwV; } goto IUE1u; K6K1H: } public function check() { goto C9Mns; aqIe4: $this->ajaxReturn(101, ''); goto XvNq_; lpB9T: i40fF: goto aqIe4; C9Mns: $id = (int) $_GET["\x69\x64"]; goto OlkTh; OlkTh: if (!$this->CommentModel->update(["\x69\x64" => $id], ["\x73\164\x61\164\165\x73" => 1])) { goto i40fF; } goto HgvcS; HgvcS: $this->ajaxReturn(0, ''); goto lpB9T; XvNq_: } }