<?php
 class CommentController extends MobileBaseController { public function index() { goto aTQsy; nv3ZV: message("\345\267\xb2\xe8\xaf\x84\xe8\256\272"); goto wAVB5; lW12W: q5pde: goto Za3Qg; aTQsy: $order_id = (int) $_GET["\x6f\x72\x64\x65\162\137\151\144"]; goto doxS7; VQuzk: if ($order) { goto ltAG4; } goto cJhqv; Ggli8: $order = $this->OrderModel->getOne(["\151\144" => $order_id, "\x6d\x65\x6d\x62\145\162\151\x64" => $this->uid], ["\x69\144", "\x73\160\x65\x63\x69\x61\154"]); goto mmJVO; Za3Qg: $this->assign($data); goto QtmfP; mmJVO: load()->func("\164\x70\x6c"); goto VQuzk; doxS7: $data["\164\151\x74\x6c\x65"] = "\xe8\257\204\350\256\xba"; goto Ggli8; oqJU6: ltAG4: goto AG4Ak; fl9g1: $this->OrderModel->update(["\151\x64" => $order_id], ["\x73\160\145\143\151\x61\x6c" => $order["\x73\x70\145\143\x69\x61\154"] | self::$ORDER_SPECIAL["\x63\157\x6d\x6d\145\156\164"]]); goto lW12W; AG4Ak: if (!($order["\x73\160\x65\x63\151\x61\154"] & self::$ORDER_SPECIAL["\143\157\155\x6d\145\x6e\x74"])) { goto vwex2; } goto nv3ZV; Fz2Mt: $data["\144\145\164\x61\x69\x6c"] = $this->OrderDetailModel->getList(["\157\x72\x64\145\x72\x5f\x69\144" => $order_id], ["\x74\151\x74\x6c\145", "\160\x72\151\143\x65", "\164\150\x75\155\x62", "\151\x64", "\x67\157\x6f\x64\163\137\151\144", "\164\171\160\145\137\164\151\164\x6c\x65"]); goto jtul7; jtul7: if (!$this->ispost()) { goto q5pde; } goto WzoGn; QtmfP: $this->display(); goto uadL0; cJhqv: message("\xe8\xae\242\345\215\x95\xe4\xb8\215\345\xad\x98\345\x9c\250"); goto oqJU6; WzoGn: $data["\143\157\155\x6d\x65\156\164"] = $this->add($data["\x64\145\x74\141\151\154"]); goto fl9g1; wAVB5: vwex2: goto Fz2Mt; uadL0: } private function add($list) { goto cEPTu; TYV8j: txFdY: goto RKbGL; MrPrc: foreach ($list as $value) { goto Lnxhg; J2VYu: $this->GoodsModel->update(["\x69\x64" => $data["\x67\x6f\x6f\x64\163\137\151\x64"]], $update); goto R2xOS; NPlXD: $data["\163\164\141\x72"] = intval($_POST["\x73\x74\x61\x72"][$value["\x69\x64"]]); goto BvxxF; zh1WJ: A1rAL: goto fHlN8; GYj_Q: rcq7E: goto YAC8I; LzFL6: $this->CommentModel->add($data); goto SxPiP; xNqaV: if (!$_POST["\x69\x6d\x61\147\x65\x2d" . $value["\151\x64"]]) { goto rcq7E; } goto xCC0I; F1rjp: $data["\x69\x6e\x66\157"] = json_encode(["\x74\150\165\155\x62" => $value["\164\x68\165\x6d\x62"], "\x70\162\151\143\x65" => $value["\160\x72\151\x63\145"], "\164\151\164\154\145" => $value["\164\x69\x74\154\x65"], "\x73\x74\141\164\165\163" => $check ? 0 : 1, "\164\171\160\x65\137\164\x69\164\154\145" => $value["\x74\x79\160\145\x5f\x74\151\164\154\145"]]); goto LzFL6; Lnxhg: $data["\165\x6e\x69\141\x63\151\x64"] = $this->W["\x75\156\x69\141\x63\x69\x64"]; goto ACLX8; R2xOS: $data = []; goto zh1WJ; BvxxF: $data["\x75\151\x64"] = $this->uid; goto rr_kX; SxPiP: $update = ["\143\x6f\155\155\145\156\164\x20\53\75" => 1]; goto J2VYu; W0cqa: $data["\147\157\157\x64\163\137\151\x64"] = $value["\x67\x6f\x6f\144\x73\137\x69\144"]; goto poJ_3; sI3q5: LbiBw: goto GYj_Q; rr_kX: $data["\x63\x72\145\141\x74\145\137\164\x69\155\x65"] = time(); goto xNqaV; YAC8I: $data["\151\x6d\x61\147\x65\x73"] = json_encode($data["\151\x6d\141\x67\145\163"]); goto F1rjp; xCC0I: foreach ($_POST["\151\x6d\x61\147\x65\55" . $value["\151\144"]] as $key => $image) { goto f2AM0; f2AM0: if (!($key > 5)) { goto X2IGM; } goto Bh8sj; GvV0j: iNdB7: goto SX_e4; s_aSW: goto iNdB7; goto f08Ln; BBqcg: X2IGM: goto vxZ3X; Bh8sj: goto LbiBw; goto BBqcg; nD98N: $data["\x69\x6d\x61\147\x65\163"][] = $image; goto GvV0j; vxZ3X: if (trim($image)) { goto Wpgvt; } goto s_aSW; f08Ln: Wpgvt: goto nD98N; SX_e4: } goto sI3q5; ACLX8: $data["\x6f\x72\x64\145\162\x5f\x64\x65\164\141\151\154\x5f\151\x64"] = $value["\151\144"]; goto W0cqa; poJ_3: $data["\x63\157\x6d\155\x65\156\164"] = trim($_POST["\143\x6f\155\x6d\145\x6e\164"][$value["\x69\x64"]]); goto NPlXD; fHlN8: } goto TYV8j; cEPTu: $check = $this->module["\x63\157\156\x66\151\x67"]["\143\157\x6d\155\x65\x6e\164"]; goto MrPrc; RKbGL: return true; goto V64ab; V64ab: } }