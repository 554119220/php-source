<?php
 class MyorderController extends MobileBaseController { public $size = 7; public function index() { goto Wou1p; kGaCS: $this->display(); goto YG3Hl; Wou1p: $this->getParams(); goto fef9p; fef9p: $this->data["\146\x61\163\164\x5f\x6d\145\x6e\165"] = false; goto K_lJY; K_lJY: $this->assign($this->data); goto kGaCS; YG3Hl: } public function more() { $this->getData(); $this->ajaxReturn(0, '', $this->data); } private function getData() { goto Pbc48; mzGlx: foreach ($list as $de) { $this->data["\154\x69\x73\x74"][] = $de; lLK1e: } goto fKCrq; A29r2: foreach ($detail as $item) { goto DHvyB; DHvyB: $item["\164\x68\165\155\x62"] = formatArrImage($item["\x74\150\x75\x6d\142"]); goto znb4P; znb4P: $item["\165\x72\154"] = $this->createMobileUrl("\147\x6f\157\144\163", array("\x67\157\x6f\x64\163\x5f\x69\144" => $item["\x67\x6f\157\x64\x73\x5f\x69\144"])); goto Cco6Y; Cco6Y: $list[$item["\157\162\x64\145\x72\137\151\x64"]]["\x64\145\164\141\151\154"][] = $item; goto ysy_q; ysy_q: OIebt: goto Y9LBm; Y9LBm: } goto DiN3M; BnhFf: goto fN14z; goto qDytl; QxBwO: $where["\x6d\x65\155\142\145\162\x69\144"] = $this->uid; goto LxkYs; NVeSX: $order_ids = []; goto mhrZ2; QJVR8: $detail = $this->OrderDetailModel->getList(["\157\x72\x64\x65\x72\x5f\x69\x64" => $order_ids], ["\147\x6f\157\x64\163\x5f\151\144", "\157\x72\144\x65\162\137\151\x64", "\x61\x6d\x6f\x75\156\164", "\x74\x69\x74\x6c\x65", "\160\162\151\x63\x65", "\164\x68\x75\x6d\142", "\x74\171\x70\145\137\164\151\164\x6c\x65", "\x67\x6f\x6f\x64\163\x74\171\x70\145", "\162\145\155\x61\x72\x6b"]); goto A29r2; mhrZ2: $list = $this->OrderModel->getList($where, ["\x65\x78\160\x72\x65\x73\x73\163\156", "\x65\x78\160\x72\x65\163\x73\143\x6f\155", "\x69\x64", "\x6f\x72\144\145\x72\x73\156", "\164\x6f\164\141\x6c", "\157\x72\144\145\162\160\162\x69\x63\145", "\163\164\x61\x74\x75\163", "\x73\160\145\x63\151\x61\154"], ["\x69\x64\40\x64\145\163\143"], [$page, $this->size]); goto jh7iS; VgYZ0: aofis: goto voZRh; A3p_Q: mr9Wm: goto f3pPy; iSp1x: if ($type == "\x75\156\x72\x65\143\145\x69\x76\x65") { goto R2muF; } goto Iea7j; ghxL6: $this->data["\160\x61\147\x65"] = $page + 1; goto uaOln; kqmK_: if (!(count($list) < $this->size)) { goto xCHd2; } goto cmwwH; EkmxK: xCHd2: goto vFRe8; LxkYs: $this->data["\155\x6f\x72\145"] = true; goto NVeSX; vFRe8: foreach ($list as &$value) { goto vkMcM; vnNQ6: Eonjr: goto l1MLo; DoJyX: $order_ids[] = $value["\x69\144"]; goto vnNQ6; DIyJe: $value["\160\x61\x79\x5f\x75\x72\154"] = $this->createMobileUrl("\143\157\x6e\146\x69\162\155\157\162\x64\145\162", ["\157\x72\144\x65\162\137\151\144" => $value["\151\x64"]]); goto VCyH2; cV5tJ: if (!($list["\x73\x74\141\164\x75\x73"] == 0)) { goto fffkh; } goto DIyJe; vkMcM: $value["\143\157\x6d\155\x65\156\x74"] = $value["\x73\160\x65\x63\151\x61\x6c"] & self::$ORDER_SPECIAL["\x63\157\x6d\155\x65\156\164"]; goto cV5tJ; VCyH2: fffkh: goto DoJyX; l1MLo: } goto A3p_Q; PJrpR: goto fN14z; goto VgYZ0; KBWJn: $page = $page ? $page : 1; goto bAeb1; TyDTL: $this->data["\x6c\x69\163\x74"] = []; goto mzGlx; DiN3M: tt6Hz: goto s8tJ4; voZRh: $where["\x73\x74\x61\x74\x75\x73"] = 0; goto BnhFf; jh7iS: $list = $this->arrayIndex($list, "\151\144"); goto kqmK_; qDytl: R2muF: goto wDN_2; wDN_2: $where["\163\x74\x61\x74\x75\163"] = [1, 2]; goto Ldm90; bAeb1: if ($type == "\165\156\x70\x61\171") { goto aofis; } goto iSp1x; f3pPy: if (!$order_ids) { goto Pnheg; } goto QJVR8; Iea7j: $type = "\x61\154\154"; goto PJrpR; fKCrq: gbXO0: goto w4l2U; e3rD_: $page = intval($this->GPC["\160\141\147\145"]); goto KBWJn; Ldm90: fN14z: goto QxBwO; s8tJ4: Pnheg: goto ghxL6; uaOln: $this->data["\164\x79\x70\145"] = $type; goto TyDTL; cmwwH: $this->data["\155\157\x72\x65"] = false; goto EkmxK; Pbc48: $type = trim($this->GPC["\164\171\x70\x65"]); goto e3rD_; w4l2U: } private function getParams() { goto tTQv5; hfL0Y: IeNmA: goto kcCG1; jNxiS: $where["\x73\164\141\164\x75\163"] = 0; goto lIlkf; JOGdi: if ($type == "\x75\x6e\160\x61\x79") { goto bzLhQ; } goto a0QGX; yEtY0: bzLhQ: goto jNxiS; phhEU: $where["\x73\164\141\164\x75\x73"] = [1, 2]; goto hfL0Y; lIlkf: goto IeNmA; goto lH4WH; lH4WH: fAiL3: goto phhEU; kcCG1: $this->data["\164\x79\x70\145"] = $type; goto y8yjC; PfdDz: $type = "\141\154\154"; goto mutL9; a0QGX: if ($type == "\x75\156\162\145\x63\145\x69\x76\x65") { goto fAiL3; } goto PfdDz; tTQv5: $type = trim($this->GPC["\x74\x79\x70\145"]); goto JOGdi; mutL9: goto IeNmA; goto yEtY0; y8yjC: } public function del() { goto OKnN4; QzNdW: $result = $this->OrderModel->del(["\x69\x64" => $order_id, "\x6d\145\155\x62\x65\162\151\x64" => $this->uid]); goto FSKXQ; kI6MC: uzKPC: goto h2k5u; RW9ZE: goto uzKPC; goto Uio1P; Xu0n1: $this->ajaxReturn(101, "\345\210\xa0\351\231\xa4\xe5\244\261\xe8\264\245"); goto RW9ZE; kIGnv: $this->OrderDetailModel->del(["\157\x72\x64\x65\162\137\x69\x64" => $order_id]); goto AbALK; OKnN4: $order_id = intval($this->GPC["\157\162\x64\x65\x72\x5f\151\x64"]); goto QzNdW; Uio1P: Q8Fuh: goto kIGnv; FSKXQ: if ($result) { goto Q8Fuh; } goto Xu0n1; AbALK: $this->ajaxReturn(0, ''); goto kI6MC; h2k5u: } public function done() { goto AOoPQ; AOoPQ: $order_id = intval($this->GPC["\x6f\162\x64\x65\x72\x5f\151\144"]); goto Sw0Jp; m4pRM: goto bqrHt; goto l4bfx; l4bfx: vxzKi: goto ASjK1; MkknI: if ($result) { goto vxzKi; } goto xwH39; Sw0Jp: $result = $this->OrderModel->update(["\151\x64" => $order_id, "\155\x65\155\142\145\x72\x69\144" => $this->uid, "\x73\164\141\164\165\163" => 2], ["\163\x74\x61\x74\165\163" => 3, "\163\150\x6f\x75\x68\165\157\164\x69\x6d\x65" => time()]); goto MkknI; xwH39: $this->ajaxReturn(101, "\xe6\223\x8d\xe4\275\x9c\345\xa4\261\xe8\264\xa5"); goto m4pRM; fJ5HQ: bqrHt: goto aFOmb; ASjK1: $this->ajaxReturn(0, ''); goto fJ5HQ; aFOmb: } public function jiao() { goto FKRcB; HwStX: xvwZ1: goto lRhpA; lRhpA: Header("\x4c\x6f\143\141\164\151\157\156\x3a\x20" . $url); goto XsvP1; tzHZJ: if ($url) { goto xvwZ1; } goto EsZP2; EsZP2: message("\346\x95\x99\347\250\213\xe4\270\x8d\345\255\230\345\x9c\xa8"); goto V2VhP; hRcCh: $url = $this->GoodsAttributeModel->getOne(["\x67\157\x6f\144\163\137\151\x64" => $id])["\147\157\157\x64\163\154\x69\141\x6e\x6a\151\145"]; goto tzHZJ; FKRcB: $id = (int) $_GET["\147\x6f\157\x64\137\x69\x64"]; goto hRcCh; XsvP1: exit; goto l00f2; l00f2: pV_Ce: goto B_AZI; V2VhP: goto pV_Ce; goto HwStX; B_AZI: } }