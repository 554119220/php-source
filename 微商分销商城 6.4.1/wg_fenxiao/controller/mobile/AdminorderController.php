<?php
 class AdminorderController extends MobileBaseController { public $size = 10; public function init() { goto CTbVP; gSH95: kJWP0: goto sITU3; mEDxV: if ($this->admin) { goto kJWP0; } goto HVwbJ; CTbVP: parent::init(); goto mEDxV; HVwbJ: message("\xe9\241\xb5\351\235\xa2\xe5\207\xba\351\x94\231", $this->createMobileUrl("\x6d\x65\x6d\x62\x65\x72")); goto gSH95; sITU3: } public function index() { goto aVrCB; ffeem: $_SESSION["\x69\x6e\146\x6f"]["\157\162\x64\145\162\x73"] = $this->OrderModel->count(["\167\145\151\x64" => $this->W["\165\156\x69\141\x63\151\x64"]]); goto z6chP; oUYOe: $this->assign($data); goto ztVOU; ztVOU: $this->display(); goto AEl2g; q41OJ: $_SESSION["\151\156\x66\x6f"]["\x69\x6e\x63\x6f\x6d\145"] = $this->OrderModel->pdo_fetch($sql)["\x73\x75\155"]; goto xdzC2; y8jRw: $data = $_SESSION["\x69\x6e\x66\x6f"]; goto OgfSX; z6chP: $sql = "\x73\x65\x6c\145\143\x74\x20\x73\165\x6d\50\x6f\x72\144\x65\x72\x70\162\151\143\145\51\40\x61\163\40\163\165\155\x20\x66\162\x6f\155\40" . tablename($this->OrderModel->getTable()) . "\x20\167\x68\x65\x72\x65\x20\167\145\x69\144\x3d" . $this->W["\x75\156\x69\x61\x63\151\x64"] . "\40\x61\156\x64\40\163\164\141\164\x75\x73\x3e\x30"; goto q41OJ; aVrCB: if (!($_SESSION["\x69\x6e\146\157"]["\x74\151\155\145"] + 60 * 10 < time())) { goto r80px; } goto DTUoW; xdzC2: $_SESSION["\151\156\x66\x6f"]["\164\151\x6d\x65"] = time(); goto Ux10O; OgfSX: $data["\x74\x69\164\154\145"] = "\xe8\256\242\xe5\x8d\225\xe7\256\241\347\x90\x86"; goto oUYOe; Ux10O: r80px: goto y8jRw; DTUoW: $_SESSION["\151\x6e\x66\x6f"]["\155\x65\155\x62\145\x72\163"] = $this->MemberModel->count(["\x77\x65\x69\x64" => $this->W["\x75\x6e\x69\141\143\x69\144"]]); goto ffeem; AEl2g: } public function more() { $this->getData(); $this->ajaxReturn(0, '', $this->data); } private function getData() { goto j_4Zg; I0GDj: if (!(count($list) < $this->size)) { goto ITTWh; } goto eDjWx; PwaOn: $this->data["\155\157\x72\145"] = true; goto hxjeA; YsbVF: $this->data["\x6c\x69\163\x74"] = []; goto FXWPe; a21XX: $where["\167\145\151\x64"] = $this->W["\x75\x6e\151\x61\143\x69\144"]; goto PwaOn; bRK8C: $this->data["\x70\141\x67\x65"] = $page + 1; goto YsbVF; CBPuU: axRvH: goto I0GDj; CTGsS: ITTWh: goto bRK8C; eDjWx: $this->data["\155\x6f\162\145"] = false; goto CTGsS; GJiuB: b3h7Y: goto uoW5a; jhh_9: foreach ($list as &$value) { goto wLbKv; dhwpV: $value["\164\x69\x6d\x65"] = date("\131\x2f\155\x2f\144\x20\40\x20\110\72\x69\72\x73", $value["\x63\x72\145\141\164\145\x74\151\x6d\145"]); goto Yk5Rn; wLbKv: $value["\163\164\x61\x74\x75\x73"] = self::$ORDER_STATUS[$value["\163\x74\x61\164\x75\x73"]]; goto dhwpV; Yk5Rn: lllf0: goto AstfM; AstfM: } goto CBPuU; kF6uo: goto b3h7Y; goto jtCrp; oLdxu: $page = intval($this->GPC["\160\x61\147\x65"]); goto XhPyx; PkMji: $where["\x73\164\141\164\x75\x73"] = $status; goto kF6uo; uoW5a: goto qOGKq; goto rqRKQ; rqRKQ: W9mRH: goto oXxan; tq5ej: if ($status == '') { goto m_6oB; } goto PkMji; j_4Zg: $status = intval($this->GPC["\163\164\x61\x74\165\x73"]); goto oLdxu; qytbw: qOGKq: goto a21XX; hxjeA: $list = $this->OrderModel->getList($where, ["\151\144", "\x6f\x72\144\x65\x72\163\x6e", "\157\x72\144\x65\x72\x70\162\x69\143\145", "\x73\164\x61\x74\165\x73", "\x63\162\x65\x61\164\145\x74\x69\x6d\x65"], ["\151\144\40\x64\x65\163\x63"], [$page, $this->size]); goto jhh_9; oXxan: $where["\157\x72\144\x65\x72\163\156"] = trim($this->GPC["\x6f\x72\x64\145\162\x73\x6e"]); goto qytbw; ORR4l: if ($this->GPC["\157\162\x64\145\162\x73\x6e"]) { goto W9mRH; } goto tq5ej; jtCrp: m_6oB: goto GJiuB; hjtgf: N1PEw: goto S7v_r; FXWPe: foreach ($list as $de) { $this->data["\x6c\x69\x73\x74"][] = $de; r7OGn: } goto hjtgf; XhPyx: $page = $page ? $page : 1; goto ORR4l; S7v_r: } public function del() { goto CY7Tj; hmYjl: goto QZOjg; goto Kh3z1; xnoT0: $this->ajaxReturn(101, "\xe5\210\240\xe9\231\244\xe5\xa4\xb1\350\xb4\xa5"); goto hmYjl; dSEeh: $this->ajaxReturn(0, ''); goto OAQXp; PHxG5: $this->OrderDetailModel->del(["\x6f\x72\x64\x65\x72\x5f\151\x64" => $order_id]); goto dSEeh; fg0hA: $result = $this->OrderModel->del(["\x69\x64" => $order_id, "\x6d\145\155\x62\145\x72\x69\144" => $this->uid]); goto jXJGj; CY7Tj: $order_id = intval($this->GPC["\x6f\162\x64\x65\162\x5f\151\x64"]); goto fg0hA; Kh3z1: hm0n7: goto PHxG5; OAQXp: QZOjg: goto eZqOE; jXJGj: if ($result) { goto hm0n7; } goto xnoT0; eZqOE: } public function done() { goto bFL4A; F2cbt: gYqlF: goto WnfVs; uRw52: $this->ajaxReturn(0, ''); goto F2cbt; NvTuR: $this->ajaxReturn(101, "\346\x93\x8d\xe4\xbd\234\xe5\244\261\xe8\xb4\245"); goto WRqjD; egd2F: if ($result) { goto GQnyC; } goto NvTuR; bFL4A: $order_id = intval($this->GPC["\x6f\162\144\145\162\137\x69\144"]); goto HnkZC; CDkJ6: GQnyC: goto uRw52; WRqjD: goto gYqlF; goto CDkJ6; HnkZC: $result = $this->OrderModel->update(["\151\144" => $order_id, "\155\145\x6d\142\x65\162\151\x64" => $this->uid, "\x73\164\141\164\165\163" => 2], ["\x73\164\141\x74\165\x73" => 3]); goto egd2F; WnfVs: } public function detail() { } }