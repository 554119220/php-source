<?php
 class QrController extends MobileBaseController { public $size = 10; public function index() { goto Qizj1; W0HAB: mkdirs($path); goto LOGm0; wFPbH: imagefttext($background, 10, 0, 167, 634, $black, $font_file, "\351\x95\xbf\xe6\214\x89\xe4\272\x8c\xe7\xbb\xb4\xe7\xa0\x81\xe6\211\xab\xe7\xa0\201\350\xb4\xad\344\xb9\260"); goto gzz1G; CRTCm: $new_name = []; goto ujdnJ; n9tZl: $this->ajaxReturn(103, "\344\xba\x8c\347\273\xb4\xe7\240\x81\347\x94\x9f\xe6\210\220\xe5\244\xb1\350\xb4\xa5"); goto hCv9K; TXVr0: load()->func("\146\x69\x6c\145"); goto nYX5K; KwdGO: if (is_file($font_file)) { goto Qs3cB; } goto ugaKl; AQIFz: imagefttext($background, 15, 0, 10, 610, $red, $font_file, "\357\277\xa5" . $good_info["\x6d\141\162\x6b\145\164\x70\162\151\143\x65"] . "\xe5\205\203"); goto wFPbH; gQOSl: Ks62r: goto uiEfc; WyVcL: $errorCorrectionLevel = "\114"; goto OjLGQ; xFWZx: load()->func("\x66\x69\154\x65"); goto W0HAB; Ev0yp: lrwOP: goto DaI0p; ImbsX: $bg_w = 450; goto wEp2V; KpDt2: $good_info = $this->GoodsModel->getOne(["\x69\x64" => $good_id], ["\147\157\x6f\144\x73\156\141\155\145", "\x6d\141\x72\x6b\145\164\x70\x72\151\143\x65", "\x74\150\165\155\142", "\165\x70\x64\x61\x74\145\x5f\x74\151\155\x65"]); goto IWYor; LOGm0: CIus2: goto KBo5z; EMeWl: $resource = imagecreatefromstring(file_get_contents($dst_path)); goto Y2C_k; u5y_h: if (strpos($good_info["\164\x68\x75\x6d\x62"], "\x68\164\164\160") === false) { goto Ks62r; } goto tLe5L; FWaS3: $i++; goto AHYHR; ZyLnj: S_8aZ: goto DEgTE; Xp8ZB: if (!($i < 5)) { goto lrwOP; } goto Z3vNA; hIPa4: GRkXr: goto ky6OM; OlSUo: $i = 0; goto woDdW; wEp2V: $bg_h = 650; goto HFBmu; xAmBy: STZb_: goto AQIFz; FSCd8: zDqw5: goto Y3Xob; Gvyod: $path = IA_ROOT . $dir; goto Xf90p; IDqK1: $resource = imagecreatefromstring(file_get_contents($dst_path)); goto PQsty; Xf90p: $filename = "\160\x6f\163\164\x65\162\55" . $this->uid . "\x5f" . $good_id . "\137" . $good_info["\x75\x70\x64\x61\x74\x65\x5f\164\x69\155\x65"] . "\56\x6a\160\147"; goto XUEpv; ajKeH: if (!is_file($poster)) { goto FTKIT; } goto mU0O4; LWrx5: $this->ajaxReturn(300, "\350\xaf\267\xe6\202\250\345\x9c\xa8\345\xbe\256\344\277\241\xe7\253\257\xe7\x99\xbb\xe5\275\x95"); goto ZyLnj; NYJNn: FTKIT: goto TXVr0; DEgTE: $good_id = (int) $_GET["\147\x6f\157\x64\163\137\x69\144"]; goto KpDt2; h7nG9: $black = imagecolorallocate($background, 0, 0, 0); goto kw386; BMtP7: $red = imagecolorallocate($background, 255, 0, 0); goto h7nG9; ArQ7b: goto lrwOP; goto hIPa4; IWYor: if ($good_info) { goto zDqw5; } goto udd2A; ZJ6CR: if (is_file($font_file)) { goto v9rG1; } goto vwlpN; DaI0p: foreach ($new_name as $key => $value) { imagefttext($background, 13, 0, 10, 490 + $key * 23, $black, $font_file, $value); SSuLb: } goto xAmBy; eRQMk: $this->ajaxReturn(104, "\xe5\225\206\xe5\223\201\xe6\265\267\346\x8a\xa5\xe4\xb8\x8d\xe5\255\230\345\x9c\xa8"); goto RuLgf; mU0O4: $this->ajaxReturn(0, '', $dir . $filename); goto NYJNn; X80PP: imagefill($background, 0, 0, $color); goto EjwXB; lKWZG: $color = imagecolorallocate($background, 255, 255, 255); goto X80PP; ZzJD6: goto EFeDQ; goto gQOSl; gzz1G: imagejpeg($background, $poster); goto nEjjG; DLg1G: v9rG1: goto mpaCK; xcnfJ: $font_file = IA_ROOT . "\x2f\141\x64\x64\x6f\156\x73\57\x77\147\137\x66\x65\x6e\170\x69\141\157\x2f\x72\145\x63\x6f\165\163\x65\x2f\146\157\156\164\x2f\155\x73\171\150\x2e\x74\164\146"; goto KwdGO; Y3Xob: $dir = "\x2f\141\144\x64\157\156\163\x2f\x77\x67\137\146\x65\156\170\x69\141\157\57\144\x61\x74\x61\57\x69\155\x61\147\x65\163\57" . $this->W["\165\156\x69\x61\143\x69\144"] . "\x2f" . substr($this->userInfo["\x6f\160\x65\x6e\x69\x64"], 0, 2) . "\57"; goto Gvyod; HFBmu: $background = imagecreatetruecolor($bg_w, $bg_h); goto lKWZG; H21Et: QRcode::png($value, $qrcode, $errorCorrectionLevel, $matrixPointSize, 1); goto HENks; tMVkB: imagecopyresized($background, $resource, 0, 0, 0, 0, 450, 450, imagesx($resource), imagesy($resource)); goto l1N5O; AHYHR: goto PKNUU; goto Ev0yp; kw386: $name = $good_info["\147\x6f\x6f\144\x73\156\141\155\145"]; goto CJRbr; nEjjG: imagedestroy($background); goto UXZkN; AeZ3B: $value = $this->W["\x73\x69\x74\145\162\x6f\157\164"] . "\141\x70\x70" . ltrim($this->createMobileUrl("\x67\x6f\x6f\144\x73", ["\x67\157\x6f\144\x73\137\x69\x64" => $good_id, "\x66\x72\157\155\x66\x75\151\144" => $this->uid]), "\x2e"); goto WyVcL; PQsty: imagecopyresized($background, $resource, 310, 470, 0, 0, 130, 130, imagesx($resource), imagesy($resource)); goto xcnfJ; Z3vNA: $new_name[$i] .= mb_substr($name, $i * $length, $length, "\165\164\146\x2d\70"); goto Cgdae; OjLGQ: $matrixPointSize = 3; goto H21Et; Cgdae: if (!(mb_strlen($new_name[$i], "\x75\164\146\55\x38") < $length)) { goto GRkXr; } goto ArQ7b; RuLgf: LvEy8: goto tMVkB; hCv9K: vgXnM: goto ImbsX; EjwXB: imageColorTransparent($background, $color); goto u5y_h; ugaKl: $font_file = IA_ROOT . "\x2f\x61\x64\144\157\156\163\x2f\x77\x67\137\146\145\156\x78\151\x61\x6f\57\x72\145\x63\157\165\x73\145\57\x66\x6f\156\x74\163\x2f\x6d\x73\x79\150\56\x74\164\146"; goto ZJ6CR; udd2A: $this->ajaxReturn(102, "\345\x95\206\xe5\223\201\344\270\215\xe5\xad\230\xe5\x9c\250"); goto FSCd8; mpaCK: Qs3cB: goto BMtP7; CJRbr: $count = $j = 0; goto CRTCm; woDdW: PKNUU: goto Xp8ZB; nYX5K: $qrcode = $path . "\160\157\163\x74\x65\x72\x2d" . $this->uid . "\x5f" . $good_id . "\55\x71\162\56\x6a\160\x67"; goto sNOPf; XUEpv: $poster = $path . $filename; goto ajKeH; vwlpN: $this->ajaxReturn(105, "\xe5\xad\227\344\xbd\223\346\x96\207\344\xbb\xb6\xe4\270\215\345\xad\x98\xe5\234\xa8"); goto DLg1G; Y2C_k: if ($resource) { goto LvEy8; } goto eRQMk; l1N5O: $dst_path = $qrcode; goto IDqK1; sNOPf: if (is_dir($path)) { goto CIus2; } goto xFWZx; KBo5z: include_once "\x70\x68\160\x71\x72\x63\157\144\x65\x2e\160\150\160"; goto AeZ3B; R6Tv2: EFeDQ: goto EMeWl; ujdnJ: $length = 19; goto OlSUo; uiEfc: $dst_path = $this->W["\x61\x74\x74\x61\143\x68\165\162\154"] . $good_info["\x74\x68\x75\155\x62"]; goto R6Tv2; tLe5L: $dst_path = $good_info["\164\x68\x75\155\x62"]; goto ZzJD6; ky6OM: ZFOJD: goto FWaS3; HENks: if (is_file($qrcode)) { goto vgXnM; } goto n9tZl; UXZkN: $this->ajaxReturn(0, '', $dir . $filename); goto jByw9; Qizj1: if ($this->uid) { goto S_8aZ; } goto LWrx5; jByw9: } }