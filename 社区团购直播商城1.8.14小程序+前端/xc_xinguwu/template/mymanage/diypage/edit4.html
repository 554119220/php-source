<!DOCTYPE html>
<html lang="en">
<head>
    {template 'common/edithead'}
    <!--微擎 -->
    <!--这个放在最后一切平白安全-->

    <script src="https://cdn.staticfile.org/bootstrap-slider/10.0.2/bootstrap-slider.min.js"></script>
    <link href="https://cdn.staticfile.org/bootstrap-slider/10.0.2/css/bootstrap-slider.min.css" rel="stylesheet">
    <script src="https://cdn.staticfile.org/vue/2.5.17-beta.0/vue.min.js"></script>
    <script src="https://cdn.staticfile.org/Sortable/1.6.0/Sortable.min.js"></script>
    <script src="https://cdn.staticfile.org/Vue.Draggable/15.0.0/vuedraggable.min.js"></script>

    <link href="https://cdn.staticfile.org/bootstrap-colorpicker/2.5.1/css/bootstrap-colorpicker.min.css" rel="stylesheet">
    <script src="https://cdn.staticfile.org/bootstrap-colorpicker/2.5.2/js/bootstrap-colorpicker.min.js"></script>
    <script src="https://cdn.staticfile.org/blueimp-JavaScript-Templates/3.11.0/js/tmpl.min.js"></script>
    <script type="text/javascript" src="./resource/js/require.js?v=20170915"></script>
    <script type="text/javascript">
        //编辑器里使用
        var urobj = [];
    </script>

    <style type="text/css">
        /*左边样式*/
        .left-menu {
            position: fixed;
            left: 0;
            top: 0;
            height: 100%;
            width: 300px;
            border: 1px solid #CCD5DB;
            z-index: 1;
        }

        .xheader {
            display: flex;
        }

        .xhead {
            width: 49.9%;
            height: 60px;
            display: flex;
            align-items: center;
            position: relative;
        }

        .triangle {
            width: 0;
            height: 0;
            border-left: 10px solid transparent;
            border-bottom: 8px solid #3091F2;
            border-right: 10px solid transparent;
            position: absolute;
            bottom: 0;
            left: 45%;
            display: none;
        }

        .triangleShow {
            display: block;
        }

        .select {
            border-bottom: 4px solid #3091F2;
            color: #3091F2;
        }

        .xhead i {
            margin-left: 30px;
            margin-right: 20px;
        }

        .list {
            display: none;
        }

        .all-child {
            display: flex;
            flex-wrap: wrap;
            border-top: 1px solid #CCD5DB;;
        }

        .child {
            width: 99.3px;
            text-align: center;
            height: 99.3px;
            border-right: 1px solid #DCDCDC;
            border-bottom: 1px solid #DCDCDC;
            position: relative;
            background-color: rgb(255, 255, 255);
            color: #666 !important;
            cursor: pointer;
        }

        .child i {
            margin: 0 auto;
            margin-top: 30px;
        }

        a {
            text-decoration: none;
            color: #666 !important;
        }

        .all-child .mask {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: #E9EEFA;
            opacity: 0;
            display: block;
        }

        .all-child .mask:hover {
            opacity: 0.7;
        }

        /*中间样式*/
        /*可拖动样式*/
        .box-shadow {
            border: 1px solid #999;
            width: 320px;
            position: absolute;
            right: 30px;
            top: 20px;

            box-shadow: 2px 2px 2px #888888;
            /*padding-bottom: 30px;*/
            z-index: 2;
        }

        .divWrap {
            background: #FAFAFA;
        }

        .wrap-head {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: #fff;
            cursor: move;
            -moz-user-select: none;
            -webkit-user-select: none;
        }

        .move {
            height: 40px;
            line-height: 40px;
            color: #7B7B7B;
            width: 50%;
            text-align: center;
        }

        .move-select {
            color: #3091F2;
            display: block;
        }

        .navWrap {
            width: 100%;
            display: flex;
            background: #FAFAFA;
        }

        .nav {
            width: 33.3%;
            text-align: center;
            height: 40px;
            line-height: 40px;
            color: #76838F;
        }

        .nav:hover {
            border-bottom: 2px solid #3091F2;
            color: #3091F2;
        }

        .inputName {
            width: 90%;
            margin: 0 auto;
            color: #A9A9A9;
            margin-top: 10px;
        }

        .inputName-title {
            display: flex;
            justify-content: space-between;
        }

        .inputName-title div:nth-child(2) {
            color: #BEBEBE;
        }

        .inputName input {
            width: 100%;
            height: 30px;
            line-height: 30px;
            margin-top: 5px;
            padding-left: 10px;
            border: 1px solid #CCD5DB;
        }

        /*字体*/
        .font {
            width: 90%;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 15px;
        }

        /*字号*/
        .font-size {
            width: 90%;
            margin: 0 auto;
            margin-top: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .cho-size {
            display: flex;
            width: 45%;
        }

        .font-size input {
            width: 40%;
            border: 1px solid #CCD5DB;
            text-align: center;
        }

        .font-size .pull-down {
            position: relative;
            height: 34px;
            width: 60%;
        }

        .font-size .addbtn, .font-size .addbtn1 {
            margin: 0px;

        }

        .f-select {
            width: 100%;
        }

        .my-add-btn {

        }

        /*.input-group-addon, .input-group-btn, .input-group .form-control {*/
        /*display: flex;*/
        /*}*/

        /*字体特效*/
        .rows {
            display: flex;
            width: 90%;
            margin: 0 auto;
            justify-content: space-between;
            margin-top: 10px;
        }

        .my-btn, .my-btn1 {
            height: 35px;
            border: none;
            margin-right: 2px;
            background: #fff;
            border-radius: 5px;
        }

        .style {
            background: #3091F2;
            color: #fff;
            border-radius: 5px;
        }

        .all-button {
            display: flex;
        }

        .all-button button {
            width: 40px;
            border-radius: 5px;
        }

        .all-button i {
            margin: 0 auto;
        }

        .link {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 0 auto;
            margin-top: 10px;
            width: 90%;
            background: #F7FAFC;
        }

        .link div:nth-child(2) {
            width: 70%;
            background: #EBF3FA;
            color: #C0B9CC;
            height: 40px;
            line-height: 40px;
            padding: 0 10px;
        }

        /*规模*/
        .scale {
            display: flex;
            width: 90%;
            margin: 0 auto;
            margin-top: 30px;
            justify-content: space-between;
            align-items: center;
        }

        .slide {
            display: flex;
            width: 40%;
            align-items: center;
        }

        .slide input {
            width: 60%;
            height: 30px;
            margin-left: 5px;
            border: 1px solid #CCD5DB;
            padding-left: 10px;
        }

        .slips {
            display: flex;
            width: 180px;
            justify-content: space-between;
            align-items: center;
        }

        .slips input {
            width: 60px;
            border: 1px solid #CCD5DB;
            text-align: center;
            height: 30px;
        }

        /*边框样式*/
        .border {
            height: 50px;
            line-height: 50px;
            background: #eee;
            font-size: 14px;
            font-weight: 600;
            margin-top: 10px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding-right: 20px;
        }

        .border-name {
            margin-left: 15px;
        }

        .border:hover {
            background: #3091F2;
            color: #fff;
        }

        .border div i {
            position: absolute;
            right: -10px;

        }

        .border-style {
            display: flex;
            justify-content: space-between;
            line-height: 30px;
            width: 90%;
            margin: 0 auto;
        }

        .pull-down {
            width: 60%;
            height: 30px;
            line-height: 30px;
            border: 1px solid #CCD5DB;
            position: relative;
        }

        .pull-down i {
            position: absolute;
            right: -10px;
            top: 8px;
        }

        /*select {*/
        /*border: 0;*/
        /*outline: none;*/
        /*width: 100%;*/
        /*!*height: 95% !important;*!*/
        /*appearance: none;*/
        /*-webkit-appearance: none;*/
        /*-moz-appearance: none;*/
        /*padding-left: 10px;*/
        /*}*/

        /*边框颜色*/
        .border-color {
            width: 90%;
            margin: 0 auto;
            margin-top: 5px;
        }

        .choose-color {
            width: 240px;
            display: flex;
            margin-top: 10px;
        }

        /*.choose-color input {*/
        /*width: 100px;*/
        /*margin-left: 10px;*/
        /*}*/

        .mypicker {
            width: 115px;
            padding: 0;
            line-height: 30px;
            padding-left: 10px;
        }

        .mypicker i {
            width: 10px;
            margin-left: 10px;
            margin-right: 10px;
        }

        .colorclean {

        }

        /*边框尺寸*/
        .border-size {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 90%;
            margin: 0 auto;
            margin-top: 10px;
            overflow: hidden;

        }

        .my-sp {

            padding: 6px 16px;
            font-size: 14px;
            font-weight: normal;
            line-height: 1;
            color: #555;
            text-align: center;
            background-color: #eee;
            border: 1px solid #ccc;
            border-radius: 4px;

        }

        .slip {
            display: flex;
            width: 170px;
            justify-content: space-between;
            align-items: center;
        }

        .slip input {
            width: 50px;
            border: 1px solid #CCD5DB;
            text-align: center;
        }

        .slider.slider-horizontal {
            width: 100px;
            cursor: pointer;
        }

        /*链接*/
        .shadow {
            width: 100%;
            height: 100%;
            background: #555555;
            opacity: 0.4;
            position: fixed;
            left: 0;
            top: 0;
            z-index: 4;
        }

        .all-link {
            position: fixed;
            left: 30%;
            top: 20%;
            width: 40%;
            height: 50%;
            border: 1px solid #7D7E80;
            z-index: 5;
            background: #fff;
        }

        .big-link {
            position: fixed;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            z-index: 5;
            background: #fff;
        }

        .link-title {
            height: 40px;
            line-height: 40px;
            display: flex;
            justify-content: space-between;
            background: #F8F8F8;
            padding: 0 20px;
        }

        .link-title div:nth-child(2) {
            width: 80px;
            display: flex;
            align-items: center;
        }

        .link-title div:nth-child(2) i {

            margin-left: 20px;

        }

        .link-title i:hover {
            color: #6A6A74;
        }

        .link-list {
            width: 90%;
            margin-left: 5.5%;
            display: flex;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .link-list div {
            width: 19%;
            height: 40px;
            line-height: 40px;
            border: 1px solid #E8E8E8;
            margin-right: 1%;
            color: #7B7B7B;
            border-radius: 3px;
            text-align: center;
            margin-bottom: 10px;
            cursor: pointer;
        }

        .link-list div:hover {
            background: #F1F1F1;
        }

        #ex1Slider .slider-selection {
            background: #BABABA;
            /*background-repeat: repeat-y;*/
            /*background-repeat:repeat-x;*/
            /*background-repeat:no-repeat;*/
            /*background-repeat:repeat;*/
            /*background-repeat: round;     //    拉抻*/

        }

        .center-menu {

            margin-left: 300px;
            margin-right: 300px;
        }

        #phone-component {
            margin-top: 5%;
            border: 1px solid #cccccc;
            margin-left: auto;
            margin-right: auto;
            width: 330px;
            height: 553px;
            box-shadow: rgb(213, 214, 220) 14px 14px 20px 0px;;
            box-sizing: border-box;
            overflow-x: hidden;
            overflow-y: scroll;
            padding: 2px;
        }

        #phone-component::-webkit-scrollbar { /*滚动条整体样式*/
            width: 2px; /*高宽分别对应横竖滚动条的尺寸*/
            height: 1px;
        }

        #phone-component::-webkit-scrollbar-thumb { /*滚动条里面小方块*/
            border-radius: 10px;
            -webkit-box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);
            background: #535353;
        }

        #phone-component::-webkit-scrollbar-track { /*滚动条里面轨道*/
            -webkit-box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            background: #EDEDED;
        }

        #phone-component .unit {
            font-size: 11px;
            color: #666666;

        }

        .unit {
            position: relative;
            border: none;
            cursor: pointer;
        }

        .unit .toolbtn {
            color: #37a1ec;
            border: solid 1px #37a1ec;
            width: 15px;
            height: 15px;
            display: inline-block;
            text-align: center;
            line-height: 15px;
            background-color: white;
        }

        .toolgroup {
            position: absolute;
            top: 1px;
            right: 1px;
            display: none;
        }

        .unit:hover .toolgroup, .unit.active .toolgroup {
            display: block;

        }

        .unit > .point {
            position: absolute;
            width: 5px;
            height: 5px;
            border: 1px solid #3091F2;
            background-color: #fff;

            display: none;
        }

        .unit:hover, .unit.active {
            border: solid 1px #37a1ec;
        }

        .unit:hover > .point, .unit.active > .point {
            display: block;;
        }

        .unit:hover > .del, .unit.active > .del {
            display: block;;
        }

        .unit > .point:nth-of-type(1) {
            top: -2px;
            left: -3px;
        }

        .unit > .point:nth-of-type(2) {
            top: calc(50% - 3px);
            left: -3px;
        }

        .unit > .point:nth-of-type(3) {
            bottom: -2px;
            left: -3px;
        }

        .unit > .point:nth-of-type(4) {
            bottom: -2px;
            left: calc(50% - 3px);
        }

        .unit > .point:nth-of-type(5) {
            bottom: -2px;
            right: -3px;
        }

        .unit > .point:nth-of-type(6) {
            top: calc(50% - 3px);
            right: -3px;
        }

        .unit > .point:nth-of-type(7) {
            top: -2px;
            right: -3px;
        }

        .unit > .point:nth-of-type(8) {
            top: -2px;
            left: calc(50% - 3px);
        }

        .xccheck {
            display: none;
        }

        .xccheck + label {
            background-color: white;
            border-radius: 5px;
            border: 1px solid #d3d3d3;
            width: 20px;
            height: 20px;
            display: inline-block;
            text-align: center;
            vertical-align: middle;
            line-height: 20px;
        }

        .xccheck:checked + label {
            background-color: #eee;
        }

        .xccheck:checked + label:after {
            content: "\2714";
        }

        #leftcontents {

            max-height: 750px;
            overflow-y: scroll;
            padding-bottom: 20px;

        }

        #leftcontents::-webkit-scrollbar { /*滚动条整体样式*/
            width: 2px; /*高宽分别对应横竖滚动条的尺寸*/
            height: 1px;
        }

        #leftcontents::-webkit-scrollbar-thumb { /*滚动条里面小方块*/
            border-radius: 10px;
            -webkit-box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);
            background: #535353;
        }

        #leftcontents::-webkit-scrollbar-track { /*滚动条里面轨道*/
            -webkit-box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            background: #EDEDED;
        }

        /*.optemplate {*/

        /*display: none;*/
        /*}*/

        .xc_btn {

            display: block;
            padding: 1px 10px;
            margin-bottom: 0;
            font-size: 14px;
            font-weight: normal;
            line-height: 1;
            text-align: center;
            white-space: nowrap;
            vertical-align: middle;
            -ms-touch-action: manipulation;
            touch-action: manipulation;
            cursor: pointer;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            background-image: none;
            border: 1px solid transparent;
            /*border-radius: 4px;*/
            background-color: #fff;
            margin-top: 1px;

        }

        .input-group-addon.input-group-addon_xc {
            padding: 1px 1px;
        }

        #opcentcore .selected {

            background-color: #3091F2;
            color: #ffffff;

        }

        input.slider {

            text-align: center;
            border: 1px solid #CCD5DB;
            height: 30px;
            line-height: 30px;
        }

        .nonepading {

            padding: 0px;
        }

        .mleft15 {

            margin-left: 15px;
        }

        #opcentcore .input-group {

            overflow: hidden;
        }
    </style>

    <style type="text/css">
        #phone-component .img_num {

            overflow: hidden;
        }

        #phone-component .img_num img {

            border: none;
            padding: 0px;
            margin: 0px;
            width: 100%;
            height: 100%;

        }

        #phone-component .img_num_col_1 {

            clear: both;
        }

        #phone-component .img_num_col_1 .img_num:nth-last-child(2) {

            margin-bottom: 0px;

        }

        #phone-component .img_num_col_1 .imgdiv {

            width: 100%;
            float: left;
        }

        #phone-component .img_num_col_2 {

        }

        #phone-component .img_num_col_2 .imgdiv {
            width: 50%;
            float: left;
        }

        #phone-component .img_num_col_3 {

        }

        #phone-component .img_num_col_3 .imgdiv {
            width: 33.33%;
            float: left;
        }

        #phone-component .img_num_col_4 {

        }

        #phone-component .img_num_col_4 .imgdiv {
            width: 25%;
            float: left;
        }

        #phone-component .img_num_mofu_3 {

            height: 300px;
        }

        #phone-component .img_num_mofu_3 img:nth-of-type(1) {
            width: 50%;
            height: 100%;
            float: left;
        }

        #phone-component .img_num_mofu_3 img:nth-of-type(2) {
            width: 50%;
            height: 50%;
            float: left;
        }

        #phone-component .img_num_mofu_3 img:nth-of-type(3) {
            width: 50%;
            height: 50%;
            float: left;
        }

        #phone-component .img_num_mofu_4 {
            height: 300px;
        }

        #phone-component .img_num_mofu_4 img:nth-of-type(1) {
            width: 50%;
            height: 100%;
            float: left;
        }

        #phone-component .img_num_mofu_4 img:nth-of-type(2) {
            width: 50%;
            height: 33.3%;
            float: left;
        }

        #phone-component .img_num_mofu_4 img:nth-of-type(3) {
            width: 50%;
            height: 33.3%;
            float: left;
        }

        #phone-component .img_num_mofu_4 img:nth-of-type(4) {
            width: 50%;
            height: 33.4%;
            float: left;
        }

        #phone-component .xcnoce {
            line-height: 25px;
            height: 25px;
        }

        .xc_diy_page .delico {
            position: absolute;
            top: -10px;
            right: 0px;
            width: 20px;
            height: 20px;
            color: #fff;
            background: rgba(0, 0, 0, 0.3);
            text-align: center;
            line-height: 20px;
            cursor: pointer;
            border-radius: 100%;
        }

        .unitimg {

            background-color: #eeeeee;
            width: 98%;
            padding: 5px;
            padding-top: 15px;
            margin-left: auto;
            margin-right: auto;
            margin-bottom: 10px;
            margin-top: 20px;

            position: relative;
        }

        .xmodellist {

            width: 98%;
            margin-left: auto;
            margin-right: auto;
            border: solid 1px #dddddd;
            padding: 5px;

        }

        .fullbtn {
            width: 100%;
            border-style: dashed;

        }

        /*.selectedborder {*/
        /*border: #3091F2 1px solid;*/
        /*}*/

        .oneselect li {
            width: 70px;
            float: left;
            cursor: pointer;
            border: 1px solid #cccccc;
            /*//  margin-right: 5px;*/
            margin-left: 5px;
            margin-bottom: 5px;
        }

        .img_num_mofutucid li {
            width: 98px;
            float: left;
            cursor: pointer;
            border: 1px solid #cccccc;
            /*//  margin-right: 5px;*/
            margin-left: 5px;
            margin-bottom: 5px;
        }

        .oneselect li.selectedborder {
            border: #3091F2 1px solid;

        }

        .imgdivv2 {
            float: left;
        }

        #opcentcore .assemblytitle {

            text-align: center;

        }
    </style>

</head>
<body class="nav-md" style="min-width: 800px">
<div style="display: none">
    <div id="unitimg">
        <div class="unitimg xmodel">

            <div class="delico"><i class="fa fa-times"></i></div>
            <div class="input-group ">
                <span class="input-group-addon"> 图片</span>
                <input type="text" value="" class="form-control  chageinput "
                       autocomplete="off" data-field="imgurl" data-type="image">
                <span class="input-group-btn">
				<button class="btn btn-default" type="button" onclick="showImageDialog(this);">选择图片</button>
			</span>
            </div>
            <div class="input-group " style="margin-top:.5em;">
                <img src="./resource/images/nopic.jpg"
                     onerror="this.src='./resource/images/nopic.jpg'; this.title='图片未找到.'"
                     class="img-responsive img-thumbnail" width="150"/>
                <em class="close" style="position:absolute; top: 0px; right: -14px;"
                    title="删除这张图片" onclick="deleteImage(this)">×</em>
            </div>
            <!--结束-->

            <div>
                <div class="input-group ">
                    <span class="input-group-addon"> app-id</span>
                    <input type="text" data-field="appid" class="form-control chageinput"
                           autocomplete="off">

                </div>
                <div class="input-group ">
                    <input type="text" data-field="path" value="" class="form-control chageinput"
                           autocomplete="off">
                    <span class="input-group-btn">
				<button class="btn btn-default xlink" type="button">选择链接</button>
			</span>
                </div>

            </div>

        </div>
    </div>
    <script type="text/x-tmpl" id="unitimgdata">
    {% for (var i=0; i<o.imgslist.length; i++) { %}
     <div class="unitimg xmodel">
            <div class="delico"><i class="fa fa-times"></i></div>
            <div class="input-group ">
                <span class="input-group-addon"> 图片</span>
                <input type="text" value="{%=o.imgslist[i].imgurl%}" class="form-control  chageinput "
                       autocomplete="off" data-field="imgurl" data-type="image">
                <span class="input-group-btn">
				<button class="btn btn-default" type="button" onclick="showImageDialog(this);">选择图片</button>
			</span>
            </div>
            <div class="input-group " style="margin-top:.5em;">
                <img src="{%=o.imgslist[i].imgurl2%}"
                     onerror="this.src='./resource/images/nopic.jpg'; this.title='图片未找到.'"
                     class="img-responsive img-thumbnail" width="150"/>
                <em class="close" style="position:absolute; top: 0px; right: -14px;"
                    title="删除这张图片" onclick="deleteImage(this)">×</em>
            </div>
            <!--结束-->
            <div>
                <div class="input-group ">
                    <span class="input-group-addon"> app-id</span>
                    <input type="text" data-field="appid" class="form-control chageinput"
                           autocomplete="off" value="{%=o.imgslist[i].appid%}" >
                </div>
                <div class="input-group ">
                    <input type="text" data-field="path" value="{%=o.imgslist[i].path%}" class="form-control chageinput"
                           autocomplete="off">
                    <span class="input-group-btn">
				<button class="btn btn-default xlink" type="button">选择链接</button>
			</span>
                </div>
            </div>
        </div>
    {% } %}




    </script>


    <script type="text/x-tmpl" id="unitnotice">
    {% for (var i=0; i<o.modellist.length; i++) { %}
        <div class="unitimg xmodel">
                                            <div class="delico"><i class="fa fa-times"></i></div>
                                            <!--结束-->
                                            <div>

                                                <div class="input-group ">
                                                    <span class="input-group-addon">内容</span>
                                                    <input type="text" data-field="title" class="form-control chageinput" autocomplete="off" value="{%=o.modellist[i].title%}">
                                                </div>


                                                <div class="input-group ">
                                                    <span class="input-group-addon"> app-id</span>
                                                    <input type="text" data-field="appid" class="form-control chageinput" autocomplete="off" value="{%=o.modellist[i].appid%}">
                                                </div>
                                                <div class="input-group ">
                                                    <input type="text" data-field="path" value="{%=o.modellist[i].path%}" class="form-control chageinput" autocomplete="off">
                                                    <span class="input-group-btn">
				<button class="btn btn-default xlink" type="button">选择链接</button>
			</span>
                                                </div>
                                            </div>
                                        </div>
    {% } %}




    </script>

    <!--公用部分-->
    <script type="text/javascript">


        function getxcbasiurl($seackkey) {
            var $_seackkey = "/web/";
            if ($seackkey) {
                $_seackkey = $seackkey;
            }
            $fullurl = location.href;
            $fullurl = $fullurl.substring(0, $fullurl.indexOf($_seackkey));
            return $fullurl;
        }
        basiurljs = getxcbasiurl();
        var basicimgurl = "{php echo tomedia('c')}";
        basicimgurl = basicimgurl.substring(0, basicimgurl.length - 1);
        function add_xc_html_tepalte($data, ojb) {
            $(ojb).before($($data).html());
            $_fun = $(ojb).closest("form").attr("data-fun");
            $(this).parent().remove();
            eval($_fun);
        }

        function xc_templates_imglist($imgslist, $num, $del) {
            for (var i = 0; i < $imgslist.length; i++) {
                if ($imgslist[i]["imgurl"].indexOf("http") === -1) {
                    $imgslist[i]["imgurl2"] = basicimgurl + $imgslist[i]["imgurl"];
                }
                else {
                    $imgslist[i]["imgurl2"] = $imgslist[i]["imgurl"];
                }
            }

            if ($num) {
                if ($imgslist.length > $num) {

                    $imgslist = $imgslist(0, $num);
                }
                else if ($imgslist.length < $num) {

                    for (var i = $imgslist.length; i < $num; i++) {
                        $imgslist.push({imgurl2: "", app: "", path: ""})
                    }
                }
            }
            var _tempdata = {imgslist: $imgslist};
            _tempdata["del"] = false;
            if ($del) {
                _tempdata = $del;
            }


            var xhtml = tmpl("unitimgdata", _tempdata);
            return xhtml;
        }


        function xc_templates_notice($modelist) {

            var _tempdata = {modellist: $modelist};

            var xhtml = tmpl("unitnotice", _tempdata);
            return xhtml;
        }
    </script>

</div>

<div class="container xc_edit_from">
    <div class="main_container xc_diy_page"
         style="overflow-x: hidden;min-height: 100vh;background-color: white;width: 100%;">
        <div class="all">
            <!--左边部分-->
            <div class="left-menu">
                <div class="method">
                    <div class="xheader">
                        <div class="xhead select" style="cursor:pointer;">
                            <i class="fa fa-id-card-o" aria-hidden="true"></i>
                            <div>组件库</div>
                            <span class="triangle triangleShow"></span>
                        </div>
                        <div class="xhead" style="cursor:pointer;">
                            <i class="fa fa-id-card-o" aria-hidden="true"></i>
                            <div>布局</div>
                            <span class="triangle"></span>
                        </div>
                    </div>
                    <div>
                        <div class="list" style="display: block">
                            <div class="all-child">
                                <div class="child" data-value="xc_diy_text">
                                    <a> <i class="fa fa-id-card-o" aria-hidden="true"></i>
                                        <div>文本</div>
                                        <div class="mask"></div>
                                    </a>
                                </div>
                                <div class="child" data-value="diy_img_num_col">
                                    <a> <i class="fa fa-id-card-o" aria-hidden="true"></i>
                                        <div>图片</div>
                                        <div class="mask"></div>
                                    </a>
                                </div>
                                <div class="child" data-value="diy_img_num_mofu">
                                    <a> <i class="fa fa-id-card-o" aria-hidden="true"></i>
                                        <div>魔方</div>
                                        <div class="mask"></div>
                                    </a>
                                </div>
                                <div class="child">
                                    <a> <i class="fa fa-id-card-o" aria-hidden="true"></i>
                                        <div>轮播图</div>
                                        <div class="mask"></div>
                                    </a>
                                </div>
                                <div class="child" data-value="diy_notice">
                                    <a> <i class="fa fa-id-card-o" aria-hidden="true"></i>
                                        <div>公告</div>
                                        <div class="mask"></div>
                                    </a>
                                </div>
                                <div class="child">
                                    <a> <i class="fa fa-id-card-o" aria-hidden="true"></i>
                                        <div>视频</div>
                                        <div class="mask"></div>
                                    </a>
                                </div>
                                <div class="child">
                                    <a href=""> <i class="fa fa-id-card-o"></i>
                                        <div>轮播</div>
                                        <div class="mask"></div>
                                    </a>
                                </div>
                                <div class="child">
                                    <a> <i class="fa fa-id-card-o"></i>
                                        <div>公告</div>
                                        <div class="mask"></div>
                                    </a>
                                </div>
                                <div class="child">
                                    <a> <i class="fa fa-id-card-o"></i>
                                        <div>添加组合</div>
                                        <div class="mask"></div>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="list">
                            <div class="all-child">
                                <div class="child">
                                    <a> <i class="fa fa-id-card-o"></i>
                                        <div>双栏</div>
                                        <div class="mask"></div>
                                    </a>
                                </div>
                                <div class="child">
                                    <a> <i class="fa fa-id-card-o"></i>
                                        <div>分割线</div>
                                        <div class="mask"></div>
                                    </a>
                                </div>
                                <div class="child">
                                    <a href=""> <i class="fa fa-id-card-o"></i>
                                        <div>弹窗</div>
                                        <div class="mask"></div>
                                    </a>
                                </div>
                                <div class="child">
                                    <a href=""> <i class="fa fa-id-card-o"></i>
                                        <div>面板</div>
                                        <div class="mask"></div>
                                    </a>

                                </div>
                                <div class="child">
                                    <a href=""> <i class="fa fa-id-card-o"></i>
                                        <div>自由面板</div>
                                        <div class="mask"></div>
                                    </a>

                                </div>
                                <div class="child">
                                    <a href=""> <i class="fa fa-id-card-o"></i>
                                        <div>滑动面板</div>
                                        <div class="mask"></div>
                                    </a>

                                </div>
                                <div class="child">
                                    <a href=""> <i class="fa fa-id-card-o"></i>
                                        <div>动态分类</div>
                                        <div class="mask"></div>
                                    </a>

                                </div>

                                <div class="child">
                                    <a href="">
                                        <i class="fa fa-id-card-o"></i>
                                        <div>侧边栏</div>
                                        <div class="mask"></div>
                                    </a>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--中间部分-->
            <div class="center-menu">
                <div id="phone-component">
                    <draggable :list="modeldata" @end="endDrag">
                        <template v-for="(item,itemindex) in modeldata">
                            <div class="unit" v-bind:class="itemindex==actunit ? 'active' : ''"
                                 v-on:click="selected(itemindex)">
                                <span class="point"></span>
                                <span class="point"></span>
                                <span class="point"></span>
                                <span class="point"></span>
                                <span class="point"></span>
                                <span class="point"></span>
                                <span class="point"></span>
                                <span class="point"></span>
                                <div class="toolgroup">
                                    <a class="toolbtn" title="上移" v-on:click.stop="moveup(itemindex)"><i
                                            class="fa  fa-angle-up"></i> </a>
                                    <a class="toolbtn" title="下移" v-on:click.stop="movedown(itemindex)"> <i
                                            class="fa  fa-angle-down"></i> </a>
                                    <a class="toolbtn" title="删除" v-on:click.stop="del(itemindex)">×</a>
                                </div>
                                <template v-if="item.itype==='xc_diy_text'">
                                    <xc_diy_text v-bind:title="item.title" :style="styleraw(item.istyle)">
                                    </xc_diy_text>
                                </template>
                                <template v-else-if="item.itype==='diy_img_num_col'">
                                    <div :style="styleraw(item.istyle)" :class="item.cid">
                                        <template v-for=" imgmodel in item.imgslist">
                                            <div class="imgdiv img_num"
                                                 :style="stylerawex([item.imgstyle,imgmodel.style])">
                                                <diy_img_num_col v-bind:imgmodel="imgmodel"
                                                                 v-bind:imgtitlestyle="item.imgtitlestyle"
                                                                 :src="showurl(imgmodel.imgurl)"
                                                >
                                                </diy_img_num_col>
                                            </div>
                                        </template>
                                        <div style="clear: both;"></div>
                                    </div>
                                </template>

                                <template v-else-if="item.itype==='diy_img_num_mofu'">
                                    <div :style="styleraw(item.istyle)">
                                        <template v-for=" imgmodel in item.imgslist">
                                            <div class="imgdivv2 img_num" :style="stylerawex([imgmodel.istyle])">
                                                <diy_img_num_mofu v-bind:imgmodel="imgmodel"
                                                                  :src="showurl(imgmodel.imgurl)"
                                                >
                                                </diy_img_num_mofu>
                                            </div>
                                        </template>
                                        <div style="clear: both;"></div>
                                    </div>
                                </template>

                                <template v-else-if="item.itype==='diy_notice'">
                                    <div :style="styleraw(item.istyle)" class="xcnoce">
                                        <img :src="item.icourl" style="width: 25px; height: 25px;float: left;">
                                        <div style="width: calc(100% - 30px);float: left;">
                                            <template v-for=" xcmodel in item.noticedata">
                                                <diy_notice v-bind:xcmodel="xcmodel">
                                                </diy_notice>
                                            </template>
                                        </div>
                                    </div>
                                </template>
                                <!--<template v-if="item.itype==2">-->
                                <!--<blog-post :title="item.title" :istyle="item.cc"></blog-post>-->
                                <!--</template>-->
                            </div>
                        </template>
                    </draggable>
                </div>
            </div>
            <!--右边部分-->
            <div class="right-menu">
            </div>

            <div class="box-shadow" id="opcentcore" style="display:none">
                <div class="divWrap">
                    <div class="wrap-head">
                        <div class="move move-select " id="xcuiitle">组件设置</div>
                        <div class="move ">样式设定</div>
                    </div>
                    <div id="leftcontents">
                        <div class="divWrap-list" id="opcentcorechildss">
                            <form id="xc_diy_text" data-fun="diy_text_chage_contents('#xc_diy_text')">
                                <div class="optemplate" data-value="xc_diy_text">
                                    <h3 class="assemblytitle">文本</h3>
                                    <!--End-all-->
                                    <div class="inputName">
                                        <div class="inputName-title">
                                            <div>文本内容</div>
                                        </div>
                                        <input type="text" name="title" class="onedata" placeholder="请输入文本内容"
                                               value="">
                                    </div>
                                    <!--字体-->
                                    <div class="font">
                                        <div>字体</div>
                                    </div>

                                    <div class="input-group  colorpicker-component xccolorpicker ">
                                        <span class="input-group-addon">字体颜色</span>
                                        <input type="text" class="form-control data_style chageinput twodata"
                                               data-field="color" data-type="color"/>
                                        <span class="input-group-addon"><i></i></span>
                                    </div>

                                    <!--字号-->
                                    <div class="font-size">
                                        <div>字号</div>
                                        <div class="cho-size">
                                            <input name="font-size" value="12" min="12" type="number">
                                            <div class="pull-down">
                                                <select name="unit" class="f-select">
                                                    <option value="rpx">rpx</option>
                                                    <option value="px">px</option>
                                                    <option value="vw">vw</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div>
                    <span class="">
                        <button type="button" class="btn btn-default addbtn">A+</button>
                        <button type="button" class="btn btn-default addbtn1">A-</button>
                    </span>
                                        </div>
                                    </div>
                                    <div class="rows op-style">
                                        <div class=" all-button font-style" role="group">
                                            <button type="button" class="my-btn" title="加粗" data-field="font-weight"
                                                    data-value="bold"><i
                                                    class="fa fa-bold icon-bold"> </i>
                                            </button>
                                            <button type="button" class="my-btn" title="斜体" data-field="font-style"
                                                    data-value="italic"><i
                                                    class="fa fa-italic icon-italic"></i></button>
                                            <button type="button" class="my-btn" title="下划线" data-field="decoration"
                                                    data-value="underline"><i
                                                    class="fa fa-underline icon-underline"></i>
                                            </button>
                                        </div>
                                        <div class=" all-button text-align" role="group">
                                            <button type="button" class="my-btn1 style" title="居左"
                                                    data-field="text-align" data-value="left"><i
                                                    class="fa fa-align-left icon-align-left"></i></button>
                                            <button type="button" class="my-btn1" title="居中" data-field="text-align"
                                                    data-value="center"><i
                                                    class="fa fa-align-center icon-align-center"></i></button>
                                            <button type="button" class="my-btn1" title="居右" data-field="text-align"
                                                    data-value="right"><i
                                                    class="fa fa-align-right icon-align-right"></i></button>
                                        </div>
                                    </div>
                                    <!--链接-->

                                    <div class="border-color">
                                        <div>链接</div>
                                        <div>

                                            <div class="input-group ">
                                                <span class="input-group-addon"> app-id</span>
                                                <input type="text" name="appid" class="form-control onedata"
                                                       autocomplete="off">

                                            </div>
                                            <div class="input-group ">
                                                <input type="text" name="path" value="" class="form-control onedata"
                                                       autocomplete="off">

                                                <span class="input-group-btn">
				<button class="btn btn-default xlink" type="button">选择链接</button>
			</span>
                                            </div>

                                        </div>
                                    </div>
                                    <!--链接结束-->
                                </div>
                                <!--样式-->
                                <div class="border">
                                    <div class="border-name">基础样式</div>
                                    <i class="fa fa-caret-down bfa"></i>
                                </div>
                                <div>


                                    <div class="input-group  colorpicker-component xccolorpicker ">
                                        <span class="input-group-addon"> 背景颜色</span>
                                        <input type="text" class="form-control data_style chageinput twodata"
                                               data-field="background-color" data-type="color"/>
                                        <span class="input-group-addon"><i></i></span>
                                    </div>

                                    <div class="input-group ">
                                        <span class="input-group-addon"> 背景尺寸</span>
                                        <input type="text" class="form-control data_style chageinput twodata"
                                               autocomplete="off"
                                               data-field="background-size" data-type="text">
                                        <!--cover-->
                                    </div>
                                    <div class="input-group ">
                                        <span class="input-group-addon"> 背景重复</span>
                                        <select class="f-select data_style twodata" data-field="background-repeat"
                                                style="height: 35px;" data-type="select">
                                            <option value="repeat">垂直方向和水平方向重复</option>
                                            <option value="no-repeat">不重复</option>
                                            <option value="repeat-x">水平方向重复</option>
                                            <option value="repeat-y">垂直方向重复</option>
                                        </select>
                                    </div>
                                    <div>

                                        <!--开始-->
                                        <script type="text/javascript">
                                            function showImageDialog(elm, opts, options) {
                                                require(["util"], function (util) {
                                                    var btn = $(elm);
                                                    var ipt = btn.parent().prev();
                                                    var val = ipt.val();
                                                    var img = ipt.parent().next().children();
                                                    options = {
                                                        'global': false,
                                                        'class_extra': '',
                                                        'direct': true,
                                                        'multiple': false,
                                                        'fileSizeLimit': 5120000
                                                    };
                                                    util.image(val, function (url) {
                                                        if (url.url) {
                                                            if (img.length > 0) {
                                                                img.get(0).src = url.url;
                                                            }
                                                            ipt.val(url.attachment);
                                                            ipt.attr("filename", url.filename);
                                                            ipt.attr("url", url.url);
                                                        }
                                                        if (url.media_id) {
                                                            if (img.length > 0) {
                                                                img.get(0).src = "";
                                                            }
                                                            ipt.val(url.media_id);
                                                        }
                                                        ipt.change();
                                                    }, options);
                                                });
                                            }
                                            function deleteImage(elm) {
                                                $(elm).prev().attr("src", "./resource/images/nopic.jpg");
                                                $(elm).parent().prev().find("input").val("");
                                            }
                                        </script>
                                        <div class="input-group ">
                                            <span class="input-group-addon"> 背景图片</span>

                                            <input type="text" value=""
                                                   class="form-control data_style chageinput twodata"
                                                   autocomplete="off" data-field="background-image" data-type="image">

                                            <span class="input-group-btn">
				<button class="btn btn-default" type="button" onclick="showImageDialog(this);">选择图片</button>
			</span>
                                        </div>
                                        <div class="input-group " style="margin-top:.5em;">
                                            <img src="./resource/images/nopic.jpg"
                                                 onerror="this.src='./resource/images/nopic.jpg'; this.title='图片未找到.'"
                                                 class="img-responsive img-thumbnail" width="150"/>
                                            <em class="close" style="position:absolute; top: 0px; right: -14px;"
                                                title="删除这张图片" onclick="deleteImage(this)">×</em>
                                        </div>
                                        <!--结束-->
                                    </div>
                                    <div class="input-group ">
                                        <span class="input-group-addon"> 透明度</span>
                                        <span class="input-group-addon">
                                    <input class="slider data_style chageinput" type="number" data-slider-value="0"
                                           min="0"
                                           max="1" step="0.01" data-slider-step="0.01" data-slider-min="0"
                                           data-slider-max="1" data-slider-tooltip="hide" data-field="opacity"
                                           data-type="noset">
                                    </span>
                                        <span class="input-group-addon input-group-addon_xc">

  <button type="button" class="xc_btn" data-value="">不设</button>
                                    </span>
                                    </div>

                                    <div class="input-group ">
                                        <span class="input-group-addon"> 宽度</span>
                                        <span class="input-group-addon nonepading">
                                    <input class="slider data_style mleft15" type="number" data-slider-value="0" min="0"
                                           max="750" step="1" data-slider-step="1" data-slider-min="0"
                                           data-slider-max="750" data-slider-tooltip="hide" data-unit="rpx"
                                           data-field="width" data-type="autoex">
                                    </span>
                                        <span class="input-group-addon input-group-addon_xc">
  <button type="button" class="xc_btn" data-value="auto">自动</button>
  <button type="button" class="xc_btn" data-value="">不设</button>
                                    </span>
                                    </div>

                                    <div class="input-group ">
                                        <span class="input-group-addon">高度</span>
                                        <span class="input-group-addon nonepading">
                                    <input class="slider data_style mleft15" type="number" data-slider-value="0" min="0"
                                           max="750" step="1" data-slider-step="1" data-slider-min="0"
                                           data-slider-max="750" data-slider-tooltip="hide" data-unit="rpx"
                                           data-field="height" data-type="autoex">
                                    </span>
                                        <span class="input-group-addon input-group-addon_xc">
  <button type="button" class="xc_btn" data-value="auto">自动</button>
  <button type="button" class="xc_btn" data-value="">不设</button>
                                    </span>
                                    </div>

                                    <div class="input-group ">
                                        <span class="input-group-addon">行高</span>
                                        <span class="input-group-addon nonepading">
                                    <input class="slider data_style mleft15" type="number" data-slider-value="0" min="0"
                                           max="750" step="1" data-slider-step="1" data-slider-min="0"
                                           data-slider-max="750" data-slider-tooltip="hide" data-unit="rpx"
                                           data-field="line-height" data-type="autoex">
                                    </span>
                                        <span class="input-group-addon input-group-addon_xc">
  <button type="button" class="xc_btn" data-value="auto">自动</button>
  <button type="button" class="xc_btn" data-value="">不设</button>
                                    </span>
                                    </div>

                                </div>
                                <!--样式结束 -->
                                <div class="border">
                                    <div class="border-name">边框样式</div>
                                    <i class="fa fa-caret-down bfa"></i>
                                </div>

                                <div>
                                    <div class="border-style">
                                        <div style="width: 90px;line-height: 45px; ">边框样式</div>
                                        <div class="choose-color">
                                            <select class="data_style chageinput twodata" data-field="border-style"
                                                    data-type="select">
                                                <option value="none">---无---</option>
                                                <option value="solid">实线</option>
                                                <option value="dashed	">虚线</option>
                                                <option value="dotted">点状边框</option>
                                                <option value="double">双划线</option>
                                                <option value="groove">3D凹槽</option>
                                                <option value="ridge">3D垄状</option>
                                                <option value="inset">3D内嵌</option>
                                                <option value="outset">3D外嵌</option>
                                                <option value="inherit">父元素继承</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="border-style" style="height: 45px;">
                                        <div style="width: 90px; line-height: 60px;">边框颜色</div>
                                        <div class="choose-color">
                                            <div class="input-group colorpicker-component xccolorpicker">
                                                <input type="text" class="form-control data_style chageinput twodata"
                                                       data-field="border-color" data-type="color"/>
                                                <span class="input-group-addon"><i></i></span>
                                            </div>

                                        </div>
                                    </div>

                                    <div class="border-size">
                                        <div class="size-title">边框线宽<br>度 px</div>
                                        <div class="slip">
                                            <input class="slider data_style chageinput"
                                                   data-field="border-width" data-unit="px" type="number"
                                                   data-slider-value="1"
                                                   data-slider-tooltip="hide" min="0" max="100" step="1"
                                                   data-slider-step="1"
                                                   data-slider-min="0" data-slider-max="100" data-type="noauto">
                                        </div>
                                    </div>


                                </div>

                                <!--样式结束-->

                            </form>

                            <form id="diy_notice" data-fun="diy_notice_chage_contents('#diy_notice')">
                                <div class="optemplate">
                                    <h3 class="assemblytitle">公告</h3>

                                    <div class="border">
                                        <div class="border-name">参数配制</div>
                                        <i class="fa fa-caret-down bfa"></i>
                                    </div>
                                    <div>
                                        <div class="input-group " style="border: 1px solid #e7e7eb; height: 35px;">
                                            <span class="input-group-addon">滚动方式</span>
                                            <label style="padding-left: 5px; margin-right: 5px; padding-right: 10px;padding-top: 5px">
                                                <input type="radio" name="rollingtype" checked="checked" value="left"
                                                       class="chageinput"> 左右
                                            </label>
                                            <label style="padding-left: 5px;margin-right: 5px;padding-top: 5px">
                                                <input type="radio" name="rollingtype" value="up" class="chageinput">上下
                                            </label>
                                        </div>


                                        <div class="input-group ">
                                            <span class="input-group-addon"> 小图标</span>

                                            <input type="text" value=""
                                                   class="form-control data_style chageinput onedata"
                                                   autocomplete="off" data-field="icourl" name="icourl"
                                                   data-type="image">

                                            <span class="input-group-btn">
				<button class="btn btn-default" type="button" onclick="showImageDialog(this);">选择图片</button>
			</span>
                                        </div>


                                        <div class="input-group " style="margin-top:.5em;">
                                            <img src="./resource/images/nopic.jpg"
                                                 onerror="this.src='./resource/images/nopic.jpg'; this.title='图片未找到.'"
                                                 class="img-responsive img-thumbnail" width="150"/>
                                            <em class="close" style="position:absolute; top: 0px; right: -14px;"
                                                title="删除这张图片" onclick="deleteImage(this)">×</em>
                                        </div>


                                        <div class="border-size">
                                            <div class="size-title">速度【秒】</div>
                                            <div class="slip">
                                                <input class="slider onedata"
                                                       data-field="interval" type="number"
                                                       data-slider-value="1"
                                                       data-slider-tooltip="hide" min="0" max="100" step="1"
                                                       data-slider-step="1"
                                                       data-slider-min="0" data-slider-max="100" data-type="interval"
                                                       name="interval">
                                            </div>
                                        </div>

                                    </div>

                                    <div class="border">
                                        <div class="border-name">内容</div>
                                        <i class="fa fa-caret-down bfa"></i>
                                    </div>
                                    <div class="xmodellist" data-field="noticedata">
                                        <!--开始-->
                                        <div class="unitimg xmodel">
                                            <div class="delico"><i class="fa fa-times"></i></div>
                                            <!--结束-->
                                            <div>
                                                <div class="input-group ">
                                                    <span class="input-group-addon">内容</span>
                                                    <input type="text" data-field="title"
                                                           class="form-control chageinput" autocomplete="off" value="">
                                                </div>


                                                <div class="input-group ">
                                                    <span class="input-group-addon"> app-id</span>
                                                    <input type="text" data-field="appid"
                                                           class="form-control chageinput" autocomplete="off" value="">
                                                </div>
                                                <div class="input-group ">
                                                    <input type="text" data-field="path" value=""
                                                           class="form-control chageinput" autocomplete="off">
                                                    <span class="input-group-btn">
				<button class="btn btn-default xlink" type="button">选择链接</button>
			</span>
                                                </div>
                                            </div>
                                        </div>


                                        <button type="button" class="btn btn-default fullbtn" onclick="copyunit(this)">
                                            增加公告
                                        </button>

                                    </div>


                                </div>

                                <!--样式-->
                                <div class="border">
                                    <div class="border-name">基础样式</div>
                                    <i class="fa fa-caret-down bfa"></i>
                                </div>
                                <div>
                                    <!--字体-->
                                    <div class="input-group  colorpicker-component xccolorpicker ">
                                        <span class="input-group-addon">字体颜色</span>
                                        <input type="text" class="form-control data_style chageinput twodata"
                                               data-field="color" data-type="color"/>
                                        <span class="input-group-addon"><i></i></span>
                                    </div>

                                    <!--字号-->
                                    <div class="font-size">
                                        <div>字号</div>
                                        <div class="cho-size">
                                            <input name="font-size" value="12" min="12" type="number">
                                            <div class="pull-down">
                                                <select name="unit" class="f-select">
                                                    <option value="rpx">rpx</option>
                                                    <option value="px">px</option>
                                                    <option value="vw">vw</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div>
                    <span class="">
                        <button type="button" class="btn btn-default addbtn">A+</button>
                        <button type="button" class="btn btn-default addbtn1">A-</button>
                    </span>
                                        </div>
                                    </div>
                                    <div class="rows op-style">
                                        <div class=" all-button font-style" role="group">
                                            <button type="button" class="my-btn" title="加粗" data-field="font-weight"
                                                    data-value="bold"><i
                                                    class="fa fa-bold icon-bold"> </i>
                                            </button>
                                            <button type="button" class="my-btn" title="斜体" data-field="font-style"
                                                    data-value="italic"><i
                                                    class="fa fa-italic icon-italic"></i></button>
                                            <button type="button" class="my-btn" title="下划线" data-field="decoration"
                                                    data-value="underline"><i
                                                    class="fa fa-underline icon-underline"></i>
                                            </button>
                                        </div>
                                        <div class=" all-button text-align" role="group">
                                            <button type="button" class="my-btn1 style" title="居左"
                                                    data-field="text-align" data-value="left"><i
                                                    class="fa fa-align-left icon-align-left"></i></button>
                                            <button type="button" class="my-btn1" title="居中" data-field="text-align"
                                                    data-value="center"><i
                                                    class="fa fa-align-center icon-align-center"></i></button>
                                            <button type="button" class="my-btn1" title="居右" data-field="text-align"
                                                    data-value="right"><i
                                                    class="fa fa-align-right icon-align-right"></i></button>
                                        </div>
                                    </div>


                                    <div class="input-group  colorpicker-component xccolorpicker ">
                                        <span class="input-group-addon"> 背景颜色</span>
                                        <input type="text" class="form-control data_style chageinput twodata"
                                               data-field="background-color" data-type="color"/>
                                        <span class="input-group-addon"><i></i></span>
                                    </div>

                                    <div class="input-group ">
                                        <span class="input-group-addon"> 背景尺寸</span>
                                        <input type="text" class="form-control data_style chageinput twodata"
                                               autocomplete="off"
                                               data-field="background-size" data-type="text">
                                        <!--cover-->
                                    </div>
                                    <div class="input-group ">
                                        <span class="input-group-addon"> 背景重复</span>
                                        <select class="f-select data_style twodata" data-field="background-repeat"
                                                style="height: 35px;" data-type="select">
                                            <option value="repeat">垂直方向和水平方向重复</option>
                                            <option value="no-repeat">不重复</option>
                                            <option value="repeat-x">水平方向重复</option>
                                            <option value="repeat-y">垂直方向重复</option>
                                        </select>
                                    </div>
                                    <div>

                                        <!--开始-->
                                        <script type="text/javascript">
                                            function showImageDialog(elm, opts, options) {
                                                require(["util"], function (util) {
                                                    var btn = $(elm);
                                                    var ipt = btn.parent().prev();
                                                    var val = ipt.val();
                                                    var img = ipt.parent().next().children();
                                                    options = {
                                                        'global': false,
                                                        'class_extra': '',
                                                        'direct': true,
                                                        'multiple': false,
                                                        'fileSizeLimit': 5120000
                                                    };
                                                    util.image(val, function (url) {
                                                        if (url.url) {
                                                            if (img.length > 0) {
                                                                img.get(0).src = url.url;
                                                            }
                                                            ipt.val(url.attachment);
                                                            ipt.attr("filename", url.filename);
                                                            ipt.attr("url", url.url);
                                                        }
                                                        if (url.media_id) {
                                                            if (img.length > 0) {
                                                                img.get(0).src = "";
                                                            }
                                                            ipt.val(url.media_id);
                                                        }
                                                        ipt.change();
                                                    }, options);
                                                });
                                            }
                                            function deleteImage(elm) {


                                                $(elm).prev().attr("src", "./resource/images/nopic.jpg");
                                                $(elm).parent().prev().find("input").val("");
                                            }
                                        </script>
                                        <div class="input-group ">
                                            <span class="input-group-addon"> 背景图片</span>

                                            <input type="text" value=""
                                                   class="form-control data_style chageinput twodata"
                                                   autocomplete="off" data-field="background-image" data-type="image">

                                            <span class="input-group-btn">
				<button class="btn btn-default" type="button" onclick="showImageDialog(this);">选择图片</button>
			</span>
                                        </div>
                                        <div class="input-group " style="margin-top:.5em;">
                                            <img src="./resource/images/nopic.jpg"
                                                 onerror="this.src='./resource/images/nopic.jpg'; this.title='图片未找到.'"
                                                 class="img-responsive img-thumbnail" width="150"/>
                                            <em class="close" style="position:absolute; top: 0px; right: -14px;"
                                                title="删除这张图片" onclick="deleteImage(this)">×</em>
                                        </div>
                                        <!--结束-->
                                    </div>
                                    <div class="input-group ">
                                        <span class="input-group-addon"> 透明度</span>
                                        <span class="input-group-addon">
                                    <input class="slider data_style chageinput" type="number" data-slider-value="0"
                                           min="0"
                                           max="1" step="0.01" data-slider-step="0.01" data-slider-min="0"
                                           data-slider-max="1" data-slider-tooltip="hide" data-field="opacity"
                                           data-type="noset">
                                    </span>
                                        <span class="input-group-addon input-group-addon_xc">

  <button type="button" class="xc_btn" data-value="">不设</button>
                                    </span>
                                    </div>

                                    <div class="input-group ">
                                        <span class="input-group-addon"> 宽度</span>
                                        <span class="input-group-addon nonepading">
                                    <input class="slider data_style mleft15" type="number" data-slider-value="0" min="0"
                                           max="750" step="1" data-slider-step="1" data-slider-min="0"
                                           data-slider-max="750" data-slider-tooltip="hide" data-unit="rpx"
                                           data-field="width" data-type="autoex">
                                    </span>
                                        <span class="input-group-addon input-group-addon_xc">
  <button type="button" class="xc_btn" data-value="auto">自动</button>
  <button type="button" class="xc_btn" data-value="">不设</button>
                                    </span>
                                    </div>

                                    <div class="input-group ">
                                        <span class="input-group-addon">高度</span>
                                        <span class="input-group-addon nonepading">
                                    <input class="slider data_style mleft15" type="number" data-slider-value="0" min="0"
                                           max="750" step="1" data-slider-step="1" data-slider-min="0"
                                           data-slider-max="750" data-slider-tooltip="hide" data-unit="rpx"
                                           data-field="height" data-type="autoex">
                                    </span>
                                        <span class="input-group-addon input-group-addon_xc">
  <button type="button" class="xc_btn" data-value="auto">自动</button>
  <button type="button" class="xc_btn" data-value="">不设</button>
                                    </span>
                                    </div>

                                    <div class="input-group ">
                                        <span class="input-group-addon">行高</span>
                                        <span class="input-group-addon nonepading">
                                    <input class="slider data_style mleft15" type="number" data-slider-value="0" min="0"
                                           max="750" step="1" data-slider-step="1" data-slider-min="0"
                                           data-slider-max="750" data-slider-tooltip="hide" data-unit="rpx"
                                           data-field="line-height" data-type="autoex">
                                    </span>
                                        <span class="input-group-addon input-group-addon_xc">
  <button type="button" class="xc_btn" data-value="auto">自动</button>
  <button type="button" class="xc_btn" data-value="">不设</button>
                                    </span>
                                    </div>

                                </div>
                                <!--样式结束 -->
                                <div class="border">
                                    <div class="border-name">边框样式</div>
                                    <i class="fa fa-caret-down bfa"></i>
                                </div>

                                <div>
                                    <div class="border-style">
                                        <div style="width: 90px;line-height: 45px; ">边框样式</div>
                                        <div class="choose-color">
                                            <select class="data_style chageinput twodata" data-field="border-style"
                                                    data-type="select">
                                                <option value="none">---无---</option>
                                                <option value="solid">实线</option>
                                                <option value="dashed	">虚线</option>
                                                <option value="dotted">点状边框</option>
                                                <option value="double">双划线</option>
                                                <option value="groove">3D凹槽</option>
                                                <option value="ridge">3D垄状</option>
                                                <option value="inset">3D内嵌</option>
                                                <option value="outset">3D外嵌</option>
                                                <option value="inherit">父元素继承</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="border-style" style="height: 45px;">
                                        <div style="width: 90px; line-height: 60px;">边框颜色</div>
                                        <div class="choose-color">
                                            <div class="input-group colorpicker-component xccolorpicker">
                                                <input type="text" class="form-control data_style chageinput twodata"
                                                       data-field="border-color" data-type="color"/>
                                                <span class="input-group-addon"><i></i></span>
                                            </div>

                                        </div>
                                    </div>

                                    <div class="border-size">
                                        <div class="size-title">边框线宽<br>度 px</div>
                                        <div class="slip">
                                            <input class="slider data_style chageinput"
                                                   data-field="border-width" data-unit="px" type="number"
                                                   data-slider-value="1"
                                                   data-slider-tooltip="hide" min="0" max="100" step="1"
                                                   data-slider-step="1"
                                                   data-slider-min="0" data-slider-max="100" data-type="noauto">
                                        </div>
                                    </div>


                                </div>

                                <!--样式结束-->
                            </form>
                            <form id="diy_img_num_col" data-fun="diy_img_num_col_chage_contents('#diy_img_num_col')">
                                <div class="optemplate">

                                    <h3 class="assemblytitle">图片列表</h3>
                                    <!--End-all-->
                                    <div class="border">
                                        <div class="border-name">图片样式</div>
                                        <i class="fa fa-caret-down bfa"></i>
                                    </div>
                                    <div>
                                        <div class="input-group">
                                            <ul class="oneselect" data-field="cid"
                                                data-fun="restdiy_img_num_col_imghegith">
                                                <li data-value="img_num_col_1" data-height="330" data-col="1"><img
                                                        src="../addons/xc_xinguwu/them/diyimg/img_num_col_1.png"
                                                        style="max-width: 100%"></li>
                                                <li data-value="img_num_col_2" data-height="375" data-col="2"><img
                                                        src="../addons/xc_xinguwu/them/diyimg/img_num_col_2.png"
                                                        style="max-width: 100%"></li>
                                                <li data-value="img_num_col_3" data-height="250" data-col="3"><img
                                                        src="../addons/xc_xinguwu/them/diyimg/img_num_col_3.png"
                                                        style="max-width: 100%"></li>
                                                <li data-value="img_num_col_4" data-height="187" data-col="4"><img
                                                        src="../addons/xc_xinguwu/them/diyimg/img_num_col_4.png"
                                                        style="max-width: 100%"></li>
                                            </ul>
                                        </div>
                                        <div class="input-group ">
                                            <span class="input-group-addon"> 圆角[rpx]</span>
                                            <span class="input-group-addon">
                                    <input class="slider img_style chageinput" type="number" data-slider-value="0"
                                           min="0"
                                           max="750" step="1" data-slider-step="1" data-slider-min="0"
                                           data-slider-max="750" data-slider-tooltip="hide" data-field="border-radius"
                                           data-type="imgstyle" data-unit="rpx">
                                    </span>
                                        </div>


                                        <div class="input-group ">
                                            <span class="input-group-addon"> 主图高度[rpx]</span>
                                            <span class="input-group-addon">
                                    <input class="slider img_style chageinput imgheight" type="number"
                                           data-slider-value="0"
                                           min="0"
                                           max="750" step="1" data-slider-step="1" data-slider-min="0"
                                           data-slider-max="750" data-slider-tooltip="hide" data-field="height"
                                           data-type="imgstyle" data-unit="rpx">
                                    </span>
                                        </div>
                                        <div class="input-group ">
                                            <span class="input-group-addon">上下间距[rpx]</span>
                                            <span class="input-group-addon">
                                    <input class="slider img_style chageinput" type="number" data-slider-value="0"
                                           min="0"
                                           max="750" step="1" data-slider-step="1" data-slider-min="0"
                                           data-slider-max="750" data-slider-tooltip="hide" data-field="margin-bottom"
                                           data-type="imgstyle" data-unit="rpx">
                                    </span>
                                        </div>

                                        <div class="input-group ">
                                            <span class="input-group-addon">左右间距[rpx]</span>
                                            <span class="input-group-addon">
                                    <input class="slider img_style chageinput" type="number" data-slider-value="0"
                                           min="0"
                                           max="750" step="1" data-slider-step="1" data-slider-min="0"
                                           data-slider-max="750" data-slider-tooltip="hide" data-field="spacing"
                                           data-type="imgstyle" data-unit="rpx">
                                    </span>
                                        </div>

                                    </div>

                                    <div class="border">
                                        <div class="border-name">图片列表比例[<span></span>]</div>
                                        <i class="fa fa-caret-down bfa"></i>
                                    </div>
                                    <div class="xmodellist" data-field="imgslist">
                                        <!--开始-->
                                        <div class="unitimg xmodel">

                                            <div class="delico"><i class="fa fa-times"></i></div>
                                            <div class="input-group ">
                                                <span class="input-group-addon"> 图片</span>
                                                <input type="text" value="" class="form-control  chageinput "
                                                       autocomplete="off" data-field="imgurl" data-type="image">
                                                <span class="input-group-btn">
				<button class="btn btn-default" type="button" onclick="showImageDialog(this);">选择图片</button>
			</span>
                                            </div>
                                            <div class="input-group " style="margin-top:.5em;">
                                                <img src="./resource/images/nopic.jpg"
                                                     onerror="this.src='./resource/images/nopic.jpg'; this.title='图片未找到.'"
                                                     class="img-responsive img-thumbnail" width="150"/>
                                                <em class="close" style="position:absolute; top: 0px; right: -14px;"
                                                    title="删除这张图片" onclick="deleteImage(this)">×</em>
                                            </div>
                                            <!--结束-->

                                            <div>
                                                <div class="input-group ">
                                                    <span class="input-group-addon"> app-id</span>
                                                    <input type="text" data-field="appid"
                                                           class="form-control chageinput"
                                                           autocomplete="off">

                                                </div>
                                                <div class="input-group ">
                                                    <input type="text" data-field="path" value=""
                                                           class="form-control chageinput"
                                                           autocomplete="off">
                                                    <span class="input-group-btn">
				<button class="btn btn-default xlink" type="button">选择链接</button>
			</span>
                                                </div>
                                            </div>
                                        </div>
                                        <button type="button" class="btn btn-default fullbtn"
                                                onclick='add_xc_html_tepalte("#unitimg",this)'>增加图片
                                        </button>

                                    </div>
                                    <!--样式-->
                                    <div class="border">
                                        <div class="border-name">基础样式</div>
                                        <i class="fa fa-caret-down bfa"></i>
                                    </div>


                                    <div class="input-group  colorpicker-component xccolorpicker ">
                                        <span class="input-group-addon"> 背景颜色</span>
                                        <input type="text" class="form-control data_style chageinput twodata"
                                               data-field="background-color" data-type="color"/>
                                        <span class="input-group-addon"><i></i></span>
                                    </div>

                                    <div class="input-group ">
                                        <span class="input-group-addon"> 背景尺寸</span>
                                        <input type="text" class="form-control data_style chageinput twodata"
                                               autocomplete="off"
                                               data-field="background-size" data-type="text">
                                        <!--cover-->
                                    </div>
                                    <div class="input-group ">
                                        <span class="input-group-addon"> 背景重复</span>
                                        <select class="f-select data_style twodata" data-field="background-repeat"
                                                style="height: 35px;" data-type="select">
                                            <option value="repeat">垂直方向和水平方向重复</option>
                                            <option value="no-repeat">不重复</option>
                                            <option value="repeat-x">水平方向重复</option>
                                            <option value="repeat-y">垂直方向重复</option>
                                        </select>
                                    </div>


                                    <!--开始-->

                                    <div class="input-group ">
                                        <span class="input-group-addon"> 背景图片</span>

                                        <input type="text" value="" class="form-control data_style chageinput twodata"
                                               autocomplete="off" data-field="background-image" data-type="image">

                                        <span class="input-group-btn">
				<button class="btn btn-default" type="button" onclick="showImageDialog(this);">选择图片</button>
			</span>
                                    </div>
                                    <div class="input-group " style="margin-top:.5em;">
                                        <img src="./resource/images/nopic.jpg"
                                             onerror="this.src='./resource/images/nopic.jpg'; this.title='图片未找到.'"
                                             class="img-responsive img-thumbnail" width="150"/>
                                        <em class="close" style="position:absolute; top: 0px; right: -14px;"
                                            title="删除这张图片" onclick="deleteImage(this)">×</em>
                                    </div>
                                    <!--结束-->

                                    <div class="input-group ">
                                        <span class="input-group-addon"> 透明度</span>
                                        <span class="input-group-addon">
                                    <input class="slider data_style chageinput" type="number" data-slider-value="0"
                                           min="0"
                                           max="1" step="0.01" data-slider-step="0.01" data-slider-min="0"
                                           data-slider-max="1" data-slider-tooltip="hide" data-field="opacity"
                                           data-type="noset">
                                    </span>
                                        <span class="input-group-addon input-group-addon_xc">

  <button type="button" class="xc_btn" data-value="">不设</button>
                                    </span>
                                    </div>

                                    <div class="input-group ">
                                        <span class="input-group-addon"> 宽度</span>
                                        <span class="input-group-addon nonepading">
                                    <input class="slider data_style mleft15" type="number" data-slider-value="0" min="0"
                                           max="750" step="1" data-slider-step="1" data-slider-min="0"
                                           data-slider-max="750" data-slider-tooltip="hide" data-unit="rpx"
                                           data-field="width" data-type="autoex">
                                    </span>
                                        <span class="input-group-addon input-group-addon_xc">
  <button type="button" class="xc_btn" data-value="auto">自动</button>
  <button type="button" class="xc_btn" data-value="">不设</button>
                                    </span>
                                    </div>
                                    <div class="input-group ">
                                        <span class="input-group-addon">高度</span>
                                        <span class="input-group-addon nonepading">
                                    <input class="slider data_style mleft15" type="number" data-slider-value="0" min="0"
                                           max="750" step="1" data-slider-step="1" data-slider-min="0"
                                           data-slider-max="750" data-slider-tooltip="hide" data-unit="rpx"
                                           data-field="height" data-type="autoex">
                                    </span>
                                        <span class="input-group-addon input-group-addon_xc">
  <button type="button" class="xc_btn" data-value="auto">自动</button>
  <button type="button" class="xc_btn" data-value="">不设</button>
                                    </span>
                                    </div>
                                    <div class="input-group ">
                                        <span class="input-group-addon">行高</span>
                                        <span class="input-group-addon nonepading">
                                    <input class="slider data_style mleft15" type="number" data-slider-value="0" min="0"
                                           max="750" step="1" data-slider-step="1" data-slider-min="0"
                                           data-slider-max="750" data-slider-tooltip="hide" data-unit="rpx"
                                           data-field="line-height" data-type="autoex">
                                    </span>
                                        <span class="input-group-addon input-group-addon_xc">
  <button type="button" class="xc_btn" data-value="auto">自动</button>
  <button type="button" class="xc_btn" data-value="">不设</button>
                                    </span>
                                    </div>


                                    <!--样式结束 -->
                                    <div class="border">
                                        <div class="border-name">边框样式</div>
                                        <i class="fa fa-caret-down bfa"></i>
                                    </div>


                                    <div class="border-style">
                                        <div style="width: 90px;line-height: 45px; ">边框样式</div>
                                        <div class="choose-color">
                                            <select class="data_style chageinput twodata" data-field="border-style"
                                                    data-type="select">
                                                <option value="none">---无---</option>
                                                <option value="solid">实线</option>
                                                <option value="dashed	">虚线</option>
                                                <option value="dotted">点状边框</option>
                                                <option value="double">双划线</option>
                                                <option value="groove">3D凹槽</option>
                                                <option value="ridge">3D垄状</option>
                                                <option value="inset">3D内嵌</option>
                                                <option value="outset">3D外嵌</option>
                                                <option value="inherit">父元素继承</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="border-style" style="height: 45px;">
                                        <div style="width: 90px; line-height: 60px;">边框颜色</div>
                                        <div class="choose-color">
                                            <div class="input-group colorpicker-component xccolorpicker">
                                                <input type="text" class="form-control data_style chageinput twodata"
                                                       data-field="border-color" data-type="color"/>
                                                <span class="input-group-addon"><i></i></span>
                                            </div>

                                        </div>
                                    </div>

                                    <div class="border-size">
                                        <div class="size-title">边框线宽<br>度 px</div>
                                        <div class="slip">
                                            <input class="slider data_style chageinput"
                                                   data-field="border-width" data-unit="px" type="number"
                                                   data-slider-value="1"
                                                   data-slider-tooltip="hide" min="0" max="100" step="1"
                                                   data-slider-step="1"
                                                   data-slider-min="0" data-slider-max="100" data-type="noauto">
                                        </div>
                                    </div>

                                </div>
                                <!--样式结束-->
                            </form>
                            <form id="diy_img_num_mofu" data-fun="diy_img_num_mofu_contents('#diy_img_num_mofu')">
                                <div class="optemplate">
                                    <h3 class="assemblytitle">魔方</h3>
                                    <!--End-all-->
                                    <div class="border">
                                        <div class="border-name">图片样式</div>
                                        <i class="fa fa-caret-down bfa"></i>
                                    </div>
                                    <div>
                                        <div class="input-group">
                                            <ul class="oneselect img_num_mofutucid" data-field="cid"
                                                data-fun="restdiy_img_num_col_imghegith">
                                                <li data-value="img_num_mofu_1" data-height="375" data-col="3"><img
                                                        src="../addons/xc_xinguwu/them/diyimg/diy_img_num_mofu1.jpg"
                                                        style="max-width: 100%"></li>
                                                <li data-value="img_num_mofu_2" data-height="375" data-col="4"><img
                                                        src="../addons/xc_xinguwu/them/diyimg/diy_img_num_mofu2.jpg"
                                                        style="max-width: 100%"></li>
                                                <li data-value="img_num_mofu_3" data-height="375" data-col="4"><img
                                                        src="../addons/xc_xinguwu/them/diyimg/diy_img_num_mofu3.jpg"
                                                        style="max-width: 100%"></li>
                                                <li data-value="img_num_mofu_4" data-height="375" data-col="4"><img
                                                        src="../addons/xc_xinguwu/them/diyimg/diy_img_num_mofu4.jpg"
                                                        style="max-width: 100%"></li>
                                                <li data-value="img_num_mofu_5" data-height="375" data-col="4"><img
                                                        src="../addons/xc_xinguwu/them/diyimg/diy_img_num_mofu5.jpg"
                                                        style="max-width: 100%"></li>
                                                <li data-value="img_num_mofu_6" data-height="375" data-col="5"><img
                                                        src="../addons/xc_xinguwu/them/diyimg/diy_img_num_mofu6.jpg"
                                                        style="max-width: 100%"></li>

                                            </ul>
                                        </div>

                                        <div class="input-group ">
                                            <span class="input-group-addon"> 图片高度[rpx]</span>
                                            <span class="input-group-addon">
                                    <input class="slider img_style chageinput imgheight" type="number"
                                           data-slider-value="0"
                                           min="0"
                                           max="750" step="1" data-slider-step="1" data-slider-min="0"
                                           data-slider-max="750" data-slider-tooltip="hide" data-field="height"
                                           data-type="imgstyle" data-unit="rpx">
                                    </span>
                                        </div>

                                    </div>

                                    <div class="border">
                                        <div class="border-name">图片列表比例[<span></span>]</div>
                                        <i class="fa fa-caret-down bfa"></i>
                                    </div>
                                    <div class="xmodellist" data-field="imgslist">
                                        <!--开始-->
                                        <div class="unitimg xmodel">

                                            <div class="delico"><i class="fa fa-times"></i></div>
                                            <div class="input-group ">
                                                <span class="input-group-addon"> 图片</span>
                                                <input type="text" value="" class="form-control  chageinput "
                                                       autocomplete="off" data-field="imgurl" data-type="image">
                                                <span class="input-group-btn">
				<button class="btn btn-default" type="button" onclick="showImageDialog(this);">选择图片</button>
			</span>
                                            </div>
                                            <div class="input-group " style="margin-top:.5em;">
                                                <img src="./resource/images/nopic.jpg"
                                                     onerror="this.src='./resource/images/nopic.jpg'; this.title='图片未找到.'"
                                                     class="img-responsive img-thumbnail" width="150"/>
                                                <em class="close" style="position:absolute; top: 0px; right: -14px;"
                                                    title="删除这张图片" onclick="deleteImage(this)">×</em>
                                            </div>
                                            <!--结束-->

                                            <div>
                                                <div class="input-group ">
                                                    <span class="input-group-addon"> app-id</span>
                                                    <input type="text" data-field="appid"
                                                           class="form-control chageinput"
                                                           autocomplete="off">

                                                </div>
                                                <div class="input-group ">
                                                    <input type="text" data-field="path" value=""
                                                           class="form-control chageinput"
                                                           autocomplete="off">
                                                    <span class="input-group-btn">
				<button class="btn btn-default xlink" type="button">选择链接</button>
			</span>
                                                </div>
                                            </div>
                                        </div>
                                        <button type="button" class="btn btn-default fullbtn"
                                                onclick='add_xc_html_tepalte("#unitimg",this)'>增加图片
                                        </button>

                                    </div>
                                    <!--样式-->
                                    <div class="border">
                                        <div class="border-name">基础样式</div>
                                        <i class="fa fa-caret-down bfa"></i>
                                    </div>

                                    <div class="input-group  colorpicker-component xccolorpicker ">
                                        <span class="input-group-addon"> 背景颜色</span>
                                        <input type="text" class="form-control data_style chageinput twodata"
                                               data-field="background-color" data-type="color"/>
                                        <span class="input-group-addon"><i></i></span>
                                    </div>
                                    <div class="input-group ">
                                        <span class="input-group-addon"> 背景尺寸</span>
                                        <input type="text" class="form-control data_style chageinput twodata"
                                               autocomplete="off"
                                               data-field="background-size" data-type="text">
                                        <!--cover-->
                                    </div>
                                    <div class="input-group ">
                                        <span class="input-group-addon"> 背景重复</span>
                                        <select class="f-select data_style twodata" data-field="background-repeat"
                                                style="height: 35px;" data-type="select">
                                            <option value="repeat">垂直方向和水平方向重复</option>
                                            <option value="no-repeat">不重复</option>
                                            <option value="repeat-x">水平方向重复</option>
                                            <option value="repeat-y">垂直方向重复</option>
                                        </select>
                                    </div>
                                    <!--开始-->

                                    <div class="input-group ">
                                        <span class="input-group-addon"> 背景图片</span>

                                        <input type="text" value="" class="form-control data_style chageinput twodata"
                                               autocomplete="off" data-field="background-image" data-type="image">

                                        <span class="input-group-btn">
				<button class="btn btn-default" type="button" onclick="showImageDialog(this);">选择图片</button>
			</span>
                                    </div>
                                    <div class="input-group " style="margin-top:.5em;">
                                        <img src="./resource/images/nopic.jpg"
                                             onerror="this.src='./resource/images/nopic.jpg'; this.title='图片未找到.'"
                                             class="img-responsive img-thumbnail" width="150"/>
                                        <em class="close" style="position:absolute; top: 0px; right: -14px;"
                                            title="删除这张图片" onclick="deleteImage(this)">×</em>
                                    </div>
                                    <!--结束-->

                                    <div class="input-group ">
                                        <span class="input-group-addon"> 透明度</span>
                                        <span class="input-group-addon">
                                    <input class="slider data_style chageinput" type="number" data-slider-value="0"
                                           min="0"
                                           max="1" step="0.01" data-slider-step="0.01" data-slider-min="0"
                                           data-slider-max="1" data-slider-tooltip="hide" data-field="opacity"
                                           data-type="noset">
                                    </span>
                                        <span class="input-group-addon input-group-addon_xc">

  <button type="button" class="xc_btn" data-value="">不设</button>
                                    </span>
                                    </div>
                                    <div class="input-group ">
                                        <span class="input-group-addon"> 宽度</span>
                                        <span class="input-group-addon nonepading">
                                    <input class="slider data_style mleft15" type="number" data-slider-value="0" min="0"
                                           max="750" step="1" data-slider-step="1" data-slider-min="0"
                                           data-slider-max="750" data-slider-tooltip="hide" data-unit="rpx"
                                           data-field="width" data-type="autoex">
                                    </span>
                                        <span class="input-group-addon input-group-addon_xc">
  <button type="button" class="xc_btn" data-value="auto">自动</button>
  <button type="button" class="xc_btn" data-value="">不设</button>
                                    </span>
                                    </div>
                                    <div class="input-group ">
                                        <span class="input-group-addon">高度</span>
                                        <span class="input-group-addon nonepading">
                                    <input class="slider data_style mleft15" type="number" data-slider-value="0" min="0"
                                           max="750" step="1" data-slider-step="1" data-slider-min="0"
                                           data-slider-max="750" data-slider-tooltip="hide" data-unit="rpx"
                                           data-field="height" data-type="autoex">
                                    </span>
                                        <span class="input-group-addon input-group-addon_xc">
  <button type="button" class="xc_btn" data-value="auto">自动</button>
  <button type="button" class="xc_btn" data-value="">不设</button>
                                    </span>
                                    </div>
                                    <div class="input-group ">
                                        <span class="input-group-addon">行高</span>
                                        <span class="input-group-addon nonepading">
                                    <input class="slider data_style mleft15" type="number" data-slider-value="0" min="0"
                                           max="750" step="1" data-slider-step="1" data-slider-min="0"
                                           data-slider-max="750" data-slider-tooltip="hide" data-unit="rpx"
                                           data-field="line-height" data-type="autoex">
                                    </span>
                                        <span class="input-group-addon input-group-addon_xc">
  <button type="button" class="xc_btn" data-value="auto">自动</button>
  <button type="button" class="xc_btn" data-value="">不设</button>
                                    </span>
                                    </div>

                                    <!--样式结束 -->
                                    <div class="border">
                                        <div class="border-name">边框样式</div>
                                        <i class="fa fa-caret-down bfa"></i>
                                    </div>
                                    <div class="border-style">
                                        <div style="width: 90px;line-height: 45px; ">边框样式</div>
                                        <div class="choose-color">
                                            <select class="data_style chageinput twodata" data-field="border-style"
                                                    data-type="select">
                                                <option value="none">---无---</option>
                                                <option value="solid">实线</option>
                                                <option value="dashed	">虚线</option>
                                                <option value="dotted">点状边框</option>
                                                <option value="double">双划线</option>
                                                <option value="groove">3D凹槽</option>
                                                <option value="ridge">3D垄状</option>
                                                <option value="inset">3D内嵌</option>
                                                <option value="outset">3D外嵌</option>
                                                <option value="inherit">父元素继承</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="border-style" style="height: 45px;">
                                        <div style="width: 90px; line-height: 60px;">边框颜色</div>
                                        <div class="choose-color">
                                            <div class="input-group colorpicker-component xccolorpicker">
                                                <input type="text" class="form-control data_style chageinput twodata"
                                                       data-field="border-color" data-type="color"/>
                                                <span class="input-group-addon"><i></i></span>
                                            </div>

                                        </div>
                                    </div>
                                    <div class="border-size">
                                        <div class="size-title">边框线宽<br>度 px</div>
                                        <div class="slip">
                                            <input class="slider data_style chageinput"
                                                   data-field="border-width" data-unit="px" type="number"
                                                   data-slider-value="1"
                                                   data-slider-tooltip="hide" min="0" max="100" step="1"
                                                   data-slider-step="1"
                                                   data-slider-min="0" data-slider-max="100" data-type="noauto">
                                        </div>
                                    </div>
                                </div>
                                <!--样式结束-->
                            </form>


                        </div>
                        <div class="divWrap-list" style="display: block;">
                            <form id="borderfrom">

                                <!--内边框-->
                                <div class="border">
                                    <div class="border-name">圆角（rpx）</div>
                                    <i class="fa fa-caret-down bfa"></i>
                                </div>
                                <div>
                                    <div class="border-size liandong">
                                        <div class="size-title">联动</div>
                                        <div class="slip">
                                            <input type="checkbox" class="xccheck" data-field="linkageborder"
                                                   checked="checked">
                                        </div>
                                    </div>
                                    <div class="input-group ">
                                        <span class="input-group-addon"> 左</span>
                                        <span class="input-group-addon">
                                    <input class="slider data_style" type="number" data-slider-value="0" min="0"
                                           max="750" step="1" data-slider-step="1" data-slider-min="0"
                                           data-slider-max="750" data-slider-tooltip="hide"
                                           data-field="border-top-left-radius" data-unit="rpx" data-type="noset">
                                    </span>
                                        <span class="input-group-addon input-group-addon_xc">

  <button type="button" class="xc_btn" data-value="">不设</button>
                                    </span>
                                    </div>
                                    <div class="input-group ">
                                        <span class="input-group-addon"> 右</span>
                                        <span class="input-group-addon">
                                    <input class="slider data_style" type="number" data-slider-value="0" min="0"
                                           max="750" step="1" data-slider-step="1" data-slider-min="0"
                                           data-slider-max="750" data-slider-tooltip="hide"
                                           data-field="border-top-right-radius" data-unit="rpx" data-type="noset">
                                    </span>
                                        <span class="input-group-addon input-group-addon_xc">
  <button type="button" class="xc_btn" data-value="">不设</button>
                                    </span>
                                    </div>

                                    <div class="input-group ">
                                        <span class="input-group-addon"> 上</span>
                                        <span class="input-group-addon">
                                    <input class="slider data_style" type="number" data-slider-value="0" min="0"
                                           max="750" step="1" data-slider-step="1" data-slider-min="0"
                                           data-slider-max="750" data-slider-tooltip="hide"
                                           data-field="border-bottom-right-radius" data-unit="rpx" data-type="noset">
                                    </span>
                                        <span class="input-group-addon input-group-addon_xc">
  <button type="button" class="xc_btn" data-value="">不设</button>
                                    </span>
                                    </div>

                                    <div class="input-group ">
                                        <span class="input-group-addon"> 下</span>
                                        <span class="input-group-addon">
                                    <input class="slider data_style" type="number" data-slider-value="0" min="0"
                                           max="750" step="1" data-slider-step="1" data-slider-min="0"
                                           data-slider-max="750" data-slider-tooltip="hide"
                                           data-field="border-bottom-left-radius" data-unit="rpx" data-type="noset">
                                    </span>
                                        <span class="input-group-addon input-group-addon_xc">

  <button type="button" class="xc_btn" data-value="">不设</button>
                                    </span>
                                    </div>

                                </div>
                                <!--内边框结束 -->

                                <!--内边框-->
                                <div class="border">
                                    <div class="border-name">内边框（rpx）</div>
                                    <i class="fa fa-caret-down bfa"></i>
                                </div>
                                <div>
                                    <div class="border-size liandong">
                                        <div class="size-title">联动</div>
                                        <div class="slip">
                                            <input type="checkbox" class="xccheck" data-field="linkageborder"
                                                   checked="checked">
                                        </div>
                                    </div>

                                    <div class="input-group ">
                                        <span class="input-group-addon"> 左</span>
                                        <span class="input-group-addon">
                                    <input class="slider data_style" type="number" data-slider-value="0" min="0"
                                           max="750" step="1" data-slider-step="1" data-slider-min="0"
                                           data-slider-max="750" data-slider-tooltip="hide" data-field="padding-left"
                                           data-unit="rpx" data-type="noset">
                                    </span>
                                        <span class="input-group-addon input-group-addon_xc">

  <button type="button" class="xc_btn" data-value="">不设</button>
                                    </span>
                                    </div>
                                    <div class="input-group ">
                                        <span class="input-group-addon"> 右</span>
                                        <span class="input-group-addon">
                                    <input class="slider data_style" type="number" data-slider-value="0" min="0"
                                           max="750" step="1" data-slider-step="1" data-slider-min="0"
                                           data-slider-max="750" data-slider-tooltip="hide" data-field="padding-right"
                                           data-unit="rpx" data-type="noset">
                                    </span>
                                        <span class="input-group-addon input-group-addon_xc">

  <button type="button" class="xc_btn" data-value="">不设</button>
                                    </span>
                                    </div>

                                    <div class="input-group ">
                                        <span class="input-group-addon"> 上</span>
                                        <span class="input-group-addon">
                                    <input class="slider data_style" type="number" data-slider-value="0" min="0"
                                           max="750" step="1" data-slider-step="1" data-slider-min="0"
                                           data-slider-max="750" data-slider-tooltip="hide" data-field="padding-top"
                                           data-unit="rpx" data-type="noset">
                                    </span>
                                        <span class="input-group-addon input-group-addon_xc">

  <button type="button" class="xc_btn" data-value="">不设</button>
                                    </span>
                                    </div>

                                    <div class="input-group ">
                                        <span class="input-group-addon"> 下</span>
                                        <span class="input-group-addon">
                                    <input class="slider data_style" type="number" data-slider-value="0" min="0"
                                           max="750" step="1" data-slider-step="1" data-slider-min="0"
                                           data-slider-max="750" data-slider-tooltip="hide" data-field="padding-bottom"
                                           data-unit="rpx" data-type="noset">
                                    </span>
                                        <span class="input-group-addon input-group-addon_xc">

  <button type="button" class="xc_btn" data-value="">不设</button>
                                    </span>
                                    </div>

                                </div>
                                <!--内边框结束 -->

                                <!--外边框-->
                                <div class="border">
                                    <div class="border-name">外边框（rpx）</div>
                                    <i class="fa fa-caret-down bfa"></i>
                                </div>
                                <div id="paddindata">
                                    <div class="border-size liandong">
                                        <div class="size-title">联动</div>
                                        <div class="slip">
                                            <input type="checkbox" class="xccheck" checked="checked"
                                                   data-field="linkagepadding">
                                        </div>
                                    </div>

                                    <div class="input-group ">
                                        <span class="input-group-addon"> 左</span>
                                        <span class="input-group-addon">
                                    <input class="slider data_style" type="number" data-slider-value="0" min="0"
                                           max="750" step="1" data-slider-step="1" data-slider-min="0"
                                           data-slider-max="750" data-slider-tooltip="hide" data-field="margin-left"
                                           data-unit="rpx" data-type="autoex">
                                    </span>
                                        <span class="input-group-addon input-group-addon_xc">
<button type="button" class="xc_btn" data-value="auto">自动</button>
  <button type="button" class="xc_btn" data-value="">不设</button>
                                    </span>
                                    </div>
                                    <div class="input-group ">
                                        <span class="input-group-addon"> 右</span>
                                        <span class="input-group-addon">
                                    <input class="slider data_style" type="number" data-slider-value="0" min="0"
                                           max="750" step="1" data-slider-step="1" data-slider-min="0"
                                           data-slider-max="750" data-slider-tooltip="hide" data-field="margin-right"
                                           data-unit="rpx" data-type="autoex">
                                    </span>
                                        <span class="input-group-addon input-group-addon_xc">
<button type="button" class="xc_btn" data-value="auto">自动</button>
  <button type="button" class="xc_btn" data-value="">不设</button>
                                    </span>
                                    </div>

                                    <div class="input-group ">
                                        <span class="input-group-addon"> 上</span>
                                        <span class="input-group-addon">
                                    <input class="slider data_style" type="number" data-slider-value="0" min="0"
                                           max="750" step="1" data-slider-step="1" data-slider-min="0"
                                           data-slider-max="750" data-slider-tooltip="hide" data-field="margin-top"
                                           data-unit="rpx" data-type="autoex">
                                    </span>
                                        <span class="input-group-addon input-group-addon_xc">
<button type="button" class="xc_btn" data-value="auto">自动</button>
  <button type="button" class="xc_btn" data-value="">不设</button>
                                    </span>
                                    </div>

                                    <div class="input-group ">
                                        <span class="input-group-addon"> 下</span>
                                        <span class="input-group-addon">
                                    <input class="slider data_style" type="number" data-slider-value="0" min="0"
                                           max="750" step="1" data-slider-step="1" data-slider-min="0"
                                           data-slider-max="750" data-slider-tooltip="hide" data-field="margin-bottom"
                                           data-unit="rpx" data-type="autoex">
                                    </span>
                                        <span class="input-group-addon input-group-addon_xc">
<button type="button" class="xc_btn" data-value="auto">自动</button>
  <button type="button" class="xc_btn" data-value="">不设</button>
                                    </span>
                                    </div>
                                </div>
                                <!--外边框结束 -->
                            </form>
                        </div>
                    </div>
                </div>

                <!--链接-->
                <div class="shadow link-close" hidden></div>
                <div class="all-link" hidden>
                    <div class="link-title">
                        <div>选择功能</div>
                        <div>
                            <i class="fa  link-big fa-window-maximize"></i>
                            <i class="fa link-close fa-times"></i>
                        </div>
                    </div>
                    <div class="link-list">
                        <div onclick="blacklink('http://www.baidu.com',this)">万能页面</div>
                        <div onclick="blacklink('百度2',this)">首页</div>
                        <div onclick="blacklink('产品',this)">产品</div>
                        <div onclick="blacklink('购物车',this)">购物车</div>
                        <div onclick="blacklink('文章列表',this)">文章列表</div>
                        <div onclick="blacklink('文章详情',this)">文章详情</div>
                        <div onclick="blacklink('相册列表',this)">相册列表</div>
                        <div onclick="blacklink('会员中心',this)">会员中心</div>
                        <div onclick="blacklink('商品展示',this)">商品展示</div>
                        <div onclick="blacklink('优惠券',this)">优惠券</div>
                        <div onclick="blacklink('商品分类',this)">商品分类</div>
                        <div onclick="blacklink('万能表单',this)">万能表单</div>
                        <div onclick="blacklink('小程序',this)">小程序</div>
                        <div onclick="blacklink('网页',this)">网页</div>
                    </div>
                </div>
            </div>

        </div>
    </div>

</div>
{template 'common/editfoot'}


<script type="text/javascript">


    function copyunit(obj) {
        $cloneobj = $(obj).prev().clone();

        $(obj).before($cloneobj);
        $cloneobj.find("input[type='text']").val("");
        eval($(obj).closest("form").attr("data-fun"))
    }


    var componentdefalut = {};
    componentdefalut["xc_diy_text"] = {
        title: "请设置标题",
        itype: 'xc_diy_text',
        istyle: {"font-size": {value: 30, unit: "rpx", type: "size"}, color: "#666666"}
    };

    componentdefalut["diy_img_num_col"] = {
        col: 1,
        itype: 'diy_img_num_col',
        imgslist: [{
            imgurl: "web/resource/images/nopic.jpg",
            appid: "",
            path: ""
        }, {
            imgurl: "web/resource/images/nopic.jpg",
            appid: "",
            path: ""
        }],
        istyle: {"font-size": {value: 30, unit: "rpx", type: "size"}, "color": "red"},
        cid: "img_num_col_1",
        imgstyle: {height: {value: 330, unit: "rpx", type: "size"}}
    };


    componentdefalut["diy_img_num_mofu"] = {
        col: 3,
        itype: 'diy_img_num_mofu',
        cid: "img_num_mofu_1",
        imgslist: [{
            imgurl: "web/resource/images/nopic.jpg",
            appid: "",
            path: "",
            istyle: {
                width: {value: 375, unit: "rpx", type: "size"},
                height: {value: 375, unit: "rpx", type: "size"}
            }

        }, {
            imgurl: "web/resource/images/nopic.jpg",
            appid: "",
            path: "",
            istyle: {
                width: {value: 375, unit: "rpx", type: "size"},
                height: {value: 187.5, unit: "rpx", type: "size"}
            }
        },
            {
                imgurl: "web/resource/images/nopic.jpg",
                appid: "",
                path: "",
                istyle: {
                    width: {value: 375, unit: "rpx", type: "size"},
                    height: {value: 187.5, unit: "rpx", type: "size"}
                }
            }

        ],
        istyle: {
            width: {value: 750, unit: "rpx", type: "size"},

        },
        imgstyle: {
            height: {value: 375, unit: "rpx", type: "size"},

        }


    };

    componentdefalut["diy_bananer"] = {
        col: 3,
        itype: 'diy_bananer',
        imgslist: [{
            imgurl: "web/resource/images/nopic.jpg",
            appid: "",
            path: ""
        }, {
            imgurl: "web/resource/images/nopic.jpg",
            appid: "",
            path: ""
        },
            {
                imgurl: "web/resource/images/nopic.jpg",
                appid: "",
                path: ""
            }
            ,
            {
                imgurl: "web/resource/images/nopic.jpg",
                appid: "",
                path: ""
            }
        ],
        istyle: {"font-size": {value: 30, unit: "rpx", type: "size"}, "color": "red"},
        cid: "img_num_col_1",
        imgstyle: {height: {value: 330, unit: "rpx", type: "size"}}
    };

    componentdefalut["diy_notice"] = {

        itype: 'diy_notice',
        noticedata: [{title: "12345", appid: "1234", path: "567"}],
        istyle: {"font-size": {value: 30, unit: "rpx", type: "size"}, color: "#666666"},
        rollingtype: "left"
    }
    ///var componentdefalutstr=JSON.stringify()


    $(".xccheck").each(function (index) {
        var keyid = "xccheck_xc_" + index;
        $(this).attr("id", keyid);
        $(this).after(" <label for='" + keyid + "'></label>");
    })
    //导航栏
    $(function () {
        $(".xhead").click(function () {
            var indexN = $(this).index();
            $(this).addClass("select").siblings().removeClass("select");
            $(".method .list").eq(indexN).show().siblings().hide();
            $(this).children(".triangle").addClass("triangleShow").parent().siblings().children(".triangle").removeClass("triangleShow");
        });


        $("#opcentcore").on("click", ".delico", function () {
            if ($(this).parent().siblings(".xmodel").length > 0) {
                var $_fun = $(this).closest("form").attr("data-fun");
                $(this).parent().remove();
                eval($_fun);
            }

        })


        $(".divWrap .divWrap-list").eq($(this).find(".move-select").index()).show().siblings().hide();
        $(".move").click(function () {
            var indexN = $(this).index();
            $(this).addClass("move-select").siblings().removeClass("move-select");
            $(".divWrap .divWrap-list").eq(indexN).show().siblings().hide();
        });


        $("#opcentcorechildss").on("click", ".oneselect li", function () {

            $(this).addClass("selectedborder").siblings().removeClass("selectedborder");
            if ($(this).parent().attr("data-fun")) {
                eval($(this).parent().attr("data-fun") + "(this)");
            }

            $_fun = $(this).closest("form").attr("data-fun");
            eval($_fun);
        })

    })


    //拖拽
    $(function ($) {
        $.fn.dragDiv = function (divWrap) {
            return this.each(function () {
                var $divMove = $(this);//鼠标可拖拽区域
                var $divWrap = divWrap ? $divMove.parents(divWrap) : $divMove;//整个移动区域
                var mX = 0, mY = 0;//定义鼠标X轴Y轴
                var dX = 0, dY = 0;//定义div左、上位置
                var isDown = false;//mousedown标记
                if (document.attachEvent) {//ie的事件监听，拖拽div时禁止选中内容，firefox与chrome已在css中设置过-moz-user-select: none; -webkit-user-select: none;
                    $divMove[0].attachEvent('onselectstart', function () {
                        return false;
                    });
                }
                $divMove.mousedown(function (event) {
                    var event = event || window.event;
                    mX = event.clientX;
                    mY = event.clientY;
                    dX = $divWrap.offset().left;
                    dY = $divWrap.offset().top;
                    isDown = true;//鼠标拖拽启动
                });
                $(document).mousemove(function (event) {
                    var event = event || window.event;
                    var x = event.clientX;//鼠标滑动时的X轴
                    var y = event.clientY;//鼠标滑动时的Y轴
                    if (isDown) {
                        $divWrap.css({"left": x - mX + dX, "top": y - mY + dY});//div动态位置赋值
                    }
                });
                $divMove.mouseup(function () {
                    isDown = false;//鼠标拖拽结束
                });
            });
        };
    });

    //拖拽div头部
    $(document).ready(function () {
        $(".wrap-head").dragDiv(".box-shadow");
    });

    //获取长度
    $(function () {
        $('.na-length').html($(this).val().length)
        $('[name="content"]:input').bind("keyup", function () {
            $('.na-length').html($(this).val().length)
        });
    })
    $(function () {
        $(".op-style button").click(function () {
            if ($(this).hasClass("my-btn")) {
                if ($(this).hasClass('style')) {
                    $(this).removeClass('style');
                } else {
                    $(this).addClass('style');
                }
            }
            if ($(this).hasClass("my-btn1")) {

                if ($(this).hasClass("style")) {
                    $(this).removeClass("style");
                }
                else {
                    $(this).addClass("style").siblings().removeClass("style");
                }

            }
            eval($(this).closest("form").attr("data-fun"))
        })

        $(".input-group-addon_xc .xc_btn").click(function () {

            if ($(this).hasClass("selected")) {
                $(this).removeClass("selected");
            }
            else {

                $(this).addClass("selected");
                $(this).siblings().removeClass("selected");
            }

            if ($(this).parent().find(".selected").length > 0) {
                $(this).parent().prev().find("input").bootstrapSlider('disable').attr("disabled", "disabled");


            }
            else {
                $(this).parent().prev().find("input").bootstrapSlider('enable').removeAttr("disabled");

            }
            liandongbtn($(this));
            //  eval($(this).closest("form").attr("data-fun"))
        })

    })
    //字体加减
    $(function () {
        $(".addbtn").click(function () {
            $_actinput = $(this).parent().parent().parent().find("input");
            var num = $_actinput.val()
            $_actinput.val(parseInt(num) + 1)
            $_actinput.change();
        })

        $(".addbtn1").click(function () {
            $_actinput = $(this).parent().parent().parent().find("input");
            var num = $_actinput.val()
            if (num >= 1) {
                $_actinput.val(parseInt(num) - 1)
            }
            $_actinput.change();

        })
    })
    //进度条
    //宽度进度条
    $(function () {

        $("input.slider").bootstrapSlider();
        $("input.slider").on("slideStop", function (pobj) {
            liandong($(this));

        })

        $("input.slider").show();
        $('body input.slider').bind('input propertychange', function () {
            liandong($(this));
        });
    })

    function liandong($actojb) {

        $actindex = $actojb.closest(".input-group").index() - 1
        $xlobj = $actojb.closest(".input-group").parent();
        if ($xlobj.find(".liandong input[type='checkbox']").is(":checked")) {
            $xlobj.find(".input-group input[type='number']").each(function (index) {
                if ($actindex != index) {
                    $(this).bootstrapSlider('setValue', $actojb.val());
                }

            })
        }
        else {
            $actojb.bootstrapSlider('setValue', $actojb.val())
        }


        liandongbtn($actojb)
    }

    function liandongbtn($actojb) {

        $bvalue = true;
        $btnindex = -1;
        if ($actojb.parent().find(".selected").length > 0) {
            $btnindex = $actojb.index();
            $bvalue = false;
        }
        $actindex = $actojb.closest(".input-group").index() - 1
        $xlobj = $actojb.closest(".input-group").parent();
        if ($xlobj.find(".liandong input[type='checkbox']").is(":checked")) {
            $xlobj.find(".input-group input[type='number']").each(function (index) {
                if ($actindex != index) {
                    $(this).parent().next().find("button").removeClass("selected");
                    if ($bvalue) {
                        $(this).bootstrapSlider('enable').removeAttr("disabled");
                    }
                    else {
                        $(this).bootstrapSlider('disable').attr("disabled", "disabled");
                        $(this).parent().next().find("button").eq($btnindex).addClass("selected");
                    }
                }
            })
        }


        if ($actojb.closest("form").attr("data-fun")) {
            eval($actojb.closest("form").attr("data-fun"))
        }
    }

    $actlink = null;

    function blacklink($url, obj) {
        $actlink.val($url);
        $actlink.change();


        $(obj).closest(".all-link").hide();
    }
    //显示链接
    $(function () {

        $("#opcentcore").on("click", ".xlink", function () {
            $('.all-link').show();
            $actlink = $(this).parent().prev();
        })

        $('.link-big').click(function () {
            if ($('.all-link').is('.big-link')) {
                $('.all-link').removeClass('big-link')
                $(this).addClass('fa-window-maximize')
            } else {
                $('.all-link').addClass('big-link')
                $(this).removeClass('fa-window-maximize').addClass('fa-square')
            }

        })

        $('.link-close').click(function () {
            $('.all-link').hide();
            $('.shadow').hide();
        })

        $(".border").click(function () {

            if ($(this).find(".bfa").hasClass('fa-caret-left')) {
                $(this).next().show();
                $(this).find(".bfa").removeClass('fa-caret-left').addClass('fa-caret-down')
            }
            else {

                $(this).next().hide();
                $(this).find(".bfa").removeClass('fa-caret-down').addClass('fa-caret-left')
            }

        })
    })


</script>

<!--Vue-->

<script type="text/javascript">

    Vue.component('xc_diy_text', {
        props: ['title', 'istyle'],
        template: '<div>{{ title }} {{istyle}} </div>'
    })
    Vue.component('diy_img_num_col', {
        props: ['title', 'istyle', "imgmodel", "imgstyle"],
        template: '<img> '
    })

    Vue.component('diy_img_num_mofu', {
        props: ['title', 'istyle', "imgmodel", "imgstyle"],
        template: '<img> '
    })


    Vue.component('diy_notice', {
        props: ['xcmodel', 'istyle'],
        template: ' <span> {{xcmodel.title }}  </span>',
    })

    Vue.component('diy_bananer', {
        props: ['title', 'istyle', "imgmodel", "imgstyle"],
        template: '<img> '
    })


    Vue.component('xc_diy_imgs', {
        props: ['title', 'istyle', "imgslist", "imgtitlestyle"],
        template: '<div><div   v-for="imgitem in imgslist" /> ddd</div></div>'
    })

    Vue.component('xc_diy_pro', {
        props: ['title', 'istyle'],
        template: '<div>{{ title }} {{istyle}} </div>'
    })
    var uephone = new Vue(
        {
            el: "#phone-component",
            data: {
                syswidth: 320,
                actunit: -1,
                modeldata: [
                    {
                        title: 12345,
                        itype: 'xc_diy_text',
                        istyle: {"font-size": {value: 30, unit: "rpx", type: "size"}, "color": "red"},
                        cc: {id: 3}
                    },
                    {
                        col: 1,
                        itype: 'diy_img_num_col',
                        imgslist: [{
                            imgurl: "./web/resource/images/nopic.jpg",
                            appid: "",
                            path: ""
                        }, {
                            imgurl: "./web/resource/images/nopic.jpg",
                            appid: "",
                            path: ""
                        }],
                        istyle: {"font-size": {value: 30, unit: "rpx", type: "size"}, "color": "red"},
                        cid: "img_num_col_1",
                        imgstyle: {height: {value: 330, unit: "rpx", type: "size"}}
                    },
                    {
                        col: 3,
                        itype: 'diy_img_num_mofu',
                        cid: "img_num_mofu_1",
                        imgslist: [{
                            imgurl: "web/resource/images/nopic.jpg",
                            appid: "",
                            path: "",
                            istyle: {
                                width: {value: 375, unit: "rpx", type: "size"},
                                height: {value: 375, unit: "rpx", type: "size"}
                            }

                        }, {
                            imgurl: "web/resource/images/nopic.jpg",
                            appid: "",
                            path: "",
                            istyle: {
                                width: {value: 375, unit: "rpx", type: "size"},
                                height: {value: 187.5, unit: "rpx", type: "size"}
                            }
                        },
                            {
                                imgurl: "web/resource/images/nopic.jpg",
                                appid: "",
                                path: "",
                                istyle: {
                                    width: {value: 375, unit: "rpx", type: "size"},
                                    height: {value: 187.5, unit: "rpx", type: "size"}
                                }
                            }

                        ],
                        istyle: {
                            width: {value: 750, unit: "rpx", type: "size"},

                        },
                        imgstyle: {
                            height: {value: 375, unit: "rpx", type: "size"},

                        }
                    },
                    {
                        itype: 'diy_notice',
                        icourl: basiurljs + "/addons/xc_xinguwu/them/diyimg/notice_1.png",
                        noticedata: [{title: "12345", appid: "1234", path: "567"}],
                        istyle: {"font-size": {value: 30, unit: "rpx", type: "size"}, color: "#666666"},
                        rollingtype: "left"
                    },
                ],
            },
            methods: {
                endDrag: function (evt) {
                    if (evt.oldIndex == this.actunit) {
                        this.actunit = evt.newIndex;
                    }
                },
                styleraw: function ($obj) {


                    if ($obj) {
                        var attr = [];
                        for (var $key in $obj) {
                            if (typeof ($obj[$key]) === "object") {
                                if (typeof($obj[$key]["type"]) !== "undefined" && $obj[$key]["type"] == "size") {

                                    if (($key == "width" || $key == "height") && $obj[$key]["value"] == "-1") {


                                        break;
                                    }
                                    switch ($obj[$key]["unit"].toLowerCase()) {
                                        case "px": {
                                            attr.push($key + ":" + $obj[$key]["value"] + "px");
                                            break;
                                        }
                                        case "vw": {
                                            attr.push($key + ":" + ($obj[$key]["value"] * this.syswidth / 100).toFixed(2) + "px");
                                            break;
                                        }
                                        case "rpx": {
                                            attr.push($key + ":" + ($obj[$key]["value"] * this.syswidth / 750).toFixed(2) + "px");
                                            break;
                                        }
                                    }
                                }
                            }
                            else {
                                switch ($key) {
                                    case "background-image": {
                                        attr.push($key + ":url('" + basicimgurl + $obj[$key] + "')");
                                        break;
                                    }
                                    default: {
                                        attr.push($key + ":" + $obj[$key]);
                                    }
                                }
                            }
                        }


                        return attr.join(";") + ";";
                    }
                    else {
                        return "";
                    }
                },
                stylerawex: function ($objlsit) {


                    var basomodel = null;
                    for (var i = 0; i < $objlsit.length; i++) {
                        if ($objlsit[i] !== undefined) {
                            if (basomodel == null) {

                                basomodel = JSON.parse(JSON.stringify($objlsit[i]));
                            }
                            else {
                                for (var t in $objlsit[i]) {

                                    basomodel[t] = $objlsit[i][t];
                                }
                            }
                        }
                    }
                    if (basomodel != null) {

                        return this.styleraw(basomodel);
                    }
                    return "";
                },
                showurl: function ($url) {
                    if ($url.indexOf("http") === -1) {
                        return basicimgurl + $url;
                    }
                    else {
                        return $url;
                    }
                },
                selected: function ($itemindex) {
                    //   diy_text_set(this.modeldata[$itemindex]);
                    xcobjupdate(this.modeldata[$itemindex])
                    this.actunit = $itemindex;


                },
                del: function ($itemindex) {

                    this.modeldata.splice($itemindex, 1);
                },
                moveup: function ($itemindex) {
                    if ($itemindex >= 1) {
                        this.modeldata.splice($itemindex - 1, 0, this.modeldata[$itemindex]);
                        this.modeldata.splice($itemindex + 1, 1);
                        if (this.actunit == $itemindex) {

                            this.actunit = $itemindex - 1;
                        }
                    }
                },
                movedown: function ($itemindex) {
                    if ($itemindex < this.modeldata.length - 1) {
                        this.modeldata.splice($itemindex + 2, 0, this.modeldata[$itemindex]);
                        this.modeldata.splice($itemindex, 1);
                        if (this.actunit == $itemindex) {
                            this.actunit = $itemindex + 1;
                        }
                    }
                }

            }
        }
    )

</script>


<script type="text/javascript">


    function data_set_style($_istyle) {

        var $_actfrom = $("#borderfrom");

        $_actfrom.find("input.slider").each(function () {
            $_temfiled = $(this).attr("data-field");
            switch ($(this).attr("data-type")) {
                case "autoex": {
                    $(this).parent().next().find("button").removeClass("selected");
                    if ($_istyle[$_temfiled]) {

                        if ($_istyle[$_temfiled] == "auto") {
                            $(this).bootstrapSlider('setValue', 0);
                            $(this).bootstrapSlider('disable').attr("disabled", "disabled");
                            $(this).parent().next().find("button").removeClass("selected").eq(0).addClass("selected");
                        }
                        else if ($_istyle[$_temfiled] == "") {
                            $(this).bootstrapSlider('setValue', 0);
                            $(this).bootstrapSlider('disable').attr("disabled", "disabled");
                            $(this).parent().next().find("button").removeClass("selected").eq(1).addClass("selected");
                        }
                        else {
                            $(this).bootstrapSlider('setValue', $_istyle[$_temfiled]["value"]);
                            $(this).bootstrapSlider('enable').removeAttr("disabled");
                        }
                    }
                    else {
                        $(this).bootstrapSlider('setValue', 0);
                        $(this).bootstrapSlider('disable').attr("disabled", "disabled");
                        $(this).parent().next().find("button").removeClass("selected").eq(1).addClass("selected");
                    }
                    break;
                }
                case "noauto": {

                    if ($_istyle[$_temfiled]) {
                        $(this).bootstrapSlider('setValue', $_istyle[$_temfiled]["value"]);
                    }
                    else {
                        $(this).bootstrapSlider('setValue', 0);
                    }
                    break;
                }
                case "noset": {
                    $(this).parent().next().find("button").removeClass("selected");
                    if ($_istyle[$_temfiled]) {

                        if ($_istyle[$_temfiled]["value"] == "" || $_istyle[$_temfiled]["value"] == undefined) {

                            $(this).bootstrapSlider('disable').attr("disabled", "disabled");
                            $(this).parent().next().find("button").removeClass("selected").eq(0).addClass("selected");
                        }
                        else {
                            $(this).bootstrapSlider('enable').removeAttr("disabled");
                            $(this).bootstrapSlider('setValue', $_istyle[$_temfiled]["value"]);
                        }


                    }
                    else {
                        $(this).bootstrapSlider('disable').attr("disabled", "disabled");
                        $(this).bootstrapSlider('setValue', 0);
                        $(this).parent().next().find("button").removeClass("selected").eq(0).addClass("selected");
                    }
                    break;
                }
            }
        })
    }
    function diy_text_set($model) {
        var $_temfiled = "";
        var $_actfrom = $("#" + $model["itype"])
        $_istyle = $model["istyle"];
        $("#opcentcore").show();
        $("#xc_diy_text").show();
        $("#xc_diy_text").siblings().hide();
        $("#borderfrom").attr("data-fun", "diy_text_chage_contents()");
        //一级数据
        $_actfrom.find(".onedata").each(function () {
            $_temfiled = $(this).attr("name");
            if ($model[$_temfiled]) {
                $(this).val($model[$_temfiled]);
            }
            else {
                $(this).val("");
            }
        })
        if ($_istyle) {
        } else {
            $_istyle = {};

        }
        if ($_istyle["font-size"]) {
            $_actfrom.find("[name='font-size']").val($_istyle["font-size"]["value"]);
            $_actfrom.find("[name='unit']").val($_istyle["font-size"]["unit"]);
        }
        else {
            $_actfrom.find("[name='font-size']").val("30");
            $_actfrom.find("[name='unit']").val("rpx");
        }

        $_actfrom.find("button.my-btn").each(function () {
            $_temfiled = $(this).attr("data-field");
            $(this).removeClass("style")
            if ($_istyle[$_temfiled]) {

                if ($_temfiled === "text-align") {
                    if ($_istyle[$_temfiled] === $(this).attr("data-value")) {
                        $(this).addClass("style");
                    }

                }
                else {
                    $(this).addClass("style");
                }
            }
        })
        $_actfrom.find("button.my-btn1").removeClass("style");
        if ($_istyle["text-align"]) {
            $_actfrom.find("button.my-btn1[data-value='" + $_istyle["text-align"] + "']").addClass("style");
        }


        $_actfrom.find(".twodata").each(function () {
            $_temfiled = $(this).attr("data-field");
            switch ($(this).attr("data-type")) {
                case "color": {
                    if ($_istyle[$_temfiled]) {
                        $(this).val($_istyle[$_temfiled]);
                        $(this).next().find("i").css("background-color", $_istyle[$_temfiled]);
                    }
                    else {
                        $(this).val("");
                        $(this).next().find("i").css("background-color", "");
                    }
                    break;
                }
                case "text": {

                    if ($_istyle[$_temfiled]) {
                        $(this).val($_istyle[$_temfiled]);

                    }
                    else {
                        $(this).val("");

                    }

                    break;
                }
                case "select": {
                    if ($_istyle[$_temfiled]) {
                        $(this).val($_istyle[$_temfiled]);
                    }
                    else {
                        $(this).find("option").eq(0).attr("selected", "selected").siblings().removeAttr("selected");
                    }
                    break;
                }
                case "image": {

                    if ($_istyle[$_temfiled]) {
                        $(this).val($_istyle[$_temfiled]);
                        $(this).parent().next().find("img").attr("src", basicimgurl + $_istyle[$_temfiled])
                    }
                    else {
                        $(this).val("");
                        $(this).parent().next().find("img").attr("src", "./resource/images/nopic.jpg")
                    }

                    break;
                }
            }

        })


        $_actfrom.find("input.slider").each(function () {
            $_temfiled = $(this).attr("data-field");
            switch ($(this).attr("data-type")) {
                case "autoex": {
                    if ($_istyle[$_temfiled]) {

                        if ($_istyle[$_temfiled] == "auto") {
                            $(this).bootstrapSlider('disable').attr("disabled", "disabled");
                            $(this).parent().next().find("button").removeClass("selected").eq(0).addClass("selected");
                        }
                        else if ($_istyle[$_temfiled] == "") {
                            $(this).bootstrapSlider('disable').attr("disabled", "disabled");
                            $(this).parent().next().find("button").removeClass("selected").eq(1).addClass("selected");
                        }
                        else {
                            $(this).bootstrapSlider('setValue', $(this).val());
                            $(this).bootstrapSlider('enable').removeAttr("disabled");
                        }
                    }
                    else {
                        $(this).bootstrapSlider('disable').attr("disabled", "disabled");
                        $(this).parent().next().find("button").removeClass("selected").eq(1).addClass("selected");
                    }
                    break;
                }
                case "noauto": {

                    if ($_istyle[$_temfiled]) {
                        $(this).bootstrapSlider('setValue', $(this).val());
                    }
                    else {
                        $(this).bootstrapSlider('setValue', 0);
                    }
                    break;
                }
                case "noset": {
                    if ($_istyle[$_temfiled]) {
                        $(this).bootstrapSlider('setValue', $(this).val());

                    }
                    else {
                        $(this).bootstrapSlider('enable').removeAttr("disabled");
                        $(this).bootstrapSlider('setValue', 0);

                        if ($_istyle[$_temfiled] == "" || $_istyle[$_temfiled] == undefined) {

                            $(this).bootstrapSlider('disable').attr("disabled", "disabled");
                            $(this).parent().next().find("button").removeClass("selected").eq(0).addClass("selected");
                        }

                    }
                    break;
                }
            }
        })
        data_set_style($_istyle);
    }

    function diy_notice_set($model) {
        var $_temfiled = "";
        var $_actfrom = $("#" + $model["itype"])
        $_istyle = $model["istyle"];
        $("#opcentcore").show();
        $_actfrom.show();
        $_actfrom.siblings().hide();
        $("#borderfrom").attr("data-fun", $_actfrom.attr("data-fun"));

        if ($model["icourl"] === undefined || $model["icourl"] === "") {
            $model["icourl"] = basiurljs + "/addons/xc_xinguwu/them/diyimg/notice_1.png";
        }


        //一级数据
        $_actfrom.find(".onedata").each(function () {
            $_temfiled = $(this).attr("name");
            if ($model[$_temfiled]) {
                $(this).val($model[$_temfiled]);

                if ("icourl" == $_temfiled) {

                    if ($model[$_temfiled].indexOf("http") > -1) {
                        $(this).parent().next().find("img").attr("src", $model[$_temfiled])
                    }
                    else {
                        $(this).parent().next().find("img").attr("src", basicimgurl + $model[$_temfiled])
                    }
                }

            }
            else {
                $(this).val("");
            }
        })


        $_actfrom.find("[name='rollingtype']").removeAttr("checked");

        if ($model["rollingtype"]) {
            $_actfrom.find("[name='rollingtype'][value='" + $model["rollingtype"] + "']").prop("checked", "checked");

        }
        else {
            $_actfrom.find("[name='rollingtype']").eq(0).attr("checked", "checked");

        }

        if ($_istyle) {
        } else {
            $_istyle = {};

        }
        if ($_istyle["font-size"]) {
            $_actfrom.find("[name='font-size']").val($_istyle["font-size"]["value"]);
            $_actfrom.find("[name='unit']").val($_istyle["font-size"]["unit"]);
        }
        else {
            $_actfrom.find("[name='font-size']").val("30");
            $_actfrom.find("[name='unit']").val("rpx");
        }

        $_actfrom.find("button.my-btn").each(function () {
            $_temfiled = $(this).attr("data-field");
            $(this).removeClass("style")
            if ($_istyle[$_temfiled]) {

                if ($_temfiled === "text-align") {
                    if ($_istyle[$_temfiled] === $(this).attr("data-value")) {
                        $(this).addClass("style");
                    }

                }
                else {
                    $(this).addClass("style");
                }
            }
        })
        $_actfrom.find("button.my-btn1").removeClass("style");
        if ($_istyle["text-align"]) {
            $_actfrom.find("button.my-btn1[data-value='" + $_istyle["text-align"] + "']").addClass("style");
        }


        var template_html = xc_templates_notice($model["noticedata"]);

        $xmodellistact = $_actfrom.find(".xmodellist");


        $xmodellistact.find(".xmodel").remove();
        $xmodellistact.find(".fullbtn").before(template_html);


        $_actfrom.find(".twodata").each(function () {
            $_temfiled = $(this).attr("data-field");
            switch ($(this).attr("data-type")) {
                case "color": {
                    if ($_istyle[$_temfiled]) {
                        $(this).val($_istyle[$_temfiled]);
                        $(this).next().find("i").css("background-color", $_istyle[$_temfiled]);
                    }
                    else {
                        $(this).val("");
                        $(this).next().find("i").css("background-color", "");
                    }
                    break;
                }
                case "text": {

                    if ($_istyle[$_temfiled]) {
                        $(this).val($_istyle[$_temfiled]);

                    }
                    else {
                        $(this).val("");

                    }

                    break;
                }
                case "select": {
                    if ($_istyle[$_temfiled]) {
                        $(this).val($_istyle[$_temfiled]);
                    }
                    else {
                        $(this).find("option").eq(0).attr("selected", "selected").siblings().removeAttr("selected");
                    }
                    break;
                }
                case "image": {

                    if ($_istyle[$_temfiled]) {
                        $(this).val($_istyle[$_temfiled]);
                        $(this).parent().next().find("img").attr("src", basicimgurl + $_istyle[$_temfiled])
                    }
                    else {
                        $(this).val("");
                        $(this).parent().next().find("img").attr("src", "./resource/images/nopic.jpg")
                    }

                    break;
                }
            }

        })


        $_actfrom.find("input.slider").each(function () {
            $_temfiled = $(this).attr("data-field");
            switch ($(this).attr("data-type")) {
                case "autoex": {
                    if ($_istyle[$_temfiled]) {

                        if ($_istyle[$_temfiled] == "auto") {
                            $(this).bootstrapSlider('disable').attr("disabled", "disabled");
                            $(this).parent().next().find("button").removeClass("selected").eq(0).addClass("selected");
                        }
                        else if ($_istyle[$_temfiled] == "") {
                            $(this).bootstrapSlider('disable').attr("disabled", "disabled");
                            $(this).parent().next().find("button").removeClass("selected").eq(1).addClass("selected");
                        }
                        else {
                            $(this).bootstrapSlider('setValue', $(this).val());
                            $(this).bootstrapSlider('enable').removeAttr("disabled");
                        }
                    }
                    else {
                        $(this).bootstrapSlider('disable').attr("disabled", "disabled");
                        $(this).parent().next().find("button").removeClass("selected").eq(1).addClass("selected");
                    }
                    break;
                }
                case "noauto": {

                    if ($_istyle[$_temfiled]) {
                        $(this).bootstrapSlider('setValue', $(this).val());
                    }
                    else {
                        $(this).bootstrapSlider('setValue', 0);
                    }
                    break;
                }
                case "noset": {
                    if ($_istyle[$_temfiled]) {
                        $(this).bootstrapSlider('setValue', $(this).val());

                    }
                    else {
                        $(this).bootstrapSlider('enable').removeAttr("disabled");
                        $(this).bootstrapSlider('setValue', 0);

                        if ($_istyle[$_temfiled] == "" || $_istyle[$_temfiled] == undefined) {

                            $(this).bootstrapSlider('disable').attr("disabled", "disabled");
                            $(this).parent().next().find("button").removeClass("selected").eq(0).addClass("selected");
                        }

                    }
                    break;
                }
                case "interval": {
                    if ($_istyle[$_temfiled]) {
                        $(this).bootstrapSlider('setValue', $(this).val());

                    }
                    else {
                        $(this).bootstrapSlider('enable').removeAttr("disabled");
                        $(this).bootstrapSlider('setValue', 3);


                    }
                    break;
                }
            }
        })
        data_set_style($_istyle);
    }


    function diy_img_num_col_set($model) {

        console.log($model);

        var $_temfiled = "";
        var $_actfrom = $("#" + $model["itype"])
        $_istyle = $model["istyle"];
        $imgstyle = $model["imgstyle"];
        $("#opcentcore").show();
        $("#diy_img_num_col").show();
        $("#diy_img_num_col").siblings().hide();
        $("#borderfrom").attr("data-fun", $_actfrom.attr("data-fun"));


        //一般ul 单选
        $_actfrom.find(".oneselect").each(function () {
            $(this).children().removeClass("selectedborder")
            if ($model[$(this).attr("data-field")]) {
                $(this).find("[data-value='" + $model[$(this).attr("data-field")] + "']").addClass("selectedborder")
            }
        })


        if ($model["imgslist"] && $model["imgslist"].length > 0) {
            $imgshtml = xc_templates_imglist(JSON.parse(JSON.stringify($model["imgslist"])));
            $xmodellistact = $_actfrom.find(".xmodellist");


            $xmodellistact.find(".xmodel").remove();
            $xmodellistact.find(".fullbtn").before($imgshtml);

        }
        if ($_istyle) {
        } else {
            $_istyle = {};

        }
        $_actfrom.find("button.my-btn").each(function () {
            $_temfiled = $(this).attr("data-field");
            $(this).removeClass("style")
            if ($_istyle[$_temfiled]) {

                if ($_temfiled === "text-align") {
                    if ($_istyle[$_temfiled] === $(this).attr("data-value")) {
                        $(this).addClass("style");
                    }

                }
                else {
                    $(this).addClass("style");
                }
            }
        })
        $_actfrom.find("button.my-btn1").removeClass("style");
        if ($_istyle["text-align"]) {
            $_actfrom.find("button.my-btn1[data-value='" + $_istyle["text-align"] + "']").addClass("style");
        }


        $_actfrom.find(".twodata").each(function () {
            $_temfiled = $(this).attr("data-field");
            switch ($(this).attr("data-type")) {
                case "color": {
                    if ($_istyle[$_temfiled]) {
                        $(this).val($_istyle[$_temfiled]);
                        $(this).next().find("i").css("background-color", $_istyle[$_temfiled]);
                    }
                    else {
                        $(this).val("");
                        $(this).next().find("i").css("background-color", "");
                    }
                    break;
                }
                case "text": {

                    if ($_istyle[$_temfiled]) {
                        $(this).val($_istyle[$_temfiled]);

                    }
                    else {
                        $(this).val("");

                    }

                    break;
                }
                case "select": {
                    if ($_istyle[$_temfiled]) {
                        $(this).val($_istyle[$_temfiled]);
                    }
                    else {
                        $(this).find("option").eq(0).attr("selected", "selected").siblings().removeAttr("selected");
                    }
                    break;
                }
                case "image": {

                    if ($_istyle[$_temfiled]) {
                        $(this).val($_istyle[$_temfiled]);
                        $(this).parent().next().find("img").attr("src", basicimgurl + $_istyle[$_temfiled])
                    }
                    else {
                        $(this).val("");
                        $(this).parent().next().find("img").attr("src", "./resource/images/nopic.jpg")
                    }

                    break;
                }
            }

        })


        $_actfrom.find("input.slider").each(function () {
            $_temfiled = $(this).attr("data-field");
            switch ($(this).attr("data-type")) {
                case "autoex": {
                    if ($_istyle[$_temfiled]) {

                        if ($_istyle[$_temfiled] == "auto") {
                            $(this).bootstrapSlider('disable').attr("disabled", "disabled");
                            $(this).parent().next().find("button").removeClass("selected").eq(0).addClass("selected");
                        }
                        else if ($_istyle[$_temfiled] == "") {
                            $(this).bootstrapSlider('disable').attr("disabled", "disabled");
                            $(this).parent().next().find("button").removeClass("selected").eq(1).addClass("selected");
                        }
                        else {
                            $(this).bootstrapSlider('setValue', $_istyle[$_temfiled]["value"]);
                            $(this).bootstrapSlider('enable').removeAttr("disabled");
                        }
                    }
                    else {
                        $(this).bootstrapSlider('disable').attr("disabled", "disabled");
                        $(this).parent().next().find("button").removeClass("selected").eq(1).addClass("selected");
                    }
                    break;
                }
                case "noauto": {

                    if ($_istyle[$_temfiled]) {
                        $(this).bootstrapSlider('setValue', $(this).val());
                    }
                    else {
                        $(this).bootstrapSlider('setValue', 0);
                    }
                    break;
                }
                case "noset": {
                    if ($_istyle[$_temfiled]) {
                        $(this).bootstrapSlider('setValue', $(this).val());

                    }
                    else {
                        $(this).bootstrapSlider('enable').removeAttr("disabled");
                        $(this).bootstrapSlider('setValue', 0);

                        if ($_istyle[$_temfiled] == "" || $_istyle[$_temfiled] == undefined) {

                            $(this).bootstrapSlider('disable').attr("disabled", "disabled");
                            $(this).parent().next().find("button").removeClass("selected").eq(0).addClass("selected");
                        }
                    }
                    break;
                }
                case "imgstyle": {

                    if ($imgstyle[$_temfiled]) {
                        $(this).bootstrapSlider('setValue', $imgstyle[$_temfiled]["value"]);
                    }
                    else {
                        $(this).bootstrapSlider('setValue', 0);
                    }
                    break;
                }
            }
        })
        data_set_style($_istyle);
    }
    function diy_img_num_mofu_set($model) {

        var $_temfiled = "";
        var $_actfrom = $("#" + $model["itype"])
        $_istyle = $model["istyle"];
        $imgstyle = $model["imgstyle"];
        $("#opcentcore").show();
        $_actfrom.show();
        $_actfrom.siblings().hide();
        $("#borderfrom").attr("data-fun", $_actfrom.attr("data-fun"));

        //一般ul 单选
        $_actfrom.find(".oneselect").each(function () {
            $(this).children().removeClass("selectedborder")
            if ($model[$(this).attr("data-field")]) {
                $(this).find("[data-value='" + $model[$(this).attr("data-field")] + "']").addClass("selectedborder")
            }
        })
        $xmodellistact = $_actfrom.find(".xmodellist");
        $xmodellistact.find(".xmodel").remove();
        if ($model["imgslist"] && $model["imgslist"].length > 0) {
            $imgshtml = xc_templates_imglist(JSON.parse(JSON.stringify($model["imgslist"])), $model["col"], false);

            $xmodellistact.find(".fullbtn").before($imgshtml);
        }
        if ($_istyle) {
        } else {
            $_istyle = {};

        }
        $_actfrom.find(".twodata").each(function () {
            $_temfiled = $(this).attr("data-field");
            switch ($(this).attr("data-type")) {
                case "color": {
                    if ($_istyle[$_temfiled]) {
                        $(this).val($_istyle[$_temfiled]);
                        $(this).next().find("i").css("background-color", $_istyle[$_temfiled]);
                    }
                    else {
                        $(this).val("");
                        $(this).next().find("i").css("background-color", "");
                    }
                    break;
                }
                case "text": {

                    if ($_istyle[$_temfiled]) {
                        $(this).val($_istyle[$_temfiled]);

                    }
                    else {
                        $(this).val("");

                    }

                    break;
                }
                case "select": {
                    if ($_istyle[$_temfiled]) {
                        $(this).val($_istyle[$_temfiled]);
                    }
                    else {
                        $(this).find("option").eq(0).attr("selected", "selected").siblings().removeAttr("selected");
                    }
                    break;
                }
                case "image": {

                    if ($_istyle[$_temfiled]) {
                        $(this).val($_istyle[$_temfiled]);
                        $(this).parent().next().find("img").attr("src", basicimgurl + $_istyle[$_temfiled])
                    }
                    else {
                        $(this).val("");
                        $(this).parent().next().find("img").attr("src", "./resource/images/nopic.jpg")
                    }

                    break;
                }
            }

        })


        $_actfrom.find("input.slider").each(function () {
            $_temfiled = $(this).attr("data-field");

            switch ($(this).attr("data-type")) {
                case "autoex": {

                    if ($_istyle[$_temfiled]) {

                        if ($_istyle[$_temfiled] == "auto") {
                            $(this).bootstrapSlider('disable').attr("disabled", "disabled");
                            $(this).parent().next().find("button").removeClass("selected").eq(0).addClass("selected");
                        }
                        else if ($_istyle[$_temfiled] == "") {
                            $(this).bootstrapSlider('disable').attr("disabled", "disabled");
                            $(this).parent().next().find("button").removeClass("selected").eq(1).addClass("selected");
                        }
                        else {
                            $(this).bootstrapSlider('setValue', $_istyle[$_temfiled]["value"]);
                            $(this).bootstrapSlider('enable').removeAttr("disabled");
                        }
                    }
                    else {

                        $(this).bootstrapSlider('disable').attr("disabled", "disabled");
                        $(this).parent().next().find("button").removeClass("selected").eq(1).addClass("selected");


                        return;
                    }
                    break;
                }
                case "noauto": {

                    if ($_istyle[$_temfiled]) {
                        $(this).bootstrapSlider('setValue', $(this).val());
                    }
                    else {
                        $(this).bootstrapSlider('setValue', 0);
                    }
                    break;
                }
                case "noset": {
                    if ($_istyle[$_temfiled]) {
                        $(this).bootstrapSlider('setValue', $(this).val());

                    }
                    else {
                        $(this).bootstrapSlider('enable').removeAttr("disabled");
                        $(this).bootstrapSlider('setValue', 0);

                        if ($_istyle[$_temfiled] == "" || $_istyle[$_temfiled] == undefined) {

                            $(this).bootstrapSlider('disable').attr("disabled", "disabled");
                            $(this).parent().next().find("button").removeClass("selected").eq(0).addClass("selected");
                        }
                    }
                    break;
                }
                case "imgstyle": {
                    if ($imgstyle) {
                        if ($imgstyle[$_temfiled]) {
                            $(this).bootstrapSlider('setValue', $imgstyle[$_temfiled]["value"]);
                        }
                        else {
                            $(this).bootstrapSlider('setValue', 0);
                        }
                    }
                    break;
                }
            }
        })
        data_set_style($_istyle);
    }


    function xcobjadd($comkey) {


        switch ($comkey) {
            case "xc_diy_text": {

                var textmodel = componentdefalut["xc_diy_text"];
                uephone.modeldata.push(textmodel);
                uephone.actunit = uephone.modeldata.length - 1;
                diy_text_set(textmodel)
                break;
            }
            case "diy_img_num_col": {
                var imgmodel = componentdefalut["diy_img_num_col"];
                uephone.modeldata.push(imgmodel);
                uephone.actunit = uephone.modeldata.length - 1;
                diy_img_num_col_set(imgmodel)
                break;
            }
            case "diy_img_num_mofu": {
                var imgmodel = componentdefalut["diy_img_num_mofu"];
                uephone.modeldata.push(imgmodel);
                uephone.actunit = uephone.modeldata.length - 1;
                diy_img_num_mofu_set(imgmodel)
                break;
            }

            case "diy_notice": {
                var imgmodel = componentdefalut["diy_notice"];
                uephone.modeldata.push(imgmodel);
                uephone.actunit = uephone.modeldata.length - 1;
                diy_notice_set(imgmodel)
                break;
            }

        }
    }

    function xcobjupdate($model) {
        switch ($model["itype"]) {
            case "xc_diy_text": {
                diy_text_set($model);
                break;
            }
            case "diy_img_num_col": {
                diy_img_num_col_set($model)
                break;
            }
            case "diy_img_num_mofu": {
                diy_img_num_mofu_set($model)
                break;
            }
            case "diy_notice": {
                diy_notice_set($model)
                break;
            }
        }
    }
    //上下左右对舞台的操作
    document.onkeydown = function (event) {
//37左 38 上 39右 40下
        var e = event || window.event || arguments.callee.caller.arguments[0];
        if (e) {
            switch (e.keyCode) {

                case 37: {     //37左
                    break;
                }
                case 38: {  //38 上
                    if (uephone.actunit >= 1) {
                        uephone.modeldata.splice(uephone.actunit - 1, 0, uephone.modeldata[uephone.actunit]);
                        uephone.modeldata.splice(uephone.actunit + 1, 1);
                        uephone.actunit--;
                    }

                    break;
                }
                case 39: { //39右
                    break;
                }
                case 40: {  //40下
                    if (uephone.actunit >= 0) {
                        if (uephone.actunit < uephone.modeldata.length - 1) {
                            uephone.modeldata.splice(uephone.actunit + 2, 0, uephone.modeldata[uephone.actunit]);
                            uephone.modeldata.splice(uephone.actunit, 1);
                            uephone.actunit++;
                        }
                    }
                    break;
                }
                case 46: { //46删除
                    if (uephone.actunit != -1) {
                        uephone.modeldata.splice(uephone.actunit, 1);
                        if (uephone.actunit == (uephone.modeldata.length )) {
                            uephone.actunit--;
                        }
                    }
                    break;
                }
            }
        }

    };

    $("#opcentcorechildss").on("input", "input[name='title'],input[name='font-size'],input[name='path'],input[name='background-image'],input[name='width'],input[name='appid'],.chageinput", function () {
        eval($(this).closest("form").attr("data-fun"));
    })

    $("#opcentcorechildss").on("change", "select,input[name='font-size'],input[name='background-image'],.chageinput", function () {
        eval($(this).closest("form").attr("data-fun"));
    })


    function borderfromsyle($model) {

        var istyle = $model["istyle"];
        $("#borderfrom").find(".data_style").each(function () {
            if ($(this).is(":disabled")) {

                tempselected = $(this).parent().next().find(".selected").attr("data-value");
                if (tempselected != "") {
                    istyle[$(this).attr("data-field")] = tempselected;
                }
            }
            else {

                if ($(this).val() != "") {
                    if ($(this).attr("data-unit")) {
                        istyle[$(this).attr("data-field")] = {};
                        istyle[$(this).attr("data-field")]["value"] = $(this).val();
                        istyle[$(this).attr("data-field")]["unit"] = $(this).attr("data-unit");
                        istyle[$(this).attr("data-field")]["type"] = "size";
                    }
                    else {
                        istyle[$(this).attr("data-field")] = $(this).val();
                    }
                }
            }
        })
        $model["istyle"] = istyle;
        return $model;
    }

</script>

<script type="text/javascript">

    var mofangdata = {}
    mofangdata["img_num_mofu_1"] = [{x: [1, 2], y: [1, 1]}, {x: [1, 2], y: [1, 2]}, {x: [1, 2], y: [1, 2]}];
    mofangdata["img_num_mofu_2"] = [{x: [1, 2], y: [1, 1]}, {x: [1, 2], y: [1, 2]}, {x: [1, 2], y: [1, 4]}, {
        x: [1, 2],
        y: [1, 4]
    }];
    mofangdata["img_num_mofu_3"] = [{x: [1, 2], y: [1, 1]}, {x: [1, 2], y: [1, 3]}, {x: [1, 2], y: [1, 3]}, {
        x: [1, 2],
        y: [1, 3]
    }];
    mofangdata["img_num_mofu_4"] = [{x: [1, 2], y: [1, 1]}, {x: [1, 2], y: [1, 3]}, {x: [1, 4], y: [2, 3]}, {
        x: [1, 4],
        y: [2, 3]
    }];
    mofangdata["img_num_mofu_5"] = [{x: [1, 2], y: [1, 1]}, {x: [1, 2], y: [1, 2]}, {x: [1, 4], y: [1, 2]}, {
        x: [1, 4],
        y: [1, 2]
    }];
    mofangdata["img_num_mofu_6"] = [{x: [1, 2], y: [1, 1]}, {x: [1, 2], y: [1, 4]}, {x: [1, 2], y: [1, 4]}, {
        x: [1, 2],
        y: [1, 4]
    }, {x: [1, 2], y: [1, 4]}];


    function restdiy_img_num_col_imghegith(obj) {
        $_opobj = $(obj);
        var $imgheight = $_opobj.closest("form").find(".imgheight")
        $imgheight.bootstrapSlider('setValue', $(obj).attr("data-height"));

    }
    function diy_text_chage_contents() {
        var model = {};
        $attrdata = $("#xc_diy_text").serializeArray()
        for (var i = 0; i < $attrdata.length; i++) {
            model[$attrdata[i]["name"]] = $attrdata[i]["value"];
            //  model[$attrdata[0]];
        }

        var istyle = {};

        $(".op-style").find("button").each(function () {
            if ($(this).hasClass("style")) {
                istyle[$(this).attr("data-field")] = $(this).attr("data-value");
            }
        })

        var fontsize = {};

        fontsize["value"] = model["font-size"];
        fontsize["unit"] = model["unit"];
        fontsize["type"] = "size"; //尺寸方便处理单位
        istyle["font-size"] = fontsize;
        delete model["font-size"];
        delete model["unit"];
        model["itype"] = "xc_diy_text";
        var tempselected = "";
        $("#xc_diy_text .data_style").each(function () {
            if ($(this).is(":disabled")) {
                tempselected = $(this).parent().next().find(".selected").attr("data-value");
                if (tempselected != "") {
                    istyle[$(this).attr("data-field")] = tempselected;
                }
            }
            else {

                if ($(this).val() != "") {

                    if ($(this).attr("data-unit")) {
                        istyle[$(this).attr("data-field")] = {};
                        istyle[$(this).attr("data-field")]["value"] = $(this).val();
                        istyle[$(this).attr("data-field")]["unit"] = $(this).attr("data-unit");
                        istyle[$(this).attr("data-field")]["type"] = "size";
                    }
                    else {
                        istyle[$(this).attr("data-field")] = $(this).val();
                    }
                }
            }
        })
        model["istyle"] = istyle;
        model = borderfromsyle(model);
        uephone.modeldata.splice(uephone.actunit, 1, model);
    }
    function diy_notice_chage_contents(from) {

        $actfrom = $(from);
        var model = {};
        $attrdata = $actfrom.serializeArray()
        for (var i = 0; i < $attrdata.length; i++) {
            model[$attrdata[i]["name"]] = $attrdata[i]["value"];
        }

        /// noticedata

        var istyle = {};

        $(".op-style").find("button").each(function () {
            if ($(this).hasClass("style")) {
                istyle[$(this).attr("data-field")] = $(this).attr("data-value");
            }
        })

        if (model["icourl"] === undefined || model["icourl"] === "") {
            model["icourl"] = basiurljs + "/addons/xc_xinguwu/them/diyimg/notice_1.png";
        }
        else
        {
            if (model["icourl"].indexOf("http") == -1) {
                model["icourl"]= basicimgurl + model["icourl"];
            }
        }





        var fontsize = {};

        fontsize["value"] = model["font-size"];
        fontsize["unit"] = model["unit"];
        fontsize["type"] = "size"; //尺寸方便处理单位
        istyle["font-size"] = fontsize;
        delete model["font-size"];
        delete model["unit"];
        model["itype"] = "diy_notice";
        var tempselected = "";
        $actfrom.find(".data_style").each(function () {
            if ($(this).is(":disabled")) {
                tempselected = $(this).parent().next().find(".selected").attr("data-value");
                if (tempselected != "") {
                    istyle[$(this).attr("data-field")] = tempselected;
                }
            }
            else {

                if ($(this).val() != "") {

                    if ($(this).attr("data-unit")) {
                        istyle[$(this).attr("data-field")] = {};
                        istyle[$(this).attr("data-field")]["value"] = $(this).val();
                        istyle[$(this).attr("data-field")]["unit"] = $(this).attr("data-unit");
                        istyle[$(this).attr("data-field")]["type"] = "size";
                    }
                    else {
                        istyle[$(this).attr("data-field")] = $(this).val();
                    }
                }
            }
        })
        $actfrom.find(".xmodellist").each(function () {
                var $modelistname = $(this).attr("data-field");
                var temmodellist = [];
                $(this).find(".xmodel").each(function (_index) {
                    var temmdoel = {};
                    $(this).find("input").each(function () {
                        temmdoel[$(this).attr("data-field")] = $(this).val();
                    })
                    temmodellist.push(temmdoel);
                })
                model[$modelistname] = temmodellist;
            }
        )

        console.log(model);

        model["istyle"] = istyle;
        model = borderfromsyle(model);
        uephone.modeldata.splice(uephone.actunit, 1, model);
    }


    function diy_img_num_col_chage_contents(from) {


        $actfrom = $(from);
        var model = {};
        var istyle = {};


        var imgstyle = {};
        $actfrom.find(".oneselect").each(function () {
            model[$(this).attr("data-field")] = $(this).find(".selectedborder").attr("data-value");
            if ($(this).attr("data-field") == "cid") {
                model["col"] = $(this).find(".selectedborder").attr("data-col");
            }

        })


        model["itype"] = "diy_img_num_col";
        var tempselected = "";
        $actfrom.find(".data_style").each(function () {
            if ($(this).is(":disabled")) {
                tempselected = $(this).parent().next().find(".selected").attr("data-value");
                if (tempselected != "") {
                    istyle[$(this).attr("data-field")] = tempselected;
                }
            }
            else {
                if ($(this).val() != "") {
                    if ($(this).attr("data-unit")) {
                        istyle[$(this).attr("data-field")] = {};
                        istyle[$(this).attr("data-field")]["value"] = $(this).val();
                        istyle[$(this).attr("data-field")]["unit"] = $(this).attr("data-unit");
                        istyle[$(this).attr("data-field")]["type"] = "size";
                    }
                    else {
                        istyle[$(this).attr("data-field")] = $(this).val();
                    }
                }
            }
        })
        var img_style = {}
        $actfrom.find(".img_style").each(function () {
            if ($(this).is(":disabled")) {
                tempselected = $(this).parent().next().find(".selected").attr("data-value");
                if (tempselected != "") {
                    img_style[$(this).attr("data-field")] = tempselected;
                }
            }
            else {
                if ($(this).val() != "") {
                    if ($(this).attr("data-unit")) {
                        img_style[$(this).attr("data-field")] = {};
                        img_style[$(this).attr("data-field")]["value"] = $(this).val();
                        img_style[$(this).attr("data-field")]["unit"] = $(this).attr("data-unit");
                        img_style[$(this).attr("data-field")]["type"] = "size";
                    }
                    else {
                        img_style[$(this).attr("data-field")] = $(this).val();
                    }
                }
            }
        })
        model["imgstyle"] = img_style;
        model["istyle"] = istyle;
        model = borderfromsyle(model);
        var $picwitd = (model["istyle"]["width"] == undefined ? 750 : model["istyle"]["width"]["value"]);
        var padmarlefr = parseInt(model["istyle"]["padding-left"] ? model["istyle"]["padding-left"]["value"] : 0) + parseInt(model["istyle"]["padding-right"] ? model["istyle"]["padding-right"]["value"] : 0) + parseInt(model["istyle"]["margin-left"] ? model["istyle"]["margin-left"]["value"] : 0) + parseInt(model["istyle"]["padding-right"] ? model["istyle"]["padding-right"]["value"] : 0);
        $picwitd = $picwitd - padmarlefr;
        _spacing = img_style["spacing"] ? img_style["spacing"]["value"] : 0;
        $_height = (img_style["height"] == undefined ? 0 : img_style["height"]["value"]);
        if (model["col"] !== 1) {
            $picwitd = $picwitd - _spacing * (model["col"] - 1)

            $_height = $_height - (_spacing * (model["col"] - 1) / model["col"])
            $_height = $_height - padmarlefr / model["col"];
        }

        $_width = $picwitd / model["col"];


//
        //   $picwitd-

        //   spacing
        var $_imgwidth = {};
        $_imgwidth["unit"] = "rpx";
        $_imgwidth["type"] = "size";
        $_imgwidth["value"] = $_width;
        model["imgwidth"] = $_imgwidth;


        var $_imgheight = {};
        $_imgheight["unit"] = "rpx";
        $_imgheight["type"] = "size";
        $_imgheight["value"] = $_height;


        $actfrom.find(".xmodellist").each(function () {
                var $modelistname = $(this).attr("data-field");
                var temmodellist = [];
                $(this).find(".xmodel").each(function (_index) {
                    var temmdoel = {};
                    temmdoel["style"] = {};
                    temmdoel["style"]["width"] = $_imgwidth;
                    temmdoel["style"]["height"] = $_imgheight;

                    if ((_index + 1) % model["col"] != 0) {
                        temmdoel["style"]["margin-right"] = img_style["spacing"];

                    }
                    $(this).find("input").each(function () {
                        temmdoel[$(this).attr("data-field")] = $(this).val();
                    })
                    temmodellist.push(temmdoel);
                })
                model[$modelistname] = temmodellist;
            }
        )


        console.log(model);

        console.log("_________________________");

        uephone.modeldata.splice(uephone.actunit, 1, model);
    }
    function diy_img_num_mofu_contents(from) {
        $actfrom = $(from);
        var model = {};
        var istyle = {};
        var imgstyle = {};
        $actfrom.find(".oneselect").each(function () {
            model[$(this).attr("data-field")] = $(this).find(".selectedborder").attr("data-value");
            if ($(this).attr("data-field") == "cid") {
                model["col"] = $(this).find(".selectedborder").attr("data-col");
            }
        })
        $showlen = $actfrom.find(".xmodellist").find(".unitimg").length;

        if ($showlen < model["col"]) {
            $imgshtml = xc_templates_imglist([], model["col"] - $showlen, false);

            $xmodellistact.find(".fullbtn").before($imgshtml);

        }
        else if ($showlen > model["col"]) {

            $xmodellistobj = $actfrom.find(".xmodellist").find(".unitimg");

            for (var i = $showlen; i > model["col"]; i--) {
                $xmodellistobj.eq(i - 1).remove();
            }

        }


        model["itype"] = "diy_img_num_mofu";
        var tempselected = "";
        $actfrom.find(".data_style").each(function () {
            if ($(this).is(":disabled")) {
                tempselected = $(this).parent().next().find(".selected").attr("data-value");
                if (tempselected != "") {
                    istyle[$(this).attr("data-field")] = tempselected;
                }
            }
            else {
                if ($(this).val() != "") {
                    if ($(this).attr("data-unit")) {
                        istyle[$(this).attr("data-field")] = {};
                        istyle[$(this).attr("data-field")]["value"] = $(this).val();
                        istyle[$(this).attr("data-field")]["unit"] = $(this).attr("data-unit");
                        istyle[$(this).attr("data-field")]["type"] = "size";
                    }
                    else {
                        istyle[$(this).attr("data-field")] = $(this).val();
                    }
                }
            }
        })
        var img_style = {}
        $actfrom.find(".img_style").each(function () {
            if ($(this).is(":disabled")) {
                tempselected = $(this).parent().next().find(".selected").attr("data-value");
                if (tempselected != "") {
                    img_style[$(this).attr("data-field")] = tempselected;
                }
            }
            else {
                if ($(this).val() != "") {
                    if ($(this).attr("data-unit")) {
                        img_style[$(this).attr("data-field")] = {};
                        img_style[$(this).attr("data-field")]["value"] = $(this).val();
                        img_style[$(this).attr("data-field")]["unit"] = $(this).attr("data-unit");
                        img_style[$(this).attr("data-field")]["type"] = "size";
                    }
                    else {
                        img_style[$(this).attr("data-field")] = $(this).val();
                    }
                }
            }
        })
        model["imgstyle"] = img_style;
        model["istyle"] = istyle;
        model = borderfromsyle(model);
        var $picwitd = (model["istyle"]["width"] == undefined ? 750 : model["istyle"]["width"]["value"]);
        var padmarlefr = parseInt(model["istyle"]["padding-left"] ? model["istyle"]["padding-left"]["value"] : 0) + parseInt(model["istyle"]["padding-right"] ? model["istyle"]["padding-right"]["value"] : 0) + parseInt(model["istyle"]["margin-left"] ? model["istyle"]["margin-left"]["value"] : 0) + parseInt(model["istyle"]["padding-right"] ? model["istyle"]["padding-right"]["value"] : 0);

        $_height = (img_style["height"] == undefined ? 0 : img_style["height"]["value"]);


        $picwitd = $picwitd - padmarlefr;
        _spacing = img_style["spacing"] ? img_style["spacing"]["value"] : 0;

        if (model["col"] !== 1) {
            $picwitd = $picwitd - _spacing * (model["col"] - 1)
            $_height = $_height - (_spacing * (model["col"] - 1) / model["col"])
            $_height = $_height - padmarlefr / model["col"];
        }

        // $_width = $picwitd / model["col"];
        $_width = $picwitd;
        var $_imgwidth = {};
        $_imgwidth["unit"] = "rpx";
        $_imgwidth["type"] = "size";
        $_imgwidth["value"] = $_width;
        model["imgwidth"] = $_imgwidth;


        var $_imgheight = {};
        $_imgheight["unit"] = "rpx";
        $_imgheight["type"] = "size";
        $_imgheight["value"] = $_height;
        var $_imgwidthjsonstr = JSON.stringify($_imgwidth);
        var $_imgheightjsonstr = JSON.stringify($_imgheight);

        $actfrom.find(".xmodellist").each(function () {
                var $modelistname = $(this).attr("data-field");
                var temmodellist = [];
                $(this).find(".xmodel").each(function (_index) {

                    var temmdoel = {};
                    var $_imgwidth_tem = {};
                    var $_imgheight_tem = {};
                    $_imgwidth_tem = JSON.parse($_imgwidthjsonstr);
                    $_imgheight_tem = JSON.parse($_imgheightjsonstr);


                    $_imgwidth_tem["value"] = $_imgwidth_tem["value"] * mofangdata[model["cid"]][_index]["x"][0] / mofangdata[model["cid"]][_index]["x"][1]
                    $_imgheight_tem["value"] = $_imgheight_tem["value"] * mofangdata[model["cid"]][_index]["y"][0] / mofangdata[model["cid"]][_index]["y"][1]
                    temmdoel["istyle"] = {};

                    temmdoel["istyle"]["width"] = $_imgwidth_tem;
                    temmdoel["istyle"]["height"] = $_imgheight_tem;


                    $(this).find("input").each(function () {
                        temmdoel[$(this).attr("data-field")] = $(this).val();
                    })
                    //   console.log(JSON.stringify(temmdoel) );


                    temmodellist.push(temmdoel);
                })
                model[$modelistname] = temmodellist;
            }
        )


        uephone.modeldata.splice(uephone.actunit, 1, model);
    }

</script>

<script type="text/javascript">

    $(function () {

        $(".all-child .child").click(function () {
            $comkey = $(this).attr("data-value");
            xcobjadd($comkey);
        })

        $('.xccolorpicker').colorpicker();

    })

</script>

</body>
</html>

