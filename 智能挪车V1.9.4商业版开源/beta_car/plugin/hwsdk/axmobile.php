<?php
 class huawei { protected $url = "\150\x74\164\x70\x73\x3a\x2f\57\162\x74\x63\141\x70\x69\x2e\143\x6e\55\156\x6f\162\x74\x68\x2d\61\x2e\x6d\171\x68\x75\141\167\x65\151\x63\154\157\x75\144\56\x63\x6f\155\72\x31\62\x35\x34\x33\x2f\x72\145\x73\x74\x2f\x70\x72\157\166\151\x73\x69\157\x6e\57\x63\141\x61\x73\57\x70\x72\x69\x76\x61\x74\145\x6e\x75\155\142\x65\162\x2f\166\x31\56\60"; public $APP_KEY; public $APP_SECRET; public function bind($origNum, $time = 0, $audio = '') { goto pW4bg; sYo6k: $t = ihttp_request($this->url, $data, $headers); goto fbnMc; fbnMc: return $t["\143\x6f\156\164\x65\156\164"]; goto dPGq9; pW4bg: $data = json_encode(["\157\162\x69\x67\x4e\165\x6d" => "\x2b\x38\x36" . $origNum, "\x61\162\x65\141\103\157\144\145" => "\60\x37\65\65", "\141\162\145\141\x4d\x61\x74\143\x68\115\x6f\x64\145" => "\x31", "\160\x72\x69\x76\x61\164\x65\x4e\165\x6d\x54\171\160\x65" => "\x6d\x6f\x62\151\154\x65\x2d\166\x69\x72\164\x75\x61\x6c", "\143\x61\154\154\x65\145\116\x75\x6d\104\x69\x73\160\154\141\x79" => "\x30", "\x6d\x61\170\x44\165\x72\141\164\x69\x6f\x6e" => $time, "\x70\x72\x65\x56\157\x69\x63\x65" => ["\x63\141\x6c\154\145\162\x48\x69\x6e\164\124\157\x6e\145" => $audio, "\x63\141\x6c\x6c\145\x65\110\x69\x6e\x74\x54\157\156\145" => $audio]]); goto hTuvZ; hTuvZ: $headers = ["\x43\125\122\114\117\120\x54\x5f\110\124\124\120\x48\x45\x41\x44\105\122" => ["\101\x63\x63\x65\x70\x74\72\40\x61\x70\160\x6c\x69\143\x61\x74\151\157\156\57\152\x73\157\x6e", "\x43\x6f\156\x74\x65\156\164\55\x54\171\160\145\72\40\141\x70\160\x6c\x69\143\141\164\x69\x6f\156\57\x6a\163\x6f\x6e\73\x63\150\x61\162\163\x65\x74\75\x55\124\106\55\70", "\101\165\x74\x68\x6f\x72\x69\x7a\x61\x74\151\x6f\156\72\40\x57\x53\123\105\40\162\x65\141\x6c\155\x3d\x22\123\x44\120\x22\54\160\x72\157\x66\x69\154\145\x3d\42\x55\163\x65\162\x6e\x61\x6d\x65\124\157\x6b\x65\156\42\54\x74\171\160\145\x3d\x22\101\160\x70\x6b\145\171\x22", "\130\55\127\x53\x53\x45\72\x20" . $this->buildWsseHeader($this->APP_KEY, $this->APP_SECRET)]]; goto sYo6k; dPGq9: } public function outbind($id) { $data = http_build_query(["\x73\165\x62\x73\x63\x72\151\160\164\151\157\x6e\x49\x64" => $id]); return $this->get($data); } public function buildWsseHeader($appKey, $appSecret) { goto OArja; IwLEG: $nonce = uniqid(); goto TIOaR; mdeEW: $Created = date("\x59\x2d\x6d\55\x64\x5c\124\x48\72\x69\72\x73\x5c\132"); goto IwLEG; OArja: date_default_timezone_set("\125\124\x43"); goto mdeEW; w3aEZ: return sprintf("\x55\x73\x65\x72\156\x61\x6d\x65\x54\157\x6b\145\x6e\40\x55\163\145\x72\x6e\x61\155\x65\75\x22\45\163\42\54\120\x61\163\x73\x77\x6f\162\144\x44\151\x67\145\163\164\x3d\x22\x25\163\x22\54\116\x6f\x6e\143\145\x3d\42\x25\163\42\54\x43\162\x65\141\x74\x65\144\75\42\x25\163\x22", $appKey, $base64, $nonce, $Created); goto oiraN; TIOaR: $base64 = base64_encode(hash("\163\150\141\62\65\66", $nonce . $Created . $appSecret, TRUE)); goto w3aEZ; oiraN: } public function get($data) { goto SK5s4; UGnMd: $url = $this->url . "\x3f" . $data; goto tdv2J; SK5s4: $headers = ["\101\143\x63\145\160\x74\72\40\141\160\x70\x6c\x69\143\x61\x74\x69\157\x6e\57\x6a\163\157\x6e", "\x43\x6f\156\164\x65\x6e\164\55\x54\171\160\x65\72\40\x61\160\160\x6c\151\143\141\164\151\x6f\156\57\x6a\x73\157\156\73\143\x68\x61\x72\163\x65\x74\x3d\125\124\106\55\70", "\x41\x75\164\150\157\x72\151\x7a\141\164\151\157\156\72\x20\x57\123\123\x45\x20\162\x65\141\154\x6d\75\42\x53\104\120\42\54\160\x72\157\x66\151\154\x65\x3d\x22\125\163\145\x72\x6e\141\155\x65\x54\x6f\x6b\145\156\x22\54\164\171\x70\x65\75\42\x41\x70\160\153\145\171\42", "\x58\x2d\x57\123\x53\105\72\40" . $this->buildWsseHeader($this->APP_KEY, $this->APP_SECRET)]; goto LO2Dm; LO2Dm: $context_options = ["\150\164\x74\x70" => ["\155\x65\x74\150\x6f\x64" => "\104\x45\x4c\105\124\105", "\x68\x65\x61\x64\145\x72" => $headers, "\x69\147\156\x6f\162\145\x5f\145\162\162\x6f\162\163" => true], "\163\x73\154" => ["\x76\145\162\151\146\171\137\160\145\145\x72" => false, "\166\x65\x72\151\146\171\137\160\x65\145\x72\x5f\156\x61\x6d\145" => false]]; goto UGnMd; tdv2J: return $response = file_get_contents($url, false, stream_context_create($context_options)); goto i_c_f; i_c_f: } public function msg($id) { $type = array("\x30" => "\346\210\x90\xe5\212\237", "\61\60\61\60\x30\x30\62" => "\xe9\235\x9e\346\xb3\225\xe8\257\xb7\xe6\xb1\x82\54\xe8\xaf\xb7\xe6\243\x80\346\237\xa5\350\257\267\xe6\xb1\202\346\x90\272\xe5\xb8\xa6\347\x9a\204\xe5\217\x82\xe6\x95\260\346\240\xbc\345\274\217\346\230\257\345\x90\xa6\xe9\203\xbd\345\220\x88\346\xb3\x95", "\x31\60\61\x30\60\x30\63" => "\xe6\227\xa0\346\x95\210\347\x9a\204\141\x70\x70\x5f\153\145\171\xe3\200\x82\350\257\267\346\xa3\x80\346\237\xa5\xe8\257\267\xe6\261\202\xe6\x90\xba\xe5\270\xa6\347\232\204\141\160\160\x5f\153\x65\x79\xe5\xa1\253\345\x86\x99\346\x98\xaf\xe5\x90\246\xe6\255\243\xe7\241\xae\343\x80\202", "\x31\60\x31\60\x30\x30\70" => "\x61\160\160\x5f\153\x65\171\xe4\xb8\215\xe5\x8f\257\xe7\224\250\xe3\x80\202\xe8\257\267\xe6\243\200\xe6\x9f\xa5\350\257\267\xe6\261\x82\xe6\x90\xba\xe5\270\xa6\347\x9a\x84\141\160\x70\x5f\x6b\145\171\346\211\200\345\xb1\236\xe5\272\x94\347\x94\xa8\xe7\x8a\266\346\x80\x81\346\x98\257\345\220\246\346\255\xa3\345\270\xb8\343\x80\x82", "\61\60\61\x30\x30\61\x30" => "\345\x8f\260\xe8\xbe\xbe\345\x88\xb0\xe7\xb3\xbb\347\xbb\x9f\346\xb5\x81\346\216\xa7\xe4\xb8\x8a\351\x99\220\343\x80\202\350\257\267\347\250\x8d\xe7\255\211\344\270\x80\345\210\x86\xe9\222\237\xe5\x90\x8e\345\206\215\350\257\x95\343\200\202", "\61\60\x31\x30\x30\64\60" => "\141\x70\160\x5f\x6b\145\171\346\262\241\346\x9c\x89\xe8\260\203\347\x94\xa8\xe6\234\254\x41\120\x49\xe7\x9a\204\xe6\235\x83\351\x99\x90\343\x80\202\350\257\xb7\346\243\x80\xe6\237\xa5\xe8\257\xb7\346\261\202\xe6\x90\xba\xe5\xb8\246\xe7\232\x84\x61\160\x70\x5f\x6b\145\x79\345\241\253\xe5\x86\x99\xe6\x98\xaf\xe5\220\xa6\346\xad\xa3\347\241\xae\xe3\x80\x82", "\x31\60\x31\x36\60\60\62" => "\350\256\260\345\xbd\225\xe5\xb7\xb2\347\xbb\x8f\xe5\xad\x98\xe5\x9c\250\xe3\200\202\346\214\207\345\xae\x9a\347\232\x84\x41\xe5\217\267\347\240\201\xe5\x92\214\130\345\217\267\xe7\240\x81\344\271\213\351\227\264\xe5\xb7\262\xe7\xbb\217\345\xad\x98\345\234\250\347\xbb\x91\xe5\256\232\345\x85\263\xe7\263\xbb\357\xbc\214\350\257\xb7\xe6\x9b\264\346\x8d\242\157\162\x69\147\x4e\x75\x6d\xe6\210\x96\x70\x72\x69\166\141\164\145\x4e\x75\x6d\345\x8f\x82\346\225\260\xe7\232\x84\xe5\200\xbc\xe3\x80\202", "\61\60\61\x31\x30\x30\61" => "\350\xb4\xa6\345\217\267\xe4\xb8\x8d\xe5\255\230\xe5\234\250\xe3\200\202\x20\346\214\207\345\256\232\347\232\x84\x58\345\217\xb7\xe7\240\x81\xe4\270\x8d\345\255\x98\xe5\234\xa8\357\274\x8c\350\257\267\347\xa1\xae\350\xae\244\x70\162\151\166\141\x74\x65\116\x75\155\xe5\x8f\x82\346\x95\xb0\xe7\232\204\xe5\241\xab\xe5\206\x99\346\x98\257\345\x90\xa6\346\255\243\347\xa1\256\xe3\x80\x82", "\x31\x30\x31\x31\60\60\62" => "\xe5\x8f\xb7\347\240\x81\xe8\265\x84\xe6\272\x90\344\270\215\350\266\263\343\200\202\xe6\262\xa1\346\234\x89\xe5\x8f\xaf\345\210\206\xe9\205\x8d\347\x9a\204\130\345\x8f\xb7\xe7\xa0\201\xef\xbc\x8c\350\xaf\xb7\347\x94\263\350\257\xb7\346\226\xb0\347\x9a\204\xe5\x8f\267\xe7\xa0\x81\350\265\204\xe6\272\x90\346\210\226\xe4\xbf\xae\346\x94\xb9\141\x72\145\x61\x43\157\x64\x65\347\232\204\345\200\xbc\343\x80\x82", "\61\60\61\61\60\x30\63" => "\xe8\xb6\205\xe8\xbf\207\345\205\201\350\xae\xb8\xe7\x94\263\xe8\257\267\347\x9a\204\xe8\xb5\204\xe6\272\220\344\270\212\351\231\220\343\200\202\346\214\207\345\xae\x9a\xe7\232\204\x41\xe5\217\267\347\240\201\345\267\262\347\273\x91\345\256\x9a\344\272\206\65\xe4\270\252\130\345\x8f\267\xe7\240\x81\357\xbc\x8c\350\xaf\xb7\xe6\233\264\xe6\215\xa2\157\162\151\147\x4e\x75\x6d\xe5\217\202\xe6\225\260\xe7\x9a\x84\345\x80\274\343\200\202", "\x31\60\61\x32\x31\60\x32" => "\xe5\217\xb7\xe7\xa0\x81\345\xb1\236\344\xba\216\351\273\221\xe5\220\x8d\345\215\x95\xe3\x80\202\350\xaf\xb7\350\x81\x94\xe7\263\273\xe5\256\242\346\234\x8d\xe5\244\204\347\x90\206\xe3\200\202"); return $type[$id]; } }