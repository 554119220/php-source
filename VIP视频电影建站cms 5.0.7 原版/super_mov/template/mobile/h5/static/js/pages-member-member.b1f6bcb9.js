(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-member-member"],{"37d2":function(t,i,a){i=t.exports=a("2350")(!1),i.push([t.i,"uni-image[class*=gif-][data-v-608940e0]{border-radius:%?6?%;display:block}.cu-modal[data-v-608940e0]{z-index:1}",""])},"41c6":function(t,i,a){"use strict";a.r(i);var e=a("d77e"),s=a.n(e);for(var n in e)"default"!==n&&function(t){a.d(i,t,function(){return e[t]})}(n);i["default"]=s.a},"46fc":function(t,i,a){"use strict";var e=a("6f50"),s=a.n(e);s.a},"6f50":function(t,i,a){var e=a("37d2");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var s=a("4f06").default;s("0f0ea3b4",e,!0,{sourceMap:!1,shadowMode:!1})},"8b61":function(t,i,a){"use strict";a.r(i);var e=a("d123"),s=a("41c6");for(var n in s)"default"!==n&&function(t){a.d(i,t,function(){return s[t]})}(n);a("46fc");var c=a("2877"),l=Object(c["a"])(s["default"],e["a"],e["b"],!1,null,"608940e0",null);i["default"]=l.exports},d123:function(t,i,a){"use strict";var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",[a("v-uni-view",{staticStyle:{position:"relative"}},[a("v-uni-image",{staticClass:"response",staticStyle:{"z-index":"-1"},attrs:{src:"../../static/my/my-bg.jpeg",mode:""}}),a("v-uni-view",{staticClass:"flex justify-center align-center",staticStyle:{position:"absolute",top:"0",width:"100%",height:"100%"}},[a("v-uni-view",{staticClass:"text-center"},[a("v-uni-view",{staticClass:"cu-avatar xl round"},[a("v-uni-image",{staticClass:"cu-avatar round xl",attrs:{src:t.member.avatarUrl}})],1),a("v-uni-view",{staticClass:" margin-top-sm text-blue text-lg"},[t._v(t._s(t.member.nickName))])],1)],1)],1),a("v-uni-view",{staticClass:"grid col-3 bg-white text-center shadow-warp"},[a("v-uni-view",{staticClass:"solid-right padding-lg"},[a("v-uni-navigator",{staticClass:"content",attrs:{"hover-class":"none",url:"../history/history","open-type":"navigate"}},[a("v-uni-view",{staticClass:"text-xxl text-yellow"},[t._v(t._s(t.member.historynum))]),a("v-uni-view",{staticClass:" text-gray padding-xs"},[a("v-uni-text",{staticClass:" cuIcon-attentionfill"}),a("v-uni-text",{staticClass:"padding-xs"},[t._v("记录")])],1)],1)],1),a("v-uni-view",{staticClass:"solid-right padding-lg"},[a("v-uni-view",{staticClass:"text-xxl text-blue"},[t._v(t._s(t.member.credit1))]),a("v-uni-view",{staticClass:"padding-xs text-gray"},[a("v-uni-text",{staticClass:" cuIcon-share"}),a("v-uni-text",{staticClass:"padding-xs"},[t._v("积分")])],1)],1),a("v-uni-view",{staticClass:"solid-right padding-lg"},[a("v-uni-navigator",{staticClass:"content",attrs:{"hover-class":"none",url:"../member/collection","open-type":"navigate"}},[a("v-uni-view",{staticClass:"text-xxl text-red"},[t._v(t._s(t.member.collectionnum))]),a("v-uni-view",{staticClass:"padding-xs text-gray"},[a("v-uni-text",{staticClass:" cuIcon-likefill"}),a("v-uni-text",{staticClass:"padding-xs"},[t._v("收藏")])],1)],1)],1)],1),a("v-uni-view",{staticClass:"cu-list menu  radius shadow-warp"},[a("v-uni-view",{staticClass:"cu-item arrow",attrs:{"data-target":"DialogModal2"},on:{click:function(i){i=t.$handleEvent(i),t.showModal(i)}}},[a("v-uni-button",{staticClass:"cu-btn content"},[a("v-uni-text",{staticClass:"cuIcon-vip text-yellow"}),a("v-uni-text",{staticClass:"text-grey"},[t._v("会员开通")])],1),a("v-uni-view",{staticClass:"action"},[a("v-uni-text",{staticClass:"text-grey text-sm"},[t._v(t._s(t.member.end_time))])],1)],1),a("v-uni-view",{staticClass:"cu-modal",class:"DialogModal2"==t.modalName?"show":""},[a("v-uni-view",{staticClass:"cu-dialog"},[a("v-uni-view",{staticClass:"cu-bar bg-white justify-end"},[a("v-uni-view",{staticClass:"content",staticStyle:{width:"100%"}},[t._v("需支付"),t.setting.pay_settings<1||1==t.setting.pay_settings?a("v-uni-text",{staticClass:"text-price text-red text-bold"},[t._v(t._s(t.card.card_fee))]):t._e(),t.setting.pay_settings<1?a("v-uni-text",{staticClass:"text-price text-red text-bold"},[t._v("或")]):t._e(),t.setting.pay_settings<1||2==t.setting.pay_settings?a("v-uni-text",{staticClass:"text-price text-red text-bold"},[t._v(t._s(t.card.card_credit)+"积分")]):t._e()],1)],1),a("v-uni-radio-group",{staticClass:"black",staticStyle:{width:"100%"},on:{change:function(i){i=t.$handleEvent(i),t.radioChange(i)}}},t._l(t.setting.card,function(i,e){return a("v-uni-view",{key:e,staticClass:"cu-form-group"},[a("v-uni-view",{staticClass:"title"},[t._v(t._s(i.card_title))]),a("v-uni-radio",{attrs:{checked:t.radio==i.card_day,value:i.card_day,color:t.setting.theme}})],1)}),1),a("v-uni-view",{staticClass:"solids-bottom padding-xs flex align-center"},[a("v-uni-view",{staticClass:"flex-sub text-center"},[a("v-uni-view",{staticClass:"solid-bottom text-df padding",domProps:{innerHTML:t._s(t.setting.shuoming)}})],1)],1),a("v-uni-view",{staticClass:"cu-bar bg-white",style:{color:t.setting.theme}},[t.setting.pay_settings<1||1==t.setting.pay_settings?a("v-uni-view",{staticClass:"action margin-0 flex-sub text-green",attrs:{"data-type":"weixin"},on:{click:function(i){i=t.$handleEvent(i),t.pay(i)}}},[a("v-uni-text",{staticClass:"cuIcon-weixin"}),t._v("微信支付")],1):t._e(),t.setting.pay_settings<1||2==t.setting.pay_settings?a("v-uni-view",{staticClass:"action margin-0 flex-sub solids-left",attrs:{"data-type":"open"},on:{click:function(i){i=t.$handleEvent(i),t.pay(i)}}},[a("v-uni-text",{staticClass:"cuIcon-recharge"}),t._v("积分购买")],1):t._e(),a("v-uni-view",{staticClass:"action margin-0 flex-sub solids-left",on:{click:function(i){i=t.$handleEvent(i),t.hideModal(i)}}},[a("v-uni-text",{staticClass:"cuIcon-roundclose"}),t._v("取消")],1)],1)],1)],1),a("v-uni-view",{staticClass:"cu-item arrow"},[a("v-uni-view",{staticClass:"content",attrs:{"hover-class":"none","data-target":"Modal"},on:{click:function(i){i=t.$handleEvent(i),t.showModal(i)}}},[a("v-uni-text",{staticClass:"cuIcon-vipcard text-red"}),a("v-uni-text",{staticClass:"text-grey"},[t._v("卡密激活")])],1)],1),a("v-uni-view",{staticClass:"cu-modal",class:"Modal"==t.modalName?"show":""},[a("v-uni-view",{staticClass:"cu-dialog"},[a("v-uni-view",{staticClass:"cu-bar bg-white justify-end"},[a("v-uni-view",{staticClass:"content"},[t._v("卡密激活")]),a("v-uni-view",{staticClass:"action",on:{click:function(i){i=t.$handleEvent(i),t.hideModal(i)}}},[a("v-uni-text",{staticClass:"cuIcon-close text-red"})],1)],1),a("v-uni-form",{on:{submit:function(i){i=t.$handleEvent(i),t.formSubmit(i)},reset:function(i){i=t.$handleEvent(i),t.formReset(i)}}},[a("v-uni-view",{staticClass:"cu-form-group"},[a("v-uni-view",{staticClass:"title"},[t._v("兑换码：")]),a("v-uni-input",{staticClass:"text-left",attrs:{placeholder:"请输入兑换码",name:"card"}})],1),a("v-uni-view",{staticClass:"bg-white justify-end padding-xs"},[a("v-uni-button",{staticClass:"cu-btn block lg text-white",style:{background:t.setting.theme},attrs:{formType:"submit"}},[t._v("兑换会员卡")])],1)],1)],1)],1),a("v-uni-view",{staticClass:"cu-item arrow"},[a("v-uni-navigator",{staticClass:"content",attrs:{"hover-class":"none",url:"../order/order","open-type":"navigate"}},[a("v-uni-text",{staticClass:"cuIcon-favorfill text-purple"}),a("v-uni-text",{staticClass:"text-grey"},[t._v("订单记录")])],1)],1),a("v-uni-view",{staticClass:"cu-item arrow"},[a("v-uni-view",{staticClass:"content",attrs:{"data-target":"Image"},on:{click:function(i){i=t.$handleEvent(i),t.showModal(i)}}},[a("v-uni-text",{staticClass:"cuIcon-weixin text-green"}),a("v-uni-text",{staticClass:"text-grey"},[t._v("公众账号")])],1)],1),a("v-uni-view",{staticClass:"cu-modal",class:"Image"==t.modalName?"show":""},[a("v-uni-view",{staticClass:"cu-dialog"},[a("v-uni-view",{staticClass:"bg-img",staticStyle:{height:"40px"}},[a("v-uni-view",{staticClass:"cu-bar justify-end text-red"},[a("v-uni-view",{staticClass:"action",on:{click:function(i){i=t.$handleEvent(i),t.hideModal(i)}}},[a("v-uni-text",{staticClass:"cuIcon-close "})],1)],1)],1),a("v-uni-view",{staticClass:"bg-white"},[a("v-uni-image",{attrs:{src:t.setting.ewm,mode:"widthFix"}})],1),a("v-uni-view",{staticClass:"cu-bar bg-white"},[a("v-uni-view",{staticClass:"action margin-0 flex-sub  solid-left"},[t._v(t._s(t.setting.subscribe_title))])],1)],1)],1),a("v-uni-view",{staticClass:"cu-item arrow"},[a("v-uni-view",{staticClass:"content",attrs:{"hover-class":"none"},on:{click:function(i){i=t.$handleEvent(i),t.clearStorage(i)}}},[a("v-uni-text",{staticClass:"cuIcon-exit text-green"}),a("v-uni-text",{staticClass:"text-grey"},[t._v("退出登录")])],1)],1)],1),a("foot")],1)},s=[];a.d(i,"a",function(){return e}),a.d(i,"b",function(){return s})},d77e:function(t,i,a){"use strict";var e;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s={data:function(){return{modalName:null,setting:[],toggleDelay:!1,member:[],current:0,radio:"",card:[]}},onLoad:function(t){e=this,t.id&&(t.id,e.modalName="DialogModal2")},onReady:function(){e.util.setting().then(function(t){e.setting=t,e.radio=t.card[0].card_day,e.card=t.card[0]})},onShow:function(){var t="newsmember";e.util.request({url:t,showLoading:!1,success:function(t){t.data.data.uid?e.member=t.data.data:uni.navigateTo({url:"/pages/login/login"})}})},methods:{toLogin:function(){uni.navigateTo({url:"/pages/login/login"})},clearStorage:function(){uni.clearStorageSync(),e.util.get("ClearStorage").then(function(t){uni.showToast({title:"退出成功",duration:2e3}),uni.navigateTo({url:"/pages/login/login"})})},formSubmit:function(t){console.log(t.detail.value),e.util.request({url:"card",data:t.detail.value,showLoading:!1,success:function(t){"error"==t.data.data?(e.modalName=null,uni.showToast({title:t.data.message,duration:2e3,icon:"none"})):(e.util.request({url:"newsmember",showLoading:!1,success:function(t){e.member=t.data.data}}),e.modalName=null)}})},radioChange:function(t){e.radio=t.detail.value,e.setting.card.forEach(function(i,a){t.detail.value==i.card_day&&(e.card=e.setting.card[a])})},pay:function(t){var i=t.currentTarget.dataset.type;e.setting.card.forEach(function(t,a){e.radio==t.card_day&&e.util.request({url:i,data:{key:a},showLoading:!1,success:function(t){uni.showToast({title:t.data.message,duration:2e3,icon:"none"}),"weixin"==i?window.location.href=t.data.data:(e.member=t.data.data,e.modalName=null)}})})},showModal:function(t){this.modalName=t.currentTarget.dataset.target},hideModal:function(t){this.modalName=null}}};i.default=s}}]);