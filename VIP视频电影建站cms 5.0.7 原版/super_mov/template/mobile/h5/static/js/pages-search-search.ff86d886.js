(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-search-search"],{"02c6":function(t,e,n){"use strict";n.r(e);var i=n("a90e"),s=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=s.a},2009:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"bg-white"},[n("v-uni-view",{staticClass:"cu-bar search bg-white"},[n("v-uni-view",{staticClass:"search-form round"},[n("v-uni-text",{staticClass:"cuIcon-search"}),n("v-uni-input",{attrs:{type:"text",placeholder:"请输入关键词(支持拼音)",name:"keyword",value:t.value,focus:"true","confirm-type":"搜索"},on:{input:function(e){e=t.$handleEvent(e),t.searchChange(e)},confirm:function(e){e=t.$handleEvent(e),t.searchNow(e)}}})],1),n("v-uni-view",{staticClass:"action"},[n("v-uni-button",{staticClass:"cu-btn shadow-blur round text-white",style:{background:t.setting.theme},on:{click:function(e){e=t.$handleEvent(e),t.searchNow(e)}}},[t._v("搜索")])],1)],1),t.hot_keyword.length>1?n("v-uni-view",{staticClass:"cu-bar bg-white"},[n("v-uni-view",{staticClass:"action"},[n("v-uni-text",{staticClass:"icon-title",style:{color:t.setting.theme}}),t._v("热门关键词")],1)],1):t._e(),n("v-uni-view",{staticClass:"padding-lr-xs bg-white dashed-bottom"},t._l(t.hot_keyword,function(e,i){return n("v-uni-view",{key:i,staticClass:"cu-tag radius margin-bottom-xs",attrs:{"data-keyword":e.word},on:{click:function(e){e=t.$handleEvent(e),t.searchNow(e)}}},[t._v(t._s(e.word))])}),1),t.sercchList?n("v-uni-view",{staticClass:"cu-bar bg-white"},[n("v-uni-view",{staticClass:"action"},[n("v-uni-text",{staticClass:"cuIcon-title",style:{color:t.setting.theme}}),t._v("搜索历史")],1),n("v-uni-view",{staticClass:"action"},[n("v-uni-view",{staticClass:"cuIcon-delete",on:{click:function(e){e=t.$handleEvent(e),t.clearKey(e)}}})],1)],1):t._e(),n("v-uni-view",{staticClass:"padding-lr-xs bg-white dashed-bottom"},t._l(t.sercchList,function(e,i){return n("v-uni-view",{key:i,staticClass:"cu-tag radius margin-bottom-xs",attrs:{"data-keyword":e},on:{click:function(e){e=t.$handleEvent(e),t.searchNow(e)}}},[t._v(t._s(e))])}),1),n("v-uni-view",{staticClass:"padding-lr-xs bg-white dashed-bottom"},[t.list?[n("list",{attrs:{itemlist:t.list,theme:t.setting.theme}})]:[n("v-uni-view",{},[t._v("暂时没有")])]],2),n("v-uni-view",{staticClass:"cu-list menu sm-border"},t._l(t.videosite,function(e,i){return n("v-uni-navigator",{key:i,staticClass:"cu-item arrow",attrs:{url:"/pages/webview/webview?url="+e.playurl}},[n("v-uni-view",{staticClass:"content"},[n("v-uni-text",{staticClass:"text-grey"},[t._v(t._s(e.name))])],1)],1)}),1),n("foot")],1)},s=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s})},3504:function(t,e,n){"use strict";n.r(e);var i=n("2009"),s=n("02c6");for(var a in s)"default"!==a&&function(t){n.d(e,t,function(){return s[t]})}(a);var r=n("2877"),c=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,"26c424c5",null);e["default"]=c.exports},a90e:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,s=a(n("a34a"));function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,i,s,a,r){try{var c=t[a](r),u=c.value}catch(o){return void n(o)}c.done?e(u):Promise.resolve(u).then(i,s)}function c(t){return function(){var e=this,n=arguments;return new Promise(function(i,s){var a=t.apply(e,n);function c(t){r(a,i,s,c,u,"next",t)}function u(t){r(a,i,s,c,u,"throw",t)}c(void 0)})}}var u=uni.getStorageSync("keyword"),o={data:function(){return{videosite:[],setting:[],searchKey:"",sercchList:[],searchClose:!1,value:"",list:[],hot_keyword:[]}},onLoad:function(){i=this,i.sercchList=u,i.util.get("newssearch",{key:u[0]}).then(function(t){i.list=t.list,i.videosite=t.videosite})},onReady:function(){i.util.setting().then(function(t){i.setting=t})},onShow:function(){var t=c(s.default.mark(function t(){var e;return s.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:i.setting.is_weixin&&(e=i.util.wx(),i.util.jssdk(),e.ready(function(){e.hideAllNonBaseMenuItem()}));case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:{searchChange:function(t){var e=t.detail.value;this.searchKey=e,i.util.get("newssearch",{op:"json",kw:e}).then(function(t){i.hot_keyword=t})},clearKey:function(){uni.removeStorageSync("keyword"),this.searchClose=!1,this.searchKey="",this.sercchList=null},searchNow:function(t){if(t.currentTarget.dataset.keyword)var e=t.currentTarget.dataset.keyword;else e=this.searchKey;var n=uni.getStorageSync("keyword");n?n.unshift(e):n=[e],this.sercchList=n,uni.setStorage({key:"keyword",data:n}),i.util.get("newssearch",{key:e}).then(function(t){uni.hideKeyboard(),i.list=t.list})}}};e.default=o}}]);