(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-history-history"],{3011:function(t,e,i){"use strict";i.r(e);var n=i("f1a6"),o=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);e["default"]=o.a},"8e59":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{style:{background:t.setting.theme}},[i("v-uni-view",{staticClass:"cu-bar bg-white solid-bottom"},[i("v-uni-view",{staticClass:"action"},[i("v-uni-text",{staticClass:"cuIcon-title",style:{color:t.setting.theme}}),t._v("历史记录列表")],1),i("v-uni-view",{staticClass:"action"},[i("v-uni-text",{staticClass:"cuIcon-delete",style:{color:t.setting.theme},on:{click:function(e){e=t.$handleEvent(e),t.clearKey(e)}}})],1)],1),i("v-uni-view",{staticClass:"cu-list menu"},t._l(t.itemlist,function(e,n){return i("v-uni-view",{key:n,staticClass:"cu-item",class:{"move-cur":t.modalName=="move-box-"+n},attrs:{"data-target":"move-box-"+n,id:e.d_id},on:{touchstart:function(e){e=t.$handleEvent(e),t.touchStart(e)},touchmove:function(e){e=t.$handleEvent(e),t.touchMove(e)},touchend:function(e){e=t.$handleEvent(e),t.touchEnd(e)},click:function(e){e=t.$handleEvent(e),t.goDetail(e)}}},[i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"text-grey"},[t._v(t._s(e.title))])],1),i("v-uni-view",{staticClass:"move",on:{click:function(e){e.stopPropagation(),e=t.$handleEvent(e)}}},[i("v-uni-view",{staticClass:"bg-grey"},[t._v("取消")])],1)],1)}),1),i("foot")],1)},o=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return o})},d1d9:function(t,e,i){"use strict";i.r(e);var n=i("8e59"),o=i("3011");for(var a in o)"default"!==a&&function(t){i.d(e,t,function(){return o[t]})}(a);var s=i("2877"),u=Object(s["a"])(o["default"],n["a"],n["b"],!1,null,"2852d565",null);e["default"]=u.exports},f1a6:function(t,e,i){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={data:function(){return{setting:[],itemlist:[],isLoad:!1,listTouchStart:null,listTouchDirection:null,modalName:null}},onLoad:function(t){n=this,n.util.request({url:"newshistory",data:{op:"list"},success:function(t){if(t.data.data<0)uni.navigateTo({url:"../login/login"});else{var e=t.data.data;n.itemlist=e}}}),n.util.setting().then(function(t){n.setting=t})},methods:{goDetail:function(t){this.util.go("detail/detail",t.currentTarget.id)},clearKey:function(t){console.log(t),uni.showModal({title:"提示",content:"是否清空观看记录",success:function(e){e.confirm?n.util.request({url:"newshistory",showLoading:!1,data:{id:t.currentTarget.id,op:"del"},success:function(t){uni.showLoading({title:t.message}),n.util.request({url:"newshistory",data:{op:"list"},showLoading:!1,success:function(t){var e=t.data.data;n.itemlist=e}})}}):e.cancel&&console.log("用户点击取消")}})},touchStart:function(t){this.listTouchStart=t.touches[0].pageX},touchMove:function(t){this.listTouchDirection=t.touches[0].pageX-this.listTouchStart>0?"right":"left"},touchEnd:function(t){"left"==this.listTouchDirection?this.modalName=t.currentTarget.dataset.target:this.modalName=null,this.listTouchDirection=null},showModal:function(t){this.modalName=t.currentTarget.dataset.target},hideModal:function(t){this.modalName=null}}};e.default=o}}]);