(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-search-search"],{"0ceb":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,s=a(n("a34a"));function a(t){return t&&t.__esModule?t:{default:t}}function c(t,e,n,i,s,a,c){try{var r=t[a](c),o=r.value}catch(u){return void n(u)}r.done?e(o):Promise.resolve(o).then(i,s)}function r(t){return function(){var e=this,n=arguments;return new Promise(function(i,s){var a=t.apply(e,n);function r(t){c(a,i,s,r,o,"next",t)}function o(t){c(a,i,s,r,o,"throw",t)}r(void 0)})}}var o={data:function(){return{data:this.obj,setting:[],searchKey:"",sercchList:[],searchClose:!1,value:"",list:[],hot_keyword:[]}},onLoad:function(){i=this},onReady:function(){i.util.setting().then(function(t){i.setting=t})},onShow:function(){var t=r(s.default.mark(function t(){var e;return s.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:i.sercchList=uni.getStorageSync("keyword"),i.setting.is_weixin&&(e=i.util.wx(),i.util.jssdk(),e.ready(function(){e.hideAllNonBaseMenuItem()}));case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:{searchChange:function(t){var e=t.detail.value;this.searchKey=e,i.util.get("newssearch",{op:"json",kw:e}).then(function(t){i.hot_keyword=t})},clearKey:function(){uni.removeStorageSync("keyword"),this.searchClose=!1,this.searchKey="",this.sercchList=null},searchNow:function(t){if(t.currentTarget.dataset.keyword)var e=t.currentTarget.dataset.keyword;else e=this.searchKey;var n=uni.getStorageSync("keyword");n?n.unshift(e):n=[e],this.sercchList=n,uni.setStorage({key:"keyword",data:n}),i.util.get("newssearch",{key:e}).then(function(t){i.list=t})}}};e.default=o},"2d53":function(t,e,n){"use strict";n.r(e);var i=n("420c"),s=n("c520");for(var a in s)"default"!==a&&function(t){n.d(e,t,function(){return s[t]})}(a);var c=n("2877"),r=Object(c["a"])(s["default"],i["a"],i["b"],!1,null,"607e7272",null);e["default"]=r.exports},"420c":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"bg-white"},[n("v-uni-view",{staticClass:"cu-bar search bg-white"},[n("v-uni-view",{staticClass:"search-form round"},[n("v-uni-text",{staticClass:"icon-search"}),n("v-uni-input",{attrs:{type:"text",placeholder:"请输入关键词(支持拼音)",name:"keyword",value:t.value,focus:"true","confirm-type":"搜索"},on:{input:function(e){e=t.$handleEvent(e),t.searchChange(e)},confirm:function(e){e=t.$handleEvent(e),t.searchNow(e)}}})],1),n("v-uni-view",{staticClass:"action"},[n("v-uni-button",{staticClass:"cu-btn shadow-blur round text-white",style:{background:t.setting.theme},on:{click:function(e){e=t.$handleEvent(e),t.searchNow(e)}}},[t._v("搜索")])],1)],1),t.hot_keyword?n("v-uni-view",{staticClass:"cu-bar bg-white"},[n("v-uni-view",{staticClass:"action"},[n("v-uni-text",{staticClass:"icon-title",style:{color:t.setting.theme}}),t._v("热门关键词")],1)],1):t._e(),n("v-uni-view",{staticClass:"padding-lr-xs bg-white dashed-bottom"},t._l(t.hot_keyword,function(e,i){return n("v-uni-view",{key:i,staticClass:"cu-tag radius margin-bottom-xs",attrs:{"data-keyword":e.word},on:{click:function(e){e=t.$handleEvent(e),t.searchNow(e)}}},[t._v(t._s(e.word))])}),1),t.sercchList?n("v-uni-view",{staticClass:"cu-bar bg-white"},[n("v-uni-view",{staticClass:"action"},[n("v-uni-text",{staticClass:"cuIcon-title",style:{color:t.setting.theme}}),t._v("搜索历史")],1),n("v-uni-view",{staticClass:"action"},[n("v-uni-view",{staticClass:"cuIcon-delete",on:{click:function(e){e=t.$handleEvent(e),t.clearKey(e)}}})],1)],1):t._e(),n("v-uni-view",{staticClass:"padding-lr-xs bg-white dashed-bottom"},t._l(t.sercchList,function(e,i){return n("v-uni-view",{key:i,staticClass:"cu-tag radius margin-bottom-xs",attrs:{"data-keyword":e},on:{click:function(e){e=t.$handleEvent(e),t.searchNow(e)}}},[t._v(t._s(e))])}),1),n("v-uni-view",{staticClass:"padding-lr-xs bg-white dashed-bottom"},[t.list?[n("list",{attrs:{itemlist:t.list,theme:t.setting.theme}})]:[n("v-uni-view",{},[t._v("暂时没有")])]],2),n("foot")],1)},s=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s})},c520:function(t,e,n){"use strict";n.r(e);var i=n("0ceb"),s=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);e["default"]=s.a}}]);